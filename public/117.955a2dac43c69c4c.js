"use strict";(self.webpackChunkclinica_online=self.webpackChunkclinica_online||[]).push([[117],{2117:(A,f,n)=>{n.r(f),n.d(f,{HomeModule:()=>v});var c=n(6814),i=n(9517),t=n(5879),x=n(588);function d(o,p){1&o&&(t.TgZ(0,"div",8),t._UZ(1,"div",9),t.qZA())}function y(o,p){if(1&o){const e=t.EpF();t.TgZ(0,"button",18),t.NdJ("click",function(){t.CHM(e);const g=t.oxw().$implicit,T=t.oxw();return t.KtG(T.cambiarEstado(g.uid,!0))}),t._uU(1,"Habilitar "),t.qZA()}}function s(o,p){if(1&o){const e=t.EpF();t.TgZ(0,"button",18),t.NdJ("click",function(){t.CHM(e);const g=t.oxw().$implicit,T=t.oxw();return t.KtG(T.cambiarEstado(g.uid,!1))}),t._uU(1,"Deshabilitar "),t.qZA()}}const r=function(o,p){return{"badge rounded-pill":!0,"text-bg-success":o,"text-bg-danger":p}};function u(o,p){if(1&o&&(t.TgZ(0,"tr")(1,"td")(2,"div",10),t._UZ(3,"img",11),t.TgZ(4,"div",12)(5,"p",13),t._uU(6),t.qZA(),t.TgZ(7,"p",14),t._uU(8),t.qZA()()()(),t.TgZ(9,"td")(10,"p",15),t._uU(11),t.qZA(),t.TgZ(12,"p",14),t._uU(13),t.qZA(),t.TgZ(14,"p",14),t._uU(15),t.qZA()(),t.TgZ(16,"td"),t._uU(17),t.qZA(),t.TgZ(18,"td")(19,"span",16),t._uU(20),t.qZA()(),t.TgZ(21,"td"),t.YNc(22,y,2,0,"button",17),t.YNc(23,s,2,0,"button",17),t.qZA()()),2&o){const e=p.$implicit;t.xp6(3),t.Q6J("src",e.imagen,t.LSH),t.xp6(3),t.AsE("",e.apellido,", ",e.nombre,""),t.xp6(2),t.Oqu(e.mail),t.xp6(3),t.Oqu(e.perfil),t.xp6(2),t.Oqu(e.especialidad),t.xp6(2),t.Oqu(e.obraSocial),t.xp6(2),t.Oqu(e.dni),t.xp6(2),t.Q6J("ngClass",t.WLB(12,r,e.estado,!e.estado)),t.xp6(1),t.hij(" ",e.estado?"Activo":"No Activo"," "),t.xp6(2),t.Q6J("ngIf",!e.estado),t.xp6(1),t.Q6J("ngIf",e.estado)}}let l=(()=>{class o{constructor(e){this.dataq=e,this.usuarios=[],this.isLoading=!1}ngOnInit(){this.isLoading=!0,this.dataq.traerUsuarios().subscribe(e=>{this.usuarios=e,this.isLoading=!1})}cambiarEstado(e,a){this.isLoading=!0,this.dataq.cambiarEstadoUsuario(e,a).then(g=>{this.isLoading=!1})}static#t=this.\u0275fac=function(a){return new(a||o)(t.Y36(x.e))};static#o=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-home"]],decls:24,vars:2,consts:[["class","overlay",4,"ngIf"],[1,"usuarios-container"],[1,"table","align-middle","mb-0","bg-white"],[1,"bg-light"],[4,"ngFor","ngForOf"],["type","button","routerLink","/home/admin/turnos",1,"btn","btn-outline-dark","btn-agendar"],[2,"position","fixed","bottom","10px","right","10px"],["type","button","routerLink","register",1,"btn","btn-outline-dark","btn-agregar"],[1,"overlay"],[1,"spinner"],[1,"d-flex","align-items-center"],["alt","",1,"rounded-circle",2,"width","45px","height","45px",3,"src"],[1,"ms-3"],[1,"fw-bold","mb-1"],[1,"text-muted","mb-0"],[1,"fw-normal","mb-1"],[3,"ngClass"],["type","button","class","btn btn-outline-dark btn-sm",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-dark","btn-sm",3,"click"]],template:function(a,g){1&a&&(t.YNc(0,d,2,0,"div",0),t.TgZ(1,"div",1)(2,"table",2)(3,"thead",3)(4,"tr")(5,"th"),t._uU(6,"Nombre"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Tipo"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"DNI"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"Estado"),t.qZA(),t.TgZ(13,"th"),t._uU(14,"Habilitar"),t.qZA()()(),t.TgZ(15,"tbody"),t.YNc(16,u,24,15,"tr",4),t._UZ(17,"tr"),t.qZA()()(),t.TgZ(18,"div")(19,"button",5),t._uU(20,"Agendar Turno"),t.qZA()(),t.TgZ(21,"div",6)(22,"button",7),t._uU(23,"Alta Admin"),t.qZA()()),2&a&&(t.Q6J("ngIf",g.isLoading),t.xp6(16),t.Q6J("ngForOf",g.usuarios))},dependencies:[c.mk,c.sg,c.O5,i.rH],styles:[".overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#fffc;display:flex;align-items:center;justify-content:center;z-index:9999}.spinner[_ngcontent-%COMP%]{border:4px solid rgba(255,255,255,.3);border-top:4px solid #e64141;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 2s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.usuarios-container[_ngcontent-%COMP%]{max-height:calc(100vh - 150px);overflow-y:auto}.btn-agregar[_ngcontent-%COMP%]{position:fixed;bottom:10px;right:10px}.btn-agendar[_ngcontent-%COMP%]{position:fixed;bottom:10px;left:250px}"]})}return o})();const h=[{path:"",canActivate:[n(9035)._],children:[{path:"",component:l},{path:"register",loadChildren:()=>Promise.all([n.e(519),n.e(928),n.e(921)]).then(n.bind(n,9921)).then(o=>o.RegisterAdminModule)},{path:"turnos",loadChildren:()=>Promise.all([n.e(519),n.e(592),n.e(74)]).then(n.bind(n,74)).then(o=>o.TurnoAdminModule)},{path:"turnos-mostrar",loadChildren:()=>Promise.all([n.e(519),n.e(592),n.e(838)]).then(n.bind(n,6838)).then(o=>o.TurnoMostrarModule)}]}];let Z=(()=>{class o{static#t=this.\u0275fac=function(a){return new(a||o)};static#o=this.\u0275mod=t.oAB({type:o});static#n=this.\u0275inj=t.cJS({imports:[i.Bz.forChild(h),i.Bz]})}return o})();var b=n(6223);let v=(()=>{class o{static#t=this.\u0275fac=function(a){return new(a||o)};static#o=this.\u0275mod=t.oAB({type:o});static#n=this.\u0275inj=t.cJS({imports:[c.ez,Z,b.u5]})}return o})()},588:(A,f,n)=>{n.d(f,{e:()=>x});var c=n(5861),i=n(5349),t=n(5879);let x=(()=>{class d{constructor(s){this.firestore=s}getObraSociales(){const s=(0,i.hJ)(this.firestore,"obrasSociales");return(0,i.BS)(s)}getEspecialidades(){const s=(0,i.hJ)(this.firestore,"especialidades");return(0,i.BS)(s)}getProxIdEspecialidades(){var s=this;return(0,c.Z)(function*(){const r=(0,i.hJ)(s.firestore,"especialidades"),u=(0,i.IO)(r,(0,i.Xo)("id","desc")),l=yield(0,i.PL)(u);return l.empty?1:l.docs[0].get("id")+1})()}altaEspecialidad(s){var r=this;return(0,c.Z)(function*(){const u=yield r.getProxIdEspecialidades(),l=(0,i.hJ)(r.firestore,"especialidades");(0,i.ET)(l,{id:u,nombre:s.toLowerCase()})})()}traerUsuarios(){const s=(0,i.hJ)(this.firestore,"usuarios");return(0,i.BS)(s)}getPacientes(){var s=this;return(0,c.Z)(function*(){const r=(0,i.hJ)(s.firestore,"usuarios"),u=(0,i.IO)(r,(0,i.ar)("perfil","==","paciente")),l=yield(0,i.PL)(u),m=[];return l.forEach(h=>{m.push(h.data())}),m})()}cambiarEstadoUsuario(s,r){var u=this;return(0,c.Z)(function*(){const l=(0,i.hJ)(u.firestore,"usuarios"),m=(0,i.IO)(l,(0,i.ar)("uid","==",s)),h=yield(0,i.PL)(m);return 0!==h.size&&(h.forEach(function(){var Z=(0,c.Z)(function*(b){const v=b.ref;yield(0,i.pl)(v,{estado:r},{merge:!0})});return function(b){return Z.apply(this,arguments)}}()),!0)})()}static#t=this.\u0275fac=function(r){return new(r||d)(t.LFG(i.gg))};static#o=this.\u0275prov=t.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})()}}]);