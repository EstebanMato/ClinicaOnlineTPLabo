"use strict";(self.webpackChunkclinica_online=self.webpackChunkclinica_online||[]).push([[354],{2354:(P,Z,r)=>{r.r(Z),r.d(Z,{PerfilEspecialistaModule:()=>J});var l=r(6814),o=r(9517),i=r(5879),f=r(154),g=r(588),b=r(6223),a=r(3194);function c(t,d){1&t&&(i.TgZ(0,"div",17),i._UZ(1,"div",18),i.qZA())}function p(t,d){if(1&t&&(i.ynx(0),i.TgZ(1,"p",13),i._uU(2),i.ALo(3,"titlecase"),i.qZA(),i.BQk()),2&t){const e=d.$implicit;i.xp6(2),i.hij("",i.lcZ(3,1,e)," ")}}function u(t,d){if(1&t&&(i.ynx(0),i.TgZ(1,"p",13),i._uU(2),i.qZA(),i.BQk()),2&t){const e=d.$implicit;i.xp6(2),i.hij("",e," ")}}function _(t,d){if(1&t&&(i.TgZ(0,"div"),i.YNc(1,u,3,1,"ng-container",14),i.qZA()),2&t){const e=i.oxw();i.xp6(1),i.Q6J("ngForOf",null==e.usuario?null:e.usuario.diasAtencion)}}function h(t,d){if(1&t){const e=i.EpF();i.TgZ(0,"div")(1,"label")(2,"input",19),i.NdJ("change",function(){const v=i.CHM(e).$implicit,y=i.oxw(2);return i.KtG(y.toggleDia(v))}),i.qZA(),i._uU(3),i.qZA()()}if(2&t){const e=d.$implicit,s=i.oxw(2);i.xp6(2),i.Q6J("checked",s.diasDeTrabajo.includes(e)||s.diasDeTrabajo.includes(e)),i.xp6(1),i.hij(" ",e," ")}}function T(t,d){if(1&t&&(i.ynx(0),i.YNc(1,h,4,2,"div",14),i.BQk()),2&t){const e=i.oxw();i.xp6(1),i.Q6J("ngForOf",e.diasSemana)}}function m(t,d){if(1&t&&(i.TgZ(0,"div")(1,"p",13),i._uU(2),i.qZA()()),2&t){const e=i.oxw();i.xp6(2),i.AsE("",e.horaInicio," - ",e.horaFin,"")}}function E(t,d){if(1&t){const e=i.EpF();i.TgZ(0,"div")(1,"input",20),i.NdJ("ngModelChange",function(n){i.CHM(e);const v=i.oxw();return i.KtG(v.horaInicio=n)}),i.qZA(),i._uU(2," - "),i.TgZ(3,"input",21),i.NdJ("ngModelChange",function(n){i.CHM(e);const v=i.oxw();return i.KtG(v.horaFin=n)}),i.qZA()()}if(2&t){const e=i.oxw();i.xp6(1),i.s9C("value",e.usuario.horaInicio),i.Q6J("ngModel",e.horaInicio),i.xp6(2),i.s9C("value",e.usuario.horaFin),i.Q6J("ngModel",e.horaFin)}}function x(t,d){if(1&t){const e=i.EpF();i.TgZ(0,"button",22),i.NdJ("click",function(){i.CHM(e);const n=i.oxw();return i.KtG(n.editar())}),i._uU(1,"Editar"),i.qZA()}}function C(t,d){if(1&t){const e=i.EpF();i.TgZ(0,"button",22),i.NdJ("click",function(){i.CHM(e);const n=i.oxw();return i.KtG(n.guardar())}),i._uU(1,"Guardar"),i.qZA()}}const A=[{path:"",component:(()=>{class t{constructor(e,s){this.authService=e,this.dataqueryServcie=s,this.isLoading=!1,this.diasSemana=["Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes","S\xe1bado"],this.diasDeTrabajo=[],this.editando=!1}toggleDia(e){const s=this.diasDeTrabajo.indexOf(e);-1===s?this.diasDeTrabajo.push(e):this.diasDeTrabajo.splice(s,1),this.diasDeTrabajo.sort((n,v)=>{const y=["Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes","S\xe1bado","Domingo"];return y.indexOf(n)-y.indexOf(v)})}editar(){this.editando=!this.editando}guardar(){this.isLoading=!0,this.dataqueryServcie.setHorarios(this.usuario,this.diasDeTrabajo,this.horaInicio,this.horaFin).then(()=>{this.editar(),this.isLoading=!1})}ngOnInit(){this.isLoading=!0,this.authService.getLoggedUser().subscribe(e=>{e&&this.authService.getUsuarioPorUid(e.uid).subscribe(s=>{this.usuario=s[0],this.isLoading=!1,this.diasDeTrabajo=this.usuario.diasAtencion,this.horaInicio=this.usuario.horaInicio,this.horaFin=this.usuario.horaFin})})}static#i=this.\u0275fac=function(s){return new(s||t)(i.Y36(f.e),i.Y36(g.e))};static#t=this.\u0275cmp=i.Xpm({type:t,selectors:[["app-perfil-especialista"]],decls:76,vars:16,consts:[[1,"container","py-5"],["class","overlay",4,"ngIf"],[1,"row"],[1,"col-lg-4"],[1,"card","mb-4"],[1,"card-body","text-center"],["alt","imagenPerfil","appRedondearImagen","",2,"width","150px","height","150px",3,"src"],[1,"my-3"],[1,"col-lg-8"],[1,"card-body"],[1,"col-sm-4"],[1,"mb-0"],[1,"col-sm-8"],[1,"text-muted","mb-0"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","btn btn-primary btn-sm position-absolute bottom-0 end-0 mb-3 me-3",3,"click",4,"ngIf"],[1,"overlay"],[1,"spinner"],["type","checkbox",3,"checked","change"],["type","time","name","horaInicio","max","19:00:00","min","08:00:00",3,"ngModel","value","ngModelChange"],["type","time","name","horaFin","max","19:00:00","min","08:00:00",3,"ngModel","value","ngModelChange"],[1,"btn","btn-primary","btn-sm","position-absolute","bottom-0","end-0","mb-3","me-3",3,"click"]],template:function(s,n){1&s&&(i.TgZ(0,"div",0),i.YNc(1,c,2,0,"div",1),i.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),i._UZ(6,"img",6),i.TgZ(7,"h5",7),i._uU(8),i.qZA()()()(),i.TgZ(9,"div",8)(10,"div",4)(11,"div",9)(12,"div",2)(13,"div",10)(14,"p",11)(15,"strong"),i._uU(16,"Nombre y Apellido"),i.qZA()()(),i.TgZ(17,"div",12)(18,"p",13),i._uU(19),i.qZA()()(),i._UZ(20,"hr"),i.TgZ(21,"div",2)(22,"div",10)(23,"p",11)(24,"strong"),i._uU(25," Email"),i.qZA()()(),i.TgZ(26,"div",12)(27,"p",13),i._uU(28),i.qZA()()(),i._UZ(29,"hr"),i.TgZ(30,"div",2)(31,"div",10)(32,"p",11)(33,"strong"),i._uU(34," Fecha nacimiento"),i.qZA()()(),i.TgZ(35,"div",12)(36,"p",13),i._uU(37),i.qZA()()(),i._UZ(38,"hr"),i.TgZ(39,"div",2)(40,"div",10)(41,"p",11)(42,"strong"),i._uU(43,"DNI"),i.qZA()()(),i.TgZ(44,"div",12)(45,"p",13),i._uU(46),i.qZA()()(),i._UZ(47,"hr"),i.TgZ(48,"div",2)(49,"div",10)(50,"p",11)(51,"strong"),i._uU(52,"Especialidad"),i.qZA()()(),i.TgZ(53,"div",12),i.YNc(54,p,4,3,"ng-container",14),i.qZA()(),i._UZ(55,"hr"),i.TgZ(56,"div",2)(57,"div",10)(58,"p",11)(59,"strong"),i._uU(60,"Dias atenci\xf3n"),i.qZA()()(),i.TgZ(61,"div",12),i.YNc(62,_,2,1,"div",15),i.YNc(63,T,2,1,"ng-container",15),i.qZA()(),i._UZ(64,"hr"),i.TgZ(65,"div",2)(66,"div",10)(67,"p",11)(68,"strong"),i._uU(69,"Horario"),i.qZA()()(),i.TgZ(70,"div",12),i.YNc(71,m,3,2,"div",15),i.YNc(72,E,4,4,"div",15),i.YNc(73,x,2,0,"button",16),i.YNc(74,C,2,0,"button",16),i.qZA(),i._UZ(75,"div"),i.qZA()()()()()()),2&s&&(i.xp6(1),i.Q6J("ngIf",n.isLoading),i.xp6(5),i.Q6J("src",null==n.usuario?null:n.usuario.imagen,i.LSH),i.xp6(2),i.AsE("",null==n.usuario?null:n.usuario.nombre,", ",null==n.usuario?null:n.usuario.apellido,""),i.xp6(11),i.AsE("",null==n.usuario?null:n.usuario.nombre,", ",null==n.usuario?null:n.usuario.apellido,""),i.xp6(9),i.Oqu(null==n.usuario?null:n.usuario.mail),i.xp6(9),i.Oqu(null==n.usuario?null:n.usuario.fechaNacimiento),i.xp6(9),i.Oqu(null==n.usuario?null:n.usuario.dni),i.xp6(8),i.Q6J("ngForOf",null==n.usuario?null:n.usuario.especialidad),i.xp6(8),i.Q6J("ngIf",!n.editando),i.xp6(1),i.Q6J("ngIf",n.editando),i.xp6(8),i.Q6J("ngIf",!n.editando),i.xp6(1),i.Q6J("ngIf",n.editando),i.xp6(1),i.Q6J("ngIf",!n.editando),i.xp6(1),i.Q6J("ngIf",n.editando))},dependencies:[l.sg,l.O5,b.Fj,b.JJ,b.On,a.i,l.rS],styles:[".overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#fffc;display:flex;align-items:center;justify-content:center;z-index:9999}.spinner[_ngcontent-%COMP%]{border:4px solid rgba(255,255,255,.3);border-top:4px solid #e64141;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 2s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}input[type=time][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{display:none}"]})}return t})(),children:[]}];let I=(()=>{class t{static#i=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275mod=i.oAB({type:t});static#e=this.\u0275inj=i.cJS({imports:[l.ez,o.Bz.forChild(A),o.Bz]})}return t})();var M=r(4165),U=r(2514);let J=(()=>{class t{static#i=this.\u0275fac=function(s){return new(s||t)};static#t=this.\u0275mod=i.oAB({type:t});static#e=this.\u0275inj=i.cJS({imports:[l.ez,I,b.u5,M.IJ,U.I]})}return t})()},2514:(P,Z,r)=>{r.d(Z,{I:()=>i});var l=r(6814),o=r(5879);let i=(()=>{class f{static#i=this.\u0275fac=function(a){return new(a||f)};static#t=this.\u0275mod=o.oAB({type:f});static#e=this.\u0275inj=o.cJS({imports:[l.ez]})}return f})()},588:(P,Z,r)=>{r.d(Z,{e:()=>f});var l=r(5861),o=r(5349),i=r(5879);let f=(()=>{class g{constructor(a){this.firestore=a}getObraSociales(){const a=(0,o.hJ)(this.firestore,"obrasSociales");return(0,o.BS)(a)}getEspecialidades(){const a=(0,o.hJ)(this.firestore,"especialidades");return(0,o.BS)(a)}getProxIdEspecialidades(){var a=this;return(0,l.Z)(function*(){const c=(0,o.hJ)(a.firestore,"especialidades"),p=(0,o.IO)(c,(0,o.Xo)("id","desc")),u=yield(0,o.PL)(p);return u.empty?1:u.docs[0].get("id")+1})()}altaEspecialidad(a){var c=this;return(0,l.Z)(function*(){const p=yield c.getProxIdEspecialidades(),u=(0,o.hJ)(c.firestore,"especialidades");(0,o.ET)(u,{id:p,nombre:a.toLowerCase()})})()}traerUsuarios(){const a=(0,o.hJ)(this.firestore,"usuarios");return(0,o.BS)(a)}getPacientes(){var a=this;return(0,l.Z)(function*(){const c=(0,o.hJ)(a.firestore,"usuarios"),p=(0,o.IO)(c,(0,o.ar)("perfil","==","paciente")),u=yield(0,o.PL)(p),_=[];return u.forEach(h=>{_.push(h.data())}),_})()}cambiarEstadoUsuario(a,c){var p=this;return(0,l.Z)(function*(){const u=(0,o.hJ)(p.firestore,"usuarios"),_=(0,o.IO)(u,(0,o.ar)("uid","==",a)),h=yield(0,o.PL)(_);return 0!==h.size&&(h.forEach(function(){var T=(0,l.Z)(function*(m){const E=m.ref;yield(0,o.pl)(E,{estado:c},{merge:!0})});return function(m){return T.apply(this,arguments)}}()),!0)})()}setHorarios(a,c,p,u){var _=this;return(0,l.Z)(function*(){const h=(0,o.hJ)(_.firestore,"usuarios"),T=(0,o.IO)(h,(0,o.ar)("uid","==",a.uid)),m=yield(0,o.PL)(T);return 0!==m.size&&(m.forEach(function(){var E=(0,l.Z)(function*(x){const C=x.ref;yield(0,o.pl)(C,{diasAtencion:c,horaInicio:p,horaFin:u},{merge:!0})});return function(x){return E.apply(this,arguments)}}()),!0)})()}static#i=this.\u0275fac=function(c){return new(c||g)(i.LFG(o.gg))};static#t=this.\u0275prov=i.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})()}}]);