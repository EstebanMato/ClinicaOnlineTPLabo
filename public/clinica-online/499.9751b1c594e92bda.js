"use strict";(self.webpackChunkclinica_online=self.webpackChunkclinica_online||[]).push([[499],{588:(E,v,l)=>{l.d(v,{e:()=>w});var t=l(5861),r=l(5349),C=l(5879);let w=(()=>{class d{constructor(s){this.firestore=s}getObraSociales(){const s=(0,r.hJ)(this.firestore,"obrasSociales");return(0,r.BS)(s)}getEspecialidades(){const s=(0,r.hJ)(this.firestore,"especialidades");return(0,r.BS)(s)}getProxIdEspecialidades(){var s=this;return(0,t.Z)(function*(){const o=(0,r.hJ)(s.firestore,"especialidades"),f=(0,r.IO)(o,(0,r.Xo)("id","desc")),u=yield(0,r.PL)(f);return u.empty?1:u.docs[0].get("id")+1})()}altaEspecialidad(s){var o=this;return(0,t.Z)(function*(){const f=yield o.getProxIdEspecialidades(),u=(0,r.hJ)(o.firestore,"especialidades");(0,r.ET)(u,{id:f,nombre:s.toLowerCase()})})()}traerUsuarios(){const s=(0,r.hJ)(this.firestore,"usuarios");return(0,r.BS)(s)}getPacientes(){var s=this;return(0,t.Z)(function*(){const o=(0,r.hJ)(s.firestore,"usuarios"),f=(0,r.IO)(o,(0,r.ar)("perfil","==","paciente")),u=yield(0,r.PL)(f),m=[];return u.forEach(i=>{m.push(i.data())}),m})()}cambiarEstadoUsuario(s,o){var f=this;return(0,t.Z)(function*(){const u=(0,r.hJ)(f.firestore,"usuarios"),m=(0,r.IO)(u,(0,r.ar)("uid","==",s)),i=yield(0,r.PL)(m);return 0!==i.size&&(i.forEach(function(){var c=(0,t.Z)(function*(e){const n=e.ref;yield(0,r.pl)(n,{estado:o},{merge:!0})});return function(e){return c.apply(this,arguments)}}()),!0)})()}setHorarios(s,o,f,u){var m=this;return(0,t.Z)(function*(){const i=(0,r.hJ)(m.firestore,"usuarios"),c=(0,r.IO)(i,(0,r.ar)("uid","==",s.uid)),e=yield(0,r.PL)(c);return 0!==e.size&&(e.forEach(function(){var n=(0,t.Z)(function*(a){const h=a.ref;yield(0,r.pl)(h,{diasAtencion:o,horaInicio:f,horaFin:u},{merge:!0})});return function(a){return n.apply(this,arguments)}}()),!0)})()}static#e=this.\u0275fac=function(o){return new(o||d)(C.LFG(r.gg))};static#t=this.\u0275prov=C.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})()},9278:(E,v,l)=>{l.d(v,{K:()=>r});var t=l(5879);let r=(()=>{class C{constructor(){this.siteKey="6LeW1xApAAAAAGDGv7h2Xpbr6_V6O8bbD1XfcMCO"}getSiteKey(){return this.siteKey}static#e=this.\u0275fac=function(b){return new(b||C)};static#t=this.\u0275prov=t.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})()},2530:(E,v,l)=>{l.d(v,{e7:()=>m,to:()=>f});var t=l(5879),r=l(6223),C=l(6814);const w=["captchaWrapperElem"];let d=(()=>{class i{constructor(e){this.zone=e,this.scriptElemId="ngx-catpcha-script",this.windowGrecaptcha="grecaptcha",this.windowGrecaptchaEnterprise="enterprise",this.windowOnLoadCallbackProperty="ngx_captcha_onload_callback",this.windowOnLoadEnterpriseCallbackProperty="ngx_captcha_onload_enterprise_callback",this.globalDomain="recaptcha.net",this.defaultDomain="google.com",this.enterpriseApi="enterprise.js",this.defaultApi="api.js"}registerCaptchaScript(e,n,a,h){if(this.grecaptchaScriptLoaded(e.useEnterprise))return void this.zone.run(e.useEnterprise?()=>{a(window[this.windowGrecaptcha][this.windowGrecaptchaEnterprise])}:()=>{a(window[this.windowGrecaptcha])});e.useEnterprise?window[this.getCallbackName(!0)]=()=>this.zone.run(a.bind(this,window[this.windowGrecaptcha][this.windowGrecaptchaEnterprise])):window[this.getCallbackName(!1)]=()=>this.zone.run(a.bind(this,window[this.windowGrecaptcha]));const p=document.createElement("script");p.id=this.scriptElemId,p.innerHTML="",p.src=this.getCaptchaScriptUrl(e,n,h),p.async=!0,p.defer=!0,document.getElementsByTagName("head")[0].appendChild(p)}cleanup(){const e=document.getElementById(this.scriptElemId);e&&e.remove(),window[this.getCallbackName()]=void 0,window[this.windowGrecaptcha]=void 0}grecaptchaScriptLoaded(e){return!!(window[this.getCallbackName(e)]&&window[this.windowGrecaptcha]&&(e&&window[this.windowGrecaptcha][this.windowGrecaptchaEnterprise]||window[this.windowGrecaptcha].execute))}getCallbackName(e){return e?this.windowOnLoadEnterpriseCallbackProperty:this.windowOnLoadCallbackProperty}getLanguageParam(e){return e?`&hl=${e}`:""}getCaptchaScriptUrl(e,n,a){return`https://www.${e.useGlobalDomain?this.globalDomain:this.defaultDomain}/recaptcha/${e.useEnterprise?this.enterpriseApi:this.defaultApi}?onload=${this.getCallbackName(e.useEnterprise)}&render=${n}${this.getLanguageParam(a)}`}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(t.R0b))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),b=(()=>{class i{constructor(e,n,a,h){this.renderer=e,this.zone=n,this.injector=a,this.scriptService=h,this.captchaElemPrefix="ngx_captcha_id_",this.setupCaptcha=!0,this.useGlobalDomain=!1,this.useEnterprise=!1,this.type="image",this.tabIndex=0,this.success=new t.vpe,this.load=new t.vpe,this.reset=new t.vpe,this.ready=new t.vpe,this.error=new t.vpe,this.expire=new t.vpe,this.setupAfterLoad=!1,this.resetCaptchaAfterSuccess=!1,this.onChange=p=>{},this.onTouched=p=>{},this.isLoaded=!1}ngAfterViewInit(){this.control=this.injector.get(r.a5,void 0,t.XFs.Optional)?.control}ngAfterViewChecked(){this.setupCaptcha&&(this.setupCaptcha=!1,this.setupComponent())}ngOnChanges(e){e&&e.hl&&!e.hl.firstChange&&e.hl.currentValue!==e.hl.previousValue&&this.scriptService.cleanup(),e&&e.useGlobalDomain&&!e.useGlobalDomain.firstChange&&e.useGlobalDomain.currentValue!==e.useGlobalDomain.previousValue&&this.scriptService.cleanup(),this.setupCaptcha=!0}getResponse(){return this.reCaptchaApi.getResponse(this.captchaId)}getCaptchaId(){return this.captchaId}resetCaptcha(){this.zone.run(()=>{this.reCaptchaApi.reset(),this.onChange(void 0),this.onTouched(void 0),this.reset.next()})}getCurrentResponse(){return this.currentResponse}reloadCaptcha(){this.setupComponent()}ensureCaptchaElem(e){const n=document.getElementById(e);if(!n)throw Error(`Captcha element with id '${e}' was not found`);this.captchaElem=n}renderReCaptcha(){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.captchaId=this.reCaptchaApi.render(this.captchaElemId,this.getCaptchaProperties()),this.ready.next()},0)})}handleCallback(e){this.currentResponse=e,this.success.next(e),this.zone.run(()=>{this.onChange(e),this.onTouched(e)}),this.resetCaptchaAfterSuccess&&this.resetCaptcha()}getPseudoUniqueNumber(){return(new Date).getUTCMilliseconds()+Math.floor(9999*Math.random())}setupComponent(){this.captchaSpecificSetup(),this.createAndSetCaptchaElem(),this.scriptService.registerCaptchaScript({useGlobalDomain:this.useGlobalDomain,useEnterprise:this.useEnterprise},"explicit",e=>{this.onloadCallback(e)},this.hl)}onloadCallback(e){if(this.reCaptchaApi=e,!this.reCaptchaApi)throw Error("ReCaptcha Api was not initialized correctly");this.isLoaded=!0,this.load.next(),this.renderReCaptcha(),this.setupAfterLoad&&(this.setupAfterLoad=!1,this.setupComponent())}generateNewElemId(){return this.captchaElemPrefix+this.getPseudoUniqueNumber()}createAndSetCaptchaElem(){if(this.captchaElemId=this.generateNewElemId(),!this.captchaElemId)throw Error("Captcha elem Id is not set");if(!this.captchaWrapperElem)throw Error("Captcha DOM element is not initialized");this.captchaWrapperElem.nativeElement.innerHTML="";const e=this.renderer.createElement("div");e.id=this.captchaElemId,this.renderer.appendChild(this.captchaWrapperElem.nativeElement,e),setTimeout(()=>{this.captchaElemId&&this.ensureCaptchaElem(this.captchaElemId)},0)}writeValue(e){}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}handleErrorCallback(){this.zone.run(()=>{this.onChange(void 0),this.onTouched(void 0)}),this.error.next()}handleExpireCallback(){this.expire.next(),this.resetCaptcha()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.Qsj),t.Y36(t.R0b),t.Y36(t.zs3),t.Y36(d))},i.\u0275dir=t.lG2({type:i,inputs:{siteKey:"siteKey",useGlobalDomain:"useGlobalDomain",useEnterprise:"useEnterprise",type:"type",hl:"hl",tabIndex:"tabIndex"},outputs:{success:"success",load:"load",reset:"reset",ready:"ready",error:"error",expire:"expire"},features:[t.TTD]}),i})();var s=function(i){return i[i.InvisibleReCaptcha=0]="InvisibleReCaptcha",i[i.ReCaptcha2=1]="ReCaptcha2",i}(s||{});let f=(()=>{class i extends b{constructor(e,n,a,h){super(e,n,a,h),this.renderer=e,this.zone=n,this.injector=a,this.scriptService=h,this.windowOnErrorCallbackProperty="ngx_captcha_error_callback",this.windowOnExpireCallbackProperty="ngx_captcha_expire_callback",this.theme="light",this.size="normal",this.recaptchaType=s.ReCaptcha2}ngOnChanges(e){super.ngOnChanges(e)}ngOnDestroy(){window[this.windowOnErrorCallbackProperty]={},window[this.windowOnExpireCallbackProperty]={}}captchaSpecificSetup(){this.registerCallbacks()}getCaptchaProperties(){return{sitekey:this.siteKey,callback:e=>this.zone.run(()=>this.handleCallback(e)),"expired-callback":()=>this.zone.run(()=>this.handleExpireCallback()),"error-callback":()=>this.zone.run(()=>this.handleErrorCallback()),theme:this.theme,type:this.type,size:this.size,tabindex:this.tabIndex}}registerCallbacks(){window[this.windowOnErrorCallbackProperty]=super.handleErrorCallback.bind(this),window[this.windowOnExpireCallbackProperty]=super.handleExpireCallback.bind(this)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.Qsj),t.Y36(t.R0b),t.Y36(t.zs3),t.Y36(d))},i.\u0275cmp=t.Xpm({type:i,selectors:[["ngx-recaptcha2"]],viewQuery:function(e,n){if(1&e&&t.Gf(w,5),2&e){let a;t.iGM(a=t.CRH())&&(n.captchaWrapperElem=a.first)}},inputs:{theme:"theme",size:"size"},features:[t._Bn([{provide:r.JU,useExisting:(0,t.Gpc)(()=>i),multi:!0}]),t.qOj,t.TTD],decls:2,vars:0,consts:[["captchaWrapperElem",""]],template:function(e,n){1&e&&t._UZ(0,"div",null,0)},encapsulation:2}),i})(),u=(()=>{class i{constructor(e,n){this.scriptService=e,this.zone=n}execute(e,n,a,h,p){this.executeAsPromise(e,n,h).then(a).catch(g=>p?p(g):console.error(g))}executeAsPromise(e,n,a){return new Promise((h,p)=>{this.scriptService.registerCaptchaScript(a||{},e,I=>{this.zone.runOutsideAngular(()=>{try{I.execute(e,{action:n}).then(_=>this.zone.run(()=>h(_)))}catch(_){p(_)}})})})}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(d),t.LFG(t.R0b))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),m=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({providers:[d,u],imports:[C.ez]}),i})()}}]);