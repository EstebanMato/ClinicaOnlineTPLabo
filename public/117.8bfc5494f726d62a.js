"use strict";(self.webpackChunkclinica_online=self.webpackChunkclinica_online||[]).push([[117],{2117:(Z,f,r)=>{r.r(f),r.d(f,{HomeModule:()=>g});var a=r(6814),i=r(969),t=r(5879),b=r(588);function l(e,m){1&e&&(t.TgZ(0,"div",4),t._UZ(1,"div",5),t.qZA())}function v(e,m){if(1&e){const o=t.EpF();t.TgZ(0,"button",14),t.NdJ("click",function(){t.CHM(o);const _=t.oxw().$implicit,x=t.oxw();return t.KtG(x.habilitarUsuario(_.uid))}),t._uU(1,"Habilitar "),t.qZA()}}const s=function(e,m){return{"badge rounded-pill":!0,"text-bg-success":e,"text-bg-danger":m}};function n(e,m){if(1&e&&(t.TgZ(0,"tr")(1,"td")(2,"div",6),t._UZ(3,"img",7),t.TgZ(4,"div",8)(5,"p",9),t._uU(6),t.qZA(),t.TgZ(7,"p",10),t._uU(8),t.qZA()()()(),t.TgZ(9,"td")(10,"p",11),t._uU(11),t.qZA(),t.TgZ(12,"p",10),t._uU(13),t.qZA(),t.TgZ(14,"p",10),t._uU(15),t.qZA()(),t.TgZ(16,"td"),t._uU(17),t.qZA(),t.TgZ(18,"td")(19,"span",12),t._uU(20),t.qZA()(),t.TgZ(21,"td"),t.YNc(22,v,2,0,"button",13),t.qZA()()),2&e){const o=m.$implicit;t.xp6(3),t.Q6J("src",o.imagen,t.LSH),t.xp6(3),t.AsE("",o.apellido,", ",o.nombre,""),t.xp6(2),t.Oqu(o.mail),t.xp6(3),t.Oqu(o.perfil),t.xp6(2),t.Oqu(o.especialidad),t.xp6(2),t.Oqu(o.obraSocial),t.xp6(2),t.Oqu(o.dni),t.xp6(2),t.Q6J("ngClass",t.WLB(11,s,o.estado,!o.estado)),t.xp6(1),t.hij(" ",o.estado?"Activo":"No Activo"," "),t.xp6(2),t.Q6J("ngIf",!o.estado)}}const u=[{path:"",component:(()=>{class e{constructor(o){this.dataq=o,this.usuarios=[],this.isLoading=!1}ngOnInit(){this.isLoading=!0,this.dataq.traerUsuarios().subscribe(o=>{this.usuarios=o,this.isLoading=!1})}habilitarUsuario(o){this.isLoading=!0,this.dataq.habilitarUsuario(o).then(c=>{this.isLoading=!1})}static#t=this.\u0275fac=function(c){return new(c||e)(t.Y36(b.e))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-home"]],decls:17,vars:2,consts:[["class","overlay",4,"ngIf"],[1,"table","align-middle","mb-0","bg-white"],[1,"bg-light"],[4,"ngFor","ngForOf"],[1,"overlay"],[1,"spinner"],[1,"d-flex","align-items-center"],["alt","",1,"rounded-circle",2,"width","45px","height","45px",3,"src"],[1,"ms-3"],[1,"fw-bold","mb-1"],[1,"text-muted","mb-0"],[1,"fw-normal","mb-1"],[3,"ngClass"],["type","button","class","btn btn-outline-dark btn-sm",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-dark","btn-sm",3,"click"]],template:function(c,_){1&c&&(t.YNc(0,l,2,0,"div",0),t.TgZ(1,"table",1)(2,"thead",2)(3,"tr")(4,"th"),t._uU(5,"Nombre"),t.qZA(),t.TgZ(6,"th"),t._uU(7,"Tipo"),t.qZA(),t.TgZ(8,"th"),t._uU(9,"DNI"),t.qZA(),t.TgZ(10,"th"),t._uU(11,"Estado"),t.qZA(),t.TgZ(12,"th"),t._uU(13,"Habilitar"),t.qZA()()(),t.TgZ(14,"tbody"),t.YNc(15,n,23,14,"tr",3),t._UZ(16,"tr"),t.qZA()()),2&c&&(t.Q6J("ngIf",_.isLoading),t.xp6(15),t.Q6J("ngForOf",_.usuarios))},dependencies:[a.mk,a.sg,a.O5],styles:[".overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#fffc;display:flex;align-items:center;justify-content:center;z-index:9999}.spinner[_ngcontent-%COMP%]{border:4px solid rgba(255,255,255,.3);border-top:4px solid #e64141;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 2s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})}return e})(),children:[]}];let p=(()=>{class e{static#t=this.\u0275fac=function(c){return new(c||e)};static#e=this.\u0275mod=t.oAB({type:e});static#o=this.\u0275inj=t.cJS({imports:[a.ez,i.Bz.forChild(u),i.Bz]})}return e})();var h=r(95);let g=(()=>{class e{static#t=this.\u0275fac=function(c){return new(c||e)};static#e=this.\u0275mod=t.oAB({type:e});static#o=this.\u0275inj=t.cJS({imports:[a.ez,p,h.u5]})}return e})()},588:(Z,f,r)=>{r.d(f,{e:()=>b});var a=r(5861),i=r(5349),t=r(5879);let b=(()=>{class l{constructor(s){this.firestore=s}getObraSociales(){const s=(0,i.hJ)(this.firestore,"obrasSociales");return(0,i.BS)(s)}getEspecialidades(){const s=(0,i.hJ)(this.firestore,"especialidades");return(0,i.BS)(s)}getProxIdEspecialidades(){var s=this;return(0,a.Z)(function*(){const n=(0,i.hJ)(s.firestore,"especialidades"),d=(0,i.IO)(n,(0,i.Xo)("id","desc")),u=yield(0,i.PL)(d);return u.empty?1:u.docs[0].get("id")+1})()}altaEspecialidad(s){var n=this;return(0,a.Z)(function*(){const d=yield n.getProxIdEspecialidades(),u=(0,i.hJ)(n.firestore,"especialidades");(0,i.ET)(u,{id:d,nombre:s})})()}traerUsuarios(){const s=(0,i.hJ)(this.firestore,"usuarios");return(0,i.BS)(s)}habilitarUsuario(s){var n=this;return(0,a.Z)(function*(){const d=(0,i.hJ)(n.firestore,"usuarios"),u=(0,i.IO)(d,(0,i.ar)("uid","==",s)),p=yield(0,i.PL)(u);return 0!==p.size&&(p.forEach(function(){var h=(0,a.Z)(function*(g){const e=g.ref;yield(0,i.pl)(e,{estado:!0},{merge:!0})});return function(g){return h.apply(this,arguments)}}()),!0)})()}static#t=this.\u0275fac=function(n){return new(n||l)(t.LFG(i.gg))};static#e=this.\u0275prov=t.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})()}}]);