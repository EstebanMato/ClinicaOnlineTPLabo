"use strict";(self.webpackChunkclinica_online=self.webpackChunkclinica_online||[]).push([[179],{3560:(Mt,je,V)=>{V.d(je,{$:()=>Gn,A:()=>ue,E:()=>Ue,J:()=>Bs,K:()=>qr,M:()=>Ii,P:()=>gc,Q:()=>Ne,R:()=>Na,U:()=>es,V:()=>hs,W:()=>Kr,X:()=>Ta,Y:()=>wo,Z:()=>ea,_:()=>pi,a:()=>Au,a0:()=>so,a1:()=>Ol,a2:()=>ml,a3:()=>Ya,a4:()=>Du,a5:()=>Pl,a6:()=>xl,a7:()=>oa,a8:()=>kl,a9:()=>sa,aA:()=>Ge,aB:()=>Ae,aC:()=>fa,aD:()=>k,aE:()=>st,aF:()=>Ws,aG:()=>Di,aH:()=>Xa,aI:()=>$n,aM:()=>Go,aP:()=>Ao,aa:()=>lo,ab:()=>$s,ac:()=>oc,ad:()=>Tu,ae:()=>Ca,af:()=>vl,ag:()=>Ro,aj:()=>A,ak:()=>x,al:()=>W,ao:()=>gl,ap:()=>Lr,ar:()=>Ft,as:()=>lc,at:()=>gt,au:()=>Fe,av:()=>jr,aw:()=>me,ax:()=>md,ay:()=>vs,az:()=>_t,b:()=>Mn,c:()=>Nu,d:()=>mc,e:()=>rf,f:()=>hi,g:()=>Gs,h:()=>da,i:()=>R,j:()=>Pa,k:()=>ka,l:()=>oh,m:()=>_d,o:()=>Xl,p:()=>Ve,r:()=>hc,s:()=>nf,u:()=>pc});var l=V(5861),G=V(9058),ee=V(534),he=V(7879),ge=V(7582),se=V(4537);const Ve={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ue={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ue=function ye(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Le=function be(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Xe=new G.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),nt=new he.Yd("@firebase/auth");function Ct(D,...m){nt.logLevel<=he.in.ERROR&&nt.error(`Auth (${ee.SDK_VERSION}): ${D}`,...m)}function me(D,...m){throw Ce(D,...m)}function Ge(D,...m){return Ce(D,...m)}function _e(D,m,v){const C=Object.assign(Object.assign({},Le()),{[m]:v});return new G.LL("auth","Firebase",C).create(m,{appName:D.name})}function Ke(D,m,v){if(!(m instanceof v))throw v.name!==m.constructor.name&&me(D,"argument-error"),_e(D,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ce(D,...m){if("string"!=typeof D){const v=m[0],C=[...m.slice(1)];return C[0]&&(C[0].appName=D.name),D._errorFactory.create(v,...C)}return Xe.create(D,...m)}function Ae(D,m,...v){if(!D)throw Ce(m,...v)}function at(D){const m="INTERNAL ASSERTION FAILED: "+D;throw Ct(m),new Error(m)}function gt(D,m){D||at(m)}function Jt(){var D;return typeof self<"u"&&(null===(D=self.location)||void 0===D?void 0:D.href)||""}function er(){return"http:"===_n()||"https:"===_n()}function _n(){var D;return typeof self<"u"&&(null===(D=self.location)||void 0===D?void 0:D.protocol)||null}class Zt{constructor(m,v){this.shortDelay=m,this.longDelay=v,gt(v>m,"Short delay should be less than long delay!"),this.isMobile=(0,G.uI)()||(0,G.b$)()}get(){return function pr(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(er()||(0,G.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Lt(D,m){gt(D.emulator,"Emulator should always be set here");const{url:v}=D.emulator;return m?`${v}${m.startsWith("/")?m.slice(1):m}`:v}class xe{static initialize(m,v,C){this.fetchImpl=m,v&&(this.headersImpl=v),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void at("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void at("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void at("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Se={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Be=new Zt(3e4,6e4);function Ee(D,m){return D.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:D.tenantId}):m}function ke(D,m,v,C){return tt.apply(this,arguments)}function tt(){return(tt=(0,l.Z)(function*(D,m,v,C,z={}){return vt(D,z,(0,l.Z)(function*(){let ne={},ve={};C&&("GET"===m?ve=C:ne={body:JSON.stringify(C)});const et=(0,G.xO)(Object.assign({key:D.config.apiKey},ve)).slice(1),yt=yield D._getAdditionalHeaders();return yt["Content-Type"]="application/json",D.languageCode&&(yt["X-Firebase-Locale"]=D.languageCode),xe.fetch()(pn(D,D.config.apiHost,v,et),Object.assign({method:m,headers:yt,referrerPolicy:"no-referrer"},ne))}))})).apply(this,arguments)}function vt(D,m,v){return lt.apply(this,arguments)}function lt(){return(lt=(0,l.Z)(function*(D,m,v){D._canInitEmulator=!1;const C=Object.assign(Object.assign({},Se),m);try{const z=new sn(D),ne=yield Promise.race([v(),z.promise]);z.clearNetworkTimeout();const ve=yield ne.json();if("needConfirmation"in ve)throw An(D,"account-exists-with-different-credential",ve);if(ne.ok&&!("errorMessage"in ve))return ve;{const et=ne.ok?ve.errorMessage:ve.error.message,[yt,rn]=et.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===yt)throw An(D,"credential-already-in-use",ve);if("EMAIL_EXISTS"===yt)throw An(D,"email-already-in-use",ve);if("USER_DISABLED"===yt)throw An(D,"user-disabled",ve);const dn=C[yt]||yt.toLowerCase().replace(/[_\s]+/g,"-");if(rn)throw _e(D,dn,rn);me(D,dn)}}catch(z){if(z instanceof G.ZR)throw z;me(D,"network-request-failed",{message:String(z)})}})).apply(this,arguments)}function fn(D,m,v,C){return ut.apply(this,arguments)}function ut(){return(ut=(0,l.Z)(function*(D,m,v,C,z={}){const ne=yield ke(D,m,v,C,z);return"mfaPendingCredential"in ne&&me(D,"multi-factor-auth-required",{_serverResponse:ne}),ne})).apply(this,arguments)}function pn(D,m,v,C){const z=`${m}${v}?${C}`;return D.config.emulator?Lt(D.config,z):`${D.config.apiScheme}://${z}`}function on(D){switch(D){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class sn{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((v,C)=>{this.timer=setTimeout(()=>C(Ge(this.auth,"network-request-failed")),Be.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function An(D,m,v){const C={appName:D.name};v.email&&(C.email=v.email),v.phoneNumber&&(C.phoneNumber=v.phoneNumber);const z=Ge(D,m,C);return z.customData._tokenResponse=v,z}function Qt(D){return void 0!==D&&void 0!==D.getResponse}function Ie(D){return void 0!==D&&void 0!==D.enterprise}class De{constructor(m){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===m.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=m.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=m.recaptchaEnforcementState}getProviderEnforcementState(m){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const v of this.recaptchaEnforcementState)if(v.provider&&v.provider===m)return on(v.enforcementState);return null}isProviderEnabled(m){return"ENFORCE"===this.getProviderEnforcementState(m)||"AUDIT"===this.getProviderEnforcementState(m)}}function rt(){return(rt=(0,l.Z)(function*(D){return(yield ke(D,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Dt(D,m){return ht.apply(this,arguments)}function ht(){return(ht=(0,l.Z)(function*(D,m){return ke(D,"GET","/v2/recaptchaConfig",Ee(D,m))})).apply(this,arguments)}function un(){return(un=(0,l.Z)(function*(D,m){return ke(D,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function tn(){return(tn=(0,l.Z)(function*(D,m){return ke(D,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function jn(){return(jn=(0,l.Z)(function*(D,m){return ke(D,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function wn(D){if(D)try{const m=new Date(Number(D));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function Yn(){return(Yn=(0,l.Z)(function*(D,m=!1){const v=(0,G.m9)(D),C=yield v.getIdToken(m),z=Pt(C);Ae(z&&z.exp&&z.auth_time&&z.iat,v.auth,"internal-error");const ne="object"==typeof z.firebase?z.firebase:void 0,ve=ne?.sign_in_provider;return{claims:z,token:C,authTime:wn(or(z.auth_time)),issuedAtTime:wn(or(z.iat)),expirationTime:wn(or(z.exp)),signInProvider:ve||null,signInSecondFactor:ne?.sign_in_second_factor||null}})).apply(this,arguments)}function or(D){return 1e3*Number(D)}function Pt(D){const[m,v,C]=D.split(".");if(void 0===m||void 0===v||void 0===C)return Ct("JWT malformed, contained fewer than 3 sections"),null;try{const z=(0,G.tV)(v);return z?JSON.parse(z):(Ct("Failed to decode base64 JWT payload"),null)}catch(z){return Ct("Caught error parsing JWT payload as JSON",z?.toString()),null}}function an(D,m){return hr.apply(this,arguments)}function hr(){return(hr=(0,l.Z)(function*(D,m,v=!1){if(v)return m;try{return yield m}catch(C){throw C instanceof G.ZR&&function Jr({code:D}){return"auth/user-disabled"===D||"auth/user-token-expired"===D}(C)&&D.auth.currentUser===D&&(yield D.auth.signOut()),C}})).apply(this,arguments)}class ri{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var v;if(m){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const z=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,z)}}schedule(m=!1){var v=this;if(!this.isRunning)return;const C=this.getInterval(m);this.timerId=setTimeout((0,l.Z)(function*(){yield v.iteration()}),C)}iteration(){var m=this;return(0,l.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v?.code&&m.schedule(!0))}m.schedule()})()}}class Mr{constructor(m,v){this.createdAt=m,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=wn(this.lastLoginAt),this.creationTime=wn(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Or(D){return Pr.apply(this,arguments)}function Pr(){return Pr=(0,l.Z)(function*(D){var m;const v=D.auth,C=yield D.getIdToken(),z=yield an(D,function cn(D,m){return jn.apply(this,arguments)}(v,{idToken:C}));Ae(z?.users.length,v,"internal-error");const ne=z.users[0];D._notifyReloadListener(ne);const ve=null!==(m=ne.providerUserInfo)&&void 0!==m&&m.length?function Un(D){return D.map(m=>{var{providerId:v}=m,C=(0,ge._T)(m,["providerId"]);return{providerId:v,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}(ne.providerUserInfo):[],et=function Fn(D,m){return[...D.filter(C=>!m.some(z=>z.providerId===C.providerId)),...m]}(D.providerData,ve),dn=!!D.isAnonymous&&!(D.email&&ne.passwordHash||et?.length),Bn={uid:ne.localId,displayName:ne.displayName||null,photoURL:ne.photoUrl||null,email:ne.email||null,emailVerified:ne.emailVerified||!1,phoneNumber:ne.phoneNumber||null,tenantId:ne.tenantId||null,providerData:et,metadata:new Mr(ne.createdAt,ne.lastLoginAt),isAnonymous:dn};Object.assign(D,Bn)}),Pr.apply(this,arguments)}function Zn(){return(Zn=(0,l.Z)(function*(D){const m=(0,G.m9)(D);yield Or(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function ki(){return(ki=(0,l.Z)(function*(D,m){const v=yield vt(D,{},(0,l.Z)(function*(){const C=(0,G.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:z,apiKey:ne}=D.config,ve=pn(D,z,"/v1/token",`key=${ne}`),et=yield D._getAdditionalHeaders();return et["Content-Type"]="application/x-www-form-urlencoded",xe.fetch()(ve,{method:"POST",headers:et,body:C})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}class fe{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){Ae(m.idToken,"internal-error"),Ae(typeof m.idToken<"u","internal-error"),Ae(typeof m.refreshToken<"u","internal-error");const v="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):function io(D){const m=Pt(D);return Ae(m,"internal-error"),Ae(typeof m.exp<"u","internal-error"),Ae(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,v)}getToken(m,v=!1){var C=this;return(0,l.Z)(function*(){return Ae(!C.accessToken||C.refreshToken,m,"user-token-expired"),v||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(m,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,v){var C=this;return(0,l.Z)(function*(){const{accessToken:z,refreshToken:ne,expiresIn:ve}=yield function xi(D,m){return ki.apply(this,arguments)}(m,v);C.updateTokensAndExpiration(z,ne,Number(ve))})()}updateTokensAndExpiration(m,v,C){this.refreshToken=v||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(m,v){const{refreshToken:C,accessToken:z,expirationTime:ne}=v,ve=new fe;return C&&(Ae("string"==typeof C,"internal-error",{appName:m}),ve.refreshToken=C),z&&(Ae("string"==typeof z,"internal-error",{appName:m}),ve.accessToken=z),ne&&(Ae("number"==typeof ne,"internal-error",{appName:m}),ve.expirationTime=ne),ve}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new fe,this.toJSON())}_performRefresh(){return at("not implemented")}}function J(D,m){Ae("string"==typeof D||typeof D>"u","internal-error",{appName:m})}class j{constructor(m){var{uid:v,auth:C,stsTokenManager:z}=m,ne=(0,ge._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ri(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=C,this.stsTokenManager=z,this.accessToken=z.accessToken,this.displayName=ne.displayName||null,this.email=ne.email||null,this.emailVerified=ne.emailVerified||!1,this.phoneNumber=ne.phoneNumber||null,this.photoURL=ne.photoURL||null,this.isAnonymous=ne.isAnonymous||!1,this.tenantId=ne.tenantId||null,this.providerData=ne.providerData?[...ne.providerData]:[],this.metadata=new Mr(ne.createdAt||void 0,ne.lastLoginAt||void 0)}getIdToken(m){var v=this;return(0,l.Z)(function*(){const C=yield an(v,v.stsTokenManager.getToken(v.auth,m));return Ae(C,v.auth,"internal-error"),v.accessToken!==C&&(v.accessToken=C,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),C})()}getIdTokenResult(m){return function Nt(D){return Yn.apply(this,arguments)}(this,m)}reload(){return function ur(D){return Zn.apply(this,arguments)}(this)}_assign(m){this!==m&&(Ae(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(v=>Object.assign({},v)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){const v=new j(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}));return v.metadata._copy(this.metadata),v}_onReload(m){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,v=!1){var C=this;return(0,l.Z)(function*(){let z=!1;m.idToken&&m.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(m),z=!0),v&&(yield Or(C)),yield C.auth._persistUserIfCurrent(C),z&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var m=this;return(0,l.Z)(function*(){const v=yield m.getIdToken();return yield an(m,function ln(D,m){return un.apply(this,arguments)}(m.auth,{idToken:v})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,v){var C,z,ne,ve,et,yt,rn,dn;const Bn=null!==(C=v.displayName)&&void 0!==C?C:void 0,qn=null!==(z=v.email)&&void 0!==z?z:void 0,_a=null!==(ne=v.phoneNumber)&&void 0!==ne?ne:void 0,Lu=null!==(ve=v.photoURL)&&void 0!==ve?ve:void 0,On=null!==(et=v.tenantId)&&void 0!==et?et:void 0,Dc=null!==(yt=v._redirectEventId)&&void 0!==yt?yt:void 0,Tc=null!==(rn=v.createdAt)&&void 0!==rn?rn:void 0,eu=null!==(dn=v.lastLoginAt)&&void 0!==dn?dn:void 0,{uid:fh,emailVerified:rl,isAnonymous:Tl,providerData:wc,stsTokenManager:ph}=v;Ae(fh&&ph,m,"internal-error");const Cc=fe.fromJSON(this.name,ph);Ae("string"==typeof fh,m,"internal-error"),J(Bn,m.name),J(qn,m.name),Ae("boolean"==typeof rl,m,"internal-error"),Ae("boolean"==typeof Tl,m,"internal-error"),J(_a,m.name),J(Lu,m.name),J(On,m.name),J(Dc,m.name),J(Tc,m.name),J(eu,m.name);const wl=new j({uid:fh,auth:m,email:qn,emailVerified:rl,displayName:Bn,isAnonymous:Tl,photoURL:Lu,phoneNumber:_a,tenantId:On,stsTokenManager:Cc,createdAt:Tc,lastLoginAt:eu});return wc&&Array.isArray(wc)&&(wl.providerData=wc.map(tu=>Object.assign({},tu))),Dc&&(wl._redirectEventId=Dc),wl}static _fromIdTokenResponse(m,v,C=!1){return(0,l.Z)(function*(){const z=new fe;z.updateFromServerResponse(v);const ne=new j({uid:v.localId,auth:m,stsTokenManager:z,isAnonymous:C});return yield Or(ne),ne})()}}const L=new Map;function k(D){gt(D instanceof Function,"Expected a class definition");let m=L.get(D);return m?(gt(m instanceof D,"Instance stored in cache mismatched with class"),m):(m=new D,L.set(D,m),m)}const Ne=(()=>{class D{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(v,C){var z=this;return(0,l.Z)(function*(){z.storage[v]=C})()}_get(v){var C=this;return(0,l.Z)(function*(){const z=C.storage[v];return void 0===z?null:z})()}_remove(v){var C=this;return(0,l.Z)(function*(){delete C.storage[v]})()}_addListener(v,C){}_removeListener(v,C){}}return D.type="NONE",D})();function st(D,m,v){return`firebase:${D}:${m}:${v}`}class bt{constructor(m,v,C){this.persistence=m,this.auth=v,this.userKey=C;const{config:z,name:ne}=this.auth;this.fullUserKey=st(this.userKey,z.apiKey,ne),this.fullPersistenceKey=st("persistence",z.apiKey,ne),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,l.Z)(function*(){const v=yield m.persistence._get(m.fullUserKey);return v?j._fromJSON(m.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var v=this;return(0,l.Z)(function*(){if(v.persistence===m)return;const C=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=m,C?v.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,v,C="authUser"){return(0,l.Z)(function*(){if(!v.length)return new bt(k(Ne),m,C);const z=(yield Promise.all(v.map(function(){var rn=(0,l.Z)(function*(dn){if(yield dn._isAvailable())return dn});return function(dn){return rn.apply(this,arguments)}}()))).filter(rn=>rn);let ne=z[0]||k(Ne);const ve=st(C,m.config.apiKey,m.name);let et=null;for(const rn of v)try{const dn=yield rn._get(ve);if(dn){const Bn=j._fromJSON(m,dn);rn!==ne&&(et=Bn),ne=rn;break}}catch{}const yt=z.filter(rn=>rn._shouldAllowMigration);return ne._shouldAllowMigration&&yt.length?(ne=yt[0],et&&(yield ne._set(ve,et.toJSON())),yield Promise.all(v.map(function(){var rn=(0,l.Z)(function*(dn){if(dn!==ne)try{yield dn._remove(ve)}catch{}});return function(dn){return rn.apply(this,arguments)}}())),new bt(ne,m,C)):new bt(ne,m,C)})()}}function Vt(D){const m=D.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(hn(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(Bt(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(qo(m))return"Blackberry";if(it(m))return"Webos";if(en(m))return"Safari";if((m.includes("chrome/")||Ln(m))&&!m.includes("edge/"))return"Chrome";if(jr(m))return"Android";{const C=D.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function Bt(D=(0,G.z$)()){return/firefox\//i.test(D)}function en(D=(0,G.z$)()){const m=D.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function Ln(D=(0,G.z$)()){return/crios\//i.test(D)}function hn(D=(0,G.z$)()){return/iemobile/i.test(D)}function jr(D=(0,G.z$)()){return/android/i.test(D)}function qo(D=(0,G.z$)()){return/blackberry/i.test(D)}function it(D=(0,G.z$)()){return/webos/i.test(D)}function Fe(D=(0,G.z$)()){return/iphone|ipad|ipod/i.test(D)||/macintosh/i.test(D)&&/mobile/i.test(D)}function _t(D=(0,G.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(D)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(D)}function zt(D=(0,G.z$)()){return Fe(D)||jr(D)||it(D)||qo(D)||/windows phone/i.test(D)||hn(D)}function xr(D,m=[]){let v;switch(D){case"Browser":v=Vt((0,G.z$)());break;case"Worker":v=`${Vt((0,G.z$)())}-${D}`;break;default:v=D}const C=m.length?m.join(","):"FirebaseCore-web";return`${v}/JsCore/${ee.SDK_VERSION}/${C}`}class gr{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,v){const C=ne=>new Promise((ve,et)=>{try{ve(m(ne))}catch(yt){et(yt)}});C.onAbort=v,this.queue.push(C);const z=this.queue.length-1;return()=>{this.queue[z]=()=>Promise.resolve()}}runMiddleware(m){var v=this;return(0,l.Z)(function*(){if(v.auth.currentUser===m)return;const C=[];try{for(const z of v.queue)yield z(m),z.onAbort&&C.push(z.onAbort)}catch(z){C.reverse();for(const ne of C)try{ne()}catch{}throw v.auth._errorFactory.create("login-blocked",{originalMessage:z?.message})}})()}}function yi(){return(yi=(0,l.Z)(function*(D,m={}){return ke(D,"GET","/v2/passwordPolicy",Ee(D,m))})).apply(this,arguments)}class zr{constructor(m){var v,C,z,ne;const ve=m.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(v=ve.minPasswordLength)&&void 0!==v?v:6,ve.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=ve.maxPasswordLength),void 0!==ve.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=ve.containsLowercaseCharacter),void 0!==ve.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=ve.containsUppercaseCharacter),void 0!==ve.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=ve.containsNumericCharacter),void 0!==ve.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=ve.containsNonAlphanumericCharacter),this.enforcementState=m.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(z=null===(C=m.allowedNonAlphanumericCharacters)||void 0===C?void 0:C.join(""))&&void 0!==z?z:"",this.forceUpgradeOnSignin=null!==(ne=m.forceUpgradeOnSignin)&&void 0!==ne&&ne,this.schemaVersion=m.schemaVersion}validatePassword(m){var v,C,z,ne,ve,et;const yt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(m,yt),this.validatePasswordCharacterOptions(m,yt),yt.isValid&&(yt.isValid=null===(v=yt.meetsMinPasswordLength)||void 0===v||v),yt.isValid&&(yt.isValid=null===(C=yt.meetsMaxPasswordLength)||void 0===C||C),yt.isValid&&(yt.isValid=null===(z=yt.containsLowercaseLetter)||void 0===z||z),yt.isValid&&(yt.isValid=null===(ne=yt.containsUppercaseLetter)||void 0===ne||ne),yt.isValid&&(yt.isValid=null===(ve=yt.containsNumericCharacter)||void 0===ve||ve),yt.isValid&&(yt.isValid=null===(et=yt.containsNonAlphanumericCharacter)||void 0===et||et),yt}validatePasswordLengthOptions(m,v){const C=this.customStrengthOptions.minPasswordLength,z=this.customStrengthOptions.maxPasswordLength;C&&(v.meetsMinPasswordLength=m.length>=C),z&&(v.meetsMaxPasswordLength=m.length<=z)}validatePasswordCharacterOptions(m,v){let C;this.updatePasswordCharacterOptionsStatuses(v,!1,!1,!1,!1);for(let z=0;z<m.length;z++)C=m.charAt(z),this.updatePasswordCharacterOptionsStatuses(v,C>="a"&&C<="z",C>="A"&&C<="Z",C>="0"&&C<="9",this.allowedNonAlphanumericCharacters.includes(C))}updatePasswordCharacterOptionsStatuses(m,v,C,z,ne){this.customStrengthOptions.containsLowercaseLetter&&(m.containsLowercaseLetter||(m.containsLowercaseLetter=v)),this.customStrengthOptions.containsUppercaseLetter&&(m.containsUppercaseLetter||(m.containsUppercaseLetter=C)),this.customStrengthOptions.containsNumericCharacter&&(m.containsNumericCharacter||(m.containsNumericCharacter=z)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(m.containsNonAlphanumericCharacter||(m.containsNonAlphanumericCharacter=ne))}}class fi{constructor(m,v,C,z){this.app=m,this.heartbeatServiceProvider=v,this.appCheckServiceProvider=C,this.config=z,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ii(this),this.idTokenSubscription=new ii(this),this.beforeStateQueue=new gr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Xe,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=z.sdkClientVersion}_initializeWithPersistence(m,v){var C=this;return v&&(this._popupRedirectResolver=k(v)),this._initializationPromise=this.queue((0,l.Z)(function*(){var z,ne;if(!C._deleted&&(C.persistenceManager=yield bt.create(C,m),!C._deleted)){if(null!==(z=C._popupRedirectResolver)&&void 0!==z&&z._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(v),C.lastNotifiedUid=(null===(ne=C.currentUser)||void 0===ne?void 0:ne.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,l.Z)(function*(){if(m._deleted)return;const v=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||v){if(m.currentUser&&v&&m.currentUser.uid===v.uid)return m._currentUser._assign(v),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(v,!0)}})()}initializeCurrentUser(m){var v=this;return(0,l.Z)(function*(){var C;const z=yield v.assertedPersistence.getCurrentUser();let ne=z,ve=!1;if(m&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const et=null===(C=v.redirectUser)||void 0===C?void 0:C._redirectEventId,yt=ne?._redirectEventId,rn=yield v.tryRedirectSignIn(m);(!et||et===yt)&&rn?.user&&(ne=rn.user,ve=!0)}if(!ne)return v.directlySetCurrentUser(null);if(!ne._redirectEventId){if(ve)try{yield v.beforeStateQueue.runMiddleware(ne)}catch(et){ne=z,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(et))}return ne?v.reloadAndSetCurrentUserOrClear(ne):v.directlySetCurrentUser(null)}return Ae(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===ne._redirectEventId?v.directlySetCurrentUser(ne):v.reloadAndSetCurrentUserOrClear(ne)})()}tryRedirectSignIn(m){var v=this;return(0,l.Z)(function*(){let C=null;try{C=yield v._popupRedirectResolver._completeRedirectFn(v,m,!0)}catch{yield v._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(m){var v=this;return(0,l.Z)(function*(){try{yield Or(m)}catch(C){if("auth/network-request-failed"!==C?.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function It(){if(typeof navigator>"u")return null;const D=navigator;return D.languages&&D.languages[0]||D.language||null}()}_delete(){var m=this;return(0,l.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var v=this;return(0,l.Z)(function*(){const C=m?(0,G.m9)(m):null;return C&&Ae(C.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(C&&C._clone(v))})()}_updateCurrentUser(m,v=!1){var C=this;return(0,l.Z)(function*(){if(!C._deleted)return m&&Ae(C.tenantId===m.tenantId,C,"tenant-id-mismatch"),v||(yield C.beforeStateQueue.runMiddleware(m)),C.queue((0,l.Z)(function*(){yield C.directlySetCurrentUser(m),C.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,l.Z)(function*(){return yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0)})()}setPersistence(m){var v=this;return this.queue((0,l.Z)(function*(){yield v.assertedPersistence.setPersistence(k(m))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(m){var v=this;return(0,l.Z)(function*(){v._getPasswordPolicyInternal()||(yield v._updatePasswordPolicy());const C=v._getPasswordPolicyInternal();return C.schemaVersion!==v.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(v._errorFactory.create("unsupported-password-policy-schema-version",{})):C.validatePassword(m)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var m=this;return(0,l.Z)(function*(){const v=yield function Ai(D){return yi.apply(this,arguments)}(m),C=new zr(v);null===m.tenantId?m._projectPasswordPolicy=C:m._tenantPasswordPolicies[m.tenantId]=C})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new G.LL("auth","Firebase",m())}onAuthStateChanged(m,v,C){return this.registerStateListener(this.authStateSubscription,m,v,C)}beforeAuthStateChanged(m,v){return this.beforeStateQueue.pushCallback(m,v)}onIdTokenChanged(m,v,C){return this.registerStateListener(this.idTokenSubscription,m,v,C)}authStateReady(){return new Promise((m,v)=>{if(this.currentUser)m();else{const C=this.onAuthStateChanged(()=>{C(),m()},v)}})}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,v){var C=this;return(0,l.Z)(function*(){const z=yield C.getOrInitRedirectPersistenceManager(v);return null===m?z.removeCurrentUser():z.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var v=this;return(0,l.Z)(function*(){if(!v.redirectPersistenceManager){const C=m&&k(m)||v._popupRedirectResolver;Ae(C,v,"argument-error"),v.redirectPersistenceManager=yield bt.create(v,[k(C._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(m){var v=this;return(0,l.Z)(function*(){var C,z;return v._isInitialized&&(yield v.queue((0,l.Z)(function*(){}))),(null===(C=v._currentUser)||void 0===C?void 0:C._redirectEventId)===m?v._currentUser:(null===(z=v.redirectUser)||void 0===z?void 0:z._redirectEventId)===m?v.redirectUser:null})()}_persistUserIfCurrent(m){var v=this;return(0,l.Z)(function*(){if(m===v.currentUser)return v.queue((0,l.Z)(function*(){return v.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(v=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,v,C,z){if(this._deleted)return()=>{};const ne="function"==typeof v?v:v.next.bind(v);let ve=!1;const et=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(et,this,"internal-error"),et.then(()=>{ve||ne(this.currentUser)}),"function"==typeof v){const yt=m.addObserver(v,C,z);return()=>{ve=!0,yt()}}{const yt=m.addObserver(v);return()=>{ve=!0,yt()}}}directlySetCurrentUser(m){var v=this;return(0,l.Z)(function*(){v.currentUser&&v.currentUser!==m&&v._currentUser._stopProactiveRefresh(),m&&v.isProactiveRefreshEnabled&&m._startProactiveRefresh(),v.currentUser=m,m?yield v.assertedPersistence.setCurrentUser(m):yield v.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=xr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,l.Z)(function*(){var v;const C={"X-Client-Version":m.clientVersion};m.app.options.appId&&(C["X-Firebase-gmpid"]=m.app.options.appId);const z=yield null===(v=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();z&&(C["X-Firebase-Client"]=z);const ne=yield m._getAppCheckToken();return ne&&(C["X-Firebase-AppCheck"]=ne),C})()}_getAppCheckToken(){var m=this;return(0,l.Z)(function*(){var v;const C=yield null===(v=m.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getToken();return C?.error&&function St(D,...m){nt.logLevel<=he.in.WARN&&nt.warn(`Auth (${ee.SDK_VERSION}): ${D}`,...m)}(`Error while retrieving App Check token: ${C.error}`),C?.token})()}}function $n(D){return(0,G.m9)(D)}class ii{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,G.ne)(v=>this.observer=v)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function tr(D){return new Promise((m,v)=>{const C=document.createElement("script");C.setAttribute("src",D),C.onload=m,C.onerror=z=>{const ne=Ge("internal-error");ne.customData=z,v(ne)},C.type="text/javascript",C.charset="UTF-8",function Is(){var D,m;return null!==(m=null===(D=document.getElementsByTagName("head"))||void 0===D?void 0:D[0])&&void 0!==m?m:document}().appendChild(C)})}function Si(D){return`__${D}${Math.floor(1e6*Math.random())}`}class po{constructor(m){this.type="recaptcha-enterprise",this.auth=$n(m)}verify(m="verify",v=!1){var C=this;return(0,l.Z)(function*(){function ne(){return ne=(0,l.Z)(function*(et){if(!v){if(null==et.tenantId&&null!=et._agentRecaptchaConfig)return et._agentRecaptchaConfig.siteKey;if(null!=et.tenantId&&void 0!==et._tenantRecaptchaConfigs[et.tenantId])return et._tenantRecaptchaConfigs[et.tenantId].siteKey}return new Promise(function(){var yt=(0,l.Z)(function*(rn,dn){Dt(et,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Bn=>{if(void 0!==Bn.recaptchaKey){const qn=new De(Bn);return null==et.tenantId?et._agentRecaptchaConfig=qn:et._tenantRecaptchaConfigs[et.tenantId]=qn,rn(qn.siteKey)}dn(new Error("recaptcha Enterprise site key undefined"))}).catch(Bn=>{dn(Bn)})});return function(rn,dn){return yt.apply(this,arguments)}}())}),ne.apply(this,arguments)}function ve(et,yt,rn){const dn=window.grecaptcha;Ie(dn)?dn.enterprise.ready(()=>{dn.enterprise.execute(et,{action:m}).then(Bn=>{yt(Bn)}).catch(()=>{yt("NO_RECAPTCHA")})}):rn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((et,yt)=>{(function z(et){return ne.apply(this,arguments)})(C.auth).then(rn=>{if(!v&&Ie(window.grecaptcha))ve(rn,et,yt);else{if(typeof window>"u")return void yt(new Error("RecaptchaVerifier is only supported in browser"));tr("https://www.google.com/recaptcha/enterprise.js?render="+rn).then(()=>{ve(rn,et,yt)}).catch(dn=>{yt(dn)})}}).catch(rn=>{yt(rn)})})})()}}function Bo(D,m,v){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,l.Z)(function*(D,m,v,C=!1){const z=new po(D);let ne;try{ne=yield z.verify(v)}catch{ne=yield z.verify(v,!0)}const ve=Object.assign({},m);return Object.assign(ve,C?{captchaResp:ne}:{captchaResponse:ne}),Object.assign(ve,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(ve,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),ve})).apply(this,arguments)}function Yo(D,m,v,C){return Ls.apply(this,arguments)}function Ls(){return Ls=(0,l.Z)(function*(D,m,v,C){var z;if(null!==(z=D._getRecaptchaConfig())&&void 0!==z&&z.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const ne=yield Bo(D,m,v,"getOobCode"===v);return C(D,ne)}return C(D,m).catch(function(){var ne=(0,l.Z)(function*(ve){if("auth/missing-recaptcha-token"===ve.code){console.log(`${v} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const et=yield Bo(D,m,v,"getOobCode"===v);return C(D,et)}return Promise.reject(ve)});return function(ve){return ne.apply(this,arguments)}}())}),Ls.apply(this,arguments)}function Bs(D,m,v){const C=$n(D);Ae(C._canInitEmulator,C,"emulator-config-failed"),Ae(/^https?:\/\//.test(m),C,"invalid-emulator-scheme");const z=!!v?.disableWarnings,ne=Wa(m),{host:ve,port:et}=function Li(D){const m=Wa(D),v=/(\/\/)?([^?#/]+)/.exec(D.substr(m.length));if(!v)return{host:"",port:null};const C=v[2].split("@").pop()||"",z=/^(\[[^\]]+\])(:|$)/.exec(C);if(z){const ne=z[1];return{host:ne,port:Ds(C.substr(ne.length+1))}}{const[ne,ve]=C.split(":");return{host:ne,port:Ds(ve)}}}(m);C.config.emulator={url:`${ne}//${ve}${null===et?"":`:${et}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:ve,port:et,protocol:ne.replace(":",""),options:Object.freeze({disableWarnings:z})}),z||function Xs(){function D(){const m=document.createElement("p"),v=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",D):D())}()}function Wa(D){const m=D.indexOf(":");return m<0?"":D.substr(0,m+1)}function Ds(D){if(!D)return null;const m=Number(D);return isNaN(m)?null:m}class qr{constructor(m,v){this.providerId=m,this.signInMethod=v}toJSON(){return at("not implemented")}_getIdTokenResponse(m){return at("not implemented")}_linkToIdToken(m,v){return at("not implemented")}_getReauthenticationResolver(m){return at("not implemented")}}function bo(D,m){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,l.Z)(function*(D,m){return ke(D,"POST","/v1/accounts:resetPassword",Ee(D,m))})).apply(this,arguments)}function Ts(D,m){return zi.apply(this,arguments)}function zi(){return(zi=(0,l.Z)(function*(D,m){return ke(D,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Do(){return(Do=(0,l.Z)(function*(D,m){return ke(D,"POST","/v1/accounts:update",Ee(D,m))})).apply(this,arguments)}function Wi(D,m){return In.apply(this,arguments)}function In(){return(In=(0,l.Z)(function*(D,m){return fn(D,"POST","/v1/accounts:signInWithPassword",Ee(D,m))})).apply(this,arguments)}function sr(D,m){return mr.apply(this,arguments)}function mr(){return(mr=(0,l.Z)(function*(D,m){return ke(D,"POST","/v1/accounts:sendOobCode",Ee(D,m))})).apply(this,arguments)}function $r(){return($r=(0,l.Z)(function*(D,m){return sr(D,m)})).apply(this,arguments)}function Da(D,m){return si.apply(this,arguments)}function si(){return(si=(0,l.Z)(function*(D,m){return sr(D,m)})).apply(this,arguments)}function To(D,m){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,l.Z)(function*(D,m){return sr(D,m)})).apply(this,arguments)}function cr(){return(cr=(0,l.Z)(function*(D,m){return sr(D,m)})).apply(this,arguments)}function Wt(){return(Wt=(0,l.Z)(function*(D,m){return fn(D,"POST","/v1/accounts:signInWithEmailLink",Ee(D,m))})).apply(this,arguments)}function Gr(){return(Gr=(0,l.Z)(function*(D,m){return fn(D,"POST","/v1/accounts:signInWithEmailLink",Ee(D,m))})).apply(this,arguments)}class Ei extends qr{constructor(m,v,C,z=null){super("password",C),this._email=m,this._password=v,this._tenantId=z}static _fromEmailAndPassword(m,v){return new Ei(m,v,"password")}static _fromEmailAndCode(m,v,C=null){return new Ei(m,v,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m;if(v?.email&&v?.password){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(m){var v=this;return(0,l.Z)(function*(){switch(v.signInMethod){case"password":return Yo(m,{returnSecureToken:!0,email:v._email,password:v._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Wi);case"emailLink":return function kt(D,m){return Wt.apply(this,arguments)}(m,{email:v._email,oobCode:v._password});default:me(m,"internal-error")}})()}_linkToIdToken(m,v){var C=this;return(0,l.Z)(function*(){switch(C.signInMethod){case"password":return Ts(m,{idToken:v,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function nr(D,m){return Gr.apply(this,arguments)}(m,{idToken:v,email:C._email,oobCode:C._password});default:me(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function _r(D,m){return oo.apply(this,arguments)}function oo(){return(oo=(0,l.Z)(function*(D,m){return fn(D,"POST","/v1/accounts:signInWithIdp",Ee(D,m))})).apply(this,arguments)}class Ii extends qr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const v=new Ii(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(v.idToken=m.idToken),m.accessToken&&(v.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(v.nonce=m.nonce),m.pendingToken&&(v.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(v.accessToken=m.oauthToken,v.secret=m.oauthTokenSecret):me("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m,{providerId:C,signInMethod:z}=v,ne=(0,ge._T)(v,["providerId","signInMethod"]);if(!C||!z)return null;const ve=new Ii(C,z);return ve.idToken=ne.idToken||void 0,ve.accessToken=ne.accessToken||void 0,ve.secret=ne.secret,ve.nonce=ne.nonce,ve.pendingToken=ne.pendingToken||null,ve}_getIdTokenResponse(m){return _r(m,this.buildRequest())}_linkToIdToken(m,v){const C=this.buildRequest();return C.idToken=v,_r(m,C)}_getReauthenticationResolver(m){const v=this.buildRequest();return v.autoCreate=!1,_r(m,v)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),m.postBody=(0,G.xO)(v)}return m}}function yn(){return(yn=(0,l.Z)(function*(D,m){return ke(D,"POST","/v1/accounts:sendVerificationCode",Ee(D,m))})).apply(this,arguments)}function ai(){return(ai=(0,l.Z)(function*(D,m){return fn(D,"POST","/v1/accounts:signInWithPhoneNumber",Ee(D,m))})).apply(this,arguments)}function ar(){return(ar=(0,l.Z)(function*(D,m){const v=yield fn(D,"POST","/v1/accounts:signInWithPhoneNumber",Ee(D,m));if(v.temporaryProof)throw An(D,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const ws={USER_NOT_FOUND:"user-not-found"};function Ki(){return(Ki=(0,l.Z)(function*(D,m){return fn(D,"POST","/v1/accounts:signInWithPhoneNumber",Ee(D,Object.assign(Object.assign({},m),{operation:"REAUTH"})),ws)})).apply(this,arguments)}class Yi extends qr{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,v){return new Yi({verificationId:m,verificationCode:v})}static _fromTokenResponse(m,v){return new Yi({phoneNumber:m,temporaryProof:v})}_getIdTokenResponse(m){return function Qo(D,m){return ai.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,v){return function jo(D,m){return ar.apply(this,arguments)}(m,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function qi(D,m){return Ki.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:v,verificationId:C,verificationCode:z}=this.params;return m&&v?{temporaryProof:m,phoneNumber:v}:{sessionInfo:C,code:z}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:v,verificationCode:C,phoneNumber:z,temporaryProof:ne}=m;return C||v||z||ne?new Yi({verificationId:v,verificationCode:C,phoneNumber:z,temporaryProof:ne}):null}}class Zi{constructor(m){var v,C,z,ne,ve,et;const yt=(0,G.zd)((0,G.pd)(m)),rn=null!==(v=yt.apiKey)&&void 0!==v?v:null,dn=null!==(C=yt.oobCode)&&void 0!==C?C:null,Bn=function pl(D){switch(D){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(z=yt.mode)&&void 0!==z?z:null);Ae(rn&&dn&&Bn,"argument-error"),this.apiKey=rn,this.operation=Bn,this.code=dn,this.continueUrl=null!==(ne=yt.continueUrl)&&void 0!==ne?ne:null,this.languageCode=null!==(ve=yt.languageCode)&&void 0!==ve?ve:null,this.tenantId=null!==(et=yt.tenantId)&&void 0!==et?et:null}static parseLink(m){const v=function cs(D){const m=(0,G.zd)((0,G.pd)(D)).link,v=m?(0,G.zd)((0,G.pd)(m)).deep_link_id:null,C=(0,G.zd)((0,G.pd)(D)).deep_link_id;return(C?(0,G.zd)((0,G.pd)(C)).link:null)||C||v||m||D}(m);try{return new Zi(v)}catch{return null}}}let es=(()=>{class D{constructor(){this.providerId=D.PROVIDER_ID}static credential(v,C){return Ei._fromEmailAndPassword(v,C)}static credentialWithLink(v,C){const z=Zi.parseLink(C);return Ae(z,"argument-error"),Ei._fromEmailAndCode(v,z.code,z.tenantId)}}return D.PROVIDER_ID="password",D.EMAIL_PASSWORD_SIGN_IN_METHOD="password",D.EMAIL_LINK_SIGN_IN_METHOD="emailLink",D})();class vn{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class Cs extends vn{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class wo extends Cs{static credentialFromJSON(m){const v="string"==typeof m?JSON.parse(m):m;return Ae("providerId"in v&&"signInMethod"in v,"argument-error"),Ii._fromParams(v)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return Ae(m.idToken||m.accessToken,"argument-error"),Ii._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return wo.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return wo.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:v,oauthAccessToken:C,oauthTokenSecret:z,pendingToken:ne,nonce:ve,providerId:et}=m;if(!C&&!z&&!v&&!ne||!et)return null;try{return new wo(et)._credential({idToken:v,accessToken:C,nonce:ve,pendingToken:ne})}catch{return null}}}let hs=(()=>{class D extends Cs{constructor(){super("facebook.com")}static credential(v){return Ii._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return D.credentialFromTaggedObject(v)}static credentialFromError(v){return D.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return D.credential(v.oauthAccessToken)}catch{return null}}}return D.FACEBOOK_SIGN_IN_METHOD="facebook.com",D.PROVIDER_ID="facebook.com",D})(),Kr=(()=>{class D extends Cs{constructor(){super("google.com"),this.addScope("profile")}static credential(v,C){return Ii._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:C})}static credentialFromResult(v){return D.credentialFromTaggedObject(v)}static credentialFromError(v){return D.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:C,oauthAccessToken:z}=v;if(!C&&!z)return null;try{return D.credential(C,z)}catch{return null}}}return D.GOOGLE_SIGN_IN_METHOD="google.com",D.PROVIDER_ID="google.com",D})(),Ta=(()=>{class D extends Cs{constructor(){super("github.com")}static credential(v){return Ii._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return D.credentialFromTaggedObject(v)}static credentialFromError(v){return D.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return D.credential(v.oauthAccessToken)}catch{return null}}}return D.GITHUB_SIGN_IN_METHOD="github.com",D.PROVIDER_ID="github.com",D})();class Ao extends qr{constructor(m,v){super(m,m),this.pendingToken=v}_getIdTokenResponse(m){return _r(m,this.buildRequest())}_linkToIdToken(m,v){const C=this.buildRequest();return C.idToken=v,_r(m,C)}_getReauthenticationResolver(m){const v=this.buildRequest();return v.autoCreate=!1,_r(m,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m,{providerId:C,signInMethod:z,pendingToken:ne}=v;return C&&z&&ne&&C===z?new Ao(C,ne):null}static _create(m,v){return new Ao(m,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ea extends vn{constructor(m){Ae(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return ea.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return ea.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const v=Ao.fromJSON(m);return Ae(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:v,providerId:C}=m;if(!v||!C)return null;try{return Ao._create(C,v)}catch{return null}}}let pi=(()=>{class D extends Cs{constructor(){super("twitter.com")}static credential(v,C){return Ii._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:C})}static credentialFromResult(v){return D.credentialFromTaggedObject(v)}static credentialFromError(v){return D.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:C,oauthTokenSecret:z}=v;if(!C||!z)return null;try{return D.credential(C,z)}catch{return null}}}return D.TWITTER_SIGN_IN_METHOD="twitter.com",D.PROVIDER_ID="twitter.com",D})();function Yr(D,m){return ts.apply(this,arguments)}function ts(){return(ts=(0,l.Z)(function*(D,m){return fn(D,"POST","/v1/accounts:signUp",Ee(D,m))})).apply(this,arguments)}class Xr{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,v,C,z=!1){return(0,l.Z)(function*(){const ne=yield j._fromIdTokenResponse(m,C,z),ve=$o(C);return new Xr({user:ne,providerId:ve,_tokenResponse:C,operationType:v})})()}static _forOperation(m,v,C){return(0,l.Z)(function*(){yield m._updateTokensIfNecessary(C,!0);const z=$o(C);return new Xr({user:m,providerId:z,_tokenResponse:C,operationType:v})})()}}function $o(D){return D.providerId?D.providerId:"phoneNumber"in D?"phone":null}function Gn(D){return Us.apply(this,arguments)}function Us(){return(Us=(0,l.Z)(function*(D){var m;const v=$n(D);if(yield v._initializationPromise,null!==(m=v.currentUser)&&void 0!==m&&m.isAnonymous)return new Xr({user:v.currentUser,providerId:null,operationType:"signIn"});const C=yield Yr(v,{returnSecureToken:!0}),z=yield Xr._fromIdTokenResponse(v,"signIn",C,!0);return yield v._updateCurrentUser(z.user),z})).apply(this,arguments)}class ta extends G.ZR{constructor(m,v,C,z){var ne;super(v.code,v.message),this.operationType=C,this.user=z,Object.setPrototypeOf(this,ta.prototype),this.customData={appName:m.name,tenantId:null!==(ne=m.tenantId)&&void 0!==ne?ne:void 0,_serverResponse:v.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(m,v,C,z){return new ta(m,v,C,z)}}function js(D,m,v,C){return("reauthenticate"===m?v._getReauthenticationResolver(D):v._getIdTokenResponse(D)).catch(ne=>{throw"auth/multi-factor-auth-required"===ne.code?ta._fromErrorAndOperation(D,ne,m,C):ne})}function na(D){return new Set(D.map(({providerId:m})=>m).filter(m=>!!m))}function gl(D,m){return H.apply(this,arguments)}function H(){return H=(0,l.Z)(function*(D,m){const v=(0,G.m9)(D);yield te(!0,v,m);const{providerUserInfo:C}=yield function Rt(D,m){return tn.apply(this,arguments)}(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[m]}),z=na(C||[]);return v.providerData=v.providerData.filter(ne=>z.has(ne.providerId)),z.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v}),H.apply(this,arguments)}function q(D,m){return P.apply(this,arguments)}function P(){return(P=(0,l.Z)(function*(D,m,v=!1){const C=yield an(D,m._linkToIdToken(D.auth,yield D.getIdToken()),v);return Xr._forOperation(D,"link",C)})).apply(this,arguments)}function te(D,m,v){return de.apply(this,arguments)}function de(){return(de=(0,l.Z)(function*(D,m,v){yield Or(m);const z=!1===D?"provider-already-linked":"no-such-provider";Ae(na(m.providerData).has(v)===D,m.auth,z)})).apply(this,arguments)}function nn(D,m){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,l.Z)(function*(D,m,v=!1){const{auth:C}=D,z="reauthenticate";try{const ne=yield an(D,js(C,z,m,D),v);Ae(ne.idToken,C,"internal-error");const ve=Pt(ne.idToken);Ae(ve,C,"internal-error");const{sub:et}=ve;return Ae(D.uid===et,C,"user-mismatch"),Xr._forOperation(D,z,ne)}catch(ne){throw"auth/user-not-found"===ne?.code&&me(C,"user-mismatch"),ne}})).apply(this,arguments)}function So(D,m){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,l.Z)(function*(D,m,v=!1){const C="signIn",z=yield js(D,C,m),ne=yield Xr._fromIdTokenResponse(D,C,z);return v||(yield D._updateCurrentUser(ne.user)),ne})).apply(this,arguments)}function so(D,m){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,l.Z)(function*(D,m){return So($n(D),m)})).apply(this,arguments)}function Ol(D,m){return qa.apply(this,arguments)}function qa(){return(qa=(0,l.Z)(function*(D,m){const v=(0,G.m9)(D);return yield te(!1,v,m.providerId),q(v,m)})).apply(this,arguments)}function ml(D,m){return ra.apply(this,arguments)}function ra(){return(ra=(0,l.Z)(function*(D,m){return nn((0,G.m9)(D),m)})).apply(this,arguments)}function Ka(){return(Ka=(0,l.Z)(function*(D,m){return fn(D,"POST","/v1/accounts:signInWithCustomToken",Ee(D,m))})).apply(this,arguments)}function Ya(D,m){return ns.apply(this,arguments)}function ns(){return ns=(0,l.Z)(function*(D,m){const v=$n(D),C=yield function od(D,m){return Ka.apply(this,arguments)}(v,{token:m,returnSecureToken:!0}),z=yield Xr._fromIdTokenResponse(v,"signIn",C);return yield v._updateCurrentUser(z.user),z}),ns.apply(this,arguments)}class Qi{constructor(m,v){this.factorId=m,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(m,v){return"phoneInfo"in v?As._fromServerResponse(m,v):"totpInfo"in v?ia._fromServerResponse(m,v):me(m,"internal-error")}}class As extends Qi{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,v){return new As(v)}}class ia extends Qi{constructor(m){super("totp",m)}static _fromServerResponse(m,v){return new ia(v)}}function ui(D,m,v){var C;Ae((null===(C=v.url)||void 0===C?void 0:C.length)>0,D,"invalid-continue-uri"),Ae(typeof v.dynamicLinkDomain>"u"||v.dynamicLinkDomain.length>0,D,"invalid-dynamic-link-domain"),m.continueUrl=v.url,m.dynamicLinkDomain=v.dynamicLinkDomain,m.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(Ae(v.iOS.bundleId.length>0,D,"missing-ios-bundle-id"),m.iOSBundleId=v.iOS.bundleId),v.android&&(Ae(v.android.packageName.length>0,D,"missing-android-pkg-name"),m.androidInstallApp=v.android.installApp,m.androidMinimumVersionCode=v.android.minimumVersion,m.androidPackageName=v.android.packageName)}function ao(D){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,l.Z)(function*(D){const m=$n(D);m._getPasswordPolicyInternal()&&(yield m._updatePasswordPolicy())})).apply(this,arguments)}function Du(D,m,v){return fs.apply(this,arguments)}function fs(){return(fs=(0,l.Z)(function*(D,m,v){const C=$n(D),z={requestType:"PASSWORD_RESET",email:m,clientType:"CLIENT_TYPE_WEB"};v&&ui(C,z,v),yield Yo(C,z,"getOobCode",Da)})).apply(this,arguments)}function Pl(D,m,v){return Ss.apply(this,arguments)}function Ss(){return Ss=(0,l.Z)(function*(D,m,v){yield bo((0,G.m9)(D),{oobCode:m,newPassword:v}).catch(function(){var C=(0,l.Z)(function*(z){throw"auth/password-does-not-meet-requirements"===z.code&&ao(D),z});return function(z){return C.apply(this,arguments)}}())}),Ss.apply(this,arguments)}function xl(D,m){return wa.apply(this,arguments)}function wa(){return wa=(0,l.Z)(function*(D,m){yield function Vi(D,m){return Do.apply(this,arguments)}((0,G.m9)(D),{oobCode:m})}),wa.apply(this,arguments)}function oa(D,m){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,l.Z)(function*(D,m){const v=(0,G.m9)(D),C=yield bo(v,{oobCode:m}),z=C.requestType;switch(Ae(z,v,"internal-error"),z){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ae(C.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ae(C.mfaInfo,v,"internal-error");default:Ae(C.email,v,"internal-error")}let ne=null;return C.mfaInfo&&(ne=Qi._fromServerResponse($n(v),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:ne},operation:z}})).apply(this,arguments)}function kl(D,m){return Za.apply(this,arguments)}function Za(){return(Za=(0,l.Z)(function*(D,m){const{data:v}=yield oa((0,G.m9)(D),m);return v.email})).apply(this,arguments)}function sa(D,m,v){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,l.Z)(function*(D,m,v){const C=$n(D),ve=yield Yo(C,{returnSecureToken:!0,email:m,password:v,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Yr).catch(yt=>{throw"auth/password-does-not-meet-requirements"===yt.code&&ao(D),yt}),et=yield Xr._fromIdTokenResponse(C,"signIn",ve);return yield C._updateCurrentUser(et.user),et})).apply(this,arguments)}function lo(D,m,v){return so((0,G.m9)(D),es.credential(m,v)).catch(function(){var C=(0,l.Z)(function*(z){throw"auth/password-does-not-meet-requirements"===z.code&&ao(D),z});return function(z){return C.apply(this,arguments)}}())}function $s(D,m,v){return dr.apply(this,arguments)}function dr(){return(dr=(0,l.Z)(function*(D,m,v){const C=$n(D),z={requestType:"EMAIL_SIGNIN",email:m,clientType:"CLIENT_TYPE_WEB"};(function ne(ve,et){Ae(et.handleCodeInApp,C,"argument-error"),et&&ui(C,ve,et)})(z,v),yield Yo(C,z,"getOobCode",To)})).apply(this,arguments)}function oc(D,m){const v=Zi.parseLink(m);return"EMAIL_SIGNIN"===v?.operation}function Tu(D,m,v){return rs.apply(this,arguments)}function rs(){return(rs=(0,l.Z)(function*(D,m,v){const C=(0,G.m9)(D),z=es.credentialWithLink(m,v||Jt());return Ae(z._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),so(C,z)})).apply(this,arguments)}function _l(){return(_l=(0,l.Z)(function*(D,m){return ke(D,"POST","/v1/accounts:createAuthUri",Ee(D,m))})).apply(this,arguments)}function Ca(D,m){return aa.apply(this,arguments)}function aa(){return aa=(0,l.Z)(function*(D,m){const C={identifier:m,continueUri:er()?Jt():"http://localhost"},{signinMethods:z}=yield function Fl(D,m){return _l.apply(this,arguments)}((0,G.m9)(D),C);return z||[]}),aa.apply(this,arguments)}function vl(D,m){return is.apply(this,arguments)}function is(){return is=(0,l.Z)(function*(D,m){const v=(0,G.m9)(D),z={requestType:"VERIFY_EMAIL",idToken:yield D.getIdToken()};m&&ui(v.auth,z,m);const{email:ne}=yield function Zo(D,m){return $r.apply(this,arguments)}(v.auth,z);ne!==D.email&&(yield D.reload())}),is.apply(this,arguments)}function Ro(D,m,v){return Ui.apply(this,arguments)}function Ui(){return Ui=(0,l.Z)(function*(D,m,v){const C=(0,G.m9)(D),ne={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield D.getIdToken(),newEmail:m};v&&ui(C.auth,ne,v);const{email:ve}=yield function go(D,m){return cr.apply(this,arguments)}(C.auth,ne);ve!==D.email&&(yield D.reload())}),Ui.apply(this,arguments)}function Aa(){return(Aa=(0,l.Z)(function*(D,m){return ke(D,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function A(D,m){return Y.apply(this,arguments)}function Y(){return Y=(0,l.Z)(function*(D,{displayName:m,photoURL:v}){if(void 0===m&&void 0===v)return;const C=(0,G.m9)(D),ne={idToken:yield C.getIdToken(),displayName:m,photoUrl:v,returnSecureToken:!0},ve=yield an(C,function la(D,m){return Aa.apply(this,arguments)}(C.auth,ne));C.displayName=ve.displayName||null,C.photoURL=ve.photoUrl||null;const et=C.providerData.find(({providerId:yt})=>"password"===yt);et&&(et.displayName=C.displayName,et.photoURL=C.photoURL),yield C._updateTokensIfNecessary(ve)}),Y.apply(this,arguments)}function x(D,m){return ce((0,G.m9)(D),m,null)}function W(D,m){return ce((0,G.m9)(D),null,m)}function ce(D,m,v){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,l.Z)(function*(D,m,v){const{auth:C}=D,ne={idToken:yield D.getIdToken(),returnSecureToken:!0};m&&(ne.email=m),v&&(ne.password=v);const ve=yield an(D,Ts(C,ne));yield D._updateTokensIfNecessary(ve,!0)})).apply(this,arguments)}class qt{constructor(m,v,C={}){this.isNewUser=m,this.providerId=v,this.profile=C}}class Dr extends qt{constructor(m,v,C,z){super(m,v,C),this.username=z}}class Sr extends qt{constructor(m,v){super(m,"facebook.com",v)}}class vr extends Dr{constructor(m,v){super(m,"github.com",v,"string"==typeof v?.login?v?.login:null)}}class kn extends qt{constructor(m,v){super(m,"google.com",v)}}class ei extends Dr{constructor(m,v,C){super(m,"twitter.com",v,C)}}function Lr(D){const{user:m,_tokenResponse:v}=D;return m.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function ct(D){var m,v;if(!D)return null;const{providerId:C}=D,z=D.rawUserInfo?JSON.parse(D.rawUserInfo):{},ne=D.isNewUser||"identitytoolkit#SignupNewUserResponse"===D.kind;if(!C&&D?.idToken){const ve=null===(v=null===(m=Pt(D.idToken))||void 0===m?void 0:m.firebase)||void 0===v?void 0:v.sign_in_provider;if(ve)return new qt(ne,"anonymous"!==ve&&"custom"!==ve?ve:null)}if(!C)return null;switch(C){case"facebook.com":return new Sr(ne,z);case"github.com":return new vr(ne,z);case"google.com":return new kn(ne,z);case"twitter.com":return new ei(ne,z,D.screenName||null);case"custom":case"anonymous":return new qt(ne,null);default:return new qt(ne,C,z)}}(v)}class Ut{constructor(m,v,C){this.type=m,this.credential=v,this.user=C}static _fromIdtoken(m,v){return new Ut("enroll",m,v)}static _fromMfaPendingCredential(m){return new Ut("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var v,C;if(m?.multiFactorSession){if(null!==(v=m.multiFactorSession)&&void 0!==v&&v.pendingCredential)return Ut._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(C=m.multiFactorSession)&&void 0!==C&&C.idToken)return Ut._fromIdtoken(m.multiFactorSession.idToken)}return null}}class sc{constructor(m,v,C){this.session=m,this.hints=v,this.signInResolver=C}static _fromError(m,v){const C=$n(m),z=v.customData._serverResponse,ne=(z.mfaInfo||[]).map(et=>Qi._fromServerResponse(C,et));Ae(z.mfaPendingCredential,C,"internal-error");const ve=Ut._fromMfaPendingCredential(z.mfaPendingCredential);return new sc(ve,ne,function(){var et=(0,l.Z)(function*(yt){const rn=yield yt._process(C,ve);delete z.mfaInfo,delete z.mfaPendingCredential;const dn=Object.assign(Object.assign({},z),{idToken:rn.idToken,refreshToken:rn.refreshToken});switch(v.operationType){case"signIn":const Bn=yield Xr._fromIdTokenResponse(C,v.operationType,dn);return yield C._updateCurrentUser(Bn.user),Bn;case"reauthenticate":return Ae(v.user,C,"internal-error"),Xr._forOperation(v.user,v.operationType,dn);default:me(C,"internal-error")}});return function(yt){return et.apply(this,arguments)}}())}resolveSignIn(m){var v=this;return(0,l.Z)(function*(){return v.signInResolver(m)})()}}function Ft(D,m){var v;const C=(0,G.m9)(D),z=m;return Ae(m.customData.operationType,C,"argument-error"),Ae(null===(v=z.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,C,"argument-error"),sc._fromError(C,z)}class gs{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(C=>Qi._fromServerResponse(m.auth,C)))})}static _fromUser(m){return new gs(m)}getSession(){var m=this;return(0,l.Z)(function*(){return Ut._fromIdtoken(yield m.user.getIdToken(),m.user)})()}enroll(m,v){var C=this;return(0,l.Z)(function*(){const z=m,ne=yield C.getSession(),ve=yield an(C.user,z._process(C.user.auth,ne,v));return yield C.user._updateTokensIfNecessary(ve),C.user.reload()})()}unenroll(m){var v=this;return(0,l.Z)(function*(){const C="string"==typeof m?m:m.uid,z=yield v.user.getIdToken();try{const ne=yield an(v.user,function wu(D,m){return ke(D,"POST","/v2/accounts/mfaEnrollment:withdraw",Ee(D,m))}(v.user.auth,{idToken:z,mfaEnrollmentId:C}));v.enrolledFactors=v.enrolledFactors.filter(({uid:ve})=>ve!==C),yield v.user._updateTokensIfNecessary(ne),yield v.user.reload()}catch(ne){throw ne}})()}}const Cu=new WeakMap;function lc(D){const m=(0,G.m9)(D);return Cu.has(m)||Cu.set(m,gs._fromUser(m)),Cu.get(m)}const Xo="__sak";class Vl{constructor(m,v){this.storageRetriever=m,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(Xo,"1"),this.storage.removeItem(Xo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,v){return this.storage.setItem(m,JSON.stringify(v)),Promise.resolve()}_get(m){const v=this.storage.getItem(m);return Promise.resolve(v?JSON.parse(v):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const Mn=(()=>{class D extends Vl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,C)=>this.onStorageEvent(v,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function sd(){const D=(0,G.z$)();return en(D)||Fe(D)}()&&function Wn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=zt(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const C of Object.keys(this.listeners)){const z=this.storage.getItem(C),ne=this.localCache[C];z!==ne&&v(C,ne,z)}}onStorageEvent(v,C=!1){if(!v.key)return void this.forAllChangedKeys((et,yt,rn)=>{this.notifyListeners(et,rn)});const z=v.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const et=this.storage.getItem(z);if(v.newValue!==et)null!==v.newValue?this.storage.setItem(z,v.newValue):this.storage.removeItem(z);else if(this.localCache[z]===v.newValue&&!C)return}const ne=()=>{const et=this.storage.getItem(z);!C&&this.localCache[z]===et||this.notifyListeners(z,et)},ve=this.storage.getItem(z);!function gn(){return(0,G.w1)()&&10===document.documentMode}()||ve===v.newValue||v.newValue===v.oldValue?ne():setTimeout(ne,10)}notifyListeners(v,C){this.localCache[v]=C;const z=this.listeners[v];if(z)for(const ne of Array.from(z))ne(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,C,z)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:C,newValue:z}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(C)}_removeListener(v,C){this.listeners[v]&&(this.listeners[v].delete(C),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,C){var z=()=>super._set,ne=this;return(0,l.Z)(function*(){yield z().call(ne,v,C),ne.localCache[v]=JSON.stringify(C)})()}_get(v){var C=()=>super._get,z=this;return(0,l.Z)(function*(){const ne=yield C().call(z,v);return z.localCache[v]=JSON.stringify(ne),ne})()}_remove(v){var C=()=>super._remove,z=this;return(0,l.Z)(function*(){yield C().call(z,v),delete z.localCache[v]})()}}return D.type="LOCAL",D})(),Au=(()=>{class D extends Vl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,C){}_removeListener(v,C){}}return D.type="SESSION",D})();let mn=(()=>{class D{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const C=this.receivers.find(ne=>ne.isListeningto(v));if(C)return C;const z=new D(v);return this.receivers.push(z),z}isListeningto(v){return this.eventTarget===v}handleEvent(v){var C=this;return(0,l.Z)(function*(){const z=v,{eventId:ne,eventType:ve,data:et}=z.data,yt=C.handlersMap[ve];if(!yt?.size)return;z.ports[0].postMessage({status:"ack",eventId:ne,eventType:ve});const rn=Array.from(yt).map(function(){var Bn=(0,l.Z)(function*(qn){return qn(z.origin,et)});return function(qn){return Bn.apply(this,arguments)}}()),dn=yield function gi(D){return Promise.all(D.map(function(){var m=(0,l.Z)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(C){return{fulfilled:!1,reason:C}}});return function(v){return m.apply(this,arguments)}}()))}(rn);z.ports[0].postMessage({status:"done",eventId:ne,eventType:ve,response:dn})})()}_subscribe(v,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(C)}_unsubscribe(v,C){this.handlersMap[v]&&C&&this.handlersMap[v].delete(C),(!C||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return D.receivers=[],D})();function Go(D="",m=10){let v="";for(let C=0;C<m;C++)v+=Math.floor(10*Math.random());return D+v}class fr{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,v,C=50){var z=this;return(0,l.Z)(function*(){const ne=typeof MessageChannel<"u"?new MessageChannel:null;if(!ne)throw new Error("connection_unavailable");let ve,et;return new Promise((yt,rn)=>{const dn=Go("",20);ne.port1.start();const Bn=setTimeout(()=>{rn(new Error("unsupported_event"))},C);et={messageChannel:ne,onMessage(qn){const _a=qn;if(_a.data.eventId===dn)switch(_a.data.status){case"ack":clearTimeout(Bn),ve=setTimeout(()=>{rn(new Error("timeout"))},3e3);break;case"done":clearTimeout(ve),yt(_a.data.response);break;default:clearTimeout(Bn),clearTimeout(ve),rn(new Error("invalid_response"))}}},z.handlers.add(et),ne.port1.addEventListener("message",et.onMessage),z.target.postMessage({eventType:m,eventId:dn,data:v},[ne.port2])}).finally(()=>{et&&z.removeMessageHandler(et)})})()}}function Xi(){return window}function $t(){return typeof Xi().WorkerGlobalScope<"u"&&"function"==typeof Xi().importScripts}function mt(){return(mt=(0,l.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ua="firebaseLocalStorageDb",Ns="firebaseLocalStorage",Qa="fbase_key";class No{constructor(m){this.request=m}toPromise(){return new Promise((m,v)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function eo(D,m){return D.transaction([Ns],m?"readwrite":"readonly").objectStore(Ns)}function Ul(){const D=indexedDB.open(ua,1);return new Promise((m,v)=>{D.addEventListener("error",()=>{v(D.error)}),D.addEventListener("upgradeneeded",()=>{const C=D.result;try{C.createObjectStore(Ns,{keyPath:Qa})}catch(z){v(z)}}),D.addEventListener("success",(0,l.Z)(function*(){const C=D.result;C.objectStoreNames.contains(Ns)?m(C):(C.close(),yield function Bl(){const D=indexedDB.deleteDatabase(ua);return new No(D).toPromise()}(),m(yield Ul()))}))})}function ad(D,m,v){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,l.Z)(function*(D,m,v){const C=eo(D,!0).put({[Qa]:m,value:v});return new No(C).toPromise()})).apply(this,arguments)}function Pe(){return(Pe=(0,l.Z)(function*(D,m){const v=eo(D,!1).get(m),C=yield new No(v).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function jl(D,m){const v=eo(D,!0).delete(m);return new No(v).toPromise()}const R=(()=>{class D{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,l.Z)(function*(){return v.db||(v.db=yield Ul()),v.db})()}_withRetries(v){var C=this;return(0,l.Z)(function*(){let z=0;for(;;)try{const ne=yield C._openDb();return yield v(ne)}catch(ne){if(z++>3)throw ne;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,l.Z)(function*(){return $t()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,l.Z)(function*(){v.receiver=mn._getInstance(function cc(){return $t()?self:null}()),v.receiver._subscribe("keyChanged",function(){var C=(0,l.Z)(function*(z,ne){return{keyProcessed:(yield v._poll()).includes(ne.key)}});return function(z,ne){return C.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var C=(0,l.Z)(function*(z,ne){return["keyChanged"]});return function(z,ne){return C.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,l.Z)(function*(){var C,z;if(v.activeServiceWorker=yield function yl(){return mt.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new fr(v.activeServiceWorker);const ne=yield v.sender._send("ping",{},800);ne&&null!==(C=ne[0])&&void 0!==C&&C.fulfilled&&null!==(z=ne[0])&&void 0!==z&&z.value.includes("keyChanged")&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var C=this;return(0,l.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function Hn(){var D;return(null===(D=navigator?.serviceWorker)||void 0===D?void 0:D.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:v},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const v=yield Ul();return yield ad(v,Xo,"1"),yield jl(v,Xo),!0}catch{}return!1})()}_withPendingWrite(v){var C=this;return(0,l.Z)(function*(){C.pendingWrites++;try{yield v()}finally{C.pendingWrites--}})()}_set(v,C){var z=this;return(0,l.Z)(function*(){return z._withPendingWrite((0,l.Z)(function*(){return yield z._withRetries(ne=>ad(ne,v,C)),z.localCache[v]=C,z.notifyServiceWorker(v)}))})()}_get(v){var C=this;return(0,l.Z)(function*(){const z=yield C._withRetries(ne=>function Mo(D,m){return Pe.apply(this,arguments)}(ne,v));return C.localCache[v]=z,z})()}_remove(v){var C=this;return(0,l.Z)(function*(){return C._withPendingWrite((0,l.Z)(function*(){return yield C._withRetries(z=>jl(z,v)),delete C.localCache[v],C.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,l.Z)(function*(){const C=yield v._withRetries(ve=>{const et=eo(ve,!1).getAll();return new No(et).toPromise()});if(!C)return[];if(0!==v.pendingWrites)return[];const z=[],ne=new Set;for(const{fbase_key:ve,value:et}of C)ne.add(ve),JSON.stringify(v.localCache[ve])!==JSON.stringify(et)&&(v.notifyListeners(ve,et),z.push(ve));for(const ve of Object.keys(v.localCache))v.localCache[ve]&&!ne.has(ve)&&(v.notifyListeners(ve,null),z.push(ve));return z})()}notifyListeners(v,C){this.localCache[v]=C;const z=this.listeners[v];if(z)for(const ne of Array.from(z))ne(C)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(C)}_removeListener(v,C){this.listeners[v]&&(this.listeners[v].delete(C),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return D.type="LOCAL",D})(),ze=1e12;class He{constructor(m){this.auth=m,this.counter=ze,this._widgets=new Map}render(m,v){const C=this.counter;return this._widgets.set(C,new Ht(m,this.auth.name,v||{})),this.counter++,C}reset(m){var v;const C=m||ze;null===(v=this._widgets.get(C))||void 0===v||v.delete(),this._widgets.delete(C)}getResponse(m){var v;return(null===(v=this._widgets.get(m||ze))||void 0===v?void 0:v.getResponse())||""}execute(m){var v=this;return(0,l.Z)(function*(){var C;return null===(C=v._widgets.get(m||ze))||void 0===C||C.execute(),""})()}}class Ht{constructor(m,v,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const z="string"==typeof m?document.getElementById(m):m;Ae(z,"argument-error",{appName:v}),this.container=z,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Dn(D){const m=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<D;C++)m.push(v.charAt(Math.floor(62*Math.random())));return m.join("")}(50);const{callback:m,"expired-callback":v}=this.params;if(m)try{m(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Rr=Si("rcb"),Tn=new Zt(3e4,6e4);class Ra{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(m=Xi().grecaptcha)||void 0===m||!m.render)}load(m,v=""){return Ae(function Mi(D){return D.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(D)}(v),m,"argument-error"),this.shouldResolveImmediately(v)&&Qt(Xi().grecaptcha)?Promise.resolve(Xi().grecaptcha):new Promise((C,z)=>{const ne=Xi().setTimeout(()=>{z(Ge(m,"network-request-failed"))},Tn.get());Xi()[Rr]=()=>{Xi().clearTimeout(ne),delete Xi()[Rr];const et=Xi().grecaptcha;if(!et||!Qt(et))return void z(Ge(m,"internal-error"));const yt=et.render;et.render=(rn,dn)=>{const Bn=yt(rn,dn);return this.counter++,Bn},this.hostLanguage=v,C(et)},tr(`https://www.google.com/recaptcha/api.js??${(0,G.xO)({onload:Rr,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(ne),z(Ge(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var v;return!(null===(v=Xi().grecaptcha)||void 0===v||!v.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class co{load(m){return(0,l.Z)(function*(){return new He(m)})()}clearedOneInstance(){}}const Hs="recaptcha",vo={theme:"light",type:"image"};class Na{constructor(m,v,C=Object.assign({},vo)){this.parameters=C,this.type=Hs,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=$n(m),this.isInvisible="invisible"===this.parameters.size,Ae(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const z="string"==typeof v?document.getElementById(v):v;Ae(z,this.auth,"argument-error"),this.container=z,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new co:new Ra,this.validateStartingState()}verify(){var m=this;return(0,l.Z)(function*(){m.assertNotDestroyed();const v=yield m.render(),C=m.getAssertedRecaptcha();return C.getResponse(v)||new Promise(ne=>{const ve=et=>{et&&(m.tokenChangeListeners.delete(ve),ne(et))};m.tokenChangeListeners.add(ve),m.isInvisible&&C.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){Ae(!this.parameters.sitekey,this.auth,"argument-error"),Ae(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ae(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return v=>{if(this.tokenChangeListeners.forEach(C=>C(v)),"function"==typeof m)m(v);else if("string"==typeof m){const C=Xi()[m];"function"==typeof C&&C(v)}}}assertNotDestroyed(){Ae(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,l.Z)(function*(){if(yield m.init(),!m.widgetId){let v=m.container;if(!m.isInvisible){const C=document.createElement("div");v.appendChild(C),v=C}m.widgetId=m.getAssertedRecaptcha().render(v,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,l.Z)(function*(){Ae(er()&&!$t(),m.auth,"internal-error"),yield function ti(){let D=null;return new Promise(m=>{"complete"!==document.readyState?(D=()=>m(),window.addEventListener("load",D)):m()}).catch(m=>{throw D&&window.removeEventListener("load",D),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const v=yield function We(D){return rt.apply(this,arguments)}(m.auth);Ae(v,m.auth,"internal-error"),m.parameters.sitekey=v})()}getAssertedRecaptcha(){return Ae(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class dc{constructor(m,v){this.verificationId=m,this.onConfirmation=v}confirm(m){const v=Yi._fromVerification(this.verificationId,m);return this.onConfirmation(v)}}function nf(D,m,v){return Su.apply(this,arguments)}function Su(){return(Su=(0,l.Z)(function*(D,m,v){const C=$n(D),z=yield Ps(C,m,(0,G.m9)(v));return new dc(z,ne=>so(C,ne))})).apply(this,arguments)}function oh(D,m,v){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,l.Z)(function*(D,m,v){const C=(0,G.m9)(D);yield te(!1,C,"phone");const z=yield Ps(C.auth,m,(0,G.m9)(v));return new dc(z,ne=>Ol(C,ne))})).apply(this,arguments)}function hc(D,m,v){return $l.apply(this,arguments)}function $l(){return($l=(0,l.Z)(function*(D,m,v){const C=(0,G.m9)(D),z=yield Ps(C.auth,m,(0,G.m9)(v));return new dc(z,ne=>ml(C,ne))})).apply(this,arguments)}function Ps(D,m,v){return fc.apply(this,arguments)}function fc(){return fc=(0,l.Z)(function*(D,m,v){var C;const z=yield v.verify();try{let ne;if(Ae("string"==typeof z,D,"argument-error"),Ae(v.type===Hs,D,"argument-error"),ne="string"==typeof m?{phoneNumber:m}:m,"session"in ne){const ve=ne.session;if("phoneNumber"in ne)return Ae("enroll"===ve.type,D,"internal-error"),(yield function Qe(D,m){return ke(D,"POST","/v2/accounts/mfaEnrollment:start",Ee(D,m))}(D,{idToken:ve.credential,phoneEnrollmentInfo:{phoneNumber:ne.phoneNumber,recaptchaToken:z}})).phoneSessionInfo.sessionInfo;{Ae("signin"===ve.type,D,"internal-error");const et=(null===(C=ne.multiFactorHint)||void 0===C?void 0:C.uid)||ne.multiFactorUid;return Ae(et,D,"missing-multi-factor-info"),(yield function b(D,m){return ke(D,"POST","/v2/accounts/mfaSignIn:start",Ee(D,m))}(D,{mfaPendingCredential:ve.credential,mfaEnrollmentId:et,phoneSignInInfo:{recaptchaToken:z}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ve}=yield function Uo(D,m){return yn.apply(this,arguments)}(D,{phoneNumber:ne.phoneNumber,recaptchaToken:z});return ve}}finally{v._reset()}}),fc.apply(this,arguments)}function pc(D,m){return El.apply(this,arguments)}function El(){return(El=(0,l.Z)(function*(D,m){yield q((0,G.m9)(D),m)})).apply(this,arguments)}let gc=(()=>{class D{constructor(v){this.providerId=D.PROVIDER_ID,this.auth=$n(v)}verifyPhoneNumber(v,C){return Ps(this.auth,v,(0,G.m9)(C))}static credential(v,C){return Yi._fromVerification(v,C)}static credentialFromResult(v){return D.credentialFromTaggedObject(v)}static credentialFromError(v){return D.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:C,temporaryProof:z}=v;return C&&z?Yi._fromTokenResponse(C,z):null}}return D.PROVIDER_ID="phone",D.PHONE_SIGN_IN_METHOD="phone",D})();function Ma(D,m){return m?k(m):(Ae(D._popupRedirectResolver,D,"argument-error"),D._popupRedirectResolver)}class Hl extends qr{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return _r(m,this._buildIdpRequest())}_linkToIdToken(m,v){return _r(m,this._buildIdpRequest(v))}_getReauthenticationResolver(m){return _r(m,this._buildIdpRequest())}_buildIdpRequest(m){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(v.idToken=m),v}}function ld(D){return So(D.auth,new Hl(D),D.bypassAuthState)}function sh(D){const{auth:m,user:v}=D;return Ae(v,m,"internal-error"),nn(v,new Hl(D),D.bypassAuthState)}function Il(D){return ms.apply(this,arguments)}function ms(){return(ms=(0,l.Z)(function*(D){const{auth:m,user:v}=D;return Ae(v,m,"internal-error"),q(v,new Hl(D),D.bypassAuthState)})).apply(this,arguments)}class Gl{constructor(m,v,C,z,ne=!1){this.auth=m,this.resolver=C,this.user=z,this.bypassAuthState=ne,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var m=this;return new Promise(function(){var v=(0,l.Z)(function*(C,z){m.pendingPromise={resolve:C,reject:z};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(ne){m.reject(ne)}});return function(C,z){return v.apply(this,arguments)}}())}onAuthEvent(m){var v=this;return(0,l.Z)(function*(){const{urlResponse:C,sessionId:z,postBody:ne,tenantId:ve,error:et,type:yt}=m;if(et)return void v.reject(et);const rn={auth:v.auth,requestUri:C,sessionId:z,tenantId:ve||void 0,postBody:ne||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(yt)(rn))}catch(dn){v.reject(dn)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return ld;case"linkViaPopup":case"linkViaRedirect":return Il;case"reauthViaPopup":case"reauthViaRedirect":return sh;default:me(this.auth,"internal-error")}}resolve(m){gt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){gt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Wo=new Zt(2e3,1e4);function Nu(D,m,v){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,l.Z)(function*(D,m,v){const C=$n(D);Ke(D,m,vn);const z=Ma(C,v);return new Tr(C,"signInViaPopup",m,z).executeNotNull()})).apply(this,arguments)}function rf(D,m,v){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,l.Z)(function*(D,m,v){const C=(0,G.m9)(D);Ke(C.auth,m,vn);const z=Ma(C.auth,v);return new Tr(C.auth,"reauthViaPopup",m,z,C).executeNotNull()})).apply(this,arguments)}function mc(D,m,v){return ho.apply(this,arguments)}function ho(){return(ho=(0,l.Z)(function*(D,m,v){const C=(0,G.m9)(D);Ke(C.auth,m,vn);const z=Ma(C.auth,v);return new Tr(C.auth,"linkViaPopup",m,z,C).executeNotNull()})).apply(this,arguments)}let Tr=(()=>{class D extends Gl{constructor(v,C,z,ne,ve){super(v,C,ne,ve),this.provider=z,this.authWindow=null,this.pollId=null,D.currentPopupAction&&D.currentPopupAction.cancel(),D.currentPopupAction=this}executeNotNull(){var v=this;return(0,l.Z)(function*(){const C=yield v.execute();return Ae(C,v.auth,"internal-error"),C})()}onExecution(){var v=this;return(0,l.Z)(function*(){gt(1===v.filter.length,"Popup operations only handle one event");const C=Go();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],C),v.authWindow.associatedEvent=C,v.resolver._originValidation(v.auth).catch(z=>{v.reject(z)}),v.resolver._isIframeWebStorageSupported(v.auth,z=>{z||v.reject(Ge(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(Ge(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,D.currentPopupAction=null}pollUserCancellation(){const v=()=>{var C,z;this.pollId=null!==(z=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==z&&z.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ge(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(v,Wo.get())};v()}}return D.currentPopupAction=null,D})();const ca="pendingRedirect",_s=new Map;class Po extends Gl{constructor(m,v,C=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,C),this.eventId=null}execute(){var m=()=>super.execute,v=this;return(0,l.Z)(function*(){let C=_s.get(v.auth._key());if(!C){try{const ne=(yield function ud(D,m){return _c.apply(this,arguments)}(v.resolver,v.auth))?yield m().call(v):null;C=()=>Promise.resolve(ne)}catch(z){C=()=>Promise.reject(z)}_s.set(v.auth._key(),C)}return v.bypassAuthState||_s.set(v.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(m){var v=()=>super.onAuthEvent,C=this;return(0,l.Z)(function*(){if("signInViaRedirect"===m.type)return v().call(C,m);if("unknown"!==m.type){if(m.eventId){const z=yield C.auth._redirectUserForId(m.eventId);if(z)return C.user=z,v().call(C,m);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function _c(){return(_c=(0,l.Z)(function*(D,m){const v=zl(m),C=to(D);if(!(yield C._isAvailable()))return!1;const z="true"===(yield C._get(v));return yield C._remove(v),z})).apply(this,arguments)}function fo(D,m){return cd.apply(this,arguments)}function cd(){return(cd=(0,l.Z)(function*(D,m){return to(D)._set(zl(m),"true")})).apply(this,arguments)}function Xa(){_s.clear()}function Di(D,m){_s.set(D._key(),m)}function to(D){return k(D._redirectPersistence)}function zl(D){return st(ca,D.config.apiKey,D.name)}function hi(D,m,v){return function xs(D,m,v){return Mu.apply(this,arguments)}(D,m,v)}function Mu(){return(Mu=(0,l.Z)(function*(D,m,v){const C=$n(D);Ke(D,m,vn),yield C._initializationPromise;const z=Ma(C,v);return yield fo(z,C),z._openRedirect(C,m,"signInViaRedirect")})).apply(this,arguments)}function da(D,m,v){return function ha(D,m,v){return Oa.apply(this,arguments)}(D,m,v)}function Oa(){return(Oa=(0,l.Z)(function*(D,m,v){const C=(0,G.m9)(D);Ke(C.auth,m,vn),yield C.auth._initializationPromise;const z=Ma(C.auth,v);yield fo(z,C.auth);const ne=yield Ou(C);return z._openRedirect(C.auth,m,"reauthViaRedirect",ne)})).apply(this,arguments)}function Gs(D,m,v){return function zs(D,m,v){return el.apply(this,arguments)}(D,m,v)}function el(){return(el=(0,l.Z)(function*(D,m,v){const C=(0,G.m9)(D);Ke(C.auth,m,vn),yield C.auth._initializationPromise;const z=Ma(C.auth,v);yield te(!1,C,m.providerId),yield fo(z,C.auth);const ne=yield Ou(C);return z._openRedirect(C.auth,m,"linkViaRedirect",ne)})).apply(this,arguments)}function Pa(D,m){return vc.apply(this,arguments)}function vc(){return(vc=(0,l.Z)(function*(D,m){return yield $n(D)._initializationPromise,Ws(D,m,!1)})).apply(this,arguments)}function Ws(D,m){return qs.apply(this,arguments)}function qs(){return(qs=(0,l.Z)(function*(D,m,v=!1){const C=$n(D),z=Ma(C,m),ve=yield new Po(C,z,v).execute();return ve&&!v&&(delete ve.user._redirectEventId,yield C._persistUserIfCurrent(ve.user),yield C._setRedirectUser(null,m)),ve})).apply(this,arguments)}function Ou(D){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,l.Z)(function*(D){const m=Go(`${D.uid}:::`);return D._redirectEventId=m,yield D.auth._setRedirectUser(D),yield D.auth._persistUserIfCurrent(D),m})).apply(this,arguments)}class fa{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let v=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(m,C)&&(v=!0,this.sendToConsumer(m,C),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function yc(D){switch(D.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xo(D);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=m,v=!0)),v}sendToConsumer(m,v){var C;if(m.error&&!xo(m)){const z=(null===(C=m.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";v.onError(Ge(this.auth,z))}else v.onAuthEvent(m)}isEventForConsumer(m,v){const C=null===v.eventId||!!m.eventId&&m.eventId===v.eventId;return v.filter.includes(m.type)&&C}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Wl(m))}saveEventToCache(m){this.cachedEventUids.add(Wl(m)),this.lastProcessedEventTime=Date.now()}}function Wl(D){return[D.type,D.eventId,D.sessionId,D.tenantId].filter(m=>m).join("-")}function xo({type:D,error:m}){return"unknown"===D&&"auth/no-auth-event"===m?.code}function vs(D){return ql.apply(this,arguments)}function ql(){return(ql=(0,l.Z)(function*(D,m={}){return ke(D,"GET","/v1/projects",m)})).apply(this,arguments)}const dd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Pu=/^https?/;function xa(){return(xa=(0,l.Z)(function*(D){if(D.config.emulator)return;const{authorizedDomains:m}=yield vs(D);for(const v of m)try{if(Oi(v))return}catch{}me(D,"unauthorized-domain")})).apply(this,arguments)}function Oi(D){const m=Jt(),{protocol:v,hostname:C}=new URL(m);if(D.startsWith("chrome-extension://")){const ve=new URL(D);return""===ve.hostname&&""===C?"chrome-extension:"===v&&D.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===v&&ve.hostname===C}if(!Pu.test(v))return!1;if(dd.test(D))return C===D;const z=D.replace(/\./g,"\\.");return new RegExp("^(.+\\."+z+"|"+z+")$","i").test(C)}const wr=new Zt(3e4,6e4);function Qr(){const D=Xi().___jsl;if(D?.H)for(const m of Object.keys(D.H))if(D.H[m].r=D.H[m].r||[],D.H[m].L=D.H[m].L||[],D.H[m].r=[...D.H[m].L],D.CP)for(let v=0;v<D.CP.length;v++)D.CP[v]=null}let pa=null;const xu=new Zt(5e3,15e3),sf="__/auth/iframe",ah="emulator/auth/iframe",lr={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kr=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Kl(D){const m=D.config;Ae(m.authDomain,D,"auth-domain-config-required");const v=m.emulator?Lt(m,ah):`https://${D.config.authDomain}/${sf}`,C={apiKey:m.apiKey,appName:D.name,v:ee.SDK_VERSION},z=kr.get(D.config.apiHost);z&&(C.eid=z);const ne=D._getFrameworks();return ne.length&&(C.fw=ne.join(",")),`${v}?${(0,G.xO)(C).slice(1)}`}function ga(){return ga=(0,l.Z)(function*(D){const m=yield function hd(D){return pa=pa||function ks(D){return new Promise((m,v)=>{var C,z,ne;function ve(){Qr(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{Qr(),v(Ge(D,"network-request-failed"))},timeout:wr.get()})}if(null!==(z=null===(C=Xi().gapi)||void 0===C?void 0:C.iframes)&&void 0!==z&&z.Iframe)m(gapi.iframes.getContext());else{if(null===(ne=Xi().gapi)||void 0===ne||!ne.load){const et=Si("iframefcb");return Xi()[et]=()=>{gapi.load?ve():v(Ge(D,"network-request-failed"))},tr(`https://apis.google.com/js/api.js?onload=${et}`).catch(yt=>v(yt))}ve()}}).catch(m=>{throw pa=null,m})}(D),pa}(D),v=Xi().gapi;return Ae(v,D,"internal-error"),m.open({where:document.body,url:Kl(D),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lr,dontclear:!0},C=>new Promise(function(){var z=(0,l.Z)(function*(ne,ve){yield C.restyle({setHideOnLeave:!1});const et=Ge(D,"network-request-failed"),yt=Xi().setTimeout(()=>{ve(et)},xu.get());function rn(){Xi().clearTimeout(yt),ne(C)}C.ping(rn).then(rn,()=>{ve(et)})});return function(ne,ve){return z.apply(this,arguments)}}()))}),ga.apply(this,arguments)}const fd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class uh{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const gd="__/auth/handler",bc="emulator/auth/handler",Ql=encodeURIComponent("fac");function md(D,m,v,C,z,ne){return ch.apply(this,arguments)}function ch(){return(ch=(0,l.Z)(function*(D,m,v,C,z,ne){Ae(D.config.authDomain,D,"auth-domain-config-required"),Ae(D.config.apiKey,D,"invalid-api-key");const ve={apiKey:D.config.apiKey,appName:D.name,authType:v,redirectUrl:C,v:ee.SDK_VERSION,eventId:z};if(m instanceof vn){m.setDefaultLanguage(D.languageCode),ve.providerId=m.providerId||"",(0,G.xb)(m.getCustomParameters())||(ve.customParameters=JSON.stringify(m.getCustomParameters()));for(const[dn,Bn]of Object.entries(ne||{}))ve[dn]=Bn}if(m instanceof Cs){const dn=m.getScopes().filter(Bn=>""!==Bn);dn.length>0&&(ve.scopes=dn.join(","))}D.tenantId&&(ve.tid=D.tenantId);const et=ve;for(const dn of Object.keys(et))void 0===et[dn]&&delete et[dn];const yt=yield D._getAppCheckToken(),rn=yt?`#${Ql}=${encodeURIComponent(yt)}`:"";return`${function af({config:D}){return D.emulator?Lt(D,bc):`https://${D.authDomain}/${gd}`}(D)}?${(0,G.xO)(et).slice(1)}${rn}`})).apply(this,arguments)}const ku="webStorageSupport",ka=class no{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Au,this._completeRedirectFn=Ws,this._overrideRedirectResult=Di}_openPopup(m,v,C,z){var ne=this;return(0,l.Z)(function*(){var ve;gt(null===(ve=ne.eventManagers[m._key()])||void 0===ve?void 0:ve.manager,"_initialize() not called before _openPopup()");const et=yield md(m,v,C,Jt(),z);return function Fs(D,m,v,C=500,z=600){const ne=Math.max((window.screen.availHeight-z)/2,0).toString(),ve=Math.max((window.screen.availWidth-C)/2,0).toString();let et="";const yt=Object.assign(Object.assign({},fd),{width:C.toString(),height:z.toString(),top:ne,left:ve}),rn=(0,G.z$)().toLowerCase();v&&(et=Ln(rn)?"_blank":v),Bt(rn)&&(m=m||"http://localhost",yt.scrollbars="yes");const dn=Object.entries(yt).reduce((qn,[_a,Lu])=>`${qn}${_a}=${Lu},`,"");if(function Yt(D=(0,G.z$)()){var m;return Fe(D)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(rn)&&"_self"!==et)return function Zl(D,m){const v=document.createElement("a");v.href=D,v.target=m;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(C)}(m||"",et),new uh(null);const Bn=window.open(m||"",et,dn);Ae(Bn,D,"popup-blocked");try{Bn.focus()}catch{}return new uh(Bn)}(m,et,Go())})()}_openRedirect(m,v,C,z){var ne=this;return(0,l.Z)(function*(){return yield ne._originValidation(m),function di(D){Xi().location.href=D}(yield md(m,v,C,Jt(),z)),new Promise(()=>{})})()}_initialize(m){const v=m._key();if(this.eventManagers[v]){const{manager:z,promise:ne}=this.eventManagers[v];return z?Promise.resolve(z):(gt(ne,"If manager is not set, promise should be"),ne)}const C=this.initAndGetManager(m);return this.eventManagers[v]={promise:C},C.catch(()=>{delete this.eventManagers[v]}),C}initAndGetManager(m){var v=this;return(0,l.Z)(function*(){const C=yield function lh(D){return ga.apply(this,arguments)}(m),z=new fa(m);return C.register("authEvent",ne=>(Ae(ne?.authEvent,m,"invalid-auth-event"),{status:z.onEvent(ne.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[m._key()]={manager:z},v.iframes[m._key()]=C,z})()}_isIframeWebStorageSupported(m,v){this.iframes[m._key()].send(ku,{type:ku},z=>{var ne;const ve=null===(ne=z?.[0])||void 0===ne?void 0:ne[ku];void 0!==ve&&v(!!ve),me(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const v=m._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function Ec(D){return xa.apply(this,arguments)}(m)),this.originValidationPromises[v]}get _shouldInitProactively(){return zt()||en()||Fe()}};class ma{constructor(m){this.factorId=m}_process(m,v,C){switch(v.type){case"enroll":return this._finalizeEnroll(m,v.credential,C);case"signin":return this._finalizeSignIn(m,v.credential);default:return at("unexpected MultiFactorSessionType")}}}class Jl extends ma{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new Jl(m)}_finalizeEnroll(m,v,C){return function ft(D,m){return ke(D,"POST","/v2/accounts/mfaEnrollment:finalize",Ee(D,m))}(m,{idToken:v,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,v){return function M(D,m){return ke(D,"POST","/v2/accounts/mfaSignIn:finalize",Ee(D,m))}(m,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let _d=(()=>{class D{constructor(){}static assertion(v){return Jl._fromCredential(v)}}return D.FACTOR_ID="phone",D})();var hh="@firebase/auth";class Dl{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var v=this;return(0,l.Z)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const v=this.auth.onIdTokenChanged(C=>{m(C?.stsTokenManager.accessToken||null)});this.internalListeners.set(m,v),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const v=this.internalListeners.get(m);v&&(this.internalListeners.delete(m),v(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Ed=(0,G.Pz)("authIdTokenMaxAge")||300;let nl=null;const uf=D=>function(){var m=(0,l.Z)(function*(v){const C=v&&(yield v.getIdTokenResult()),z=C&&((new Date).getTime()-Date.parse(C.issuedAtTime))/1e3;if(z&&z>Ed)return;const ne=C?.token;nl!==ne&&(nl=ne,yield fetch(D,{method:ne?"POST":"DELETE",headers:ne?{Authorization:`Bearer ${ne}`}:{}}))});return function(v){return m.apply(this,arguments)}}();function Xl(D=(0,ee.getApp)()){const m=(0,ee._getProvider)(D,"auth");if(m.isInitialized())return m.getImmediate();const v=function Js(D,m){const v=(0,ee._getProvider)(D,"auth");if(v.isInitialized()){const z=v.getImmediate(),ne=v.getOptions();if((0,G.vZ)(ne,m??{}))return z;me(z,"already-initialized")}return v.initialize({options:m})}(D,{popupRedirectResolver:ka,persistence:[R,Mn,Au]}),C=(0,G.Pz)("authTokenSyncURL");if(C){const ne=uf(C);(function Ho(D,m,v){(0,G.m9)(D).beforeAuthStateChanged(m,v)})(v,ne,()=>ne(v.currentUser)),function ci(D,m,v,C){(0,G.m9)(D).onIdTokenChanged(m,v,C)}(v,ve=>ne(ve))}const z=(0,G.q4)("auth");return z&&Bs(v,`http://${z}`),v}!function lf(D){(0,ee._registerComponent)(new se.wA("auth",(m,{options:v})=>{const C=m.getProvider("app").getImmediate(),z=m.getProvider("heartbeat"),ne=m.getProvider("app-check-internal"),{apiKey:ve,authDomain:et}=C.options;Ae(ve&&!ve.includes(":"),"invalid-api-key",{appName:C.name});const yt={apiKey:ve,authDomain:et,clientPlatform:D,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xr(D)},rn=new fi(C,z,ne,yt);return function bs(D,m){const v=m?.persistence||[],C=(Array.isArray(v)?v:[v]).map(k);m?.errorMap&&D._updateErrorMap(m.errorMap),D._initializeWithPersistence(C,m?.popupRedirectResolver)}(rn,v),rn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,v,C)=>{m.getProvider("auth-internal").initialize()})),(0,ee._registerComponent)(new se.wA("auth-internal",m=>{const v=$n(m.getProvider("auth").getImmediate());return new Dl(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ee.registerVersion)(hh,"1.3.2",function ko(D){switch(D){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(D)),(0,ee.registerVersion)(hh,"1.3.2","esm2017")}("Browser")},9058:(Mt,je,V)=>{V.d(je,{BH:()=>_e,L:()=>Oe,LL:()=>tt,P0:()=>Ct,Pz:()=>Ge,Sg:()=>Ke,UG:()=>at,ZB:()=>ye,ZR:()=>ke,aH:()=>me,b$:()=>er,eu:()=>Se,hl:()=>xe,jU:()=>gt,m9:()=>ki,ne:()=>jn,pd:()=>tn,q4:()=>St,r3:()=>Ie,ru:()=>Jt,tV:()=>re,uI:()=>Ae,vZ:()=>Dt,w1:()=>pr,xO:()=>un,xb:()=>We,z$:()=>Ce,zd:()=>Rt});const he=function(fe){const J=[];let j=0;for(let L=0;L<fe.length;L++){let k=fe.charCodeAt(L);k<128?J[j++]=k:k<2048?(J[j++]=k>>6|192,J[j++]=63&k|128):55296==(64512&k)&&L+1<fe.length&&56320==(64512&fe.charCodeAt(L+1))?(k=65536+((1023&k)<<10)+(1023&fe.charCodeAt(++L)),J[j++]=k>>18|240,J[j++]=k>>12&63|128,J[j++]=k>>6&63|128,J[j++]=63&k|128):(J[j++]=k>>12|224,J[j++]=k>>6&63|128,J[j++]=63&k|128)}return J},se={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(fe,J){if(!Array.isArray(fe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const j=J?this.byteToCharMapWebSafe_:this.byteToCharMap_,L=[];for(let k=0;k<fe.length;k+=3){const ie=fe[k],Ne=k+1<fe.length,st=Ne?fe[k+1]:0,bt=k+2<fe.length,Vt=bt?fe[k+2]:0;let Ln=(15&st)<<2|Vt>>6,hn=63&Vt;bt||(hn=64,Ne||(Ln=64)),L.push(j[ie>>2],j[(3&ie)<<4|st>>4],j[Ln],j[hn])}return L.join("")},encodeString(fe,J){return this.HAS_NATIVE_SUPPORT&&!J?btoa(fe):this.encodeByteArray(he(fe),J)},decodeString(fe,J){return this.HAS_NATIVE_SUPPORT&&!J?atob(fe):function(fe){const J=[];let j=0,L=0;for(;j<fe.length;){const k=fe[j++];if(k<128)J[L++]=String.fromCharCode(k);else if(k>191&&k<224){const ie=fe[j++];J[L++]=String.fromCharCode((31&k)<<6|63&ie)}else if(k>239&&k<365){const bt=((7&k)<<18|(63&fe[j++])<<12|(63&fe[j++])<<6|63&fe[j++])-65536;J[L++]=String.fromCharCode(55296+(bt>>10)),J[L++]=String.fromCharCode(56320+(1023&bt))}else{const ie=fe[j++],Ne=fe[j++];J[L++]=String.fromCharCode((15&k)<<12|(63&ie)<<6|63&Ne)}}return J.join("")}(this.decodeStringToByteArray(fe,J))},decodeStringToByteArray(fe,J){this.init_();const j=J?this.charToByteMapWebSafe_:this.charToByteMap_,L=[];for(let k=0;k<fe.length;){const ie=j[fe.charAt(k++)],st=k<fe.length?j[fe.charAt(k)]:0;++k;const Vt=k<fe.length?j[fe.charAt(k)]:64;++k;const en=k<fe.length?j[fe.charAt(k)]:64;if(++k,null==ie||null==st||null==Vt||null==en)throw new Te;L.push(ie<<2|st>>4),64!==Vt&&(L.push(st<<4&240|Vt>>2),64!==en&&L.push(Vt<<6&192|en))}return L},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let fe=0;fe<this.ENCODED_VALS.length;fe++)this.byteToCharMap_[fe]=this.ENCODED_VALS.charAt(fe),this.charToByteMap_[this.byteToCharMap_[fe]]=fe,this.byteToCharMapWebSafe_[fe]=this.ENCODED_VALS_WEBSAFE.charAt(fe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[fe]]=fe,fe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(fe)]=fe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(fe)]=fe)}}};class Te extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Oe=function(fe){return function(fe){const J=he(fe);return se.encodeByteArray(J,!0)}(fe).replace(/\./g,"")},re=function(fe){try{return se.decodeString(fe,!0)}catch(J){console.error("base64Decode failed: ",J)}return null};function ye(fe,J){if(!(J instanceof Object))return J;switch(J.constructor){case Date:return new Date(J.getTime());case Object:void 0===fe&&(fe={});break;case Array:fe=[];break;default:return J}for(const j in J)!J.hasOwnProperty(j)||!be(j)||(fe[j]=ye(fe[j],J[j]));return fe}function be(fe){return"__proto__"!==fe}const nt=()=>{try{return function Ue(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const fe=process.env.__FIREBASE_DEFAULTS__;return fe?JSON.parse(fe):void 0})()||(()=>{if(typeof document>"u")return;let fe;try{fe=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const J=fe&&re(fe[1]);return J&&JSON.parse(J)})()}catch(fe){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${fe}`)}},St=fe=>{var J,j;return null===(j=null===(J=nt())||void 0===J?void 0:J.emulatorHosts)||void 0===j?void 0:j[fe]},Ct=fe=>{const J=St(fe);if(!J)return;const j=J.lastIndexOf(":");if(j<=0||j+1===J.length)throw new Error(`Invalid host ${J} with no separate hostname and port!`);const L=parseInt(J.substring(j+1),10);return"["===J[0]?[J.substring(1,j-1),L]:[J.substring(0,j),L]},me=()=>{var fe;return null===(fe=nt())||void 0===fe?void 0:fe.config},Ge=fe=>{var J;return null===(J=nt())||void 0===J?void 0:J[`_${fe}`]};class _e{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((J,j)=>{this.resolve=J,this.reject=j})}wrapCallback(J){return(j,L)=>{j?this.reject(j):this.resolve(L),"function"==typeof J&&(this.promise.catch(()=>{}),1===J.length?J(j):J(j,L))}}}function Ke(fe,J){if(fe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const L=J||"demo-project",k=fe.iat||0,ie=fe.sub||fe.user_id;if(!ie)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ne=Object.assign({iss:`https://securetoken.google.com/${L}`,aud:L,iat:k,exp:k+3600,auth_time:k,sub:ie,user_id:ie,firebase:{sign_in_provider:"custom",identities:{}}},fe);return[Oe(JSON.stringify({alg:"none",type:"JWT"})),Oe(JSON.stringify(Ne)),""].join(".")}function Ce(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ae(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ce())}function at(){var fe;const J=null===(fe=nt())||void 0===fe?void 0:fe.forceEnvironment;if("node"===J)return!0;if("browser"===J)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function gt(){return"object"==typeof self&&self.self===self}function Jt(){const fe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof fe&&void 0!==fe.id}function er(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function pr(){const fe=Ce();return fe.indexOf("MSIE ")>=0||fe.indexOf("Trident/")>=0}function xe(){try{return"object"==typeof indexedDB}catch{return!1}}function Se(){return new Promise((fe,J)=>{try{let j=!0;const L="validate-browser-context-for-indexeddb-analytics-module",k=self.indexedDB.open(L);k.onsuccess=()=>{k.result.close(),j||self.indexedDB.deleteDatabase(L),fe(!0)},k.onupgradeneeded=()=>{j=!1},k.onerror=()=>{var ie;J((null===(ie=k.error)||void 0===ie?void 0:ie.message)||"")}}catch(j){J(j)}})}class ke extends Error{constructor(J,j,L){super(j),this.code=J,this.customData=L,this.name="FirebaseError",Object.setPrototypeOf(this,ke.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tt.prototype.create)}}class tt{constructor(J,j,L){this.service=J,this.serviceName=j,this.errors=L}create(J,...j){const L=j[0]||{},k=`${this.service}/${J}`,ie=this.errors[J],Ne=ie?function vt(fe,J){return fe.replace(lt,(j,L)=>{const k=J[L];return null!=k?String(k):`<${L}?>`})}(ie,L):"Error";return new ke(k,`${this.serviceName}: ${Ne} (${k}).`,L)}}const lt=/\{\$([^}]+)}/g;function Ie(fe,J){return Object.prototype.hasOwnProperty.call(fe,J)}function We(fe){for(const J in fe)if(Object.prototype.hasOwnProperty.call(fe,J))return!1;return!0}function Dt(fe,J){if(fe===J)return!0;const j=Object.keys(fe),L=Object.keys(J);for(const k of j){if(!L.includes(k))return!1;const ie=fe[k],Ne=J[k];if(ht(ie)&&ht(Ne)){if(!Dt(ie,Ne))return!1}else if(ie!==Ne)return!1}for(const k of L)if(!j.includes(k))return!1;return!0}function ht(fe){return null!==fe&&"object"==typeof fe}function un(fe){const J=[];for(const[j,L]of Object.entries(fe))Array.isArray(L)?L.forEach(k=>{J.push(encodeURIComponent(j)+"="+encodeURIComponent(k))}):J.push(encodeURIComponent(j)+"="+encodeURIComponent(L));return J.length?"&"+J.join("&"):""}function Rt(fe){const J={};return fe.replace(/^\?/,"").split("&").forEach(L=>{if(L){const[k,ie]=L.split("=");J[decodeURIComponent(k)]=decodeURIComponent(ie)}}),J}function tn(fe){const J=fe.indexOf("?");if(!J)return"";const j=fe.indexOf("#",J);return fe.substring(J,j>0?j:void 0)}function jn(fe,J){const j=new wn(fe,J);return j.subscribe.bind(j)}class wn{constructor(J,j){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=j,this.task.then(()=>{J(this)}).catch(L=>{this.error(L)})}next(J){this.forEachObserver(j=>{j.next(J)})}error(J){this.forEachObserver(j=>{j.error(J)}),this.close(J)}complete(){this.forEachObserver(J=>{J.complete()}),this.close()}subscribe(J,j,L){let k;if(void 0===J&&void 0===j&&void 0===L)throw new Error("Missing Observer.");k=function Nt(fe,J){if("object"!=typeof fe||null===fe)return!1;for(const j of J)if(j in fe&&"function"==typeof fe[j])return!0;return!1}(J,["next","error","complete"])?J:{next:J,error:j,complete:L},void 0===k.next&&(k.next=Yn),void 0===k.error&&(k.error=Yn),void 0===k.complete&&(k.complete=Yn);const ie=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?k.error(this.finalError):k.complete()}catch{}}),this.observers.push(k),ie}unsubscribeOne(J){void 0===this.observers||void 0===this.observers[J]||(delete this.observers[J],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(J){if(!this.finalized)for(let j=0;j<this.observers.length;j++)this.sendOne(j,J)}sendOne(J,j){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[J])try{j(this.observers[J])}catch(L){typeof console<"u"&&console.error&&console.error(L)}})}close(J){this.finalized||(this.finalized=!0,void 0!==J&&(this.finalError=J),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Yn(){}function ki(fe){return fe&&fe._delegate?fe._delegate:fe}},9035:(Mt,je,V)=>{V.d(je,{_:()=>se});var l=V(4664),G=V(2096),ee=V(5879),he=V(154),ge=V(9517);let se=(()=>{class Te{constructor(Oe,re){this.authService=Oe,this.router=re}canActivate(Oe,re){return this.authService.getLoggedUser().pipe((0,l.w)(ue=>ue&&ue.uid?this.authService.getUsuarioPorUid(ue.uid).pipe((0,l.w)(ye=>{const be=ye[0];return be&&"admin"===be.perfil?(0,G.of)(!0):(this.router.navigate(["/login"]),(0,G.of)(!1))})):(this.router.navigate(["/login"]),(0,G.of)(!1))))}static#e=this.\u0275fac=function(re){return new(re||Te)(ee.LFG(he.e),ee.LFG(ge.F0))};static#t=this.\u0275prov=ee.Yz7({token:Te,factory:Te.\u0275fac,providedIn:"root"})}return Te})()},154:(Mt,je,V)=>{V.d(je,{e:()=>xe});var l=V(5861),G=V(5349),ee=V(1374),he=V(5879),se=(V(6365),V(6814)),Te=V(1920),Ve=V(7217),Oe=V(8645),re=V(2096),ue=V(5592),ye=V(2459),be=V(3019),Ue=V(3093),Le=V(4664),Xe=V(7398),ot=V(4552);class nt extends Oe.x{constructor(Be=1/0,Ee=1/0,ke=ot.l){super(),this._bufferSize=Be,this._windowTime=Ee,this._timestampProvider=ke,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Ee===1/0,this._bufferSize=Math.max(1,Be),this._windowTime=Math.max(1,Ee)}next(Be){const{isStopped:Ee,_buffer:ke,_infiniteTimeWindow:tt,_timestampProvider:vt,_windowTime:lt}=this;Ee||(ke.push(Be),!tt&&ke.push(vt.now()+lt)),this._trimBuffer(),super.next(Be)}_subscribe(Be){this._throwIfClosed(),this._trimBuffer();const Ee=this._innerSubscribe(Be),{_infiniteTimeWindow:ke,_buffer:tt}=this,vt=tt.slice();for(let lt=0;lt<vt.length&&!Be.closed;lt+=ke?1:2)Be.next(vt[lt]);return this._checkFinalizedStatuses(Be),Ee}_trimBuffer(){const{_bufferSize:Be,_timestampProvider:Ee,_buffer:ke,_infiniteTimeWindow:tt}=this,vt=(tt?1:2)*Be;if(Be<1/0&&vt<ke.length&&ke.splice(0,ke.length-vt),!tt){const lt=Ee.now();let fn=0;for(let ut=1;ut<ke.length&&ke[ut]<=lt;ut+=2)fn=ut;fn&&ke.splice(0,fn+1)}}}var St=V(3020);function Ct(Se,Be,Ee){let ke,tt=!1;return Se&&"object"==typeof Se?({bufferSize:ke=1/0,windowTime:Be=1/0,refCount:tt=!1,scheduler:Ee}=Se):ke=Se??1/0,(0,St.B)({connector:()=>new nt(ke,Be,Ee),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:tt})}var me=V(4674);function Ge(Se,Be){return(0,me.m)(Be)?(0,Le.w)(()=>Se,Be):(0,Le.w)(()=>Se)}var _e=V(5137),Ke=V(2181);V(7142);const at=new he.OlP("angularfire2.auth.use-emulator"),gt=new he.OlP("angularfire2.auth.settings"),Jt=new he.OlP("angularfire2.auth.tenant-id"),er=new he.OlP("angularfire2.auth.langugage-code"),_n=new he.OlP("angularfire2.auth.use-device-language"),pr=new he.OlP("angularfire.auth.persistence");let Zt=(()=>{class Se{authState;idToken;user;idTokenResult;credential;constructor(Ee,ke,tt,vt,lt,fn,ut,pn,on,sn,An,Qt){const Ie=new Oe.x,De=(0,re.of)(void 0).pipe((0,Ue.Q)(lt.outsideAngular),(0,Le.w)(()=>vt.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,6365)))),(0,Xe.U)(()=>(0,Ve.on)(Ee,vt,ke)),(0,Xe.U)(We=>((Se,Be,Ee,ke,tt,vt,lt,fn)=>(0,Ve.cc)(`${Se.name}.auth`,"AngularFireAuth",Se.name,()=>{const ut=Be.runOutsideAngular(()=>Se.auth());if(Ee&&ut.useEmulator(...Ee),ke&&(ut.tenantId=ke),ut.languageCode=tt,vt&&ut.useDeviceLanguage(),lt)for(const[pn,on]of Object.entries(lt))ut.settings[pn]=on;return fn&&ut.setPersistence(fn),ut},[Ee,ke,tt,vt,lt,fn]))(We,vt,fn,pn,on,sn,ut,An)),Ct({bufferSize:1,refCount:!1}));if((0,se.PM)(tt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,re.of)(null);else{De.pipe((0,ee.P)()).subscribe();const We=De.pipe((0,Le.w)(ht=>ht.getRedirectResult().then(ln=>ln,()=>null)),Te.iC,Ct({bufferSize:1,refCount:!1})),rt=De.pipe((0,Le.w)(ht=>new ue.y(ln=>({unsubscribe:vt.runOutsideAngular(()=>ht.onAuthStateChanged(un=>ln.next(un),un=>ln.error(un),()=>ln.complete()))})))),Dt=De.pipe((0,Le.w)(ht=>new ue.y(ln=>({unsubscribe:vt.runOutsideAngular(()=>ht.onIdTokenChanged(un=>ln.next(un),un=>ln.error(un),()=>ln.complete()))}))));this.authState=We.pipe(Ge(rt),(0,_e.R)(lt.outsideAngular),(0,Ue.Q)(lt.insideAngular)),this.user=We.pipe(Ge(Dt),(0,_e.R)(lt.outsideAngular),(0,Ue.Q)(lt.insideAngular)),this.idToken=this.user.pipe((0,Le.w)(ht=>ht?(0,ye.D)(ht.getIdToken()):(0,re.of)(null))),this.idTokenResult=this.user.pipe((0,Le.w)(ht=>ht?(0,ye.D)(ht.getIdTokenResult()):(0,re.of)(null))),this.credential=(0,be.T)(We,Ie,this.authState.pipe((0,Ke.h)(ht=>!ht))).pipe((0,Xe.U)(ht=>ht?.user?ht:null),(0,_e.R)(lt.outsideAngular),(0,Ue.Q)(lt.insideAngular))}return(0,Ve.pX)(this,De,vt,{spy:{apply:(We,rt,Dt)=>{(We.startsWith("signIn")||We.startsWith("createUser"))&&Dt.then(ht=>Ie.next(ht))}}})}static \u0275fac=function(ke){return new(ke||Se)(he.LFG(Ve.Dh),he.LFG(Ve.xv,8),he.LFG(he.Lbi),he.LFG(he.R0b),he.LFG(Te.HU),he.LFG(at,8),he.LFG(gt,8),he.LFG(Jt,8),he.LFG(er,8),he.LFG(_n,8),he.LFG(pr,8),he.LFG(Te.Rf,8))};static \u0275prov=he.Yz7({token:Se,factory:Se.\u0275fac,providedIn:"any"})}return Se})(),xe=(()=>{class Se{constructor(Ee,ke){this.afauth=Ee,this.firestore=ke}registrarUsuario(Ee,ke){var tt=this;return(0,l.Z)(function*(){try{return yield tt.afauth.createUserWithEmailAndPassword(Ee,ke).then(lt=>(tt.enviarMail(),lt))}catch(vt){throw vt}})()}ingresar(Ee,ke){var tt=this;return(0,l.Z)(function*(){try{return yield tt.afauth.signInWithEmailAndPassword(Ee,ke)}catch(vt){throw vt}})()}logOut(){this.afauth.signOut()}getLoggedUser(){return this.afauth.authState}getUsuarioPorUid(Ee){const ke=(0,G.hJ)(this.firestore,"usuarios"),tt=(0,G.IO)(ke,(0,G.ar)("uid","==",Ee));return(0,G.BS)(tt).pipe((0,ee.P)())}altaPaciente(Ee,ke,tt,vt,lt,fn,ut,pn,on){const sn=(0,G.hJ)(this.firestore,"usuarios");(0,G.ET)(sn,{nombre:Ee,apellido:ke,dni:tt,fechaNacimiento:vt,mail:lt,password:fn,uid:ut,obraSocial:pn,imagen:on,perfil:"paciente",estado:!0})}altaEspecialista(Ee,ke,tt,vt,lt,fn,ut,pn,on){const sn=(0,G.hJ)(this.firestore,"usuarios");(0,G.ET)(sn,{nombre:Ee,apellido:ke,dni:tt,fechaNacimiento:vt,mail:lt,password:fn,uid:ut,especialidad:pn,imagen:on,perfil:"especialista",estado:!1,horaInicio:"00:00",horaFin:"00:00",diasAtencion:""})}altaAdmin(Ee,ke,tt,vt,lt,fn,ut,pn){const on=(0,G.hJ)(this.firestore,"usuarios");(0,G.ET)(on,{nombre:Ee,apellido:ke,dni:tt,fechaNacimiento:vt,mail:lt,password:fn,uid:ut,imagen:pn,perfil:"admin",estado:!0})}enviarMail(){this.afauth.currentUser.then(Ee=>{Ee?Ee.sendEmailVerification().then(()=>{}).catch(ke=>{console.error("Error al enviar el correo de verificaci\xf3n:",ke)}):console.error("Usuario no v\xe1lido o nulo.")}).catch(Ee=>{console.error("Error al obtener el usuario actual:",Ee)})}static#e=this.\u0275fac=function(ke){return new(ke||Se)(he.LFG(Zt),he.LFG(G.gg))};static#t=this.\u0275prov=he.Yz7({token:Se,factory:Se.\u0275fac,providedIn:"root"})}return Se})()},553:(Mt,je,V)=>{V.d(je,{N:()=>l});const l={firebase:{projectId:"clinicaonlineutn",appId:"1:260733509707:web:8870381d3fea8656b82dce",storageBucket:"clinicaonlineutn.appspot.com",apiKey:"AIzaSyBfNb0yOzL74PB_jSux7S-8B_rCB8CRI5Q",authDomain:"clinicaonlineutn.firebaseapp.com",messagingSenderId:"260733509707"}}},8369:(Mt,je,V)=>{var l=V(6593),G=V(5879),ee=V(9517),he=V(154),ge=V(6814);function se(Ce,Ae){if(1&Ce){const at=G.EpF();G.TgZ(0,"div")(1,"button",6),G._uU(2),G.ALo(3,"titlecase"),G.qZA(),G.TgZ(4,"ul",7)(5,"li")(6,"a",8),G.NdJ("click",function(){G.CHM(at);const Jt=G.oxw();return G.KtG(Jt.logOut())}),G._uU(7,"Cerrar Sesion"),G.qZA()()()()}if(2&Ce){const at=G.oxw();G.xp6(2),G.hij(" ",G.lcZ(3,1,at.usuarioLogueado.nombre)," ")}}let Te=(()=>{class Ce{constructor(at,gt){this.authservice=at,this.router=gt,this.usuarioLogueado={},this.uid=""}ngOnInit(){this.authservice.getLoggedUser().subscribe(at=>{null!=at&&(this.usuarioLogueado=at,this.authservice.getUsuarioPorUid(this.usuarioLogueado.uid).subscribe(gt=>{gt.length>0&&(this.usuarioLogueado.nombre=gt[0].nombre)}))})}logOut(){this.usuarioLogueado={},this.authservice.logOut(),this.router.navigate(["login"])}static#e=this.\u0275fac=function(gt){return new(gt||Ce)(G.Y36(he.e),G.Y36(ee.F0))};static#t=this.\u0275cmp=G.Xpm({type:Ce,selectors:[["app-navbar"]],decls:7,vars:1,consts:[[1,"navbar","navbar-expand","navbar-dark","bg-dark","px-2"],["routerLink","/login",1,"navbar-brand","px-4"],["src","assets/img/logo.png","alt","logoPage",1,"d-inline-block","align-top",2,"width","50px"],[1,"navbar-collapse"],[1,"profile-logo","dropstart"],[4,"ngIf"],["data-bs-toggle","dropdown",1,"btn","btn-outline-light","dropdown-toggle"],[1,"dropdown-menu","dropdown-menu-dark"],[1,"dropdown-item",3,"click"]],template:function(gt,Jt){1&gt&&(G.TgZ(0,"nav",0)(1,"a",1),G._UZ(2,"img",2),G._uU(3,"Cl\xednica Salud "),G.qZA(),G._UZ(4,"div",3),G.TgZ(5,"div",4),G.YNc(6,se,8,3,"div",5),G.qZA()()),2&gt&&(G.xp6(6),G.Q6J("ngIf",null!=Jt.usuarioLogueado.uid))},dependencies:[ge.O5,ee.rH,ge.rS],styles:["nav[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:4rem;z-index:1000}.side-nav-button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;font-size:1.5rem;cursor:pointer}.side-nav-button[_ngcontent-%COMP%]:hover{background-color:#fff3;border-radius:30%}"]})}return Ce})();function Ve(Ce,Ae){if(1&Ce&&(G.TgZ(0,"span")(1,"a",6),G._uU(2,"Turnos"),G.qZA()()),2&Ce){const at=G.oxw(2);G.xp6(1),G.Q6J("routerLink","/home/"+(at.usuarioLogueado?null==at.usuarioLogueado[0]?null:at.usuarioLogueado[0].perfil:""))}}function Oe(Ce,Ae){1&Ce&&(G.TgZ(0,"span")(1,"a",6),G._uU(2,"Turnos"),G.qZA()()),2&Ce&&(G.xp6(1),G.Q6J("routerLink","/home/admin/turnos-mostrar"))}function re(Ce,Ae){if(1&Ce&&(G.TgZ(0,"li",4),G._UZ(1,"i",10),G.TgZ(2,"span",11)(3,"a",6),G._uU(4,"Usuarios"),G.qZA()()()),2&Ce){const at=G.oxw(2);G.xp6(3),G.Q6J("routerLink","/home/"+(at.usuarioLogueado?null==at.usuarioLogueado[0]?null:at.usuarioLogueado[0].perfil:""))}}function ue(Ce,Ae){if(1&Ce&&(G.TgZ(0,"ul",3)(1,"li",4),G._UZ(2,"i",5),G.TgZ(3,"span")(4,"a",6),G._uU(5,"Mi Perfil"),G.qZA()()(),G.TgZ(6,"li",4),G._UZ(7,"i",7),G.YNc(8,Ve,3,1,"span",8),G.YNc(9,Oe,3,1,"span",8),G.qZA(),G.YNc(10,re,5,1,"li",9),G.qZA()),2&Ce){const at=G.oxw();G.xp6(4),G.Q6J("routerLink","/perfil/"+(at.usuarioLogueado?null==at.usuarioLogueado[0]?null:at.usuarioLogueado[0].perfil:"")),G.xp6(4),G.Q6J("ngIf",!(at.usuarioLogueado&&"admin"===(null==at.usuarioLogueado[0]?null:at.usuarioLogueado[0].perfil))),G.xp6(1),G.Q6J("ngIf",at.usuarioLogueado&&"admin"===(null==at.usuarioLogueado[0]?null:at.usuarioLogueado[0].perfil)),G.xp6(1),G.Q6J("ngIf",at.usuarioLogueado&&"admin"===(null==at.usuarioLogueado[0]?null:at.usuarioLogueado[0].perfil))}}let ye=(()=>{class Ce{constructor(at){this.authService=at,this.sesionIniciada=!1}ngOnDestroy(){this.authSubscription.unsubscribe()}ngOnInit(){this.authSubscription=this.authService.getLoggedUser().subscribe(at=>{this.sesionIniciada=!!at,at&&this.authService.getUsuarioPorUid(at.uid).subscribe(gt=>{this.usuarioLogueado=gt})})}static#e=this.\u0275fac=function(gt){return new(gt||Ce)(G.Y36(he.e))};static#t=this.\u0275cmp=G.Xpm({type:Ce,selectors:[["app-sidenav"]],decls:3,vars:1,consts:[[1,"sidenav"],[1,"side-nav-content"],["class","nav-list",4,"ngIf"],[1,"nav-list"],[1,"nav-list-item"],[1,"fa-solid","fa-user"],[3,"routerLink"],[1,"fa-solid","fa-calendar"],[4,"ngIf"],["class","nav-list-item",4,"ngIf"],[1,"fa-solid","fa-computer"],[1,""]],template:function(gt,Jt){1&gt&&(G.TgZ(0,"div",0)(1,"div",1),G.YNc(2,ue,11,4,"ul",2),G.qZA()()),2&gt&&(G.xp6(2),G.Q6J("ngIf",Jt.sesionIniciada))},dependencies:[ge.O5,ee.rH],styles:[".border-white[_ngcontent-%COMP%]{border:1px solid white}.sidenav[_ngcontent-%COMP%]{position:fixed;left:0rem;width:200px;height:calc(100vh - 4rem);box-shadow:0 0 10px #eea1a180;background-color:#222;border-top:1px solid white}.side-nav-content[_ngcontent-%COMP%]{color:#fff;width:230px;margin-left:10px;margin-right:10px;margin-top:10px}.nav-list[_ngcontent-%COMP%]{list-style:none;height:100%;padding:0%;margin-bottom:0%}.nav-list-item[_ngcontent-%COMP%]{display:flex;align-items:center;height:50px}.nav-list-item[_ngcontent-%COMP%]:hover{background-color:#ffffff4d;border-radius:10px}.nav-list-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;height:25px;width:25px;margin-right:15px;margin-left:10px;text-align:center;line-height:25px}.nav-list-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:170px;text-transform:capitalize}a[_ngcontent-%COMP%]{text-decoration:none;color:#fff}"]})}return Ce})(),be=(()=>{class Ce{constructor(){this.title="clinica-online",this.sideNavStatus=!1}static#e=this.\u0275fac=function(gt){return new(gt||Ce)};static#t=this.\u0275cmp=G.Xpm({type:Ce,selectors:[["app-root"]],decls:6,vars:0,consts:[[1,"container-fluid","g-0"],[1,"display-area"]],template:function(gt,Jt){1&gt&&(G.TgZ(0,"div",0),G._UZ(1,"app-navbar"),G.TgZ(2,"main"),G._UZ(3,"app-sidenav"),G.TgZ(4,"div",1),G._UZ(5,"router-outlet"),G.qZA()()())},dependencies:[ee.lC,Te,ye],styles:["main[_ngcontent-%COMP%]{position:absolute;width:100%;top:4rem;z-index:1}.display-area[_ngcontent-%COMP%]{margin-left:200px;width:calc(100%-200px)}"]})}return Ce})();var Ue=V(721),Le=V(4162),Xe=V(5349),ot=V(4165);let nt=(()=>{class Ce{static#e=this.\u0275fac=function(gt){return new(gt||Ce)};static#t=this.\u0275cmp=G.Xpm({type:Ce,selectors:[["app-notfound"]],decls:2,vars:0,consts:[[1,"container","col-12"],["src","https://cdni.iconscout.com/illustration/premium/thumb/404-error-page-2952323-2451625.png","alt","Page not"]],template:function(gt,Jt){1&gt&&(G.TgZ(0,"div",0),G._UZ(1,"img",1),G.qZA())},styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}"]})}return Ce})();var St=V(9035);const Ct=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",loadChildren:()=>Promise.all([V.e(519),V.e(763)]).then(V.bind(V,8763)).then(Ce=>Ce.LoginModule)},{path:"home/admin",loadChildren:()=>V.e(117).then(V.bind(V,2117)).then(Ce=>Ce.HomeModule),canActivate:[St._]},{path:"perfil/admin",loadChildren:()=>V.e(111).then(V.bind(V,1111)).then(Ce=>Ce.PerfilAdminModule),canActivate:[St._]},{path:"home/especialista",loadChildren:()=>Promise.all([V.e(519),V.e(592),V.e(552)]).then(V.bind(V,8552)).then(Ce=>Ce.HomeEspecialistasModule)},{path:"perfil/especialista",loadChildren:()=>V.e(354).then(V.bind(V,2354)).then(Ce=>Ce.PerfilEspecialistaModule)},{path:"home/paciente",loadChildren:()=>Promise.all([V.e(519),V.e(592),V.e(168)]).then(V.bind(V,1168)).then(Ce=>Ce.HomePacienteModule)},{path:"perfil/paciente",loadChildren:()=>V.e(719).then(V.bind(V,1719)).then(Ce=>Ce.PerfilPacienteModule)},{path:"**",component:nt}];let me=(()=>{class Ce{static#e=this.\u0275fac=function(gt){return new(gt||Ce)};static#t=this.\u0275mod=G.oAB({type:Ce});static#n=this.\u0275inj=G.cJS({imports:[ee.Bz.forRoot(Ct),ee.Bz]})}return Ce})();var Ge=V(7217),_e=V(553);let Ke=(()=>{class Ce{static#e=this.\u0275fac=function(gt){return new(gt||Ce)};static#t=this.\u0275mod=G.oAB({type:Ce,bootstrap:[be]});static#n=this.\u0275inj=G.cJS({imports:[l.b2,me,Ge.hO.initializeApp(_e.N.firebase),(0,Ue.hX)(()=>(0,Ue.ZF)(_e.N.firebase)),(0,Le.AR)(()=>(0,Le.v0)()),(0,Xe.Cm)(()=>(0,Xe.ad)()),ot.IJ]})}return Ce})();l.q6().bootstrapModule(Ke).catch(Ce=>console.error(Ce))},5619:(Mt,je,V)=>{V.d(je,{X:()=>G});var l=V(8645);class G extends l.x{constructor(he){super(),this._value=he}get value(){return this.getValue()}_subscribe(he){const ge=super._subscribe(he);return!ge.closed&&he.next(this._value),ge}getValue(){const{hasError:he,thrownError:ge,_value:se}=this;if(he)throw ge;return this._throwIfClosed(),se}next(he){super.next(this._value=he)}}},5592:(Mt,je,V)=>{V.d(je,{y:()=>Ve});var l=V(305),G=V(7394),ee=V(4850),he=V(8407),ge=V(2653),se=V(4674),Te=V(1441);let Ve=(()=>{class ye{constructor(Ue){Ue&&(this._subscribe=Ue)}lift(Ue){const Le=new ye;return Le.source=this,Le.operator=Ue,Le}subscribe(Ue,Le,Xe){const ot=function ue(ye){return ye&&ye instanceof l.Lv||function re(ye){return ye&&(0,se.m)(ye.next)&&(0,se.m)(ye.error)&&(0,se.m)(ye.complete)}(ye)&&(0,G.Nn)(ye)}(Ue)?Ue:new l.Hp(Ue,Le,Xe);return(0,Te.x)(()=>{const{operator:nt,source:St}=this;ot.add(nt?nt.call(ot,St):St?this._subscribe(ot):this._trySubscribe(ot))}),ot}_trySubscribe(Ue){try{return this._subscribe(Ue)}catch(Le){Ue.error(Le)}}forEach(Ue,Le){return new(Le=Oe(Le))((Xe,ot)=>{const nt=new l.Hp({next:St=>{try{Ue(St)}catch(Ct){ot(Ct),nt.unsubscribe()}},error:ot,complete:Xe});this.subscribe(nt)})}_subscribe(Ue){var Le;return null===(Le=this.source)||void 0===Le?void 0:Le.subscribe(Ue)}[ee.L](){return this}pipe(...Ue){return(0,he.U)(Ue)(this)}toPromise(Ue){return new(Ue=Oe(Ue))((Le,Xe)=>{let ot;this.subscribe(nt=>ot=nt,nt=>Xe(nt),()=>Le(ot))})}}return ye.create=be=>new ye(be),ye})();function Oe(ye){var be;return null!==(be=ye??ge.config.Promise)&&void 0!==be?be:Promise}},8645:(Mt,je,V)=>{V.d(je,{x:()=>Te});var l=V(5592),G=V(7394);const he=(0,V(2306).d)(Oe=>function(){Oe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ge=V(9039),se=V(1441);let Te=(()=>{class Oe extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ue){const ye=new Ve(this,this);return ye.operator=ue,ye}_throwIfClosed(){if(this.closed)throw new he}next(ue){(0,se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ye of this.currentObservers)ye.next(ue)}})}error(ue){(0,se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ue;const{observers:ye}=this;for(;ye.length;)ye.shift().error(ue)}})}complete(){(0,se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ue}=this;for(;ue.length;)ue.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ue;return(null===(ue=this.observers)||void 0===ue?void 0:ue.length)>0}_trySubscribe(ue){return this._throwIfClosed(),super._trySubscribe(ue)}_subscribe(ue){return this._throwIfClosed(),this._checkFinalizedStatuses(ue),this._innerSubscribe(ue)}_innerSubscribe(ue){const{hasError:ye,isStopped:be,observers:Ue}=this;return ye||be?G.Lc:(this.currentObservers=null,Ue.push(ue),new G.w0(()=>{this.currentObservers=null,(0,ge.P)(Ue,ue)}))}_checkFinalizedStatuses(ue){const{hasError:ye,thrownError:be,isStopped:Ue}=this;ye?ue.error(be):Ue&&ue.complete()}asObservable(){const ue=new l.y;return ue.source=this,ue}}return Oe.create=(re,ue)=>new Ve(re,ue),Oe})();class Ve extends Te{constructor(re,ue){super(),this.destination=re,this.source=ue}next(re){var ue,ye;null===(ye=null===(ue=this.destination)||void 0===ue?void 0:ue.next)||void 0===ye||ye.call(ue,re)}error(re){var ue,ye;null===(ye=null===(ue=this.destination)||void 0===ue?void 0:ue.error)||void 0===ye||ye.call(ue,re)}complete(){var re,ue;null===(ue=null===(re=this.destination)||void 0===re?void 0:re.complete)||void 0===ue||ue.call(re)}_subscribe(re){var ue,ye;return null!==(ye=null===(ue=this.source)||void 0===ue?void 0:ue.subscribe(re))&&void 0!==ye?ye:G.Lc}}},305:(Mt,je,V)=>{V.d(je,{Hp:()=>Xe,Lv:()=>ye});var l=V(4674),G=V(7394),ee=V(2653),he=V(3894),ge=V(2420);const se=Oe("C",void 0,void 0);function Oe(me,Ge,_e){return{kind:me,value:Ge,error:_e}}var re=V(7599),ue=V(1441);class ye extends G.w0{constructor(Ge){super(),this.isStopped=!1,Ge?(this.destination=Ge,(0,G.Nn)(Ge)&&Ge.add(this)):this.destination=Ct}static create(Ge,_e,Ke){return new Xe(Ge,_e,Ke)}next(Ge){this.isStopped?St(function Ve(me){return Oe("N",me,void 0)}(Ge),this):this._next(Ge)}error(Ge){this.isStopped?St(function Te(me){return Oe("E",void 0,me)}(Ge),this):(this.isStopped=!0,this._error(Ge))}complete(){this.isStopped?St(se,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ge){this.destination.next(Ge)}_error(Ge){try{this.destination.error(Ge)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const be=Function.prototype.bind;function Ue(me,Ge){return be.call(me,Ge)}class Le{constructor(Ge){this.partialObserver=Ge}next(Ge){const{partialObserver:_e}=this;if(_e.next)try{_e.next(Ge)}catch(Ke){ot(Ke)}}error(Ge){const{partialObserver:_e}=this;if(_e.error)try{_e.error(Ge)}catch(Ke){ot(Ke)}else ot(Ge)}complete(){const{partialObserver:Ge}=this;if(Ge.complete)try{Ge.complete()}catch(_e){ot(_e)}}}class Xe extends ye{constructor(Ge,_e,Ke){let Ce;if(super(),(0,l.m)(Ge)||!Ge)Ce={next:Ge??void 0,error:_e??void 0,complete:Ke??void 0};else{let Ae;this&&ee.config.useDeprecatedNextContext?(Ae=Object.create(Ge),Ae.unsubscribe=()=>this.unsubscribe(),Ce={next:Ge.next&&Ue(Ge.next,Ae),error:Ge.error&&Ue(Ge.error,Ae),complete:Ge.complete&&Ue(Ge.complete,Ae)}):Ce=Ge}this.destination=new Le(Ce)}}function ot(me){ee.config.useDeprecatedSynchronousErrorHandling?(0,ue.O)(me):(0,he.h)(me)}function St(me,Ge){const{onStoppedNotification:_e}=ee.config;_e&&re.z.setTimeout(()=>_e(me,Ge))}const Ct={closed:!0,next:ge.Z,error:function nt(me){throw me},complete:ge.Z}},7394:(Mt,je,V)=>{V.d(je,{Lc:()=>se,w0:()=>ge,Nn:()=>Te});var l=V(4674);const ee=(0,V(2306).d)(Oe=>function(ue){Oe(this),this.message=ue?`${ue.length} errors occurred during unsubscription:\n${ue.map((ye,be)=>`${be+1}) ${ye.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ue});var he=V(9039);class ge{constructor(re){this.initialTeardown=re,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let re;if(!this.closed){this.closed=!0;const{_parentage:ue}=this;if(ue)if(this._parentage=null,Array.isArray(ue))for(const Ue of ue)Ue.remove(this);else ue.remove(this);const{initialTeardown:ye}=this;if((0,l.m)(ye))try{ye()}catch(Ue){re=Ue instanceof ee?Ue.errors:[Ue]}const{_finalizers:be}=this;if(be){this._finalizers=null;for(const Ue of be)try{Ve(Ue)}catch(Le){re=re??[],Le instanceof ee?re=[...re,...Le.errors]:re.push(Le)}}if(re)throw new ee(re)}}add(re){var ue;if(re&&re!==this)if(this.closed)Ve(re);else{if(re instanceof ge){if(re.closed||re._hasParent(this))return;re._addParent(this)}(this._finalizers=null!==(ue=this._finalizers)&&void 0!==ue?ue:[]).push(re)}}_hasParent(re){const{_parentage:ue}=this;return ue===re||Array.isArray(ue)&&ue.includes(re)}_addParent(re){const{_parentage:ue}=this;this._parentage=Array.isArray(ue)?(ue.push(re),ue):ue?[ue,re]:re}_removeParent(re){const{_parentage:ue}=this;ue===re?this._parentage=null:Array.isArray(ue)&&(0,he.P)(ue,re)}remove(re){const{_finalizers:ue}=this;ue&&(0,he.P)(ue,re),re instanceof ge&&re._removeParent(this)}}ge.EMPTY=(()=>{const Oe=new ge;return Oe.closed=!0,Oe})();const se=ge.EMPTY;function Te(Oe){return Oe instanceof ge||Oe&&"closed"in Oe&&(0,l.m)(Oe.remove)&&(0,l.m)(Oe.add)&&(0,l.m)(Oe.unsubscribe)}function Ve(Oe){(0,l.m)(Oe)?Oe():Oe.unsubscribe()}},2653:(Mt,je,V)=>{V.d(je,{config:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},2572:(Mt,je,V)=>{V.d(je,{a:()=>re});var l=V(5592),G=V(7453),ee=V(2459),he=V(2737),ge=V(7400),se=V(9940),Te=V(2714),Ve=V(8251),Oe=V(7103);function re(...be){const Ue=(0,se.yG)(be),Le=(0,se.jO)(be),{args:Xe,keys:ot}=(0,G.D)(be);if(0===Xe.length)return(0,ee.D)([],Ue);const nt=new l.y(function ue(be,Ue,Le=he.y){return Xe=>{ye(Ue,()=>{const{length:ot}=be,nt=new Array(ot);let St=ot,Ct=ot;for(let me=0;me<ot;me++)ye(Ue,()=>{const Ge=(0,ee.D)(be[me],Ue);let _e=!1;Ge.subscribe((0,Ve.x)(Xe,Ke=>{nt[me]=Ke,_e||(_e=!0,Ct--),Ct||Xe.next(Le(nt.slice()))},()=>{--St||Xe.complete()}))},Xe)},Xe)}}(Xe,Ue,ot?St=>(0,Te.n)(ot,St):he.y));return Le?nt.pipe((0,ge.Z)(Le)):nt}function ye(be,Ue,Le){be?(0,Oe.f)(Le,be,Ue):Ue()}},5211:(Mt,je,V)=>{V.d(je,{z:()=>ge});var l=V(7537),ee=V(9940),he=V(2459);function ge(...se){return function G(){return(0,l.J)(1)}()((0,he.D)(se,(0,ee.yG)(se)))}},6232:(Mt,je,V)=>{V.d(je,{E:()=>G});const G=new(V(5592).y)(ge=>ge.complete())},9315:(Mt,je,V)=>{V.d(je,{D:()=>Ve});var l=V(5592),G=V(7453),ee=V(4829),he=V(9940),ge=V(8251),se=V(7400),Te=V(2714);function Ve(...Oe){const re=(0,he.jO)(Oe),{args:ue,keys:ye}=(0,G.D)(Oe),be=new l.y(Ue=>{const{length:Le}=ue;if(!Le)return void Ue.complete();const Xe=new Array(Le);let ot=Le,nt=Le;for(let St=0;St<Le;St++){let Ct=!1;(0,ee.Xf)(ue[St]).subscribe((0,ge.x)(Ue,me=>{Ct||(Ct=!0,nt--),Xe[St]=me},()=>ot--,void 0,()=>{(!ot||!Ct)&&(nt||Ue.next(ye?(0,Te.n)(ye,Xe):Xe),Ue.complete())}))}});return re?be.pipe((0,se.Z)(re)):be}},2459:(Mt,je,V)=>{V.d(je,{D:()=>Ge});var l=V(4829),G=V(3093),ee=V(5137),se=V(5592),Ve=V(4971),Oe=V(4674),re=V(7103);function ye(_e,Ke){if(!_e)throw new Error("Iterable cannot be null");return new se.y(Ce=>{(0,re.f)(Ce,Ke,()=>{const Ae=_e[Symbol.asyncIterator]();(0,re.f)(Ce,Ke,()=>{Ae.next().then(at=>{at.done?Ce.complete():Ce.next(at.value)})},0,!0)})})}var be=V(8382),Ue=V(4026),Le=V(4266),Xe=V(3664),ot=V(5726),nt=V(9853),St=V(541);function Ge(_e,Ke){return Ke?function me(_e,Ke){if(null!=_e){if((0,be.c)(_e))return function he(_e,Ke){return(0,l.Xf)(_e).pipe((0,ee.R)(Ke),(0,G.Q)(Ke))}(_e,Ke);if((0,Le.z)(_e))return function Te(_e,Ke){return new se.y(Ce=>{let Ae=0;return Ke.schedule(function(){Ae===_e.length?Ce.complete():(Ce.next(_e[Ae++]),Ce.closed||this.schedule())})})}(_e,Ke);if((0,Ue.t)(_e))return function ge(_e,Ke){return(0,l.Xf)(_e).pipe((0,ee.R)(Ke),(0,G.Q)(Ke))}(_e,Ke);if((0,ot.D)(_e))return ye(_e,Ke);if((0,Xe.T)(_e))return function ue(_e,Ke){return new se.y(Ce=>{let Ae;return(0,re.f)(Ce,Ke,()=>{Ae=_e[Ve.h](),(0,re.f)(Ce,Ke,()=>{let at,gt;try{({value:at,done:gt}=Ae.next())}catch(Jt){return void Ce.error(Jt)}gt?Ce.complete():Ce.next(at)},0,!0)}),()=>(0,Oe.m)(Ae?.return)&&Ae.return()})}(_e,Ke);if((0,St.L)(_e))return function Ct(_e,Ke){return ye((0,St.Q)(_e),Ke)}(_e,Ke)}throw(0,nt.z)(_e)}(_e,Ke):(0,l.Xf)(_e)}},4829:(Mt,je,V)=>{V.d(je,{Xf:()=>be});var l=V(7582),G=V(4266),ee=V(4026),he=V(5592),ge=V(8382),se=V(5726),Te=V(9853),Ve=V(3664),Oe=V(541),re=V(4674),ue=V(3894),ye=V(4850);function be(me){if(me instanceof he.y)return me;if(null!=me){if((0,ge.c)(me))return function Ue(me){return new he.y(Ge=>{const _e=me[ye.L]();if((0,re.m)(_e.subscribe))return _e.subscribe(Ge);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(me);if((0,G.z)(me))return function Le(me){return new he.y(Ge=>{for(let _e=0;_e<me.length&&!Ge.closed;_e++)Ge.next(me[_e]);Ge.complete()})}(me);if((0,ee.t)(me))return function Xe(me){return new he.y(Ge=>{me.then(_e=>{Ge.closed||(Ge.next(_e),Ge.complete())},_e=>Ge.error(_e)).then(null,ue.h)})}(me);if((0,se.D)(me))return nt(me);if((0,Ve.T)(me))return function ot(me){return new he.y(Ge=>{for(const _e of me)if(Ge.next(_e),Ge.closed)return;Ge.complete()})}(me);if((0,Oe.L)(me))return function St(me){return nt((0,Oe.Q)(me))}(me)}throw(0,Te.z)(me)}function nt(me){return new he.y(Ge=>{(function Ct(me,Ge){var _e,Ke,Ce,Ae;return(0,l.mG)(this,void 0,void 0,function*(){try{for(_e=(0,l.KL)(me);!(Ke=yield _e.next()).done;)if(Ge.next(Ke.value),Ge.closed)return}catch(at){Ce={error:at}}finally{try{Ke&&!Ke.done&&(Ae=_e.return)&&(yield Ae.call(_e))}finally{if(Ce)throw Ce.error}}Ge.complete()})})(me,Ge).catch(_e=>Ge.error(_e))})}},3019:(Mt,je,V)=>{V.d(je,{T:()=>se});var l=V(7537),G=V(4829),ee=V(6232),he=V(9940),ge=V(2459);function se(...Te){const Ve=(0,he.yG)(Te),Oe=(0,he._6)(Te,1/0),re=Te;return re.length?1===re.length?(0,G.Xf)(re[0]):(0,l.J)(Oe)((0,ge.D)(re,Ve)):ee.E}},2096:(Mt,je,V)=>{V.d(je,{of:()=>ee});var l=V(9940),G=V(2459);function ee(...he){const ge=(0,l.yG)(he);return(0,G.D)(he,ge)}},8251:(Mt,je,V)=>{V.d(je,{x:()=>G});var l=V(305);function G(he,ge,se,Te,Ve){return new ee(he,ge,se,Te,Ve)}class ee extends l.Lv{constructor(ge,se,Te,Ve,Oe,re){super(ge),this.onFinalize=Oe,this.shouldUnsubscribe=re,this._next=se?function(ue){try{se(ue)}catch(ye){ge.error(ye)}}:super._next,this._error=Ve?function(ue){try{Ve(ue)}catch(ye){ge.error(ye)}finally{this.unsubscribe()}}:super._error,this._complete=Te?function(){try{Te()}catch(ue){ge.error(ue)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ge;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:se}=this;super.unsubscribe(),!se&&(null===(ge=this.onFinalize)||void 0===ge||ge.call(this))}}}},3572:(Mt,je,V)=>{V.d(je,{d:()=>ee});var l=V(9360),G=V(8251);function ee(he){return(0,l.e)((ge,se)=>{let Te=!1;ge.subscribe((0,G.x)(se,Ve=>{Te=!0,se.next(Ve)},()=>{Te||se.next(he),se.complete()}))})}},3997:(Mt,je,V)=>{V.d(je,{x:()=>he});var l=V(2737),G=V(9360),ee=V(8251);function he(se,Te=l.y){return se=se??ge,(0,G.e)((Ve,Oe)=>{let re,ue=!0;Ve.subscribe((0,ee.x)(Oe,ye=>{const be=Te(ye);(ue||!se(re,be))&&(ue=!1,re=be,Oe.next(ye))}))})}function ge(se,Te){return se===Te}},2181:(Mt,je,V)=>{V.d(je,{h:()=>ee});var l=V(9360),G=V(8251);function ee(he,ge){return(0,l.e)((se,Te)=>{let Ve=0;se.subscribe((0,G.x)(Te,Oe=>he.call(ge,Oe,Ve++)&&Te.next(Oe)))})}},1374:(Mt,je,V)=>{V.d(je,{P:()=>Te});var l=V(6973),G=V(2181),ee=V(8180),he=V(3572),ge=V(3026),se=V(2737);function Te(Ve,Oe){const re=arguments.length>=2;return ue=>ue.pipe(Ve?(0,G.h)((ye,be)=>Ve(ye,be,ue)):se.y,(0,ee.q)(1),re?(0,he.d)(Oe):(0,ge.T)(()=>new l.K))}},7398:(Mt,je,V)=>{V.d(je,{U:()=>ee});var l=V(9360),G=V(8251);function ee(he,ge){return(0,l.e)((se,Te)=>{let Ve=0;se.subscribe((0,G.x)(Te,Oe=>{Te.next(he.call(ge,Oe,Ve++))}))})}},975:(Mt,je,V)=>{V.d(je,{h:()=>G});var l=V(7398);function G(ee){return(0,l.U)(()=>ee)}},7537:(Mt,je,V)=>{V.d(je,{J:()=>ee});var l=V(1631),G=V(2737);function ee(he=1/0){return(0,l.z)(G.y,he)}},1631:(Mt,je,V)=>{V.d(je,{z:()=>Ve});var l=V(7398),G=V(4829),ee=V(9360),he=V(7103),ge=V(8251),Te=V(4674);function Ve(Oe,re,ue=1/0){return(0,Te.m)(re)?Ve((ye,be)=>(0,l.U)((Ue,Le)=>re(ye,Ue,be,Le))((0,G.Xf)(Oe(ye,be))),ue):("number"==typeof re&&(ue=re),(0,ee.e)((ye,be)=>function se(Oe,re,ue,ye,be,Ue,Le,Xe){const ot=[];let nt=0,St=0,Ct=!1;const me=()=>{Ct&&!ot.length&&!nt&&re.complete()},Ge=Ke=>nt<ye?_e(Ke):ot.push(Ke),_e=Ke=>{Ue&&re.next(Ke),nt++;let Ce=!1;(0,G.Xf)(ue(Ke,St++)).subscribe((0,ge.x)(re,Ae=>{be?.(Ae),Ue?Ge(Ae):re.next(Ae)},()=>{Ce=!0},void 0,()=>{if(Ce)try{for(nt--;ot.length&&nt<ye;){const Ae=ot.shift();Le?(0,he.f)(re,Le,()=>_e(Ae)):_e(Ae)}me()}catch(Ae){re.error(Ae)}}))};return Oe.subscribe((0,ge.x)(re,Ge,()=>{Ct=!0,me()})),()=>{Xe?.()}}(ye,be,Oe,ue)))}},3093:(Mt,je,V)=>{V.d(je,{Q:()=>he});var l=V(7103),G=V(9360),ee=V(8251);function he(ge,se=0){return(0,G.e)((Te,Ve)=>{Te.subscribe((0,ee.x)(Ve,Oe=>(0,l.f)(Ve,ge,()=>Ve.next(Oe),se),()=>(0,l.f)(Ve,ge,()=>Ve.complete(),se),Oe=>(0,l.f)(Ve,ge,()=>Ve.error(Oe),se)))})}},3020:(Mt,je,V)=>{V.d(je,{B:()=>ge});var l=V(4829),G=V(8645),ee=V(305),he=V(9360);function ge(Te={}){const{connector:Ve=(()=>new G.x),resetOnError:Oe=!0,resetOnComplete:re=!0,resetOnRefCountZero:ue=!0}=Te;return ye=>{let be,Ue,Le,Xe=0,ot=!1,nt=!1;const St=()=>{Ue?.unsubscribe(),Ue=void 0},Ct=()=>{St(),be=Le=void 0,ot=nt=!1},me=()=>{const Ge=be;Ct(),Ge?.unsubscribe()};return(0,he.e)((Ge,_e)=>{Xe++,!nt&&!ot&&St();const Ke=Le=Le??Ve();_e.add(()=>{Xe--,0===Xe&&!nt&&!ot&&(Ue=se(me,ue))}),Ke.subscribe(_e),!be&&Xe>0&&(be=new ee.Hp({next:Ce=>Ke.next(Ce),error:Ce=>{nt=!0,St(),Ue=se(Ct,Oe,Ce),Ke.error(Ce)},complete:()=>{ot=!0,St(),Ue=se(Ct,re),Ke.complete()}}),(0,l.Xf)(Ge).subscribe(be))})(ye)}}function se(Te,Ve,...Oe){if(!0===Ve)return void Te();if(!1===Ve)return;const re=new ee.Hp({next:()=>{re.unsubscribe(),Te()}});return(0,l.Xf)(Ve(...Oe)).subscribe(re)}},7921:(Mt,je,V)=>{V.d(je,{O:()=>he});var l=V(5211),G=V(9940),ee=V(9360);function he(...ge){const se=(0,G.yG)(ge);return(0,ee.e)((Te,Ve)=>{(se?(0,l.z)(ge,Te,se):(0,l.z)(ge,Te)).subscribe(Ve)})}},5137:(Mt,je,V)=>{V.d(je,{R:()=>G});var l=V(9360);function G(ee,he=0){return(0,l.e)((ge,se)=>{se.add(ee.schedule(()=>ge.subscribe(se),he))})}},4664:(Mt,je,V)=>{V.d(je,{w:()=>he});var l=V(4829),G=V(9360),ee=V(8251);function he(ge,se){return(0,G.e)((Te,Ve)=>{let Oe=null,re=0,ue=!1;const ye=()=>ue&&!Oe&&Ve.complete();Te.subscribe((0,ee.x)(Ve,be=>{Oe?.unsubscribe();let Ue=0;const Le=re++;(0,l.Xf)(ge(be,Le)).subscribe(Oe=(0,ee.x)(Ve,Xe=>Ve.next(se?se(be,Xe,Le,Ue++):Xe),()=>{Oe=null,ye()}))},()=>{ue=!0,ye()}))})}},8180:(Mt,je,V)=>{V.d(je,{q:()=>he});var l=V(6232),G=V(9360),ee=V(8251);function he(ge){return ge<=0?()=>l.E:(0,G.e)((se,Te)=>{let Ve=0;se.subscribe((0,ee.x)(Te,Oe=>{++Ve<=ge&&(Te.next(Oe),ge<=Ve&&Te.complete())}))})}},9773:(Mt,je,V)=>{V.d(je,{R:()=>ge});var l=V(9360),G=V(8251),ee=V(4829),he=V(2420);function ge(se){return(0,l.e)((Te,Ve)=>{(0,ee.Xf)(se).subscribe((0,G.x)(Ve,()=>Ve.complete(),he.Z)),!Ve.closed&&Te.subscribe(Ve)})}},9397:(Mt,je,V)=>{V.d(je,{b:()=>ge});var l=V(4674),G=V(9360),ee=V(8251),he=V(2737);function ge(se,Te,Ve){const Oe=(0,l.m)(se)||Te||Ve?{next:se,error:Te,complete:Ve}:se;return Oe?(0,G.e)((re,ue)=>{var ye;null===(ye=Oe.subscribe)||void 0===ye||ye.call(Oe);let be=!0;re.subscribe((0,ee.x)(ue,Ue=>{var Le;null===(Le=Oe.next)||void 0===Le||Le.call(Oe,Ue),ue.next(Ue)},()=>{var Ue;be=!1,null===(Ue=Oe.complete)||void 0===Ue||Ue.call(Oe),ue.complete()},Ue=>{var Le;be=!1,null===(Le=Oe.error)||void 0===Le||Le.call(Oe,Ue),ue.error(Ue)},()=>{var Ue,Le;be&&(null===(Ue=Oe.unsubscribe)||void 0===Ue||Ue.call(Oe)),null===(Le=Oe.finalize)||void 0===Le||Le.call(Oe)}))}):he.y}},3026:(Mt,je,V)=>{V.d(je,{T:()=>he});var l=V(6973),G=V(9360),ee=V(8251);function he(se=ge){return(0,G.e)((Te,Ve)=>{let Oe=!1;Te.subscribe((0,ee.x)(Ve,re=>{Oe=!0,Ve.next(re)},()=>Oe?Ve.complete():Ve.error(se())))})}function ge(){return new l.K}},1954:(Mt,je,V)=>{V.d(je,{o:()=>ge});var l=V(7394);class G extends l.w0{constructor(Te,Ve){super()}schedule(Te,Ve=0){return this}}const ee={setInterval(se,Te,...Ve){const{delegate:Oe}=ee;return Oe?.setInterval?Oe.setInterval(se,Te,...Ve):setInterval(se,Te,...Ve)},clearInterval(se){const{delegate:Te}=ee;return(Te?.clearInterval||clearInterval)(se)},delegate:void 0};var he=V(9039);class ge extends G{constructor(Te,Ve){super(Te,Ve),this.scheduler=Te,this.work=Ve,this.pending=!1}schedule(Te,Ve=0){var Oe;if(this.closed)return this;this.state=Te;const re=this.id,ue=this.scheduler;return null!=re&&(this.id=this.recycleAsyncId(ue,re,Ve)),this.pending=!0,this.delay=Ve,this.id=null!==(Oe=this.id)&&void 0!==Oe?Oe:this.requestAsyncId(ue,this.id,Ve),this}requestAsyncId(Te,Ve,Oe=0){return ee.setInterval(Te.flush.bind(Te,this),Oe)}recycleAsyncId(Te,Ve,Oe=0){if(null!=Oe&&this.delay===Oe&&!1===this.pending)return Ve;null!=Ve&&ee.clearInterval(Ve)}execute(Te,Ve){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Oe=this._execute(Te,Ve);if(Oe)return Oe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Te,Ve){let re,Oe=!1;try{this.work(Te)}catch(ue){Oe=!0,re=ue||new Error("Scheduled action threw falsy error")}if(Oe)return this.unsubscribe(),re}unsubscribe(){if(!this.closed){const{id:Te,scheduler:Ve}=this,{actions:Oe}=Ve;this.work=this.state=this.scheduler=null,this.pending=!1,(0,he.P)(Oe,this),null!=Te&&(this.id=this.recycleAsyncId(Ve,Te,null)),this.delay=null,super.unsubscribe()}}}},2631:(Mt,je,V)=>{V.d(je,{v:()=>ee});var l=V(4552);class G{constructor(ge,se=G.now){this.schedulerActionCtor=ge,this.now=se}schedule(ge,se=0,Te){return new this.schedulerActionCtor(this,ge).schedule(Te,se)}}G.now=l.l.now;class ee extends G{constructor(ge,se=G.now){super(ge,se),this.actions=[],this._active=!1}flush(ge){const{actions:se}=this;if(this._active)return void se.push(ge);let Te;this._active=!0;do{if(Te=ge.execute(ge.state,ge.delay))break}while(ge=se.shift());if(this._active=!1,Te){for(;ge=se.shift();)ge.unsubscribe();throw Te}}}},6321:(Mt,je,V)=>{V.d(je,{P:()=>he,z:()=>ee});var l=V(1954);const ee=new(V(2631).v)(l.o),he=ee},4552:(Mt,je,V)=>{V.d(je,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},7599:(Mt,je,V)=>{V.d(je,{z:()=>l});const l={setTimeout(G,ee,...he){const{delegate:ge}=l;return ge?.setTimeout?ge.setTimeout(G,ee,...he):setTimeout(G,ee,...he)},clearTimeout(G){const{delegate:ee}=l;return(ee?.clearTimeout||clearTimeout)(G)},delegate:void 0}},4971:(Mt,je,V)=>{V.d(je,{h:()=>G});const G=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Mt,je,V)=>{V.d(je,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(Mt,je,V)=>{V.d(je,{K:()=>G});const G=(0,V(2306).d)(ee=>function(){ee(this),this.name="EmptyError",this.message="no elements in sequence"})},9940:(Mt,je,V)=>{V.d(je,{_6:()=>se,jO:()=>he,yG:()=>ge});var l=V(4674),G=V(671);function ee(Te){return Te[Te.length-1]}function he(Te){return(0,l.m)(ee(Te))?Te.pop():void 0}function ge(Te){return(0,G.K)(ee(Te))?Te.pop():void 0}function se(Te,Ve){return"number"==typeof ee(Te)?Te.pop():Ve}},7453:(Mt,je,V)=>{V.d(je,{D:()=>ge});const{isArray:l}=Array,{getPrototypeOf:G,prototype:ee,keys:he}=Object;function ge(Te){if(1===Te.length){const Ve=Te[0];if(l(Ve))return{args:Ve,keys:null};if(function se(Te){return Te&&"object"==typeof Te&&G(Te)===ee}(Ve)){const Oe=he(Ve);return{args:Oe.map(re=>Ve[re]),keys:Oe}}}return{args:Te,keys:null}}},9039:(Mt,je,V)=>{function l(G,ee){if(G){const he=G.indexOf(ee);0<=he&&G.splice(he,1)}}V.d(je,{P:()=>l})},2306:(Mt,je,V)=>{function l(G){const he=G(ge=>{Error.call(ge),ge.stack=(new Error).stack});return he.prototype=Object.create(Error.prototype),he.prototype.constructor=he,he}V.d(je,{d:()=>l})},2714:(Mt,je,V)=>{function l(G,ee){return G.reduce((he,ge,se)=>(he[ge]=ee[se],he),{})}V.d(je,{n:()=>l})},1441:(Mt,je,V)=>{V.d(je,{O:()=>he,x:()=>ee});var l=V(2653);let G=null;function ee(ge){if(l.config.useDeprecatedSynchronousErrorHandling){const se=!G;if(se&&(G={errorThrown:!1,error:null}),ge(),se){const{errorThrown:Te,error:Ve}=G;if(G=null,Te)throw Ve}}else ge()}function he(ge){l.config.useDeprecatedSynchronousErrorHandling&&G&&(G.errorThrown=!0,G.error=ge)}},7103:(Mt,je,V)=>{function l(G,ee,he,ge=0,se=!1){const Te=ee.schedule(function(){he(),se?G.add(this.schedule(null,ge)):this.unsubscribe()},ge);if(G.add(Te),!se)return Te}V.d(je,{f:()=>l})},2737:(Mt,je,V)=>{function l(G){return G}V.d(je,{y:()=>l})},4266:(Mt,je,V)=>{V.d(je,{z:()=>l});const l=G=>G&&"number"==typeof G.length&&"function"!=typeof G},5726:(Mt,je,V)=>{V.d(je,{D:()=>G});var l=V(4674);function G(ee){return Symbol.asyncIterator&&(0,l.m)(ee?.[Symbol.asyncIterator])}},4674:(Mt,je,V)=>{function l(G){return"function"==typeof G}V.d(je,{m:()=>l})},8382:(Mt,je,V)=>{V.d(je,{c:()=>ee});var l=V(4850),G=V(4674);function ee(he){return(0,G.m)(he[l.L])}},3664:(Mt,je,V)=>{V.d(je,{T:()=>ee});var l=V(4971),G=V(4674);function ee(he){return(0,G.m)(he?.[l.h])}},4026:(Mt,je,V)=>{V.d(je,{t:()=>G});var l=V(4674);function G(ee){return(0,l.m)(ee?.then)}},541:(Mt,je,V)=>{V.d(je,{L:()=>he,Q:()=>ee});var l=V(7582),G=V(4674);function ee(ge){return(0,l.FC)(this,arguments,function*(){const Te=ge.getReader();try{for(;;){const{value:Ve,done:Oe}=yield(0,l.qq)(Te.read());if(Oe)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(Ve)}}finally{Te.releaseLock()}})}function he(ge){return(0,G.m)(ge?.getReader)}},671:(Mt,je,V)=>{V.d(je,{K:()=>G});var l=V(4674);function G(ee){return ee&&(0,l.m)(ee.schedule)}},9360:(Mt,je,V)=>{V.d(je,{A:()=>G,e:()=>ee});var l=V(4674);function G(he){return(0,l.m)(he?.lift)}function ee(he){return ge=>{if(G(ge))return ge.lift(function(se){try{return he(se,this)}catch(Te){this.error(Te)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(Mt,je,V)=>{V.d(je,{Z:()=>he});var l=V(7398);const{isArray:G}=Array;function he(ge){return(0,l.U)(se=>function ee(ge,se){return G(se)?ge(...se):ge(se)}(ge,se))}},2420:(Mt,je,V)=>{function l(){}V.d(je,{Z:()=>l})},8407:(Mt,je,V)=>{V.d(je,{U:()=>ee,z:()=>G});var l=V(2737);function G(...he){return ee(he)}function ee(he){return 0===he.length?l.y:1===he.length?he[0]:function(se){return he.reduce((Te,Ve)=>Ve(Te),se)}}},3894:(Mt,je,V)=>{V.d(je,{h:()=>ee});var l=V(2653),G=V(7599);function ee(he){G.z.setTimeout(()=>{const{onUnhandledError:ge}=l.config;if(!ge)throw he;ge(he)})}},9853:(Mt,je,V)=>{function l(G){return new TypeError(`You provided ${null!==G&&"object"==typeof G?"an invalid object":`'${G}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}V.d(je,{z:()=>l})},6814:(Mt,je,V)=>{V.d(je,{Do:()=>Xe,EM:()=>qi,HT:()=>he,JF:()=>cs,K0:()=>se,Mn:()=>pr,Mx:()=>yi,O5:()=>Ko,PM:()=>ai,S$:()=>be,Tn:()=>Ae,UT:()=>It,V_:()=>Ve,Ye:()=>ot,ax:()=>tr,b0:()=>Le,bD:()=>Ar,ez:()=>oo,mk:()=>fi,p6:()=>jn,q:()=>ee,rS:()=>Vi,sg:()=>tr,tP:()=>Bs,w_:()=>ge,x:()=>Ce});var l=V(5879);let G=null;function ee(){return G}function he(A){G||(G=A)}class ge{}const se=new l.OlP("DocumentToken");let Te=(()=>{class A{historyGo(x){throw new Error("Not implemented")}static#e=this.\u0275fac=function(W){return new(W||A)};static#t=this.\u0275prov=l.Yz7({token:A,factory:function(){return(0,l.f3M)(Oe)},providedIn:"platform"})}return A})();const Ve=new l.OlP("Location Initialized");let Oe=(()=>{class A extends Te{constructor(){super(),this._doc=(0,l.f3M)(se),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ee().getBaseHref(this._doc)}onPopState(x){const W=ee().getGlobalEventTarget(this._doc,"window");return W.addEventListener("popstate",x,!1),()=>W.removeEventListener("popstate",x)}onHashChange(x){const W=ee().getGlobalEventTarget(this._doc,"window");return W.addEventListener("hashchange",x,!1),()=>W.removeEventListener("hashchange",x)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(x){this._location.pathname=x}pushState(x,W,ce){this._history.pushState(x,W,ce)}replaceState(x,W,ce){this._history.replaceState(x,W,ce)}forward(){this._history.forward()}back(){this._history.back()}historyGo(x=0){this._history.go(x)}getState(){return this._history.state}static#e=this.\u0275fac=function(W){return new(W||A)};static#t=this.\u0275prov=l.Yz7({token:A,factory:function(){return new A},providedIn:"platform"})}return A})();function re(A,Y){if(0==A.length)return Y;if(0==Y.length)return A;let x=0;return A.endsWith("/")&&x++,Y.startsWith("/")&&x++,2==x?A+Y.substring(1):1==x?A+Y:A+"/"+Y}function ue(A){const Y=A.match(/#|\?|$/),x=Y&&Y.index||A.length;return A.slice(0,x-("/"===A[x-1]?1:0))+A.slice(x)}function ye(A){return A&&"?"!==A[0]?"?"+A:A}let be=(()=>{class A{historyGo(x){throw new Error("Not implemented")}static#e=this.\u0275fac=function(W){return new(W||A)};static#t=this.\u0275prov=l.Yz7({token:A,factory:function(){return(0,l.f3M)(Le)},providedIn:"root"})}return A})();const Ue=new l.OlP("appBaseHref");let Le=(()=>{class A extends be{constructor(x,W){super(),this._platformLocation=x,this._removeListenerFns=[],this._baseHref=W??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(se).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(x){this._removeListenerFns.push(this._platformLocation.onPopState(x),this._platformLocation.onHashChange(x))}getBaseHref(){return this._baseHref}prepareExternalUrl(x){return re(this._baseHref,x)}path(x=!1){const W=this._platformLocation.pathname+ye(this._platformLocation.search),ce=this._platformLocation.hash;return ce&&x?`${W}${ce}`:W}pushState(x,W,ce,Ze){const ct=this.prepareExternalUrl(ce+ye(Ze));this._platformLocation.pushState(x,W,ct)}replaceState(x,W,ce,Ze){const ct=this.prepareExternalUrl(ce+ye(Ze));this._platformLocation.replaceState(x,W,ct)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(x=0){this._platformLocation.historyGo?.(x)}static#e=this.\u0275fac=function(W){return new(W||A)(l.LFG(Te),l.LFG(Ue,8))};static#t=this.\u0275prov=l.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"})}return A})(),Xe=(()=>{class A extends be{constructor(x,W){super(),this._platformLocation=x,this._baseHref="",this._removeListenerFns=[],null!=W&&(this._baseHref=W)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(x){this._removeListenerFns.push(this._platformLocation.onPopState(x),this._platformLocation.onHashChange(x))}getBaseHref(){return this._baseHref}path(x=!1){let W=this._platformLocation.hash;return null==W&&(W="#"),W.length>0?W.substring(1):W}prepareExternalUrl(x){const W=re(this._baseHref,x);return W.length>0?"#"+W:W}pushState(x,W,ce,Ze){let ct=this.prepareExternalUrl(ce+ye(Ze));0==ct.length&&(ct=this._platformLocation.pathname),this._platformLocation.pushState(x,W,ct)}replaceState(x,W,ce,Ze){let ct=this.prepareExternalUrl(ce+ye(Ze));0==ct.length&&(ct=this._platformLocation.pathname),this._platformLocation.replaceState(x,W,ct)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(x=0){this._platformLocation.historyGo?.(x)}static#e=this.\u0275fac=function(W){return new(W||A)(l.LFG(Te),l.LFG(Ue,8))};static#t=this.\u0275prov=l.Yz7({token:A,factory:A.\u0275fac})}return A})(),ot=(()=>{class A{constructor(x){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=x;const W=this._locationStrategy.getBaseHref();this._basePath=function me(A){if(new RegExp("^(https?:)?//").test(A)){const[,x]=A.split(/\/\/[^\/]+/);return x}return A}(ue(Ct(W))),this._locationStrategy.onPopState(ce=>{this._subject.emit({url:this.path(!0),pop:!0,state:ce.state,type:ce.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(x=!1){return this.normalize(this._locationStrategy.path(x))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(x,W=""){return this.path()==this.normalize(x+ye(W))}normalize(x){return A.stripTrailingSlash(function St(A,Y){if(!A||!Y.startsWith(A))return Y;const x=Y.substring(A.length);return""===x||["/",";","?","#"].includes(x[0])?x:Y}(this._basePath,Ct(x)))}prepareExternalUrl(x){return x&&"/"!==x[0]&&(x="/"+x),this._locationStrategy.prepareExternalUrl(x)}go(x,W="",ce=null){this._locationStrategy.pushState(ce,"",x,W),this._notifyUrlChangeListeners(this.prepareExternalUrl(x+ye(W)),ce)}replaceState(x,W="",ce=null){this._locationStrategy.replaceState(ce,"",x,W),this._notifyUrlChangeListeners(this.prepareExternalUrl(x+ye(W)),ce)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(x=0){this._locationStrategy.historyGo?.(x)}onUrlChange(x){return this._urlChangeListeners.push(x),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(W=>{this._notifyUrlChangeListeners(W.url,W.state)})),()=>{const W=this._urlChangeListeners.indexOf(x);this._urlChangeListeners.splice(W,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(x="",W){this._urlChangeListeners.forEach(ce=>ce(x,W))}subscribe(x,W,ce){return this._subject.subscribe({next:x,error:W,complete:ce})}static#e=this.normalizeQueryParams=ye;static#t=this.joinWithSlash=re;static#n=this.stripTrailingSlash=ue;static#r=this.\u0275fac=function(W){return new(W||A)(l.LFG(be))};static#i=this.\u0275prov=l.Yz7({token:A,factory:function(){return function nt(){return new ot((0,l.LFG)(be))}()},providedIn:"root"})}return A})();function Ct(A){return A.replace(/\/index.html$/,"")}var Ce=function(A){return A[A.Format=0]="Format",A[A.Standalone=1]="Standalone",A}(Ce||{}),Ae=function(A){return A[A.Narrow=0]="Narrow",A[A.Abbreviated=1]="Abbreviated",A[A.Wide=2]="Wide",A[A.Short=3]="Short",A}(Ae||{}),at=function(A){return A[A.Short=0]="Short",A[A.Medium=1]="Medium",A[A.Long=2]="Long",A[A.Full=3]="Full",A}(at||{}),gt=function(A){return A[A.Decimal=0]="Decimal",A[A.Group=1]="Group",A[A.List=2]="List",A[A.PercentSign=3]="PercentSign",A[A.PlusSign=4]="PlusSign",A[A.MinusSign=5]="MinusSign",A[A.Exponential=6]="Exponential",A[A.SuperscriptingExponent=7]="SuperscriptingExponent",A[A.PerMille=8]="PerMille",A[A.Infinity=9]="Infinity",A[A.NaN=10]="NaN",A[A.TimeSeparator=11]="TimeSeparator",A[A.CurrencyDecimal=12]="CurrencyDecimal",A[A.CurrencyGroup=13]="CurrencyGroup",A}(gt||{});function pr(A,Y,x){const W=(0,l.cg1)(A),Ze=Ie([W[l.wAp.DaysFormat],W[l.wAp.DaysStandalone]],Y);return Ie(Ze,x)}function It(A,Y,x){const W=(0,l.cg1)(A),Ze=Ie([W[l.wAp.MonthsFormat],W[l.wAp.MonthsStandalone]],Y);return Ie(Ze,x)}function Se(A,Y){return Ie((0,l.cg1)(A)[l.wAp.DateFormat],Y)}function Be(A,Y){return Ie((0,l.cg1)(A)[l.wAp.TimeFormat],Y)}function Ee(A,Y){return Ie((0,l.cg1)(A)[l.wAp.DateTimeFormat],Y)}function ke(A,Y){const x=(0,l.cg1)(A),W=x[l.wAp.NumberSymbols][Y];if(typeof W>"u"){if(Y===gt.CurrencyDecimal)return x[l.wAp.NumberSymbols][gt.Decimal];if(Y===gt.CurrencyGroup)return x[l.wAp.NumberSymbols][gt.Group]}return W}function on(A){if(!A[l.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${A[l.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ie(A,Y){for(let x=Y;x>-1;x--)if(typeof A[x]<"u")return A[x];throw new Error("Locale data API: locale data undefined")}function De(A){const[Y,x]=A.split(":");return{hours:+Y,minutes:+x}}const ht=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ln={},un=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Rt=function(A){return A[A.Short=0]="Short",A[A.ShortGMT=1]="ShortGMT",A[A.Long=2]="Long",A[A.Extended=3]="Extended",A}(Rt||{}),tn=function(A){return A[A.FullYear=0]="FullYear",A[A.Month=1]="Month",A[A.Date=2]="Date",A[A.Hours=3]="Hours",A[A.Minutes=4]="Minutes",A[A.Seconds=5]="Seconds",A[A.FractionalSeconds=6]="FractionalSeconds",A[A.Day=7]="Day",A}(tn||{}),cn=function(A){return A[A.DayPeriods=0]="DayPeriods",A[A.Days=1]="Days",A[A.Months=2]="Months",A[A.Eras=3]="Eras",A}(cn||{});function jn(A,Y,x,W){let ce=function J(A){if(L(A))return A;if("number"==typeof A&&!isNaN(A))return new Date(A);if("string"==typeof A){if(A=A.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(A)){const[ce,Ze=1,ct=1]=A.split("-").map(qt=>+qt);return wn(ce,Ze-1,ct)}const x=parseFloat(A);if(!isNaN(A-x))return new Date(x);let W;if(W=A.match(ht))return function j(A){const Y=new Date(0);let x=0,W=0;const ce=A[8]?Y.setUTCFullYear:Y.setFullYear,Ze=A[8]?Y.setUTCHours:Y.setHours;A[9]&&(x=Number(A[9]+A[10]),W=Number(A[9]+A[11])),ce.call(Y,Number(A[1]),Number(A[2])-1,Number(A[3]));const ct=Number(A[4]||0)-x,qt=Number(A[5]||0)-W,Dr=Number(A[6]||0),Sr=Math.floor(1e3*parseFloat("0."+(A[7]||0)));return Ze.call(Y,ct,qt,Dr,Sr),Y}(W)}const Y=new Date(A);if(!L(Y))throw new Error(`Unable to convert "${A}" into a date`);return Y}(A);Y=br(x,Y)||Y;let qt,ct=[];for(;Y;){if(qt=un.exec(Y),!qt){ct.push(Y);break}{ct=ct.concat(qt.slice(1));const vr=ct.pop();if(!vr)break;Y=vr}}let Dr=ce.getTimezoneOffset();W&&(Dr=xi(W,Dr),ce=function fe(A,Y,x){const W=x?-1:1,ce=A.getTimezoneOffset();return function ki(A,Y){return(A=new Date(A.getTime())).setMinutes(A.getMinutes()+Y),A}(A,W*(xi(Y,ce)-ce))}(ce,W,!0));let Sr="";return ct.forEach(vr=>{const kn=function Un(A){if(Fn[A])return Fn[A];let Y;switch(A){case"G":case"GG":case"GGG":Y=an(cn.Eras,Ae.Abbreviated);break;case"GGGG":Y=an(cn.Eras,Ae.Wide);break;case"GGGGG":Y=an(cn.Eras,Ae.Narrow);break;case"y":Y=Pt(tn.FullYear,1,0,!1,!0);break;case"yy":Y=Pt(tn.FullYear,2,0,!0,!0);break;case"yyy":Y=Pt(tn.FullYear,3,0,!1,!0);break;case"yyyy":Y=Pt(tn.FullYear,4,0,!1,!0);break;case"Y":Y=Zn(1);break;case"YY":Y=Zn(2,!0);break;case"YYY":Y=Zn(3);break;case"YYYY":Y=Zn(4);break;case"M":case"L":Y=Pt(tn.Month,1,1);break;case"MM":case"LL":Y=Pt(tn.Month,2,1);break;case"MMM":Y=an(cn.Months,Ae.Abbreviated);break;case"MMMM":Y=an(cn.Months,Ae.Wide);break;case"MMMMM":Y=an(cn.Months,Ae.Narrow);break;case"LLL":Y=an(cn.Months,Ae.Abbreviated,Ce.Standalone);break;case"LLLL":Y=an(cn.Months,Ae.Wide,Ce.Standalone);break;case"LLLLL":Y=an(cn.Months,Ae.Narrow,Ce.Standalone);break;case"w":Y=ur(1);break;case"ww":Y=ur(2);break;case"W":Y=ur(1,!0);break;case"d":Y=Pt(tn.Date,1);break;case"dd":Y=Pt(tn.Date,2);break;case"c":case"cc":Y=Pt(tn.Day,1);break;case"ccc":Y=an(cn.Days,Ae.Abbreviated,Ce.Standalone);break;case"cccc":Y=an(cn.Days,Ae.Wide,Ce.Standalone);break;case"ccccc":Y=an(cn.Days,Ae.Narrow,Ce.Standalone);break;case"cccccc":Y=an(cn.Days,Ae.Short,Ce.Standalone);break;case"E":case"EE":case"EEE":Y=an(cn.Days,Ae.Abbreviated);break;case"EEEE":Y=an(cn.Days,Ae.Wide);break;case"EEEEE":Y=an(cn.Days,Ae.Narrow);break;case"EEEEEE":Y=an(cn.Days,Ae.Short);break;case"a":case"aa":case"aaa":Y=an(cn.DayPeriods,Ae.Abbreviated);break;case"aaaa":Y=an(cn.DayPeriods,Ae.Wide);break;case"aaaaa":Y=an(cn.DayPeriods,Ae.Narrow);break;case"b":case"bb":case"bbb":Y=an(cn.DayPeriods,Ae.Abbreviated,Ce.Standalone,!0);break;case"bbbb":Y=an(cn.DayPeriods,Ae.Wide,Ce.Standalone,!0);break;case"bbbbb":Y=an(cn.DayPeriods,Ae.Narrow,Ce.Standalone,!0);break;case"B":case"BB":case"BBB":Y=an(cn.DayPeriods,Ae.Abbreviated,Ce.Format,!0);break;case"BBBB":Y=an(cn.DayPeriods,Ae.Wide,Ce.Format,!0);break;case"BBBBB":Y=an(cn.DayPeriods,Ae.Narrow,Ce.Format,!0);break;case"h":Y=Pt(tn.Hours,1,-12);break;case"hh":Y=Pt(tn.Hours,2,-12);break;case"H":Y=Pt(tn.Hours,1);break;case"HH":Y=Pt(tn.Hours,2);break;case"m":Y=Pt(tn.Minutes,1);break;case"mm":Y=Pt(tn.Minutes,2);break;case"s":Y=Pt(tn.Seconds,1);break;case"ss":Y=Pt(tn.Seconds,2);break;case"S":Y=Pt(tn.FractionalSeconds,1);break;case"SS":Y=Pt(tn.FractionalSeconds,2);break;case"SSS":Y=Pt(tn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":Y=Jr(Rt.Short);break;case"ZZZZZ":Y=Jr(Rt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":Y=Jr(Rt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":Y=Jr(Rt.Long);break;default:return null}return Fn[A]=Y,Y}(vr);Sr+=kn?kn(ce,x,Dr):"''"===vr?"'":vr.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Sr}function wn(A,Y,x){const W=new Date(0);return W.setFullYear(A,Y,x),W.setHours(0,0,0),W}function br(A,Y){const x=function er(A){return(0,l.cg1)(A)[l.wAp.LocaleId]}(A);if(ln[x]=ln[x]||{},ln[x][Y])return ln[x][Y];let W="";switch(Y){case"shortDate":W=Se(A,at.Short);break;case"mediumDate":W=Se(A,at.Medium);break;case"longDate":W=Se(A,at.Long);break;case"fullDate":W=Se(A,at.Full);break;case"shortTime":W=Be(A,at.Short);break;case"mediumTime":W=Be(A,at.Medium);break;case"longTime":W=Be(A,at.Long);break;case"fullTime":W=Be(A,at.Full);break;case"short":const ce=br(A,"shortTime"),Ze=br(A,"shortDate");W=Nt(Ee(A,at.Short),[ce,Ze]);break;case"medium":const ct=br(A,"mediumTime"),qt=br(A,"mediumDate");W=Nt(Ee(A,at.Medium),[ct,qt]);break;case"long":const Dr=br(A,"longTime"),Sr=br(A,"longDate");W=Nt(Ee(A,at.Long),[Dr,Sr]);break;case"full":const vr=br(A,"fullTime"),kn=br(A,"fullDate");W=Nt(Ee(A,at.Full),[vr,kn])}return W&&(ln[x][Y]=W),W}function Nt(A,Y){return Y&&(A=A.replace(/\{([^}]+)}/g,function(x,W){return null!=Y&&W in Y?Y[W]:x})),A}function Yn(A,Y,x="-",W,ce){let Ze="";(A<0||ce&&A<=0)&&(ce?A=1-A:(A=-A,Ze=x));let ct=String(A);for(;ct.length<Y;)ct="0"+ct;return W&&(ct=ct.slice(ct.length-Y)),Ze+ct}function Pt(A,Y,x=0,W=!1,ce=!1){return function(Ze,ct){let qt=function io(A,Y){switch(A){case tn.FullYear:return Y.getFullYear();case tn.Month:return Y.getMonth();case tn.Date:return Y.getDate();case tn.Hours:return Y.getHours();case tn.Minutes:return Y.getMinutes();case tn.Seconds:return Y.getSeconds();case tn.FractionalSeconds:return Y.getMilliseconds();case tn.Day:return Y.getDay();default:throw new Error(`Unknown DateType value "${A}".`)}}(A,Ze);if((x>0||qt>-x)&&(qt+=x),A===tn.Hours)0===qt&&-12===x&&(qt=12);else if(A===tn.FractionalSeconds)return function or(A,Y){return Yn(A,3).substring(0,Y)}(qt,Y);const Dr=ke(ct,gt.MinusSign);return Yn(qt,Y,Dr,W,ce)}}function an(A,Y,x=Ce.Format,W=!1){return function(ce,Ze){return function hr(A,Y,x,W,ce,Ze){switch(x){case cn.Months:return It(Y,ce,W)[A.getMonth()];case cn.Days:return pr(Y,ce,W)[A.getDay()];case cn.DayPeriods:const ct=A.getHours(),qt=A.getMinutes();if(Ze){const Sr=function sn(A){const Y=(0,l.cg1)(A);return on(Y),(Y[l.wAp.ExtraData][2]||[]).map(W=>"string"==typeof W?De(W):[De(W[0]),De(W[1])])}(Y),vr=function An(A,Y,x){const W=(0,l.cg1)(A);on(W);const Ze=Ie([W[l.wAp.ExtraData][0],W[l.wAp.ExtraData][1]],Y)||[];return Ie(Ze,x)||[]}(Y,ce,W),kn=Sr.findIndex(ei=>{if(Array.isArray(ei)){const[Lr,Ur]=ei,ps=ct>=Lr.hours&&qt>=Lr.minutes,Vr=ct<Ur.hours||ct===Ur.hours&&qt<Ur.minutes;if(Lr.hours<Ur.hours){if(ps&&Vr)return!0}else if(ps||Vr)return!0}else if(ei.hours===ct&&ei.minutes===qt)return!0;return!1});if(-1!==kn)return vr[kn]}return function _n(A,Y,x){const W=(0,l.cg1)(A),Ze=Ie([W[l.wAp.DayPeriodsFormat],W[l.wAp.DayPeriodsStandalone]],Y);return Ie(Ze,x)}(Y,ce,W)[ct<12?0:1];case cn.Eras:return function Zt(A,Y){return Ie((0,l.cg1)(A)[l.wAp.Eras],Y)}(Y,W)[A.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${x}`)}}(ce,Ze,A,Y,x,W)}}function Jr(A){return function(Y,x,W){const ce=-1*W,Ze=ke(x,gt.MinusSign),ct=ce>0?Math.floor(ce/60):Math.ceil(ce/60);switch(A){case Rt.Short:return(ce>=0?"+":"")+Yn(ct,2,Ze)+Yn(Math.abs(ce%60),2,Ze);case Rt.ShortGMT:return"GMT"+(ce>=0?"+":"")+Yn(ct,1,Ze);case Rt.Long:return"GMT"+(ce>=0?"+":"")+Yn(ct,2,Ze)+":"+Yn(Math.abs(ce%60),2,Ze);case Rt.Extended:return 0===W?"Z":(ce>=0?"+":"")+Yn(ct,2,Ze)+":"+Yn(Math.abs(ce%60),2,Ze);default:throw new Error(`Unknown zone width "${A}"`)}}}const ri=0,Mr=4;function Pr(A){return wn(A.getFullYear(),A.getMonth(),A.getDate()+(Mr-A.getDay()))}function ur(A,Y=!1){return function(x,W){let ce;if(Y){const Ze=new Date(x.getFullYear(),x.getMonth(),1).getDay()-1,ct=x.getDate();ce=1+Math.floor((ct+Ze)/7)}else{const Ze=Pr(x),ct=function Or(A){const Y=wn(A,ri,1).getDay();return wn(A,0,1+(Y<=Mr?Mr:Mr+7)-Y)}(Ze.getFullYear()),qt=Ze.getTime()-ct.getTime();ce=1+Math.round(qt/6048e5)}return Yn(ce,A,ke(W,gt.MinusSign))}}function Zn(A,Y=!1){return function(x,W){return Yn(Pr(x).getFullYear(),A,ke(W,gt.MinusSign),Y)}}const Fn={};function xi(A,Y){A=A.replace(/:/g,"");const x=Date.parse("Jan 01, 1970 00:00:00 "+A)/6e4;return isNaN(x)?Y:x}function L(A){return A instanceof Date&&!isNaN(A.valueOf())}function yi(A,Y){Y=encodeURIComponent(Y);for(const x of A.split(";")){const W=x.indexOf("="),[ce,Ze]=-1==W?[x,""]:[x.slice(0,W),x.slice(W+1)];if(ce.trim()===Y)return decodeURIComponent(Ze)}return null}const Fi=/\s+/,zr=[];let fi=(()=>{class A{constructor(x,W,ce,Ze){this._iterableDiffers=x,this._keyValueDiffers=W,this._ngEl=ce,this._renderer=Ze,this.initialClasses=zr,this.stateMap=new Map}set klass(x){this.initialClasses=null!=x?x.trim().split(Fi):zr}set ngClass(x){this.rawClass="string"==typeof x?x.trim().split(Fi):x}ngDoCheck(){for(const W of this.initialClasses)this._updateState(W,!0);const x=this.rawClass;if(Array.isArray(x)||x instanceof Set)for(const W of x)this._updateState(W,!0);else if(null!=x)for(const W of Object.keys(x))this._updateState(W,!!x[W]);this._applyStateDiff()}_updateState(x,W){const ce=this.stateMap.get(x);void 0!==ce?(ce.enabled!==W&&(ce.changed=!0,ce.enabled=W),ce.touched=!0):this.stateMap.set(x,{enabled:W,changed:!0,touched:!0})}_applyStateDiff(){for(const x of this.stateMap){const W=x[0],ce=x[1];ce.changed?(this._toggleClass(W,ce.enabled),ce.changed=!1):ce.touched||(ce.enabled&&this._toggleClass(W,!1),this.stateMap.delete(W)),ce.touched=!1}}_toggleClass(x,W){(x=x.trim()).length>0&&x.split(Fi).forEach(ce=>{W?this._renderer.addClass(this._ngEl.nativeElement,ce):this._renderer.removeClass(this._ngEl.nativeElement,ce)})}static#e=this.\u0275fac=function(W){return new(W||A)(l.Y36(l.ZZ4),l.Y36(l.aQg),l.Y36(l.SBq),l.Y36(l.Qsj))};static#t=this.\u0275dir=l.lG2({type:A,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return A})();class Is{constructor(Y,x,W,ce){this.$implicit=Y,this.ngForOf=x,this.index=W,this.count=ce}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let tr=(()=>{class A{set ngForOf(x){this._ngForOf=x,this._ngForOfDirty=!0}set ngForTrackBy(x){this._trackByFn=x}get ngForTrackBy(){return this._trackByFn}constructor(x,W,ce){this._viewContainer=x,this._template=W,this._differs=ce,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(x){x&&(this._template=x)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const x=this._ngForOf;!this._differ&&x&&(this._differ=this._differs.find(x).create(this.ngForTrackBy))}if(this._differ){const x=this._differ.diff(this._ngForOf);x&&this._applyChanges(x)}}_applyChanges(x){const W=this._viewContainer;x.forEachOperation((ce,Ze,ct)=>{if(null==ce.previousIndex)W.createEmbeddedView(this._template,new Is(ce.item,this._ngForOf,-1,-1),null===ct?void 0:ct);else if(null==ct)W.remove(null===Ze?void 0:Ze);else if(null!==Ze){const qt=W.get(Ze);W.move(qt,ct),Si(qt,ce)}});for(let ce=0,Ze=W.length;ce<Ze;ce++){const qt=W.get(ce).context;qt.index=ce,qt.count=Ze,qt.ngForOf=this._ngForOf}x.forEachIdentityChange(ce=>{Si(W.get(ce.currentIndex),ce)})}static ngTemplateContextGuard(x,W){return!0}static#e=this.\u0275fac=function(W){return new(W||A)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))};static#t=this.\u0275dir=l.lG2({type:A,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return A})();function Si(A,Y){A.context.$implicit=Y.item}let Ko=(()=>{class A{constructor(x,W){this._viewContainer=x,this._context=new Ri,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=W}set ngIf(x){this._context.$implicit=this._context.ngIf=x,this._updateView()}set ngIfThen(x){po("ngIfThen",x),this._thenTemplateRef=x,this._thenViewRef=null,this._updateView()}set ngIfElse(x){po("ngIfElse",x),this._elseTemplateRef=x,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(x,W){return!0}static#e=this.\u0275fac=function(W){return new(W||A)(l.Y36(l.s_b),l.Y36(l.Rgc))};static#t=this.\u0275dir=l.lG2({type:A,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return A})();class Ri{constructor(){this.$implicit=null,this.ngIf=null}}function po(A,Y){if(Y&&!Y.createEmbeddedView)throw new Error(`${A} must be a TemplateRef, but received '${(0,l.AaK)(Y)}'.`)}let Bs=(()=>{class A{constructor(x){this._viewContainerRef=x,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(x){if(x.ngTemplateOutlet||x.ngTemplateOutletInjector){const W=this._viewContainerRef;if(this._viewRef&&W.remove(W.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:ce,ngTemplateOutletContext:Ze,ngTemplateOutletInjector:ct}=this;this._viewRef=W.createEmbeddedView(ce,Ze,ct?{injector:ct}:void 0)}else this._viewRef=null}else this._viewRef&&x.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(W){return new(W||A)(l.Y36(l.s_b))};static#t=this.\u0275dir=l.lG2({type:A,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[l.TTD]})}return A})();const zi=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let Vi=(()=>{class A{transform(x){if(null==x)return null;if("string"!=typeof x)throw function Li(A,Y){return new l.vHH(2100,!1)}();return x.replace(zi,W=>W[0].toUpperCase()+W.slice(1).toLowerCase())}static#e=this.\u0275fac=function(W){return new(W||A)};static#t=this.\u0275pipe=l.Yjl({name:"titlecase",type:A,pure:!0,standalone:!0})}return A})(),oo=(()=>{class A{static#e=this.\u0275fac=function(W){return new(W||A)};static#t=this.\u0275mod=l.oAB({type:A});static#n=this.\u0275inj=l.cJS({})}return A})();const Ar="browser",Ii="server";function ai(A){return A===Ii}let qi=(()=>{class A{static#e=this.\u0275prov=(0,l.Yz7)({token:A,providedIn:"root",factory:()=>new Ki((0,l.LFG)(se),window)})}return A})();class Ki{constructor(Y,x){this.document=Y,this.window=x,this.offset=()=>[0,0]}setOffset(Y){this.offset=Array.isArray(Y)?()=>Y:Y}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Y){this.supportsScrolling()&&this.window.scrollTo(Y[0],Y[1])}scrollToAnchor(Y){if(!this.supportsScrolling())return;const x=function Yi(A,Y){const x=A.getElementById(Y)||A.getElementsByName(Y)[0];if(x)return x;if("function"==typeof A.createTreeWalker&&A.body&&"function"==typeof A.body.attachShadow){const W=A.createTreeWalker(A.body,NodeFilter.SHOW_ELEMENT);let ce=W.currentNode;for(;ce;){const Ze=ce.shadowRoot;if(Ze){const ct=Ze.getElementById(Y)||Ze.querySelector(`[name="${Y}"]`);if(ct)return ct}ce=W.nextNode()}}return null}(this.document,Y);x&&(this.scrollToElement(x),x.focus())}setHistoryScrollRestoration(Y){this.supportsScrolling()&&(this.window.history.scrollRestoration=Y)}scrollToElement(Y){const x=Y.getBoundingClientRect(),W=x.left+this.window.pageXOffset,ce=x.top+this.window.pageYOffset,Ze=this.offset();this.window.scrollTo(W-Ze[0],ce-Ze[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class cs{}},5879:(Mt,je,V)=>{V.d(je,{$8M:()=>Ec,$WT:()=>Zo,$Z:()=>k_,AFp:()=>jd,ALo:()=>mb,AaK:()=>ye,AsE:()=>Mv,BQk:()=>Hm,CHM:()=>cc,CRH:()=>Ob,EJc:()=>Lw,EpF:()=>_v,F$t:()=>Jy,F4k:()=>tp,FYo:()=>Lf,FiY:()=>Fu,Gf:()=>Nb,GfV:()=>jp,Gpc:()=>Le,HDt:()=>tD,Hsn:()=>Wm,Ikx:()=>Pv,JOm:()=>ru,KtG:()=>ua,LFG:()=>bt,LMc:()=>ZC,LSH:()=>zn,Lbi:()=>Oh,Lck:()=>wT,MAs:()=>Gy,MGl:()=>Km,MMx:()=>eb,NdJ:()=>zm,Ojb:()=>__,OlP:()=>Pt,Oqu:()=>Nv,P3R:()=>_i,PXZ:()=>hC,Q6J:()=>rh,QGY:()=>Gm,Qsj:()=>Jg,R0b:()=>ls,RDi:()=>g_,Rgc:()=>u_,SBq:()=>Ff,SDv:()=>KI,Sil:()=>Uw,Suo:()=>Mb,TTD:()=>kn,TgZ:()=>fg,Tol:()=>Cv,Udp:()=>t_,VKq:()=>lb,VuI:()=>KC,W1O:()=>Fb,WLB:()=>ub,X6Q:()=>EC,XFs:()=>Rt,Xpm:()=>Xs,Xq5:()=>Qd,Xts:()=>Eo,Y36:()=>Yc,YKP:()=>JI,YNc:()=>Uy,Yjl:()=>Wi,Yz7:()=>on,Z0I:()=>Ie,ZZ4:()=>pE,_Bn:()=>QI,_UZ:()=>jm,_c5:()=>FC,_uU:()=>p0,aQg:()=>gE,c2e:()=>eD,cJS:()=>An,cg1:()=>kv,dDg:()=>lC,dqk:()=>Nt,eFA:()=>dD,eJc:()=>J0,ekj:()=>n_,eoX:()=>aD,f3M:()=>Bt,g9A:()=>$d,gHi:()=>Vf,h0i:()=>sp,hGG:()=>LC,hij:()=>i_,iGM:()=>Rb,ifc:()=>Yt,ip1:()=>Xb,jDz:()=>tb,kEZ:()=>cb,kL8:()=>P0,ktI:()=>fu,lG2:()=>Do,lcZ:()=>_b,lqb:()=>Ba,lri:()=>oD,n5z:()=>vs,oAB:()=>Ts,oxw:()=>Qy,q4F:()=>I_,qFp:()=>QC,qLn:()=>$a,qOj:()=>ev,qZA:()=>pg,rWj:()=>sD,rg0:()=>Ze,s9C:()=>qm,sBO:()=>IC,s_b:()=>Uv,soG:()=>$v,tb:()=>lE,tp0:()=>nl,uIk:()=>ag,vHH:()=>me,vpe:()=>cl,wAp:()=>op,xp6:()=>eg,ynx:()=>$m,z2F:()=>Tg,zSh:()=>ul,zW0:()=>rv,zs3:()=>ja});var l=V(8645),G=V(7394),ee=V(5592),he=V(3019),ge=V(5619),se=V(2096),Te=V(3020),Ve=V(4664),Oe=V(3997);function re(t){for(let r in t)if(t[r]===re)return r;throw Error("Could not find renamed property on target object.")}function ue(t,r){for(const o in r)r.hasOwnProperty(o)&&!t.hasOwnProperty(o)&&(t[o]=r[o])}function ye(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(ye).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const o=r.indexOf("\n");return-1===o?r:r.substring(0,o)}function be(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const Ue=re({__forward_ref__:re});function Le(t){return t.__forward_ref__=Le,t.toString=function(){return ye(this())},t}function Xe(t){return ot(t)?t():t}function ot(t){return"function"==typeof t&&t.hasOwnProperty(Ue)&&t.__forward_ref__===Le}function nt(t){return t&&!!t.\u0275providers}const Ct="https://g.co/ng/security#xss";class me extends Error{constructor(r,o){super(function Ge(t,r){return`NG0${Math.abs(t)}${r?": "+r:""}`}(r,o)),this.code=r}}function _e(t){return"string"==typeof t?t:null==t?"":String(t)}function gt(t,r){throw new me(-201,!1)}function lt(t,r,o,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${o} ${a} ${r} <=Actual]`))}function on(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function An(t){return{providers:t.providers||[],imports:t.imports||[]}}function Qt(t){return De(t,Dt)||De(t,ln)}function Ie(t){return null!==Qt(t)}function De(t,r){return t.hasOwnProperty(r)?t[r]:null}function rt(t){return t&&(t.hasOwnProperty(ht)||t.hasOwnProperty(un))?t[ht]:null}const Dt=re({\u0275prov:re}),ht=re({\u0275inj:re}),ln=re({ngInjectableDef:re}),un=re({ngInjectorDef:re});var Rt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Rt||{});let tn;function cn(){return tn}function jn(t){const r=tn;return tn=t,r}function wn(t,r,o){const a=Qt(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:o&Rt.Optional?null:void 0!==r?r:void gt(ye(t))}const Nt=globalThis;class Pt{constructor(r,o){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=on({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Un={},xi="__NG_DI_FLAG__",ki="ngTempTokenPath",J=/\n/gm,L="__source";let k;function Ne(t){const r=k;return k=t,r}function st(t,r=Rt.Default){if(void 0===k)throw new me(-203,!1);return null===k?wn(t,void 0,r):k.get(t,r&Rt.Optional?null:void 0,r)}function bt(t,r=Rt.Default){return(cn()||st)(Xe(t),r)}function Bt(t,r=Rt.Default){return bt(t,en(r))}function en(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Ln(t){const r=[];for(let o=0;o<t.length;o++){const a=Xe(t[o]);if(Array.isArray(a)){if(0===a.length)throw new me(900,!1);let d,g=Rt.Default;for(let y=0;y<a.length;y++){const w=a[y],N=jr(w);"number"==typeof N?-1===N?d=w.token:g|=N:d=w}r.push(bt(d,g))}else r.push(bt(a))}return r}function hn(t,r){return t[xi]=r,t.prototype[xi]=r,t}function jr(t){return t[xi]}function Fe(t){return{toString:t}.toString()}var _t=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(_t||{}),Yt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Yt||{});const gn={},zt=[],Wn=re({\u0275cmp:re}),xr=re({\u0275dir:re}),gr=re({\u0275pipe:re}),Ai=re({\u0275mod:re}),yi=re({\u0275fac:re}),Fi=re({__NG_ELEMENT_ID__:re}),zr=re({__NG_ENV_ID__:re});function fi(t,r,o){let a=t.length;for(;;){const d=t.indexOf(r,o);if(-1===d)return d;if(0===d||t.charCodeAt(d-1)<=32){const g=r.length;if(d+g===a||t.charCodeAt(d+g)<=32)return d}o=d+1}}function $n(t,r,o){let a=0;for(;a<o.length;){const d=o[a];if("number"==typeof d){if(0!==d)break;a++;const g=o[a++],y=o[a++],w=o[a++];t.setAttribute(r,y,w,g)}else{const g=d,y=o[++a];Is(g)?t.setProperty(r,g,y):t.setAttribute(r,g,y),a++}}return a}function ii(t){return 3===t||4===t||6===t}function Is(t){return 64===t.charCodeAt(0)}function tr(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let o=-1;for(let a=0;a<r.length;a++){const d=r[a];"number"==typeof d?o=d:0===o||Si(t,o,d,null,-1===o||2===o?r[++a]:null)}}return t}function Si(t,r,o,a,d){let g=0,y=t.length;if(-1===r)y=-1;else for(;g<t.length;){const w=t[g++];if("number"==typeof w){if(w===r){y=-1;break}if(w>r){y=g-1;break}}}for(;g<t.length;){const w=t[g];if("number"==typeof w)break;if(w===o){if(null===a)return void(null!==d&&(t[g+1]=d));if(a===t[g+1])return void(t[g+2]=d)}g++,null!==a&&g++,null!==d&&g++}-1!==y&&(t.splice(y,0,r),g=y+1),t.splice(g++,0,o),null!==a&&t.splice(g++,0,a),null!==d&&t.splice(g++,0,d)}const oi="ng-template";function Ko(t,r,o){let a=0,d=!0;for(;a<t.length;){let g=t[a++];if("string"==typeof g&&d){const y=t[a++];if(o&&"class"===g&&-1!==fi(y.toLowerCase(),r,0))return!0}else{if(1===g){for(;a<t.length&&"string"==typeof(g=t[a++]);)if(g.toLowerCase()===r)return!0;return!1}"number"==typeof g&&(d=!1)}}return!1}function Ri(t){return 4===t.type&&t.value!==oi}function po(t,r,o){return r===(4!==t.type||o?t.value:oi)}function Bo(t,r,o){let a=4;const d=t.attrs||[],g=function Vs(t){for(let r=0;r<t.length;r++)if(ii(t[r]))return r;return t.length}(d);let y=!1;for(let w=0;w<r.length;w++){const N=r[w];if("number"!=typeof N){if(!y)if(4&a){if(a=2|1&a,""!==N&&!po(t,N,o)||""===N&&1===r.length){if(Wr(a))return!1;y=!0}}else{const U=8&a?N:r[++w];if(8&a&&null!==t.attrs){if(!Ko(t.attrs,U,o)){if(Wr(a))return!1;y=!0}continue}const ae=Yo(8&a?"class":N,d,Ri(t),o);if(-1===ae){if(Wr(a))return!1;y=!0;continue}if(""!==U){let Re;Re=ae>g?"":d[ae+1].toLowerCase();const $e=8&a?Re:null;if($e&&-1!==fi($e,U,0)||2&a&&U!==Re){if(Wr(a))return!1;y=!0}}}}else{if(!y&&!Wr(a)&&!Wr(N))return!1;if(y&&Wr(N))continue;y=!1,a=N|1&a}}return Wr(a)||y}function Wr(t){return 0==(1&t)}function Yo(t,r,o,a){if(null===r)return-1;let d=0;if(a||!o){let g=!1;for(;d<r.length;){const y=r[d];if(y===t)return d;if(3===y||6===y)g=!0;else{if(1===y||2===y){let w=r[++d];for(;"string"==typeof w;)w=r[++d];continue}if(4===y)break;if(0===y){d+=4;continue}}d+=g?1:2}return-1}return function Js(t,r){let o=t.indexOf(4);if(o>-1)for(o++;o<t.length;){const a=t[o];if("number"==typeof a)return-1;if(a===r)return o;o++}return-1}(r,t)}function Ls(t,r,o=!1){for(let a=0;a<r.length;a++)if(Bo(t,r[a],o))return!0;return!1}function bs(t,r){e:for(let o=0;o<r.length;o++){const a=r[o];if(t.length===a.length){for(let d=0;d<t.length;d++)if(t[d]!==a[d])continue e;return!0}}return!1}function Bs(t,r){return t?":not("+r.trim()+")":r}function Wa(t){let r=t[0],o=1,a=2,d="",g=!1;for(;o<t.length;){let y=t[o];if("string"==typeof y)if(2&a){const w=t[++o];d+="["+y+(w.length>0?'="'+w+'"':"")+"]"}else 8&a?d+="."+y:4&a&&(d+=" "+y);else""!==d&&!Wr(y)&&(r+=Bs(g,d),d=""),a=y,g=g||!Wr(a);o++}return""!==d&&(r+=Bs(g,d)),r}function Xs(t){return Fe(()=>{const r=Da(t),o={...r,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===_t.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Yt.Emulated,styles:t.styles||zt,_:null,schemas:t.schemas||null,tView:null,id:""};si(o);const a=t.dependencies;return o.directiveDefs=To(a,!1),o.pipeDefs=To(a,!0),o.id=function go(t){let r=0;const o=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const d of o)r=Math.imul(31,r)+d.charCodeAt(0)<<0;return r+=2147483648,"c"+r}(o),o})}function bo(t){return In(t)||sr(t)}function Ni(t){return null!==t}function Ts(t){return Fe(()=>({type:t.type,bootstrap:t.bootstrap||zt,declarations:t.declarations||zt,imports:t.imports||zt,exports:t.exports||zt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Vi(t,r){if(null==t)return gn;const o={};for(const a in t)if(t.hasOwnProperty(a)){let d=t[a],g=d;Array.isArray(d)&&(g=d[1],d=d[0]),o[d]=a,r&&(r[d]=g)}return o}function Do(t){return Fe(()=>{const r=Da(t);return si(r),r})}function Wi(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function In(t){return t[Wn]||null}function sr(t){return t[xr]||null}function mr(t){return t[gr]||null}function Zo(t){const r=In(t)||sr(t)||mr(t);return null!==r&&r.standalone}function $r(t,r){const o=t[Ai]||null;if(!o&&!0===r)throw new Error(`Type ${ye(t)} does not have '\u0275mod' property.`);return o}function Da(t){const r={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:t.inputs||gn,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||zt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Vi(t.inputs,r),outputs:Vi(t.outputs)}}function si(t){t.features?.forEach(r=>r(t))}function To(t,r){if(!t)return null;const o=r?mr:bo;return()=>("function"==typeof t?t():t).map(a=>o(a)).filter(Ni)}const cr=0,kt=1,Wt=2,nr=3,Gr=4,Ei=5,_r=6,oo=7,Ar=8,Ii=9,Uo=10,yn=11,Qo=12,ai=13,jo=14,ar=15,ws=16,qi=17,Ki=18,Yi=19,pl=20,cs=21,Zi=22,ds=23,es=24,vn=25,wo=1,hs=2,Kr=7,Co=9,li=11;function pi(t){return Array.isArray(t)&&"object"==typeof t[wo]}function Yr(t){return Array.isArray(t)&&!0===t[wo]}function ts(t){return 0!=(4&t.flags)}function Xr(t){return t.componentOffset>-1}function $o(t){return 1==(1&t.flags)}function Gn(t){return!!t.template}function Us(t){return 0!=(512&t[Wt])}function ns(t,r){return t.hasOwnProperty(yi)?t[yi]:null}let ui=null,ao=!1;function Bi(t){const r=ui;return ui=t,r}const Du={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Pl(t){if(!lo(t)||t.dirty){if(!t.producerMustRecompute(t)&&!kl(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function wa(t){t.dirty=!0,function Ss(t){if(void 0===t.liveConsumerNode)return;const r=ao;ao=!0;try{for(const o of t.liveConsumerNode)o.dirty||wa(o)}finally{ao=r}}(t),t.consumerMarkedDirty?.(t)}function oa(t){return t&&(t.nextProducerIndex=0),Bi(t)}function Ji(t,r){if(Bi(r),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(lo(t))for(let o=t.nextProducerIndex;o<t.producerNode.length;o++)Rs(t.producerNode[o],t.producerIndexOfThis[o]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function kl(t){$s(t);for(let r=0;r<t.producerNode.length;r++){const o=t.producerNode[r],a=t.producerLastReadVersion[r];if(a!==o.version||(Pl(o),a!==o.version))return!0}return!1}function Za(t){if($s(t),lo(t))for(let r=0;r<t.producerNode.length;r++)Rs(t.producerNode[r],t.producerIndexOfThis[r]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Rs(t,r){if(function dr(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),$s(t),1===t.liveConsumerNode.length)for(let a=0;a<t.producerNode.length;a++)Rs(t.producerNode[a],t.producerIndexOfThis[a]);const o=t.liveConsumerNode.length-1;if(t.liveConsumerNode[r]=t.liveConsumerNode[o],t.liveConsumerIndexOfThis[r]=t.liveConsumerIndexOfThis[o],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,r<t.liveConsumerNode.length){const a=t.liveConsumerIndexOfThis[r],d=t.liveConsumerNode[r];$s(d),d.producerIndexOfThis[a]=r}}function lo(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function $s(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let aa=null;function Ze(t){const r=Bi(null);try{return t()}finally{Bi(r)}}const qt=()=>{},Dr=(()=>({...Du,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:qt}))();class vr{constructor(r,o,a){this.previousValue=r,this.currentValue=o,this.firstChange=a}isFirstChange(){return this.firstChange}}function kn(){return ei}function ei(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ur),Lr}function Lr(){const t=Vr(this),r=t?.current;if(r){const o=t.previous;if(o===gn)t.previous=r;else for(let a in r)o[a]=r[a];t.current=null,this.ngOnChanges(r)}}function Ur(t,r,o,a){const d=this.declaredInputs[o],g=Vr(t)||function ji(t,r){return t[ps]=r}(t,{previous:gn,current:null}),y=g.current||(g.current={}),w=g.previous,N=w[d];y[d]=new vr(N&&N.currentValue,r,w===gn),t[a]=r}kn.ngInherit=!0;const ps="__ngSimpleChanges__";function Vr(t){return t[ps]||null}const mo=function(t,r,o){};function Cn(t){for(;Array.isArray(t);)t=t[cr];return t}function Kt(t,r){return Cn(r[t])}function Ut(t,r){return Cn(r[t.index])}function Ft(t,r){return t.data[r]}function Qe(t,r){return t[r]}function ft(t,r){const o=r[t];return pi(o)?o:o[cr]}function gs(t,r){return null==r?null:t[r]}function Cu(t){t[qi]=0}function lc(t){1024&t[Wt]||(t[Wt]|=1024,Vl(t,1))}function Xo(t){1024&t[Wt]&&(t[Wt]&=-1025,Vl(t,-1))}function Vl(t,r){let o=t[nr];if(null===o)return;o[Ei]+=r;let a=o;for(o=o[nr];null!==o&&(1===r&&1===a[Ei]||-1===r&&0===a[Ei]);)o[Ei]+=r,a=o,o=o[nr]}function sd(t,r){if(256==(256&t[Wt]))throw new me(911,!1);null===t[cs]&&(t[cs]=[]),t[cs].push(r)}const Nn={lFrame:Tn(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function mn(){return Nn.bindingsEnabled}function Go(){return null!==Nn.skipHydrationRootTNode}function mt(){return Nn.lFrame.lView}function Hn(){return Nn.lFrame.tView}function cc(t){return Nn.lFrame.contextLView=t,t[Ar]}function ua(t){return Nn.lFrame.contextLView=null,t}function _o(){let t=Ns();for(;null!==t&&64===t.type;)t=t.parent;return t}function Ns(){return Nn.lFrame.currentTNode}function Qa(){const t=Nn.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}function No(t,r){const o=Nn.lFrame;o.currentTNode=t,o.isParent=r}function eo(){return Nn.lFrame.isParent}function Bl(){Nn.lFrame.isParent=!1}function Mo(){const t=Nn.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}function Oo(){return Nn.lFrame.bindingIndex++}function zo(t){const r=Nn.lFrame,o=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,o}function R(t){Nn.lFrame.inI18n=t}function b(t,r){const o=Nn.lFrame;o.bindingIndex=o.bindingRootIndex=t,B(r)}function B(t){Nn.lFrame.currentDirectiveIndex=t}function le(){return Nn.lFrame.currentQueryIndex}function ze(t){Nn.lFrame.currentQueryIndex=t}function He(t){const r=t[kt];return 2===r.type?r.declTNode:1===r.type?t[_r]:null}function Ht(t,r,o){if(o&Rt.SkipSelf){let d=r,g=t;for(;!(d=d.parent,null!==d||o&Rt.Host||(d=He(g),null===d||(g=g[jo],10&d.type))););if(null===d)return!1;r=d,t=g}const a=Nn.lFrame=Rr();return a.currentTNode=r,a.lView=t,!0}function Dn(t){const r=Rr(),o=t[kt];Nn.lFrame=r,r.currentTNode=o.firstChild,r.lView=t,r.tView=o,r.contextLView=t,r.bindingIndex=o.bindingStartIndex,r.inI18n=!1}function Rr(){const t=Nn.lFrame,r=null===t?null:t.child;return null===r?Tn(t):r}function Tn(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function Os(){const t=Nn.lFrame;return Nn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Ra=Os;function Mi(){const t=Os();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function vo(){return Nn.lFrame.selectedIndex}function Na(t){Nn.lFrame.selectedIndex=t}function ti(){const t=Nn.lFrame;return Ft(t.tView,t.selectedIndex)}let hc=!0;function $l(){return hc}function Ps(t){hc=t}function pc(t,r){for(let o=r.directiveStart,a=r.directiveEnd;o<a;o++){const g=t.data[o].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:w,ngAfterViewInit:N,ngAfterViewChecked:U,ngOnDestroy:Q}=g;y&&(t.contentHooks??=[]).push(-o,y),w&&((t.contentHooks??=[]).push(o,w),(t.contentCheckHooks??=[]).push(o,w)),N&&(t.viewHooks??=[]).push(-o,N),U&&((t.viewHooks??=[]).push(o,U),(t.viewCheckHooks??=[]).push(o,U)),null!=Q&&(t.destroyHooks??=[]).push(o,Q)}}function El(t,r,o){Hl(t,r,3,o)}function gc(t,r,o,a){(3&t[Wt])===o&&Hl(t,r,o,a)}function Ma(t,r){let o=t[Wt];(3&o)===r&&(o&=8191,o+=1,t[Wt]=o)}function Hl(t,r,o,a){const g=a??-1,y=r.length-1;let w=0;for(let N=void 0!==a?65535&t[qi]:0;N<y;N++)if("number"==typeof r[N+1]){if(w=r[N],null!=a&&w>=a)break}else r[N]<0&&(t[qi]+=65536),(w<g||-1==g)&&(sh(t,o,r,N),t[qi]=(4294901760&t[qi])+N+2),N++}function ld(t,r){mo(4,t,r);const o=Bi(null);try{r.call(t)}finally{Bi(o),mo(5,t,r)}}function sh(t,r,o,a){const d=o[a]<0,g=o[a+1],w=t[d?-o[a]:o[a]];d?t[Wt]>>13<t[qi]>>16&&(3&t[Wt])===r&&(t[Wt]+=8192,ld(w,g)):ld(w,g)}const Il=-1;class ms{constructor(r,o,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=a}}function Tr(t){return t!==Il}function ca(t){return 32767&t}function Po(t,r){let o=function _s(t){return t>>16}(t),a=r;for(;o>0;)a=a[jo],o--;return a}let ud=!0;function _c(t){const r=ud;return ud=t,r}const cd=255,Xa=5;let Di=0;const to={};function hi(t,r){const o=Mu(t,r);if(-1!==o)return o;const a=r[kt];a.firstCreatePass&&(t.injectorIndex=r.length,xs(a.data,t),xs(r,null),xs(a.blueprint,null));const d=da(t,r),g=t.injectorIndex;if(Tr(d)){const y=ca(d),w=Po(d,r),N=w[kt].data;for(let U=0;U<8;U++)r[g+U]=w[y+U]|N[y+U]}return r[g+8]=d,g}function xs(t,r){t.push(0,0,0,0,0,0,0,0,r)}function Mu(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function da(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let o=0,a=null,d=r;for(;null!==d;){if(a=Pu(d),null===a)return Il;if(o++,d=d[jo],-1!==a.injectorIndex)return a.injectorIndex|o<<16}return Il}function ha(t,r,o){!function zl(t,r,o){let a;"string"==typeof o?a=o.charCodeAt(0)||0:o.hasOwnProperty(Fi)&&(a=o[Fi]),null==a&&(a=o[Fi]=Di++);const d=a&cd;r.data[t+(d>>Xa)]|=1<<d}(t,r,o)}function Gs(t,r,o){if(o&Rt.Optional||void 0!==t)return t;gt()}function zs(t,r,o,a){if(o&Rt.Optional&&void 0===a&&(a=null),!(o&(Rt.Self|Rt.Host))){const d=t[Ii],g=jn(void 0);try{return d?d.get(r,a,o&Rt.Optional):wn(r,a,o&Rt.Optional)}finally{jn(g)}}return Gs(a,0,o)}function el(t,r,o,a=Rt.Default,d){if(null!==t){if(2048&r[Wt]&&!(a&Rt.Self)){const y=function dd(t,r,o,a,d){let g=t,y=r;for(;null!==g&&null!==y&&2048&y[Wt]&&!(512&y[Wt]);){const w=Pa(g,y,o,a|Rt.Self,to);if(w!==to)return w;let N=g.parent;if(!N){const U=y[pl];if(U){const Q=U.get(o,to,a);if(Q!==to)return Q}N=Pu(y),y=y[jo]}g=N}return d}(t,r,o,a,to);if(y!==to)return y}const g=Pa(t,r,o,a,to);if(g!==to)return g}return zs(r,o,a,d)}function Pa(t,r,o,a,d){const g=function Ou(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(Fi)?t[Fi]:void 0;return"number"==typeof r?r>=0?r&cd:yc:r}(o);if("function"==typeof g){if(!Ht(r,t,a))return a&Rt.Host?Gs(d,0,a):zs(r,o,a,d);try{let y;if(y=g(a),null!=y||a&Rt.Optional)return y;gt()}finally{Ra()}}else if("number"==typeof g){let y=null,w=Mu(t,r),N=Il,U=a&Rt.Host?r[ar][_r]:null;for((-1===w||a&Rt.SkipSelf)&&(N=-1===w?da(t,r):r[w+8],N!==Il&&bl(a,!1)?(y=r[kt],w=ca(N),r=Po(N,r)):w=-1);-1!==w;){const Q=r[kt];if(Ks(g,w,Q.data)){const ae=vc(w,r,o,y,a,U);if(ae!==to)return ae}N=r[w+8],N!==Il&&bl(a,r[kt].data[w+8]===U)&&Ks(g,w,r)?(y=Q,w=ca(N),r=Po(N,r)):w=-1}}return d}function vc(t,r,o,a,d,g){const y=r[kt],w=y.data[t+8],Q=Ws(w,y,o,null==a?Xr(w)&&ud:a!=y&&0!=(3&w.type),d&Rt.Host&&g===w);return null!==Q?qs(r,y,Q,w):to}function Ws(t,r,o,a,d){const g=t.providerIndexes,y=r.data,w=1048575&g,N=t.directiveStart,Q=g>>20,Re=d?w+Q:t.directiveEnd;for(let $e=a?w:w+Q;$e<Re;$e++){const dt=y[$e];if($e<N&&o===dt||$e>=N&&dt.type===o)return $e}if(d){const $e=y[N];if($e&&Gn($e)&&$e.type===o)return N}return null}function qs(t,r,o,a){let d=t[o];const g=r.data;if(function Gl(t){return t instanceof ms}(d)){const y=d;y.resolving&&function Ce(t,r){const o=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new me(-200,`Circular dependency in DI detected for ${t}${o}`)}(function Ke(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():_e(t)}(g[o]));const w=_c(y.canSeeViewProviders);y.resolving=!0;const U=y.injectImpl?jn(y.injectImpl):null;Ht(t,a,Rt.Default);try{d=t[o]=y.factory(void 0,g,t,a),r.firstCreatePass&&o>=a.directiveStart&&function fc(t,r,o){const{ngOnChanges:a,ngOnInit:d,ngDoCheck:g}=r.type.prototype;if(a){const y=ei(r);(o.preOrderHooks??=[]).push(t,y),(o.preOrderCheckHooks??=[]).push(t,y)}d&&(o.preOrderHooks??=[]).push(0-t,d),g&&((o.preOrderHooks??=[]).push(t,g),(o.preOrderCheckHooks??=[]).push(t,g))}(o,g[o],r)}finally{null!==U&&jn(U),_c(w),y.resolving=!1,Ra()}}return d}function Ks(t,r,o){return!!(o[r+(t>>Xa)]&1<<t)}function bl(t,r){return!(t&Rt.Self||t&Rt.Host&&r)}class xo{constructor(r,o){this._tNode=r,this._lView=o}get(r,o,a){return el(this._tNode,this._lView,r,en(a),o)}}function yc(){return new xo(_o(),mt())}function vs(t){return Fe(()=>{const r=t.prototype.constructor,o=r[yi]||ql(r),a=Object.prototype;let d=Object.getPrototypeOf(t.prototype).constructor;for(;d&&d!==a;){const g=d[yi]||ql(d);if(g&&g!==o)return g;d=Object.getPrototypeOf(d)}return g=>new g})}function ql(t){return ot(t)?()=>{const r=ql(Xe(t));return r&&r()}:ns(t)}function Pu(t){const r=t[kt],o=r.type;return 2===o?r.declTNode:1===o?t[_r]:null}function Ec(t){return function Oa(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const o=t.attrs;if(o){const a=o.length;let d=0;for(;d<a;){const g=o[d];if(ii(g))break;if(0===g)d+=2;else if("number"==typeof g)for(d++;d<a&&"string"==typeof o[d];)d++;else{if(g===r)return o[d+1];d+=2}}}return null}(_o(),t)}const Oi="__parameters__";function pa(t,r,o){return Fe(()=>{const a=function ks(t){return function(...o){if(t){const a=t(...o);for(const d in a)this[d]=a[d]}}}(r);function d(...g){if(this instanceof d)return a.apply(this,g),this;const y=new d(...g);return w.annotation=y,w;function w(N,U,Q){const ae=N.hasOwnProperty(Oi)?N[Oi]:Object.defineProperty(N,Oi,{value:[]})[Oi];for(;ae.length<=Q;)ae.push(null);return(ae[Q]=ae[Q]||[]).push(y),N}}return o&&(d.prototype=Object.create(o.prototype)),d.prototype.ngMetadataName=t,d.annotationCls=d,d})}function Zl(t,r){t.forEach(o=>Array.isArray(o)?Zl(o,r):r(o))}function gd(t,r,o){r>=t.length?t.push(o):t.splice(r,0,o)}function bc(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function Ql(t,r){const o=[];for(let a=0;a<t;a++)o.push(r);return o}function no(t,r,o){let a=ma(t,r);return a>=0?t[1|a]=o:(a=~a,function af(t,r,o,a){let d=t.length;if(d==r)t.push(o,a);else if(1===d)t.push(a,t[0]),t[0]=o;else{for(d--,t.push(t[d-1],t[d]);d>r;)t[d]=t[d-2],d--;t[r]=o,t[r+1]=a}}(t,a,r,o)),a}function ka(t,r){const o=ma(t,r);if(o>=0)return t[1|o]}function ma(t,r){return function _d(t,r,o){let a=0,d=t.length>>o;for(;d!==a;){const g=a+(d-a>>1),y=t[g<<o];if(r===y)return g<<o;y>r?d=g:a=g+1}return~(d<<o)}(t,r,1)}const Fu=hn(pa("Optional"),8),nl=hn(pa("SkipSelf"),4);function df(t){return 128==(128&t.flags)}var ru=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(ru||{});const iu=/^>|^->|<!--|-->|--!>|<!-$/g,Ag=/(<|>)/g,Sg="\u200b$1\u200b";const Vu=new Map;let cp=0;const pf="__ngContext__";function yo(t,r){pi(r)?(t[pf]=r[Yi],function hf(t){Vu.set(t[Yi],t)}(r)):t[pf]=r}let Ih;function _f(t,r){return Ih(t,r)}function Nc(t){const r=t[nr];return Yr(r)?r[nr]:r}function yf(t){return ou(t[Qo])}function mp(t){return ou(t[Gr])}function ou(t){for(;null!==t&&!Yr(t);)t=t[Gr];return t}function os(t,r,o,a,d){if(null!=a){let g,y=!1;Yr(a)?g=a:pi(a)&&(y=!0,a=a[cr]);const w=Cn(a);0===t&&null!==o?null==d?Sd(r,o,w):ju(r,o,w,d||null,!0):1===t&&null!==o?ju(r,o,w,d||null,!0):2===t?function Rd(t,r,o){const a=bf(t,r);a&&function Og(t,r,o,a){t.removeChild(r,o,a)}(t,a,r,o)}(r,w,y):3===t&&r.destroyNode(w),null!=g&&function kg(t,r,o,a,d){const g=o[Kr];g!==Cn(o)&&os(r,t,a,g,d);for(let w=li;w<o.length;w++){const N=o[w];il(N[kt],N,t,r,a,g)}}(r,t,g,o,d)}}function su(t,r){return t.createText(r)}function Hi(t,r){return t.createComment(function up(t){return t.replace(iu,r=>r.replace(Ag,Sg))}(r))}function Mc(t,r,o){return t.createElement(r,o)}function bh(t,r){const o=t[Co],a=o.indexOf(r);Xo(r),o.splice(a,1)}function Oc(t,r){if(t.length<=li)return;const o=li+r,a=t[o];if(a){const d=a[ws];null!==d&&d!==t&&bh(d,a),r>0&&(t[o-1][Gr]=a[Gr]);const g=bc(t,li+r);!function vp(t,r){il(t,r,r[yn],2,null,null),r[cr]=null,r[_r]=null}(a[kt],a);const y=g[Ki];null!==y&&y.detachView(g[kt]),a[nr]=null,a[Gr]=null,a[Wt]&=-129}return a}function Ad(t,r){if(!(256&r[Wt])){const o=r[yn];r[ds]&&Za(r[ds]),r[es]&&Za(r[es]),o.destroyNode&&il(t,r,o,3,null,null),function yp(t){let r=t[Qo];if(!r)return Dh(t[kt],t);for(;r;){let o=null;if(pi(r))o=r[Qo];else{const a=r[li];a&&(o=a)}if(!o){for(;r&&!r[Gr]&&r!==t;)pi(r)&&Dh(r[kt],r),r=r[nr];null===r&&(r=t),pi(r)&&Dh(r[kt],r),o=r&&r[Gr]}r=o}}(r)}}function Dh(t,r){if(!(256&r[Wt])){r[Wt]&=-129,r[Wt]|=256,function Pc(t,r){let o;if(null!=t&&null!=(o=t.destroyHooks))for(let a=0;a<o.length;a+=2){const d=r[o[a]];if(!(d instanceof ms)){const g=o[a+1];if(Array.isArray(g))for(let y=0;y<g.length;y+=2){const w=d[g[y]],N=g[y+1];mo(4,w,N);try{N.call(w)}finally{mo(5,w,N)}}else{mo(4,d,g);try{g.call(d)}finally{mo(5,d,g)}}}}}(t,r),function Ep(t,r){const o=t.cleanup,a=r[oo];if(null!==o)for(let g=0;g<o.length-1;g+=2)if("string"==typeof o[g]){const y=o[g+3];y>=0?a[y]():a[-y].unsubscribe(),g+=2}else o[g].call(a[o[g+1]]);null!==a&&(r[oo]=null);const d=r[cs];if(null!==d){r[cs]=null;for(let g=0;g<d.length;g++)(0,d[g])()}}(t,r),1===r[kt].type&&r[yn].destroy();const o=r[ws];if(null!==o&&Yr(r[nr])){o!==r[nr]&&bh(o,r);const a=r[Ki];null!==a&&a.detachView(t)}!function dp(t){Vu.delete(t[Yi])}(r)}}function xc(t,r,o){return Mg(t,r.parent,o)}function Mg(t,r,o){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return o[cr];{const{componentOffset:d}=a;if(d>-1){const{encapsulation:g}=t.data[a.directiveStart+d];if(g===Yt.None||g===Yt.Emulated)return null}return Ut(a,o)}}function ju(t,r,o,a,d){t.insertBefore(r,o,a,d)}function Sd(t,r,o){t.appendChild(r,o)}function If(t,r,o,a,d){null!==a?ju(t,r,o,a,d):Sd(t,r,o)}function bf(t,r){return t.parentNode(r)}function Pg(t,r,o){return lu(t,r,o)}function au(t,r,o){return 40&t.type?Ut(t,o):null}let Df,Tf,Ch,kd,lu=au;function xg(t,r){lu=t,Df=r}function kc(t,r,o,a){const d=xc(t,a,r),g=r[yn],w=Pg(a.parent||r[_r],a,r);if(null!=d)if(Array.isArray(o))for(let N=0;N<o.length;N++)If(g,d,o[N],w,!1);else If(g,d,o,w,!1);void 0!==Df&&Df(g,a,r,o,d)}function Ea(t,r){if(null!==r){const o=r.type;if(3&o)return Ut(r,t);if(4&o)return Th(-1,t[r.index]);if(8&o){const a=r.child;if(null!==a)return Ea(t,a);{const d=t[r.index];return Yr(d)?Th(-1,d):Cn(d)}}if(32&o)return _f(r,t)()||Cn(t[r.index]);{const a=Ip(t,r);return null!==a?Array.isArray(a)?a[0]:Ea(Nc(t[ar]),a):Ea(t,r.next)}}return null}function Ip(t,r){return null!==r?t[ar][_r].projection[r.projection]:null}function Th(t,r){const o=li+t+1;if(o<r.length){const a=r[o],d=a[kt].firstChild;if(null!==d)return Ea(a,d)}return r[Kr]}function uu(t,r,o,a,d,g,y){for(;null!=o;){const w=a[o.index],N=o.type;if(y&&0===r&&(w&&yo(Cn(w),a),o.flags|=2),32!=(32&o.flags))if(8&N)uu(t,r,o.child,a,d,g,!1),os(r,t,d,w,g);else if(32&N){const U=_f(o,a);let Q;for(;Q=U();)os(r,t,d,Q,g);os(r,t,d,w,g)}else 16&N?Md(t,r,a,o,d,g):os(r,t,d,w,g);o=y?o.projectionNext:o.next}}function il(t,r,o,a,d,g){uu(o,a,t.firstChild,r,d,g,!1)}function Md(t,r,o,a,d,g){const y=o[ar],N=y[_r].projection[a.projection];if(Array.isArray(N))for(let U=0;U<N.length;U++)os(r,t,d,N[U],g);else{let U=N;const Q=y[nr];df(a)&&(U.flags|=128),uu(t,r,U,Q,d,g,!0)}}function Tp(t,r,o){""===o?t.removeAttribute(r,"class"):t.setAttribute(r,"class",o)}function wh(t,r,o){const{mergedAttrs:a,classes:d,styles:g}=o;null!==a&&$n(t,r,a),null!==d&&Tp(t,r,d),null!==g&&function Dp(t,r,o){t.setAttribute(r,"style",o)}(t,r,g)}function Lc(t){return function wf(){if(void 0===Tf&&(Tf=null,Nt.trustedTypes))try{Tf=Nt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Tf}()?.createHTML(t)||t}function g_(t){Ch=t}function xd(){if(void 0!==Ch)return Ch;if(typeof document<"u")return document;throw new me(210,!1)}function wp(t){return function Vc(){if(void 0===kd&&(kd=null,Nt.trustedTypes))try{kd=Nt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return kd}()?.createScriptURL(t)||t}class Cp{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ct})`}}function La(t){return t instanceof Cp?t.changingThisBreaksApplicationSecurity:t}function Bc(t,r){const o=function Lg(t){return t instanceof Cp&&t.getTypeName()||null}(t);if(null!=o&&o!==r){if("ResourceURL"===o&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${o} (see ${Ct})`)}return o===r}class Fd{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const o=(new window.DOMParser).parseFromString(Lc(r),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(r):(o.removeChild(o.firstChild),o)}catch{return null}}}class Uc{constructor(r){this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(r){const o=this.inertDocument.createElement("template");return o.innerHTML=Lc(r),o}}const Vg=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Ah(t){return(t=String(t)).match(Vg)?t:"unsafe:"+t}function Gi(t){const r={};for(const o of t.split(","))r[o]=!0;return r}function Vd(...t){const r={};for(const o of t)for(const a in o)o.hasOwnProperty(a)&&(r[a]=!0);return r}const Sh=Gi("area,br,col,hr,img,wbr"),Rh=Gi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Pp=Gi("rp,rt"),h=Vd(Sh,Vd(Rh,Gi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Vd(Pp,Gi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Vd(Pp,Rh)),I=Gi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),E=Vd(I,Gi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Gi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"));var Sn=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Sn||{});function zn(t){const r=ir();return r?r.sanitize(Sn.URL,t)||"":Bc(t,"URL")?La(t):Ah(_e(t))}function Qn(t){const r=ir();if(r)return wp(r.sanitize(Sn.RESOURCE_URL,t)||"");if(Bc(t,"ResourceURL"))return wp(La(t));throw new me(904,!1)}function _i(t,r,o){return function Br(t,r){return"src"===r&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===r&&("base"===t||"link"===t)?Qn:zn}(r,o)(t)}function ir(){const t=mt();return t&&t[Uo].sanitizer}const Eo=new Pt("ENVIRONMENT_INITIALIZER"),Ia=new Pt("INJECTOR",-1),ss=new Pt("INJECTOR_DEF_TYPES");class Sl{get(r,o=Un){if(o===Un){const a=new Error(`NullInjectorError: No provider for ${ye(r)}!`);throw a.name="NullInjectorError",a}return o}}function Zs(...t){return{\u0275providers:ys(0,t),\u0275fromNgModule:!0}}function ys(t,...r){const o=[],a=new Set;let d;const g=y=>{o.push(y)};return Zl(r,y=>{const w=y;sl(w,g,[],a)&&(d||=[],d.push(w))}),void 0!==d&&hu(d,g),o}function hu(t,r){for(let o=0;o<t.length;o++){const{ngModule:a,providers:d}=t[o];Hu(d,g=>{r(g,a)})}}function sl(t,r,o,a){if(!(t=Xe(t)))return!1;let d=null,g=rt(t);const y=!g&&In(t);if(g||y){if(y&&!y.standalone)return!1;d=t}else{const N=t.ngModule;if(g=rt(N),!g)return!1;d=N}const w=a.has(d);if(y){if(w)return!1;if(a.add(d),y.dependencies){const N="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const U of N)sl(U,r,o,a)}}else{if(!g)return!1;{if(null!=g.imports&&!w){let U;a.add(d);try{Zl(g.imports,Q=>{sl(Q,r,o,a)&&(U||=[],U.push(Q))})}finally{}void 0!==U&&hu(U,r)}if(!w){const U=ns(d)||(()=>new d);r({provide:d,useFactory:U,deps:zt},d),r({provide:ss,useValue:d,multi:!0},d),r({provide:Eo,useValue:()=>bt(d),multi:!0},d)}const N=g.providers;if(null!=N&&!w){const U=t;Hu(N,Q=>{r(Q,U)})}}}return d!==t&&void 0!==t.providers}function Hu(t,r){for(let o of t)nt(o)&&(o=o.\u0275providers),Array.isArray(o)?Hu(o,r):r(o)}const Gu=re({provide:String,useValue:re});function al(t){return null!==t&&"object"==typeof t&&Gu in t}function Qs(t){return"function"==typeof t}const ul=new Pt("Set Injector scope."),jc={},xp={};let $c;function Hc(){return void 0===$c&&($c=new Sl),$c}class Ba{}class zu extends Ba{get destroyed(){return this._destroyed}constructor(r,o,a,d){super(),this.parent=o,this.source=a,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ud(r,y=>this.processProvider(y)),this.records.set(Ia,Ua(void 0,this)),d.has("environment")&&this.records.set(Ba,Ua(void 0,this));const g=this.records.get(ul);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(ss.multi,zt,Rt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of r)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const o=Ne(this),a=jn(void 0);try{return r()}finally{Ne(o),jn(a)}}get(r,o=Un,a=Rt.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(zr))return r[zr](this);a=en(a);const g=Ne(this),y=jn(void 0);try{if(!(a&Rt.SkipSelf)){let N=this.records.get(r);if(void 0===N){const U=function Nf(t){return"function"==typeof t||"object"==typeof t&&t instanceof Pt}(r)&&Qt(r);N=U&&this.injectableDefInScope(U)?Ua(Sf(r),jc):null,this.records.set(r,N)}if(null!=N)return this.hydrate(r,N)}return(a&Rt.Self?Hc():this.parent).get(r,o=a&Rt.Optional&&o===Un?null:o)}catch(w){if("NullInjectorError"===w.name){if((w[ki]=w[ki]||[]).unshift(ye(r)),g)throw w;return function qo(t,r,o,a){const d=t[ki];throw r[L]&&d.unshift(r[L]),t.message=function it(t,r,o,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let d=ye(r);if(Array.isArray(r))d=r.map(ye).join(" -> ");else if("object"==typeof r){let g=[];for(let y in r)if(r.hasOwnProperty(y)){let w=r[y];g.push(y+":"+("string"==typeof w?JSON.stringify(w):ye(w)))}d=`{${g.join(", ")}}`}return`${o}${a?"("+a+")":""}[${d}]: ${t.replace(J,"\n  ")}`}("\n"+t.message,d,o,a),t.ngTokenPath=d,t[ki]=null,t}(w,r,"R3InjectorError",this.source)}throw w}finally{jn(y),Ne(g)}}resolveInjectorInitializers(){const r=Ne(this),o=jn(void 0);try{const d=this.get(Eo.multi,zt,Rt.Self);for(const g of d)g()}finally{Ne(r),jn(o)}}toString(){const r=[],o=this.records;for(const a of o.keys())r.push(ye(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new me(205,!1)}processProvider(r){let o=Qs(r=Xe(r))?r:Xe(r&&r.provide);const a=function kp(t){return al(t)?Ua(void 0,t.useValue):Ua(Wu(t),jc)}(r);if(Qs(r)||!0!==r.multi)this.records.get(o);else{let d=this.records.get(o);d||(d=Ua(void 0,jc,!0),d.factory=()=>Ln(d.multi),this.records.set(o,d)),o=r,d.multi.push(r)}this.records.set(o,a)}hydrate(r,o){return o.value===jc&&(o.value=xp,o.value=o.factory()),"object"==typeof o.value&&o.value&&function qu(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(r){if(!r.providedIn)return!1;const o=Xe(r.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(r){const o=this._onDestroyHooks.indexOf(r);-1!==o&&this._onDestroyHooks.splice(o,1)}}function Sf(t){const r=Qt(t),o=null!==r?r.factory:ns(t);if(null!==o)return o;if(t instanceof Pt)throw new me(204,!1);if(t instanceof Function)return function Rf(t){const r=t.length;if(r>0)throw Ql(r,"?"),new me(204,!1);const o=function We(t){return t&&(t[Dt]||t[ln])||null}(t);return null!==o?()=>o.factory(t):()=>new t}(t);throw new me(204,!1)}function Wu(t,r,o){let a;if(Qs(t)){const d=Xe(t);return ns(d)||Sf(d)}if(al(t))a=()=>Xe(t.useValue);else if(function Va(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...Ln(t.deps||[]));else if(function ll(t){return!(!t||!t.useExisting)}(t))a=()=>bt(Xe(t.useExisting));else{const d=Xe(t&&(t.useClass||t.provide));if(!function Rl(t){return!!t.deps}(t))return ns(d)||Sf(d);a=()=>new d(...Ln(t.deps))}return a}function Ua(t,r,o=!1){return{factory:t,value:r,multi:o?[]:void 0}}function Ud(t,r){for(const o of t)Array.isArray(o)?Ud(o,r):o&&nt(o)?Ud(o.\u0275providers,r):r(o)}const jd=new Pt("AppId",{providedIn:"root",factory:()=>Fp}),Fp="ng",$d=new Pt("Platform Initializer"),Oh=new Pt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),__=new Pt("CSP nonce",{providedIn:"root",factory:()=>xd().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Wg=(t,r,o)=>null;function qg(t,r,o=!1){return Wg(t,r,o)}class y_{}class Up{}class ny{resolveComponentFactory(r){throw function Zg(t){const r=Error(`No component factory found for ${ye(t)}.`);return r.ngComponent=t,r}(r)}}let Vh=(()=>{class t{static#e=this.NULL=new ny}return t})();function ry(){return Wc(_o(),mt())}function Wc(t,r){return new Ff(Ut(t,r))}let Ff=(()=>{class t{constructor(o){this.nativeElement=o}static#e=this.__NG_ELEMENT_ID__=ry}return t})();function Qg(t){return t instanceof Ff?t.nativeElement:t}class Lf{}let Jg=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function E_(){const t=mt(),o=ft(_o().index,t);return(pi(o)?o:t)[yn]}()}return t})(),Bh=(()=>{class t{static#e=this.\u0275prov=on({token:t,providedIn:"root",factory:()=>null})}return t})();class jp{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const I_=new jp("16.2.11"),Xg={};function Vf(t){if(!cn()&&!function ie(){return k}())throw new me(-203,!1)}function Gp(t,r=null,o=null,a){const d=zp(t,r,o,a);return d.resolveInjectorInitializers(),d}function zp(t,r=null,o=null,a,d=new Set){const g=[o||zt,Zs(t)];return a=a||("object"==typeof t?void 0:ye(t)),new zu(g,r||Hc(),a||null,d)}let ja=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=Un;static#t=this.NULL=new Sl;static create(o,a){if(Array.isArray(o))return Gp({name:""},a,o,"");{const d=o.name??"";return Gp({name:d},o.parent,o.providers,d)}}static#n=this.\u0275prov=on({token:t,providedIn:"any",factory:()=>bt(Ia)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function Bf(t){return t.ngOriginalError}class $a{constructor(){this._console=console}handleError(r){const o=this._findOriginalError(r);this._console.error("ERROR",r),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(r){let o=r&&Bf(r);for(;o&&Bf(o);)o=Bf(o);return o||null}}let fu=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=Uh;static#t=this.__NG_ENV_ID__=o=>o}return t})();class D_ extends fu{constructor(r){super(),this._lView=r}onDestroy(r){return sd(this._lView,r),()=>function tf(t,r){if(null===t[cs])return;const o=t[cs].indexOf(r);-1!==o&&t[cs].splice(o,1)}(this._lView,r)}}function Uh(){return new D_(mt())}function nm(t){return r=>{setTimeout(t,void 0,r)}}const cl=class uy extends l.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,o,a){let d=r,g=o||(()=>null),y=a;if(r&&"object"==typeof r){const N=r;d=N.next?.bind(N),g=N.error?.bind(N),y=N.complete?.bind(N)}this.__isAsync&&(g=nm(g),d&&(d=nm(d)),y&&(y=nm(y)));const w=super.subscribe({next:d,error:g,complete:y});return r instanceof G.w0&&r.add(w),w}};function Wp(...t){}class ls{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new cl(!1),this.onMicrotaskEmpty=new cl(!1),this.onStable=new cl(!1),this.onError=new cl(!1),typeof Zone>"u")throw new me(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!a&&o,d.shouldCoalesceRunChangeDetection=a,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function rm(){const t="function"==typeof Nt.requestAnimationFrame;let r=Nt[t?"requestAnimationFrame":"setTimeout"],o=Nt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&r&&o){const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a);const d=o[Zone.__symbol__("OriginalDelegate")];d&&(o=d)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function dy(t){const r=()=>{!function im(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Nt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,qp(t),t.isCheckStableRunning=!0,Uf(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),qp(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,a,d,g,y,w)=>{if(function hy(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(w))return o.invokeTask(d,g,y,w);try{return w_(t),o.invokeTask(d,g,y,w)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||t.shouldCoalesceRunChangeDetection)&&r(),om(t)}},onInvoke:(o,a,d,g,y,w,N)=>{try{return w_(t),o.invoke(d,g,y,w,N)}finally{t.shouldCoalesceRunChangeDetection&&r(),om(t)}},onHasTask:(o,a,d,g)=>{o.hasTask(d,g),a===d&&("microTask"==g.change?(t._hasPendingMicrotasks=g.microTask,qp(t),Uf(t)):"macroTask"==g.change&&(t.hasPendingMacrotasks=g.macroTask))},onHandleError:(o,a,d,g)=>(o.handleError(d,g),t.runOutsideAngular(()=>t.onError.emit(g)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ls.isInAngularZone())throw new me(909,!1)}static assertNotInAngularZone(){if(ls.isInAngularZone())throw new me(909,!1)}run(r,o,a){return this._inner.run(r,o,a)}runTask(r,o,a,d){const g=this._inner,y=g.scheduleEventTask("NgZoneEvent: "+d,r,cy,Wp,Wp);try{return g.runTask(y,o,a)}finally{g.cancelTask(y)}}runGuarded(r,o,a){return this._inner.runGuarded(r,o,a)}runOutsideAngular(r){return this._outer.run(r)}}const cy={};function Uf(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function qp(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function w_(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function om(t){t._nesting--,Uf(t)}class C_{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new cl,this.onMicrotaskEmpty=new cl,this.onStable=new cl,this.onError=new cl}run(r,o,a){return r.apply(o,a)}runGuarded(r,o,a){return r.apply(o,a)}runOutsideAngular(r){return r()}runTask(r,o,a,d){return r.apply(o,a)}}const sm=new Pt("",{providedIn:"root",factory:am});function am(){const t=Bt(ls);let r=!0;const o=new ee.y(d=>{r=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{d.next(r),d.complete()})}),a=new ee.y(d=>{let g;t.runOutsideAngular(()=>{g=t.onStable.subscribe(()=>{ls.assertNotInAngularZone(),queueMicrotask(()=>{!r&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(r=!0,d.next(!0))})})});const y=t.onUnstable.subscribe(()=>{ls.assertInAngularZone(),r&&(r=!1,t.runOutsideAngular(()=>{d.next(!1)}))});return()=>{g.unsubscribe(),y.unsubscribe()}});return(0,he.T)(o,a.pipe((0,Te.B)()))}function Nl(t){return t instanceof Function?t():t}let Yp=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=on({token:t,providedIn:"root",factory:()=>new t})}return t})();function Kd(t){for(;t;){t[Wt]|=64;const r=Nc(t);if(Us(t)&&!r)return t;t=r}return null}const Zp=new Pt("",{providedIn:"root",factory:()=>!1});let jh=null;function pu(t,r){return t[r]??P_()}function Jp(t,r){const o=P_();o.producerNode?.length&&(t[r]=jh,o.lView=t,jh=Xp())}const vy={...Du,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Kd(t.lView)},lView:null};function Xp(){return Object.create(vy)}function P_(){return jh??=Xp(),jh}const Jn={};function eg(t){x_(Hn(),mt(),vo()+t,!1)}function x_(t,r,o,a){if(!a)if(3==(3&r[Wt])){const g=t.preOrderCheckHooks;null!==g&&El(r,g,o)}else{const g=t.preOrderHooks;null!==g&&gc(r,g,0,o)}Na(o)}function Yc(t,r=Rt.Default){const o=mt();return null===o?bt(t,r):el(_o(),o,Xe(t),r)}function k_(){throw new Error("invalid")}function tg(t,r,o,a,d,g,y,w,N,U,Q){const ae=r.blueprint.slice();return ae[cr]=d,ae[Wt]=140|a,(null!==U||t&&2048&t[Wt])&&(ae[Wt]|=2048),Cu(ae),ae[nr]=ae[jo]=t,ae[Ar]=o,ae[Uo]=y||t&&t[Uo],ae[yn]=w||t&&t[yn],ae[Ii]=N||t&&t[Ii]||null,ae[_r]=g,ae[Yi]=function yh(){return cp++}(),ae[Zi]=Q,ae[pl]=U,ae[ar]=2==r.type?t[ar]:ae,ae}function Zc(t,r,o,a,d){let g=t.data[r];if(null===g)g=ng(t,r,o,a,d),function T(){return Nn.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=o,g.value=a,g.attrs=d;const y=Qa();g.injectorIndex=null===y?-1:y.injectorIndex}return No(g,!0),g}function ng(t,r,o,a,d){const g=Ns(),y=eo(),N=t.data[r]=function $h(t,r,o,a,d,g){let y=r?r.injectorIndex:-1,w=0;return Go()&&(w|=128),{type:o,index:a,insertBeforeIndex:null,injectorIndex:y,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:w,providerIndexes:0,value:d,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?g:g&&g.parent,o,r,a,d);return null===t.firstChild&&(t.firstChild=N),null!==g&&(y?null==g.child&&null!==N.parent&&(g.child=N):null===g.next&&(g.next=N,N.prev=g)),N}function Yd(t,r,o,a){if(0===o)return-1;const d=r.length;for(let g=0;g<o;g++)r.push(a),t.blueprint.push(a),t.data.push(null);return d}function pm(t,r,o,a,d){const g=pu(r,ds),y=vo(),w=2&a;try{Na(-1),w&&r.length>vn&&x_(t,r,vn,!1),mo(w?2:0,d);const U=w?g:null,Q=oa(U);try{null!==U&&(U.dirty=!1),o(a,d)}finally{Ji(U,Q)}}finally{w&&null===r[ds]&&Jp(r,ds),Na(y),mo(w?3:1,d)}}function gm(t,r,o){if(ts(r)){const a=Bi(null);try{const g=r.directiveEnd;for(let y=r.directiveStart;y<g;y++){const w=t.data[y];w.contentQueries&&w.contentQueries(1,o[y],y)}}finally{Bi(a)}}}function mm(t,r,o){mn()&&(function Im(t,r,o,a){const d=o.directiveStart,g=o.directiveEnd;Xr(o)&&function Tm(t,r,o){const a=Ut(r,t),d=F_(o);let y=16;o.signals?y=4096:o.onPush&&(y=64);const w=og(t,tg(t,d,null,y,a,r,null,t[Uo].rendererFactory.createRenderer(a,o),null,null,null));t[r.index]=w}(r,o,t.data[d+o.componentOffset]),t.firstCreatePass||hi(o,r),yo(a,r);const y=o.initialInputs;for(let w=d;w<g;w++){const N=t.data[w],U=qs(r,t,w,o);yo(U,r),null!==y&&Ty(0,w-d,U,N,0,y),Gn(N)&&(ft(o.index,r)[Ar]=qs(r,t,w,o))}}(t,r,o,Ut(o,r)),64==(64&o.flags)&&Kf(t,r,o))}function Hf(t,r,o=Ut){const a=r.localNames;if(null!==a){let d=r.index+1;for(let g=0;g<a.length;g+=2){const y=a[g+1],w=-1===y?o(r,t):t[y];t[d++]=w}}}function F_(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=Gf(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):r}function Gf(t,r,o,a,d,g,y,w,N,U,Q){const ae=vn+a,Re=ae+d,$e=function _m(t,r){const o=[];for(let a=0;a<r;a++)o.push(a<t?null:Jn);return o}(ae,Re),dt="function"==typeof U?U():U;return $e[kt]={type:t,blueprint:$e,template:o,queries:null,viewQuery:w,declTNode:r,data:$e.slice().fill(null,ae),bindingStartIndex:ae,expandoStartIndex:Re,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:N,consts:dt,incompleteFirstPass:!1,ssrId:Q}}let zf=t=>null;function ym(t,r,o,a){for(let d in t)if(t.hasOwnProperty(d)){o=null===o?{}:o;const g=t[d];null===a?Wf(o,r,d,g):a.hasOwnProperty(d)&&Wf(o,r,a[d],g)}return o}function Wf(t,r,o,a){t.hasOwnProperty(o)?t[o].push(r,a):t[o]=[r,a]}function Ha(t,r,o,a,d,g,y,w){const N=Ut(r,o);let Q,U=r.inputs;!w&&null!=U&&(Q=U[a])?(Yf(t,o,Q,a,d),Xr(r)&&function Dy(t,r){const o=ft(r,t);16&o[Wt]||(o[Wt]|=64)}(o,r.index)):3&r.type&&(a=function by(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),d=null!=y?y(d,r.value||"",a):d,g.setProperty(N,a,d))}function qf(t,r,o,a){if(mn()){const d=null===a?null:{"":-1},g=function j_(t,r){const o=t.directiveRegistry;let a=null,d=null;if(o)for(let g=0;g<o.length;g++){const y=o[g];if(Ls(r,y.selectors,!1))if(a||(a=[]),Gn(y))if(null!==y.findHostDirectiveDefs){const w=[];d=d||new Map,y.findHostDirectiveDefs(y,w,d),a.unshift(...w,y),Qc(t,r,w.length)}else a.unshift(y),Qc(t,r,0);else d=d||new Map,y.findHostDirectiveDefs?.(y,a,d),a.push(y)}return null===a?null:[a,d]}(t,o);let y,w;null===g?y=w=null:[y,w]=g,null!==y&&ig(t,r,o,y,d,w),d&&function $_(t,r,o){if(r){const a=t.localNames=[];for(let d=0;d<r.length;d+=2){const g=o[r[d+1]];if(null==g)throw new me(-301,!1);a.push(r[d],g)}}}(o,a,d)}o.mergedAttrs=tr(o.mergedAttrs,o.attrs)}function ig(t,r,o,a,d,g){for(let U=0;U<a.length;U++)ha(hi(o,r),t,a[U].type);!function H_(t,r,o){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+o,t.providerIndexes=r}(o,t.data.length,a.length);for(let U=0;U<a.length;U++){const Q=a[U];Q.providersResolver&&Q.providersResolver(Q)}let y=!1,w=!1,N=Yd(t,r,a.length,null);for(let U=0;U<a.length;U++){const Q=a[U];o.mergedAttrs=tr(o.mergedAttrs,Q.hostAttrs),Hh(t,o,r,N,Q),Dm(N,Q,d),null!==Q.contentQueries&&(o.flags|=4),(null!==Q.hostBindings||null!==Q.hostAttrs||0!==Q.hostVars)&&(o.flags|=64);const ae=Q.type.prototype;!y&&(ae.ngOnChanges||ae.ngOnInit||ae.ngDoCheck)&&((t.preOrderHooks??=[]).push(o.index),y=!0),!w&&(ae.ngOnChanges||ae.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(o.index),w=!0),N++}!function Iy(t,r,o){const d=r.directiveEnd,g=t.data,y=r.attrs,w=[];let N=null,U=null;for(let Q=r.directiveStart;Q<d;Q++){const ae=g[Q],Re=o?o.get(ae):null,dt=Re?Re.outputs:null;N=ym(ae.inputs,Q,N,Re?Re.inputs:null),U=ym(ae.outputs,Q,U,dt);const At=null===N||null===y||Ri(r)?null:wy(N,Q,y);w.push(At)}null!==N&&(N.hasOwnProperty("class")&&(r.flags|=8),N.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=w,r.inputs=N,r.outputs=U}(t,o,g)}function Kf(t,r,o){const a=o.directiveStart,d=o.directiveEnd,g=o.index,y=function M(){return Nn.lFrame.currentDirectiveIndex}();try{Na(g);for(let w=a;w<d;w++){const N=t.data[w],U=r[w];B(w),(null!==N.hostBindings||0!==N.hostVars||null!==N.hostAttrs)&&bm(N,U)}}finally{Na(-1),B(y)}}function bm(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function Qc(t,r,o){r.componentOffset=o,(t.components??=[]).push(r.index)}function Dm(t,r,o){if(o){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)o[r.exportAs[a]]=t;Gn(r)&&(o[""]=t)}}function Hh(t,r,o,a,d){t.data[a]=d;const g=d.factory||(d.factory=ns(d.type)),y=new ms(g,Gn(d),Yc);t.blueprint[a]=y,o[a]=y,function U_(t,r,o,a,d){const g=d.hostBindings;if(g){let y=t.hostBindingOpCodes;null===y&&(y=t.hostBindingOpCodes=[]);const w=~r.index;(function Em(t){let r=t.length;for(;r>0;){const o=t[--r];if("number"==typeof o&&o<0)return o}return 0})(y)!=w&&y.push(w),y.push(o,a,g)}}(t,r,a,Yd(t,o,d.hostVars,Jn),d)}function gu(t,r,o,a,d,g){const y=Ut(t,r);!function wm(t,r,o,a,d,g,y){if(null==g)t.removeAttribute(r,d,o);else{const w=null==y?_e(g):y(g,a||"",d);t.setAttribute(r,d,w,o)}}(r[yn],y,g,t.value,o,a,d)}function Ty(t,r,o,a,d,g){const y=g[r];if(null!==y)for(let w=0;w<y.length;)Cm(a,o,y[w++],y[w++],y[w++])}function Cm(t,r,o,a,d){const g=Bi(null);try{const y=t.inputTransforms;null!==y&&y.hasOwnProperty(a)&&(d=y[a].call(r,d)),null!==t.setInput?t.setInput(r,d,o,a):r[a]=d}finally{Bi(g)}}function wy(t,r,o){let a=null,d=0;for(;d<o.length;){const g=o[d];if(0!==g)if(5!==g){if("number"==typeof g)break;if(t.hasOwnProperty(g)){null===a&&(a=[]);const y=t[g];for(let w=0;w<y.length;w+=2)if(y[w]===r){a.push(g,y[w+1],o[d+1]);break}}d+=2}else d+=2;else d+=4}return a}function Am(t,r,o,a){return[t,!0,!1,r,null,0,a,o,null,null,null]}function G_(t,r){const o=t.contentQueries;if(null!==o)for(let a=0;a<o.length;a+=2){const g=o[a+1];if(-1!==g){const y=t.data[g];ze(o[a]),y.contentQueries(2,r[g],g)}}}function og(t,r){return t[Qo]?t[ai][Gr]=r:t[Qo]=r,t[ai]=r,r}function Sm(t,r,o){ze(0);const a=Bi(null);try{r(t,o)}finally{Bi(a)}}function z_(t){return t[oo]||(t[oo]=[])}function W_(t){return t.cleanup||(t.cleanup=[])}function Nm(t,r){const o=t[Ii],a=o?o.get($a,null):null;a&&a.handleError(r)}function Yf(t,r,o,a,d){for(let g=0;g<o.length;){const y=o[g++],w=o[g++];Cm(t.data[y],r[y],a,w,d)}}function Zu(t,r,o){const a=Kt(r,t);!function _p(t,r,o){t.setValue(r,o)}(t[yn],a,o)}function q_(t,r){const o=ft(r,t),a=o[kt];!function K_(t,r){for(let o=r.length;o<t.blueprint.length;o++)r.push(t.blueprint[o])}(a,o);const d=o[cr];null!==d&&null===o[Zi]&&(o[Zi]=qg(d,o[Ii])),Gh(a,o,o[Ar])}function Gh(t,r,o){Dn(r);try{const a=t.viewQuery;null!==a&&Sm(1,a,o);const d=t.template;null!==d&&pm(t,r,d,1,o),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&G_(t,r),t.staticViewQueries&&Sm(2,t.viewQuery,o);const g=t.components;null!==g&&function Nr(t,r){for(let o=0;o<r.length;o++)q_(t,r[o])}(r,g)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{r[Wt]&=-5,Mi()}}let Mm=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(o,a,d){const g=typeof Zone>"u"?null:Zone.current,y=function ct(t,r,o){const a=Object.create(Dr);o&&(a.consumerAllowSignalWrites=!0),a.fn=t,a.schedule=r;const d=y=>{a.cleanupFn=y};return a.ref={notify:()=>wa(a),run:()=>{if(a.dirty=!1,a.hasRun&&!kl(a))return;a.hasRun=!0;const y=oa(a);try{a.cleanupFn(),a.cleanupFn=qt,a.fn(d)}finally{Ji(a,y)}},cleanup:()=>a.cleanupFn()},a.ref}(o,U=>{this.all.has(U)&&this.queue.set(U,g)},d);let w;this.all.add(y),y.notify();const N=()=>{y.cleanup(),w?.(),this.all.delete(y),this.queue.delete(y)};return w=a?.onDestroy(N),{destroy:N}}flush(){if(0!==this.queue.size)for(const[o,a]of this.queue)this.queue.delete(o),a?a.run(()=>o.run()):o.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=on({token:t,providedIn:"root",factory:()=>new t})}return t})();function Jc(t,r,o){let a=o?t.styles:null,d=o?t.classes:null,g=0;if(null!==r)for(let y=0;y<r.length;y++){const w=r[y];"number"==typeof w?g=w:1==g?d=be(d,w):2==g&&(a=be(a,w+": "+r[++y]+";"))}o?t.styles=a:t.stylesWithoutHost=a,o?t.classes=d:t.classesWithoutHost=d}function Zf(t,r,o,a,d=!1){for(;null!==o;){const g=r[o.index];null!==g&&a.push(Cn(g)),Yr(g)&&us(g,a);const y=o.type;if(8&y)Zf(t,r,o.child,a);else if(32&y){const w=_f(o,r);let N;for(;N=w();)a.push(N)}else if(16&y){const w=Ip(r,o);if(Array.isArray(w))a.push(...w);else{const N=Nc(r[ar]);Zf(N[kt],N,w,a,!0)}}o=d?o.projectionNext:o.next}return a}function us(t,r){for(let o=li;o<t.length;o++){const a=t[o],d=a[kt].firstChild;null!==d&&Zf(a[kt],a,d,r)}t[Kr]!==t[cr]&&r.push(t[Kr])}function ro(t,r,o,a=!0){const d=r[Uo],g=d.rendererFactory,y=d.afterRenderEventManager;g.begin?.(),y?.begin();try{Ay(t,r,t.template,o)}catch(N){throw a&&Nm(r,N),N}finally{g.end?.(),d.effectManager?.flush(),y?.end()}}function Ay(t,r,o,a){const d=r[Wt];if(256!=(256&d)){r[Uo].effectManager?.flush(),Dn(r);try{Cu(r),function jl(t){return Nn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==o&&pm(t,r,o,2,a);const y=3==(3&d);if(y){const U=t.preOrderCheckHooks;null!==U&&El(r,U,null)}else{const U=t.preOrderHooks;null!==U&&gc(r,U,0,null),Ma(r,0)}if(function IE(t){for(let r=yf(t);null!==r;r=mp(r)){if(!r[hs])continue;const o=r[Co];for(let a=0;a<o.length;a++){lc(o[a])}}}(r),Z_(r,2),null!==t.contentQueries&&G_(t,r),y){const U=t.contentCheckHooks;null!==U&&El(r,U)}else{const U=t.contentHooks;null!==U&&gc(r,U,1),Ma(r,1)}!function fm(t,r){const o=t.hostBindingOpCodes;if(null===o)return;const a=pu(r,es);try{for(let d=0;d<o.length;d++){const g=o[d];if(g<0)Na(~g);else{const y=g,w=o[++d],N=o[++d];b(w,y),a.dirty=!1;const U=oa(a);try{N(2,r[y])}finally{Ji(a,U)}}}}finally{null===r[es]&&Jp(r,es),Na(-1)}}(t,r);const w=t.components;null!==w&&sg(r,w,0);const N=t.viewQuery;if(null!==N&&Sm(2,N,a),y){const U=t.viewCheckHooks;null!==U&&El(r,U)}else{const U=t.viewHooks;null!==U&&gc(r,U,2),Ma(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[Wt]&=-73,Xo(r)}finally{Mi()}}}function Z_(t,r){for(let o=yf(t);null!==o;o=mp(o))for(let a=li;a<o.length;a++)J_(o[a],r)}function Q_(t,r,o){J_(ft(r,t),o)}function J_(t,r){if(!function ac(t){return 128==(128&t[Wt])}(t))return;const o=t[kt],a=t[Wt];if(80&a&&0===r||1024&a||2===r)Ay(o,t,o.template,t[Ar]);else if(t[Ei]>0){Z_(t,1);const d=o.components;null!==d&&sg(t,d,1)}}function sg(t,r,o){for(let a=0;a<r.length;a++)Q_(t,r[a],o)}class Qf{get rootNodes(){const r=this._lView,o=r[kt];return Zf(o,r,o.firstChild,[])}constructor(r,o){this._lView=r,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ar]}set context(r){this._lView[Ar]=r}get destroyed(){return 256==(256&this._lView[Wt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[nr];if(Yr(r)){const o=r[8],a=o?o.indexOf(this):-1;a>-1&&(Oc(r,a),bc(o,a))}this._attachedToViewContainer=!1}Ad(this._lView[kt],this._lView)}onDestroy(r){sd(this._lView,r)}markForCheck(){Kd(this._cdRefInjectingView||this._lView)}detach(){this._lView[Wt]&=-129}reattach(){this._lView[Wt]|=128}detectChanges(){ro(this._lView[kt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new me(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Al(t,r){il(t,r,r[yn],2,null,null)}(this._lView[kt],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new me(902,!1);this._appRef=r}}class bE extends Qf{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;ro(r[kt],r,r[Ar],!1)}checkNoChanges(){}get context(){return null}}class wi extends Vh{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const o=In(r);return new zh(o,this.ngModule)}}function Sy(t){const r=[];for(let o in t)t.hasOwnProperty(o)&&r.push({propName:t[o],templateName:o});return r}class Lo{constructor(r,o){this.injector=r,this.parentInjector=o}get(r,o,a){a=en(a);const d=this.injector.get(r,Xg,a);return d!==Xg||o===Xg?d:this.parentInjector.get(r,o,a)}}class zh extends Up{get inputs(){const r=this.componentDef,o=r.inputTransforms,a=Sy(r.inputs);if(null!==o)for(const d of a)o.hasOwnProperty(d.propName)&&(d.transform=o[d.propName]);return a}get outputs(){return Sy(this.componentDef.outputs)}constructor(r,o){super(),this.componentDef=r,this.ngModule=o,this.componentType=r.type,this.selector=function Li(t){return t.map(Wa).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!o}create(r,o,a,d){let g=(d=d||this.ngModule)instanceof Ba?d:d?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const y=g?new Lo(r,g):r,w=y.get(Lf,null);if(null===w)throw new me(407,!1);const ae={rendererFactory:w,sanitizer:y.get(Bh,null),effectManager:y.get(Mm,null),afterRenderEventManager:y.get(Yp,null)},Re=w.createRenderer(null,this.componentDef),$e=this.componentDef.selectors[0][0]||"div",dt=a?function vm(t,r,o,a){const g=a.get(Zp,!1)||o===Yt.ShadowDom,y=t.selectRootElement(r,g);return function yy(t){zf(t)}(y),y}(Re,a,this.componentDef.encapsulation,y):Mc(Re,$e,function Ry(t){const r=t.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}($e)),bn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Et=null;null!==dt&&(Et=qg(dt,y,!0));const Kn=Gf(0,null,null,1,0,null,null,null,null,null,null),Ir=tg(null,Kn,null,bn,null,null,ae,Re,y,null,Et);let Ci,hl;Dn(Ir);try{const ih=this.componentDef;let wg,_E=null;ih.findHostDirectiveDefs?(wg=[],_E=new Map,ih.findHostDirectiveDefs(ih,wg,_E),wg.push(ih)):wg=[ih];const JC=function TE(t,r){const o=t[kt],a=vn;return t[a]=r,Zc(o,a,2,"#host",null)}(Ir,dt),XC=function X_(t,r,o,a,d,g,y){const w=d[kt];!function wE(t,r,o,a){for(const d of t)r.mergedAttrs=tr(r.mergedAttrs,d.hostAttrs);null!==r.mergedAttrs&&(Jc(r,r.mergedAttrs,!0),null!==o&&wh(a,o,r))}(a,t,r,y);let N=null;null!==r&&(N=qg(r,d[Ii]));const U=g.rendererFactory.createRenderer(r,o);let Q=16;o.signals?Q=4096:o.onPush&&(Q=64);const ae=tg(d,F_(o),null,Q,d[t.index],t,g,U,null,null,N);return w.firstCreatePass&&Qc(w,t,a.length-1),og(d,ae),d[t.index]=ae}(JC,dt,ih,wg,Ir,ae,Re);hl=Ft(Kn,vn),dt&&function AE(t,r,o,a){if(a)$n(t,o,["ng-version",I_.full]);else{const{attrs:d,classes:g}=function Ds(t){const r=[],o=[];let a=1,d=2;for(;a<t.length;){let g=t[a];if("string"==typeof g)2===d?""!==g&&r.push(g,t[++a]):8===d&&o.push(g);else{if(!Wr(d))break;d=g}a++}return{attrs:r,classes:o}}(r.selectors[0]);d&&$n(t,o,d),g&&g.length>0&&Tp(t,o,g.join(" "))}}(Re,ih,dt,a),void 0!==o&&function SE(t,r,o){const a=t.projection=[];for(let d=0;d<r.length;d++){const g=o[d];a.push(null!=g?Array.from(g):null)}}(hl,this.ngContentSelectors,o),Ci=function CE(t,r,o,a,d,g){const y=_o(),w=d[kt],N=Ut(y,d);ig(w,d,y,o,null,a);for(let Q=0;Q<o.length;Q++)yo(qs(d,w,y.directiveStart+Q,y),d);Kf(w,d,y),N&&yo(N,d);const U=qs(d,w,y.directiveStart+y.componentOffset,y);if(t[Ar]=d[Ar]=U,null!==g)for(const Q of g)Q(U,r);return gm(w,y,t),U}(XC,ih,wg,_E,Ir,[RE]),Gh(Kn,Ir,null)}finally{Mi()}return new DE(this.componentType,Ci,Wc(hl,Ir),Ir,hl)}}class DE extends y_{constructor(r,o,a,d,g){super(),this.location=a,this._rootLView=d,this._tNode=g,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new bE(d),this.componentType=r}setInput(r,o){const a=this._tNode.inputs;let d;if(null!==a&&(d=a[r])){if(this.previousInputValues??=new Map,this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),o))return;const g=this._rootLView;Yf(g[kt],g,d,r,o),this.previousInputValues.set(r,o),Kd(ft(this._tNode.index,g))}}get injector(){return new xo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function RE(){const t=_o();pc(mt()[kt],t)}function ev(t){let r=function Ny(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),o=!0;const a=[t];for(;r;){let d;if(Gn(t))d=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new me(903,!1);d=r.\u0275dir}if(d){if(o){a.push(d);const y=t;y.inputs=Xc(t.inputs),y.inputTransforms=Xc(t.inputTransforms),y.declaredInputs=Xc(t.declaredInputs),y.outputs=Xc(t.outputs);const w=d.hostBindings;w&&Wh(t,w);const N=d.viewQuery,U=d.contentQueries;if(N&&My(t,N),U&&Zd(t,U),ue(t.inputs,d.inputs),ue(t.declaredInputs,d.declaredInputs),ue(t.outputs,d.outputs),null!==d.inputTransforms&&(null===y.inputTransforms&&(y.inputTransforms={}),ue(y.inputTransforms,d.inputTransforms)),Gn(d)&&d.data.animation){const Q=t.data;Q.animation=(Q.animation||[]).concat(d.data.animation)}}const g=d.features;if(g)for(let y=0;y<g.length;y++){const w=g[y];w&&w.ngInherit&&w(t),w===ev&&(o=!1)}}r=Object.getPrototypeOf(r)}!function tv(t){let r=0,o=null;for(let a=t.length-1;a>=0;a--){const d=t[a];d.hostVars=r+=d.hostVars,d.hostAttrs=tr(d.hostAttrs,o=tr(o,d.hostAttrs))}}(a)}function Xc(t){return t===gn?{}:t===zt?[]:t}function My(t,r){const o=t.viewQuery;t.viewQuery=o?(a,d)=>{r(a,d),o(a,d)}:r}function Zd(t,r){const o=t.contentQueries;t.contentQueries=o?(a,d,g)=>{r(a,d,g),o(a,d,g)}:r}function Wh(t,r){const o=t.hostBindings;t.hostBindings=o?(a,d)=>{r(a,d),o(a,d)}:r}function rv(t){return r=>{r.findHostDirectiveDefs=iv,r.hostDirectives=(Array.isArray(t)?t:t()).map(o=>"function"==typeof o?{directive:Xe(o),inputs:gn,outputs:gn}:{directive:Xe(o.directive),inputs:Pm(o.inputs),outputs:Pm(o.outputs)})}}function iv(t,r,o){if(null!==t.hostDirectives)for(const a of t.hostDirectives){const d=sr(a.directive);ov(d.declaredInputs,a.inputs),iv(d,r,o),o.set(d,a),r.push(d)}}function Pm(t){if(void 0===t||0===t.length)return gn;const r={};for(let o=0;o<t.length;o+=2)r[t[o]]=t[o+1];return r}function ov(t,r){for(const o in r)r.hasOwnProperty(o)&&(t[r[o]]=t[o])}function Qd(t){const r=t.inputConfig,o={};for(const a in r)if(r.hasOwnProperty(a)){const d=r[a];Array.isArray(d)&&d[2]&&(o[a]=d[2])}t.inputTransforms=o}function ed(t){return!!Fm(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Fm(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function mu(t,r,o){return t[r]=o}function Es(t,r,o){return!Object.is(t[r],o)&&(t[r]=o,!0)}function td(t,r,o,a){const d=Es(t,r,o);return Es(t,r+1,a)||d}function ag(t,r,o,a){const d=mt();return Es(d,Oo(),r)&&(Hn(),gu(ti(),d,t,r,o,a)),ag}function vu(t,r,o,a){return Es(t,Oo(),o)?r+_e(o)+a:Jn}function Kh(t,r,o,a,d,g){const w=td(t,function Pe(){return Nn.lFrame.bindingIndex}(),o,d);return zo(2),w?r+_e(o)+a+_e(d)+g:Jn}function Uy(t,r,o,a,d,g,y,w){const N=mt(),U=Hn(),Q=t+vn,ae=U.firstCreatePass?function $E(t,r,o,a,d,g,y,w,N){const U=r.consts,Q=Zc(r,t,4,y||null,gs(U,w));qf(r,o,Q,gs(U,N)),pc(r,Q);const ae=Q.tView=Gf(2,Q,a,d,g,r.directiveRegistry,r.pipeRegistry,null,r.schemas,U,null);return null!==r.queries&&(r.queries.template(r,Q),ae.queries=r.queries.embeddedTView(Q)),Q}(Q,U,N,r,o,a,d,g,y):U.data[Q];No(ae,!1);const Re=fv(U,N,ae,t);$l()&&kc(U,N,Re,ae),yo(Re,N),og(N,N[Q]=Am(Re,N,Re,ae)),$o(ae)&&mm(U,N,ae),null!=y&&Hf(N,ae,w)}let fv=function jy(t,r,o,a){return Ps(!0),r[yn].createComment("")};function Gy(t){return Qe(function Ul(){return Nn.lFrame.contextLView}(),vn+t)}function rh(t,r,o){const a=mt();return Es(a,Oo(),r)&&Ha(Hn(),ti(),a,t,r,a[yn],o,!1),rh}function ep(t,r,o,a,d){const y=d?"class":"style";Yf(t,o,r.inputs[y],y,a)}function fg(t,r,o,a){const d=mt(),g=Hn(),y=vn+t,w=d[yn],N=g.firstCreatePass?function GE(t,r,o,a,d,g){const y=r.consts,N=Zc(r,t,2,a,gs(y,d));return qf(r,o,N,gs(y,g)),null!==N.attrs&&Jc(N,N.attrs,!1),null!==N.mergedAttrs&&Jc(N,N.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,N),N}(y,g,d,r,o,a):g.data[y],U=pv(g,d,N,w,r,t);d[y]=U;const Q=$o(N);return No(N,!0),wh(w,U,N),32!=(32&N.flags)&&$l()&&kc(g,d,U,N),0===function Sa(){return Nn.lFrame.elementDepthCount}()&&yo(U,d),function Au(){Nn.lFrame.elementDepthCount++}(),Q&&(mm(g,d,N),gm(g,N,d)),null!==a&&Hf(d,N),fg}function pg(){let t=_o();eo()?Bl():(t=t.parent,No(t,!1));const r=t;(function fr(t){return Nn.skipHydrationRootTNode===t})(r)&&function yl(){Nn.skipHydrationRootTNode=null}(),function gi(){Nn.lFrame.elementDepthCount--}();const o=Hn();return o.firstCreatePass&&(pc(o,t),ts(t)&&o.queries.elementEnd(t)),null!=r.classesWithoutHost&&function rf(t){return 0!=(8&t.flags)}(r)&&ep(o,r,mt(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Zr(t){return 0!=(16&t.flags)}(r)&&ep(o,r,mt(),r.stylesWithoutHost,!1),pg}function jm(t,r,o,a){return fg(t,r,o,a),pg(),jm}let pv=(t,r,o,a,d,g)=>(Ps(!0),Mc(a,d,function Ru(){return Nn.lFrame.currentNamespace}()));function $m(t,r,o){const a=mt(),d=Hn(),g=t+vn,y=d.firstCreatePass?function WE(t,r,o,a,d){const g=r.consts,y=gs(g,a),w=Zc(r,t,8,"ng-container",y);return null!==y&&Jc(w,y,!0),qf(r,o,w,gs(g,d)),null!==r.queries&&r.queries.elementStart(r,w),w}(g,d,a,r,o):d.data[g];No(y,!0);const w=mv(d,a,y,t);return a[g]=w,$l()&&kc(d,a,w,y),yo(w,a),$o(y)&&(mm(d,a,y),gm(d,y,a)),null!=o&&Hf(a,y),$m}function Hm(){let t=_o();const r=Hn();return eo()?Bl():(t=t.parent,No(t,!1)),r.firstCreatePass&&(pc(r,t),ts(t)&&r.queries.elementEnd(t)),Hm}let mv=(t,r,o,a)=>(Ps(!0),Hi(r[yn],""));function _v(){return mt()}function Gm(t){return!!t&&"function"==typeof t.then}function tp(t){return!!t&&"function"==typeof t.subscribe}function zm(t,r,o,a){const d=mt(),g=Hn(),y=_o();return function Ky(t,r,o,a,d,g,y){const w=$o(a),U=t.firstCreatePass&&W_(t),Q=r[Ar],ae=z_(r);let Re=!0;if(3&a.type||y){const At=Ut(a,r),Xt=y?y(At):At,bn=ae.length,Et=y?Ir=>y(Cn(Ir[a.index])):a.index;let Kn=null;if(!y&&w&&(Kn=function KE(t,r,o,a){const d=t.cleanup;if(null!=d)for(let g=0;g<d.length-1;g+=2){const y=d[g];if(y===o&&d[g+1]===a){const w=r[oo],N=d[g+2];return w.length>N?w[N]:null}"string"==typeof y&&(g+=2)}return null}(t,r,d,a.index)),null!==Kn)(Kn.__ngLastListenerFn__||Kn).__ngNextListenerFn__=g,Kn.__ngLastListenerFn__=g,Re=!1;else{g=Zy(a,r,Q,g,!1);const Ir=o.listen(Xt,d,g);ae.push(g,Ir),U&&U.push(d,Et,bn,bn+1)}}else g=Zy(a,r,Q,g,!1);const $e=a.outputs;let dt;if(Re&&null!==$e&&(dt=$e[d])){const At=dt.length;if(At)for(let Xt=0;Xt<At;Xt+=2){const Ci=r[dt[Xt]][dt[Xt+1]].subscribe(g),hl=ae.length;ae.push(g,Ci),U&&U.push(d,a.index,hl,-(hl+1))}}}(g,d,d[yn],y,t,r,a),zm}function Yy(t,r,o,a){try{return mo(6,r,o),!1!==o(a)}catch(d){return Nm(t,d),!1}finally{mo(7,r,o)}}function Zy(t,r,o,a,d){return function g(y){if(y===Function)return a;Kd(t.componentOffset>-1?ft(t.index,r):r);let N=Yy(r,o,a,y),U=g.__ngNextListenerFn__;for(;U;)N=Yy(r,o,U,y)&&N,U=U.__ngNextListenerFn__;return d&&!1===N&&y.preventDefault(),N}}function Qy(t=1){return function co(t){return(Nn.lFrame.contextLView=function Hs(t,r){for(;t>0;)r=r[jo],t--;return r}(t,Nn.lFrame.contextLView))[Ar]}(t)}function YE(t,r){let o=null;const a=function fl(t){const r=t.attrs;if(null!=r){const o=r.indexOf(5);if(!(1&o))return r[o+1]}return null}(t);for(let d=0;d<r.length;d++){const g=r[d];if("*"!==g){if(null===a?Ls(t,g,!0):bs(a,g))return d}else o=d}return o}function Jy(t){const r=mt()[ar][_r];if(!r.projection){const a=r.projection=Ql(t?t.length:1,null),d=a.slice();let g=r.child;for(;null!==g;){const y=t?YE(g,t):0;null!==y&&(d[y]?d[y].projectionNext=g:a[y]=g,d[y]=g),g=g.next}}}function Wm(t,r=0,o){const a=mt(),d=Hn(),g=Zc(d,vn+t,16,null,o||null);null===g.projection&&(g.projection=r),Bl(),(!a[Zi]||Go())&&32!=(32&g.flags)&&function Fc(t,r,o){Md(r[yn],0,r,o,xc(t,o,r),Pg(o.parent||r[_r],o,r))}(d,a,g)}function qm(t,r,o){return Km(t,"",r,"",o),qm}function Km(t,r,o,a,d){const g=mt(),y=vu(g,r,o,a);return y!==Jn&&Ha(Hn(),ti(),g,t,y,g[yn],d,!1),Km}function mg(t,r){return t<<17|r<<2}function nc(t){return t>>17&32767}function Jm(t){return 2|t}function rc(t){return(131068&t)>>2}function Xm(t,r){return-131069&t|r<<2}function vg(t){return 1|t}function vv(t,r,o,a,d){const g=t[o+1],y=null===r;let w=a?nc(g):rc(g),N=!1;for(;0!==w&&(!1===N||y);){const Q=t[w+1];yv(t[w],r)&&(N=!0,t[w+1]=a?vg(Q):Jm(Q)),w=a?nc(Q):rc(Q)}N&&(t[o+1]=a?Jm(g):vg(g))}function yv(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&ma(t,r)>=0}const Vo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ev(t){return t.substring(Vo.key,Vo.keyEnd)}function a0(t,r){const o=Vo.textEnd;return o===r?-1:(r=Vo.keyEnd=function yg(t,r,o){for(;r<o&&t.charCodeAt(r)>32;)r++;return r}(t,Vo.key=r,o),rp(t,r,o))}function rp(t,r,o){for(;r<o&&t.charCodeAt(r)<=32;)r++;return r}function t_(t,r,o){return Iu(t,r,o,!1),t_}function n_(t,r){return Iu(t,r,null,!0),n_}function Cv(t){!function bu(t,r,o,a){const d=Hn(),g=zo(2);d.firstUpdatePass&&Av(d,null,g,a);const y=mt();if(o!==Jn&&Es(y,g,o)){const w=d.data[vo()];if(Rv(w,a)&&!u0(d,g)){let N=a?w.classesWithoutHost:w.stylesWithoutHost;null!==N&&(o=be(N,o||"")),ep(d,w,y,o,a)}else!function sI(t,r,o,a,d,g,y,w){d===Jn&&(d=zt);let N=0,U=0,Q=0<d.length?d[0]:null,ae=0<g.length?g[0]:null;for(;null!==Q||null!==ae;){const Re=N<d.length?d[N+1]:void 0,$e=U<g.length?g[U+1]:void 0;let At,dt=null;Q===ae?(N+=2,U+=2,Re!==$e&&(dt=ae,At=$e)):null===ae||null!==Q&&Q<ae?(N+=2,dt=Q):(U+=2,dt=ae,At=$e),null!==dt&&h0(t,r,o,a,dt,At,y,w),Q=N<d.length?d[N]:null,ae=U<g.length?g[U]:null}}(d,w,y,y[yn],y[g+1],y[g+1]=function c0(t,r,o){if(null==o||""===o)return zt;const a=[],d=La(o);if(Array.isArray(d))for(let g=0;g<d.length;g++)t(a,d[g],!0);else if("object"==typeof d)for(const g in d)d.hasOwnProperty(g)&&t(a,g,d[g]);else"string"==typeof d&&r(a,d);return a}(t,r,o),a,g)}}(oI,ic,t,!0)}function ic(t,r){for(let o=function s0(t){return function Dv(t){Vo.key=0,Vo.keyEnd=0,Vo.value=0,Vo.valueEnd=0,Vo.textEnd=t.length}(t),a0(t,rp(t,0,Vo.textEnd))}(r);o>=0;o=a0(r,o))no(t,Ev(r),!0)}function Iu(t,r,o,a){const d=mt(),g=Hn(),y=zo(2);g.firstUpdatePass&&Av(g,t,y,a),r!==Jn&&Es(d,y,r)&&h0(g,g.data[vo()],d,d[yn],t,d[y+1]=function aI(t,r){return null==t||""===t||("string"==typeof r?t+=r:"object"==typeof t&&(t=ye(La(t)))),t}(r,o),a,y)}function u0(t,r){return r>=t.expandoStartIndex}function Av(t,r,o,a){const d=t.data;if(null===d[o+1]){const g=d[vo()],y=u0(t,o);Rv(g,a)&&null===r&&!y&&(r=!1),r=function tI(t,r,o,a){const d=function X(t){const r=Nn.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}(t);let g=a?r.residualClasses:r.residualStyles;if(null===d)0===(a?r.classBindings:r.styleBindings)&&(o=Ig(o=Sv(null,t,r,o,a),r.attrs,a),g=null);else{const y=r.directiveStylingLast;if(-1===y||t[y]!==d)if(o=Sv(d,t,r,o,a),null===g){let N=function nI(t,r,o){const a=o?r.classBindings:r.styleBindings;if(0!==rc(a))return t[nc(a)]}(t,r,a);void 0!==N&&Array.isArray(N)&&(N=Sv(null,t,r,N[1],a),N=Ig(N,r.attrs,a),function rI(t,r,o,a){t[nc(o?r.classBindings:r.styleBindings)]=a}(t,r,a,N))}else g=function iI(t,r,o){let a;const d=r.directiveEnd;for(let g=1+r.directiveStylingLast;g<d;g++)a=Ig(a,t[g].hostAttrs,o);return Ig(a,r.attrs,o)}(t,r,a)}return void 0!==g&&(a?r.residualClasses=g:r.residualStyles=g),o}(d,g,r,a),function e_(t,r,o,a,d,g){let y=g?r.classBindings:r.styleBindings,w=nc(y),N=rc(y);t[a]=o;let Q,U=!1;if(Array.isArray(o)?(Q=o[1],(null===Q||ma(o,Q)>0)&&(U=!0)):Q=o,d)if(0!==N){const Re=nc(t[w+1]);t[a+1]=mg(Re,w),0!==Re&&(t[Re+1]=Xm(t[Re+1],a)),t[w+1]=function Qm(t,r){return 131071&t|r<<17}(t[w+1],a)}else t[a+1]=mg(w,0),0!==w&&(t[w+1]=Xm(t[w+1],a)),w=a;else t[a+1]=mg(N,0),0===w?w=a:t[N+1]=Xm(t[N+1],a),N=a;U&&(t[a+1]=Jm(t[a+1])),vv(t,Q,a,!0),vv(t,Q,a,!1),function o0(t,r,o,a,d){const g=d?t.residualClasses:t.residualStyles;null!=g&&"string"==typeof r&&ma(g,r)>=0&&(o[a+1]=vg(o[a+1]))}(r,Q,t,a,g),y=mg(w,N),g?r.classBindings=y:r.styleBindings=y}(d,g,r,o,y,a)}}function Sv(t,r,o,a,d){let g=null;const y=o.directiveEnd;let w=o.directiveStylingLast;for(-1===w?w=o.directiveStart:w++;w<y&&(g=r[w],a=Ig(a,g.hostAttrs,d),g!==t);)w++;return null!==t&&(o.directiveStylingLast=w),a}function Ig(t,r,o){const a=o?1:2;let d=-1;if(null!==r)for(let g=0;g<r.length;g++){const y=r[g];"number"==typeof y?d=y:d===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),no(t,y,!!o||r[++g]))}return void 0===t?null:t}function oI(t,r,o){const a=String(r);""!==a&&!a.includes(" ")&&no(t,a,o)}function h0(t,r,o,a,d,g,y,w){if(!(3&r.type))return;const N=t.data,U=N[w+1],Q=function ZE(t){return 1==(1&t)}(U)?f0(N,r,o,d,rc(U),y):void 0;r_(Q)||(r_(g)||function _g(t){return 2==(2&t)}(U)&&(g=f0(N,null,o,d,w,y)),function bp(t,r,o,a,d){if(r)d?t.addClass(o,a):t.removeClass(o,a);else{let g=-1===a.indexOf("-")?void 0:ru.DashCase;null==d?t.removeStyle(o,a,g):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),g|=ru.Important),t.setStyle(o,a,d,g))}}(a,y,Kt(vo(),o),d,g))}function f0(t,r,o,a,d,g){const y=null===r;let w;for(;d>0;){const N=t[d],U=Array.isArray(N),Q=U?N[1]:N,ae=null===Q;let Re=o[d+1];Re===Jn&&(Re=ae?zt:void 0);let $e=ae?ka(Re,a):Q===a?Re:void 0;if(U&&!r_($e)&&($e=ka(N,a)),r_($e)&&(w=$e,y))return w;const dt=t[d+1];d=y?nc(dt):rc(dt)}if(null!==r){let N=g?r.residualClasses:r.residualStyles;null!=N&&(w=ka(N,a))}return w}function r_(t){return void 0!==t}function Rv(t,r){return 0!=(t.flags&(r?8:16))}function p0(t,r=""){const o=mt(),a=Hn(),d=t+vn,g=a.firstCreatePass?Zc(a,d,1,r,null):a.data[d],y=g0(a,o,g,r,t);o[d]=y,$l()&&kc(a,o,y,g),No(g,!1)}let g0=(t,r,o,a,d)=>(Ps(!0),su(r[yn],a));function Nv(t){return i_("",t,""),Nv}function i_(t,r,o){const a=mt(),d=vu(a,t,r,o);return d!==Jn&&Zu(a,vo(),d),i_}function Mv(t,r,o,a,d){const g=mt(),y=Kh(g,t,r,o,a,d);return y!==Jn&&Zu(g,vo(),y),Mv}function Pv(t,r,o){const a=mt();return Es(a,Oo(),r)&&Ha(Hn(),ti(),a,t,r,a[yn],o,!0),Pv}const Jh=void 0;var AI=["en",[["a","p"],["AM","PM"],Jh],[["AM","PM"],Jh,Jh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Jh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Jh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Jh,"{1} 'at' {0}",Jh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function CI(t){const o=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===a?1:5}];let ip={};function kv(t){const r=function RI(t){return t.toLowerCase().replace(/_/g,"-")}(t);let o=x0(r);if(o)return o;const a=r.split("-")[0];if(o=x0(a),o)return o;if("en"===a)return AI;throw new me(701,!1)}function P0(t){return kv(t)[op.PluralCase]}function x0(t){return t in ip||(ip[t]=Nt.ng&&Nt.ng.common&&Nt.ng.common.locales&&Nt.ng.common.locales[t]),ip[t]}var op=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(op||{});const Xh="en-US",i={marker:"element"},e={marker:"ICU"};var n=function(t){return t[t.SHIFT=2]="SHIFT",t[t.APPEND_EAGERLY=1]="APPEND_EAGERLY",t[t.COMMENT=2]="COMMENT",t}(n||{});let u=Xh;function f(t){(function vt(t,r){null==t&&lt(r,t,null,"!=")})(t,"Expected localeId to be defined"),"string"==typeof t&&(u=t.toLowerCase().replace(/_/g,"-"))}function S(t,r,o){const a=r.insertBeforeIndex,d=Array.isArray(a)?a[0]:a;return null===d?au(t,0,o):Cn(o[d])}function O(t,r,o,a,d){const g=r.insertBeforeIndex;if(Array.isArray(g)){let y=a,w=null;if(3&r.type||(w=y,y=d),null!==y&&-1===r.componentOffset)for(let N=1;N<g.length;N++)ju(t,y,o[g[N]],w,!1)}}function $(t,r){if(t.push(r),t.length>1)for(let o=t.length-2;o>=0;o--){const a=t[o];Z(a)||oe(a,r)&&null===we(a)&&Ye(a,r.index)}}function Z(t){return!(64&t.type)}function oe(t,r){return Z(r)||t.index>r.index}function we(t){const r=t.insertBeforeIndex;return Array.isArray(r)?r[0]:r}function Ye(t,r){const o=t.insertBeforeIndex;Array.isArray(o)?o[0]=r:(xg(S,O),t.insertBeforeIndex=r)}function Rn(t,r,o){const a=ng(t,o,64,null,null);return $(r,a),a}function GD(){const t=[];let o,a,r=-1;function g(w,N){r=0;const U=function Pn(t,r){const o=r[t.currentCaseLViewIndex];return null===o?o:o<0?~o:o}(w,N);a=null!==U?w.remove[U]:zt}function y(){if(r<a.length){const w=a[r++];return w>0?o[w]:(t.push(r,a),g(o[kt].data[~w],o),y())}return 0===t.length?null:(a=t.pop(),r=t.pop(),y())}return function d(w,N){for(o=N;t.length;)t.pop();return g(w.value,N),y}}const Lv=/\ufffd(\d+):?\d*\ufffd/gi,WD=/\ufffd(\d+)\ufffd/,VI=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,o_="\ufffd",qD=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,KD=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,YD=/\uE500/g;function BI(t,r,o,a,d,g,y){const w=Yd(t,a,1,null);let N=w<<n.SHIFT,U=Qa();r===U&&(U=null),null===U&&(N|=n.APPEND_EAGERLY),y&&(N|=n.COMMENT,function vf(t){void 0===Ih&&(Ih=t())}(GD)),d.push(N,null===g?"":g);const Q=ng(t,w,y?32:1,null===g?"":g,null);$(o,Q);const ae=Q.index;return No(Q,!1),null!==U&&r!==U&&function Gt(t,r){let o=t.insertBeforeIndex;null===o?(xg(S,O),o=t.insertBeforeIndex=[null,r]):(function It(t,r,o){t!=r&&lt(o,t,r,"==")}(Array.isArray(o),!0,"Expecting array here"),o.push(r))}(U,ae),Q}function JD(t,r,o,a,d,g,y){const w=y.match(Lv),N=BI(t,r,o,g,a,w?null:y,!1);w&&s_(d,y,N.index,null,0,null)}function s_(t,r,o,a,d,g){const y=t.length,w=y+1;t.push(null,null);const N=y+2,U=r.split(Lv);let Q=0;for(let ae=0;ae<U.length;ae++){const Re=U[ae];if(1&ae){const $e=d+parseInt(Re,10);t.push(-1-$e),Q|=UI($e)}else""!==Re&&t.push(Re)}return t.push(o<<2|(a?1:0)),a&&t.push(a,g),t[y]=Q,t[w]=t.length-N,Q}function UI(t){return 1<<Math.min(t,31)}function jI(t){let r,g,o="",a=0,d=!1;for(;null!==(r=qD.exec(t));)d?r[0]===`${o_}/*${g}${o_}`&&(a=r.index,d=!1):(o+=t.substring(a,r.index+r[0].length),g=r[1],d=!0);return o+=t.slice(a),o}function $I(t,r,o,a,d,g){let y=0;const w={type:d.type,currentCaseLViewIndex:Yd(t,r,1,null),anchorIdx:g,cases:[],create:[],remove:[],update:[]};(function sT(t,r,o){t.push(UI(r.mainBinding),2,-1-r.mainBinding,o<<2|2)})(o,d,g),function jt(t,r,o){const a=t.data[r];null===a?t.data[r]=o:a.value=o}(t,g,w);const N=d.values;for(let U=0;U<N.length;U++){const Q=N[U],ae=[];for(let Re=0;Re<Q.length;Re++){const $e=Q[Re];if("string"!=typeof $e){const dt=ae.push($e)-1;Q[Re]=`\x3c!--\ufffd${dt}\ufffd--\x3e`}}y=iT(t,w,r,o,a,d.cases[U],Q.join(""),ae)|y}y&&function aT(t,r,o){t.push(r,1,o<<2|3)}(o,y,g)}function rT(t){const r=[],o=[];let a=1,d=0;const g=F0(t=t.replace(VI,function(y,w,N){return a="select"===N?0:1,d=parseInt(w.slice(1),10),""}));for(let y=0;y<g.length;){let w=g[y++].trim();1===a&&(w=w.replace(/\s*(?:=)?(\w+)\s*/,"$1")),w.length&&r.push(w);const N=F0(g[y++]);r.length>o.length&&o.push(N)}return{type:a,mainBinding:d,cases:r,values:o}}function F0(t){if(!t)return[];let r=0;const o=[],a=[],d=/[{}]/g;let g;for(d.lastIndex=0;g=d.exec(t);){const w=g.index;if("}"==g[0]){if(o.pop(),0==o.length){const N=t.substring(r,w);VI.test(N)?a.push(rT(N)):a.push(N),r=w+1}}else{if(0==o.length){const N=t.substring(r,w);a.push(N),r=w+1}o.push("{")}}const y=t.substring(r);return a.push(y),a}function iT(t,r,o,a,d,g,y,w){const N=[],U=[],Q=[];r.cases.push(g),r.create.push(N),r.remove.push(U),r.update.push(Q);const Re=function Op(t){const r=new Uc(t);return function Ld(){try{return!!(new window.DOMParser).parseFromString(Lc(""),"text/html")}catch{return!1}}()?new Fd(r):r}(xd()).getInertBodyElement(y),$e=function Tt(t){return"content"in t&&function Ot(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}(Re)||Re;return $e?HI(t,r,o,a,N,U,Q,$e,d,w,0):0}function HI(t,r,o,a,d,g,y,w,N,U,Q){let ae=0,Re=w.firstChild;for(;Re;){const $e=Yd(t,o,1,null);switch(Re.nodeType){case Node.ELEMENT_NODE:const dt=Re,At=dt.tagName.toLowerCase();if(h.hasOwnProperty(At)){L0(d,i,At,N,$e),t.data[$e]=At;const Kn=dt.attributes;for(let Ir=0;Ir<Kn.length;Ir++){const Ci=Kn.item(Ir),hl=Ci.name.toLowerCase();Ci.value.match(Lv)?E.hasOwnProperty(hl)&&s_(y,Ci.value,$e,Ci.name,0,I[hl]?Ah:null):lT(d,$e,Ci)}ae=HI(t,r,o,a,d,g,y,Re,$e,U,Q+1)|ae,GI(g,$e,Q)}break;case Node.TEXT_NODE:const Xt=Re.textContent||"",bn=Xt.match(Lv);L0(d,null,bn?"":Xt,N,$e),GI(g,$e,Q),bn&&(ae=s_(y,Xt,$e,null,0,null)|ae);break;case Node.COMMENT_NODE:const Et=WD.exec(Re.textContent||"");if(Et){const Ir=U[parseInt(Et[1],10)];L0(d,e,"",N,$e),$I(t,o,a,N,Ir,$e),oT(g,$e,Q)}}Re=Re.nextSibling}return ae}function GI(t,r,o){0===o&&t.push(r)}function oT(t,r,o){0===o&&(t.push(~r),t.push(r))}function L0(t,r,o,a,d){null!==r&&t.push(r),t.push(o,d,function ni(t,r,o){return t|r<<17|o<<1}(0,a,d))}function lT(t,r,o){t.push(r<<1|1,o.name,o.value)}function WI(t,r,o=-1){const a=Hn(),d=mt(),g=vn+t,y=gs(a.consts,r),w=Qa();a.firstCreatePass&&function QD(t,r,o,a,d,g){const y=Qa(),w=[],N=[],U=[[]];d=function nT(t,r){if(function tT(t){return-1===t}(r))return jI(t);{const o=t.indexOf(`:${r}${o_}`)+2+r.toString().length,a=t.search(new RegExp(`${o_}\\/\\*\\d+:${r}${o_}`));return jI(t.substring(o,a))}}(d,g);const Q=function ZD(t){return t.replace(YD," ")}(d).split(KD);for(let ae=0;ae<Q.length;ae++){let Re=Q[ae];if(1&ae){const $e=47===Re.charCodeAt(0),At=(Re.charCodeAt($e?1:0),vn+Number.parseInt(Re.substring($e?2:1)));if($e)U.shift(),No(Qa(),!1);else{const Xt=Rn(t,U[0],At);U.unshift([]),No(Xt,!0)}}else{const $e=F0(Re);for(let dt=0;dt<$e.length;dt++){let At=$e[dt];if(1&dt){const Xt=At;if("object"!=typeof Xt)throw new Error(`Unable to parse ICU expression in "${d}" message.`);$I(t,o,N,r,Xt,BI(t,y,U[0],o,w,"",!0).index)}else""!==At&&JD(t,y,U[0],w,N,o,At)}}}t.data[a]={create:w,update:N}}(a,null===w?0:w.index,d,g,y,o),2===a.type?d[ar][Wt]|=32:d[Wt]|=32;const N=a.data[g],Q=Mg(a,w===d[_r]?null:w,d);(function jD(t,r,o,a){const d=t[yn];for(let g=0;g<r.length;g++){const y=r[g++],w=r[g],U=(y&n.APPEND_EAGERLY)===n.APPEND_EAGERLY,Q=y>>>n.SHIFT;let ae=t[Q];null===ae&&(ae=t[Q]=(y&n.COMMENT)===n.COMMENT?d.createComment(w):su(d,w)),U&&null!==o&&ju(d,o,ae,a,!1)}})(d,N.create,Q,w&&8&w.type?d[w.index]:null),R(!0)}function KI(t,r,o){WI(t,r,o),function qI(){R(!1)}()}function V0(t,r,o,a,d){if(t=Xe(t),Array.isArray(t))for(let g=0;g<t.length;g++)V0(t[g],r,o,a,d);else{const g=Hn(),y=mt(),w=_o();let N=Qs(t)?t:Xe(t.provide);const U=Wu(t),Q=1048575&w.providerIndexes,ae=w.directiveStart,Re=w.providerIndexes>>20;if(Qs(t)||!t.multi){const $e=new ms(U,d,Yc),dt=U0(N,r,d?Q:Q+Re,ae);-1===dt?(ha(hi(w,y),g,N),B0(g,t,r.length),r.push(N),w.directiveStart++,w.directiveEnd++,d&&(w.providerIndexes+=1048576),o.push($e),y.push($e)):(o[dt]=$e,y[dt]=$e)}else{const $e=U0(N,r,Q+Re,ae),dt=U0(N,r,Q,Q+Re),Xt=dt>=0&&o[dt];if(d&&!Xt||!d&&!($e>=0&&o[$e])){ha(hi(w,y),g,N);const bn=function TT(t,r,o,a,d){const g=new ms(t,o,Yc);return g.multi=[],g.index=r,g.componentProviders=0,ZI(g,d,a&&!o),g}(d?DT:bT,o.length,d,a,U);!d&&Xt&&(o[dt].providerFactory=bn),B0(g,t,r.length,0),r.push(N),w.directiveStart++,w.directiveEnd++,d&&(w.providerIndexes+=1048576),o.push(bn),y.push(bn)}else B0(g,t,$e>-1?$e:dt,ZI(o[d?dt:$e],U,!d&&a));!d&&a&&Xt&&o[dt].componentProviders++}}}function B0(t,r,o,a){const d=Qs(r),g=function Mh(t){return!!t.useClass}(r);if(d||g){const N=(g?Xe(r.useClass):r).prototype.ngOnDestroy;if(N){const U=t.destroyHooks||(t.destroyHooks=[]);if(!d&&r.multi){const Q=U.indexOf(o);-1===Q?U.push(o,[a,N]):U[Q+1].push(a,N)}else U.push(o,N)}}}function ZI(t,r,o){return o&&t.componentProviders++,t.multi.push(r)-1}function U0(t,r,o,a){for(let d=o;d<a;d++)if(r[d]===t)return d;return-1}function bT(t,r,o,a){return j0(this.multi,[])}function DT(t,r,o,a){const d=this.multi;let g;if(this.providerFactory){const y=this.providerFactory.componentProviders,w=qs(o,o[kt],this.providerFactory.index,a);g=w.slice(0,y),j0(d,g);for(let N=y;N<w.length;N++)g.push(w[N])}else g=[],j0(d,g);return g}function j0(t,r){for(let o=0;o<t.length;o++)r.push((0,t[o])());return r}function QI(t,r=[]){return o=>{o.providersResolver=(a,d)=>function IT(t,r,o){const a=Hn();if(a.firstCreatePass){const d=Gn(t);V0(o,a.data,a.blueprint,d,!0),V0(r,a.data,a.blueprint,d,!1)}}(a,d?d(t):t,r)}}class sp{}class JI{}function wT(t,r){return new $0(t,r??null,[])}class $0 extends sp{constructor(r,o,a){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new wi(this);const d=$r(r);this._bootstrapComponents=Nl(d.bootstrap),this._r3Injector=zp(r,o,[{provide:sp,useValue:this},{provide:Vh,useValue:this.componentFactoryResolver},...a],ye(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class H0 extends JI{constructor(r){super(),this.moduleType=r}create(r){return new $0(this.moduleType,r,[])}}class XI extends sp{constructor(r){super(),this.componentFactoryResolver=new wi(this),this.instance=null;const o=new zu([...r.providers,{provide:sp,useValue:this},{provide:Vh,useValue:this.componentFactoryResolver}],r.parent||Hc(),r.debugName,new Set(["environment"]));this.injector=o,r.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function eb(t,r,o=null){return new XI({providers:t,parent:r,debugName:o,runEnvironmentInitializers:!0}).injector}let AT=(()=>{class t{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o)){const a=ys(0,o.type),d=a.length>0?eb([a],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o,d)}return this.cachedInjectors.get(o)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=on({token:t,providedIn:"environment",factory:()=>new t(bt(Ba))})}return t})();function tb(t){t.getStandaloneInjector=r=>r.get(AT).getOrCreateStandaloneInjector(t)}function lb(t,r,o,a){return db(mt(),Mo(),t,r,o,a)}function ub(t,r,o,a,d){return function hb(t,r,o,a,d,g,y){const w=r+o;return td(t,w,d,g)?mu(t,w+2,y?a.call(y,d,g):a(d,g)):a_(t,w+2)}(mt(),Mo(),t,r,o,a,d)}function cb(t,r,o,a,d,g){return function fb(t,r,o,a,d,g,y,w){const N=r+o;return function _u(t,r,o,a,d){const g=td(t,r,o,a);return Es(t,r+2,d)||g}(t,N,d,g,y)?mu(t,N+3,w?a.call(w,d,g,y):a(d,g,y)):a_(t,N+3)}(mt(),Mo(),t,r,o,a,d,g)}function a_(t,r){const o=t[r];return o===Jn?void 0:o}function db(t,r,o,a,d,g){const y=r+o;return Es(t,y,d)?mu(t,y+1,g?a.call(g,d):a(d)):a_(t,y+1)}function mb(t,r){const o=Hn();let a;const d=t+vn;o.firstCreatePass?(a=function HT(t,r){if(r)for(let o=r.length-1;o>=0;o--){const a=r[o];if(t===a.name)return a}}(r,o.pipeRegistry),o.data[d]=a,a.onDestroy&&(o.destroyHooks??=[]).push(d,a.onDestroy)):a=o.data[d];const g=a.factory||(a.factory=ns(a.type)),w=jn(Yc);try{const N=_c(!1),U=g();return _c(N),function Hy(t,r,o,a){o>=t.data.length&&(t.data[o]=null,t.blueprint[o]=null),r[o]=a}(o,mt(),d,U),U}finally{jn(w)}}function _b(t,r,o){const a=t+vn,d=mt(),g=Qe(d,a);return function l_(t,r){return t[kt].data[r].pure}(d,a)?db(d,Mo(),r,g.transform,o,g):g.transform(o)}function KT(){return this._results[Symbol.iterator]()}class z0{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new cl)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=z0.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=KT)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,o){return this._results.reduce(r,o)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,o){const a=this;a.dirty=!1;const d=function Fs(t){return t.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function uh(t,r,o){if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++){let d=t[a],g=r[a];if(o&&(d=o(d),g=o(g)),g!==d)return!1}return!0}(a._results,d,o))&&(a._results=d,a.length=d.length,a.last=d[this.length-1],a.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function ZT(t,r,o,a=!0){const d=r[kt];if(function Ef(t,r,o,a){const d=li+a,g=o.length;a>0&&(o[d-1][Gr]=r),a<g-li?(r[Gr]=o[d],gd(o,li+a,r)):(o.push(r),r[Gr]=null),r[nr]=o;const y=r[ws];null!==y&&o!==y&&function Cd(t,r){const o=t[Co];r[ar]!==r[nr][nr][ar]&&(t[hs]=!0),null===o?t[Co]=[r]:o.push(r)}(y,r);const w=r[Ki];null!==w&&w.insertView(t),r[Wt]|=128}(d,r,t,o),a){const g=Th(o,t),y=r[yn],w=bf(y,t[Kr]);null!==w&&function Uu(t,r,o,a,d,g){a[cr]=d,a[_r]=r,il(t,a,o,1,d,g)}(d,t[_r],y,r,w,g)}}let u_=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=XT}return t})();const QT=u_,JT=class extends QT{constructor(r,o,a){super(),this._declarationLView=r,this._declarationTContainer=o,this.elementRef=a}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(r,o){return this.createEmbeddedViewImpl(r,o)}createEmbeddedViewImpl(r,o,a){const d=function YT(t,r,o,a){const d=r.tView,w=tg(t,d,o,4096&t[Wt]?4096:16,null,r,null,null,null,a?.injector??null,a?.hydrationInfo??null);w[ws]=t[r.index];const U=t[Ki];return null!==U&&(w[Ki]=U.createEmbeddedView(d)),Gh(d,w,o),w}(this._declarationLView,this._declarationTContainer,r,{injector:o,hydrationInfo:a});return new Qf(d)}};function XT(){return Vv(_o(),mt())}function Vv(t,r){return 4&t.type?new JT(r,t,Wc(t,r)):null}let Uv=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=ow}return t})();function ow(){return Tb(_o(),mt())}const sw=Uv,bb=class extends sw{constructor(r,o,a){super(),this._lContainer=r,this._hostTNode=o,this._hostLView=a}get element(){return Wc(this._hostTNode,this._hostLView)}get injector(){return new xo(this._hostTNode,this._hostLView)}get parentInjector(){const r=da(this._hostTNode,this._hostLView);if(Tr(r)){const o=Po(r,this._hostLView),a=ca(r);return new xo(o[kt].data[a+8],o)}return new xo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const o=Db(this._lContainer);return null!==o&&o[r]||null}get length(){return this._lContainer.length-li}createEmbeddedView(r,o,a){let d,g;"number"==typeof a?d=a:null!=a&&(d=a.index,g=a.injector);const w=r.createEmbeddedViewImpl(o||{},g,null);return this.insertImpl(w,d,false),w}createComponent(r,o,a,d,g){const y=r&&!function Yl(t){return"function"==typeof t}(r);let w;if(y)w=o;else{const At=o||{};w=At.index,a=At.injector,d=At.projectableNodes,g=At.environmentInjector||At.ngModuleRef}const N=y?r:new zh(In(r)),U=a||this.parentInjector;if(!g&&null==N.ngModule){const Xt=(y?U:this.parentInjector).get(Ba,null);Xt&&(g=Xt)}In(N.componentType??{});const $e=N.create(U,d,null,g);return this.insertImpl($e.hostView,w,false),$e}insert(r,o){return this.insertImpl(r,o,!1)}insertImpl(r,o,a){const d=r._lView;if(function wu(t){return Yr(t[nr])}(d)){const N=this.indexOf(r);if(-1!==N)this.detach(N);else{const U=d[nr],Q=new bb(U,U[_r],U[nr]);Q.detach(Q.indexOf(r))}}const y=this._adjustIndex(o),w=this._lContainer;return ZT(w,d,y,!a),r.attachToViewContainerRef(),gd(W0(w),y,r),r}move(r,o){return this.insert(r,o)}indexOf(r){const o=Db(this._lContainer);return null!==o?o.indexOf(r):-1}remove(r){const o=this._adjustIndex(r,-1),a=Oc(this._lContainer,o);a&&(bc(W0(this._lContainer),o),Ad(a[kt],a))}detach(r){const o=this._adjustIndex(r,-1),a=Oc(this._lContainer,o);return a&&null!=bc(W0(this._lContainer),o)?new Qf(a):null}_adjustIndex(r,o=0){return r??this.length+o}};function Db(t){return t[8]}function W0(t){return t[8]||(t[8]=[])}function Tb(t,r){let o;const a=r[t.index];return Yr(a)?o=a:(o=Am(a,r,null,t),r[t.index]=o,og(r,o)),wb(o,r,t,a),new bb(o,t,r)}let wb=function Cb(t,r,o,a){if(t[Kr])return;let d;d=8&o.type?Cn(a):function aw(t,r){const o=t[yn],a=o.createComment(""),d=Ut(r,t);return ju(o,bf(o,d),a,function f_(t,r){return t.nextSibling(r)}(o,d),!1),a}(r,o),t[Kr]=d};class q0{constructor(r){this.queryList=r,this.matches=null}clone(){return new q0(this.queryList)}setDirty(){this.queryList.setDirty()}}class K0{constructor(r=[]){this.queries=r}createEmbeddedView(r){const o=r.queries;if(null!==o){const a=null!==r.contentQueries?r.contentQueries[0]:o.length,d=[];for(let g=0;g<a;g++){const y=o.getByIndex(g);d.push(this.queries[y.indexInDeclarationView].clone())}return new K0(d)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let o=0;o<this.queries.length;o++)null!==kb(r,o).matches&&this.queries[o].setDirty()}}class Ab{constructor(r,o,a=null){this.predicate=r,this.flags=o,this.read=a}}class Y0{constructor(r=[]){this.queries=r}elementStart(r,o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,o)}elementEnd(r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(r)}embeddedTView(r){let o=null;for(let a=0;a<this.length;a++){const d=null!==o?o.length:0,g=this.getByIndex(a).embeddedTView(r,d);g&&(g.indexInDeclarationView=a,null!==o?o.push(g):o=[g])}return null!==o?new Y0(o):null}template(r,o){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,o)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class Z0{constructor(r,o=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(r,o){this.isApplyingToNode(o)&&this.matchTNode(r,o)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,o){this.elementStart(r,o)}embeddedTView(r,o){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,o),new Z0(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==o;)a=a.parent;return o===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,o){const a=this.metadata.predicate;if(Array.isArray(a))for(let d=0;d<a.length;d++){const g=a[d];this.matchTNodeWithReadOption(r,o,cw(o,g)),this.matchTNodeWithReadOption(r,o,Ws(o,r,g,!1,!1))}else a===u_?4&o.type&&this.matchTNodeWithReadOption(r,o,-1):this.matchTNodeWithReadOption(r,o,Ws(o,r,a,!1,!1))}matchTNodeWithReadOption(r,o,a){if(null!==a){const d=this.metadata.read;if(null!==d)if(d===Ff||d===Uv||d===u_&&4&o.type)this.addMatch(o.index,-2);else{const g=Ws(o,r,d,!1,!1);null!==g&&this.addMatch(o.index,g)}else this.addMatch(o.index,a)}}addMatch(r,o){null===this.matches?this.matches=[r,o]:this.matches.push(r,o)}}function cw(t,r){const o=t.localNames;if(null!==o)for(let a=0;a<o.length;a+=2)if(o[a]===r)return o[a+1];return null}function hw(t,r,o,a){return-1===o?function dw(t,r){return 11&t.type?Wc(t,r):4&t.type?Vv(t,r):null}(r,t):-2===o?function fw(t,r,o){return o===Ff?Wc(r,t):o===u_?Vv(r,t):o===Uv?Tb(r,t):void 0}(t,r,a):qs(t,t[kt],o,r)}function Sb(t,r,o,a){const d=r[Ki].queries[a];if(null===d.matches){const g=t.data,y=o.matches,w=[];for(let N=0;N<y.length;N+=2){const U=y[N];w.push(U<0?null:hw(r,g[U],y[N+1],o.metadata.read))}d.matches=w}return d.matches}function Q0(t,r,o,a){const d=t.queries.getByIndex(o),g=d.matches;if(null!==g){const y=Sb(t,r,d,o);for(let w=0;w<g.length;w+=2){const N=g[w];if(N>0)a.push(y[w/2]);else{const U=g[w+1],Q=r[-N];for(let ae=li;ae<Q.length;ae++){const Re=Q[ae];Re[ws]===Re[nr]&&Q0(Re[kt],Re,U,a)}if(null!==Q[Co]){const ae=Q[Co];for(let Re=0;Re<ae.length;Re++){const $e=ae[Re];Q0($e[kt],$e,U,a)}}}}}return a}function Rb(t){const r=mt(),o=Hn(),a=le();ze(a+1);const d=kb(o,a);if(t.dirty&&function uo(t){return 4==(4&t[Wt])}(r)===(2==(2&d.metadata.flags))){if(null===d.matches)t.reset([]);else{const g=d.crossesNgTemplate?Q0(o,r,a,[]):Sb(o,r,d,a);t.reset(g,Qg),t.notifyOnChanges()}return!0}return!1}function Nb(t,r,o){const a=Hn();a.firstCreatePass&&(xb(a,new Ab(t,r,o),-1),2==(2&r)&&(a.staticViewQueries=!0)),Pb(a,mt(),r)}function Mb(t,r,o,a){const d=Hn();if(d.firstCreatePass){const g=_o();xb(d,new Ab(r,o,a),g.index),function gw(t,r){const o=t.contentQueries||(t.contentQueries=[]);r!==(o.length?o[o.length-1]:-1)&&o.push(t.queries.length-1,r)}(d,t),2==(2&o)&&(d.staticContentQueries=!0)}Pb(d,mt(),o)}function Ob(){return function pw(t,r){return t[Ki].queries[r].queryList}(mt(),le())}function Pb(t,r,o){const a=new z0(4==(4&o));(function V_(t,r,o,a){const d=z_(r);d.push(o),t.firstCreatePass&&W_(t).push(a,d.length-1)})(t,r,a,a.destroy),null===r[Ki]&&(r[Ki]=new K0),r[Ki].queries.push(new q0(a))}function xb(t,r,o){null===t.queries&&(t.queries=new Y0),t.queries.track(new Z0(r,o))}function kb(t,r){return t.queries.getByIndex(r)}function Fb(t,r){return Vv(t,r)}function J0(t){return!!$r(t)}const Xb=new Pt("Application Initializer");let rE=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,a)=>{this.resolve=o,this.reject=a}),this.appInits=Bt(Xb,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const o=[];for(const d of this.appInits){const g=d();if(Gm(g))o.push(g);else if(tp(g)){const y=new Promise((w,N)=>{g.subscribe({complete:w,error:N})});o.push(y)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{a()}).catch(d=>{this.reject(d)}),0===o.length&&a(),this.initialized=!0}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=on({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),eD=(()=>{class t{log(o){console.log(o)}warn(o){console.warn(o)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=on({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const $v=new Pt("LocaleId",{providedIn:"root",factory:()=>Bt($v,Rt.Optional|Rt.SkipSelf)||function Fw(){return typeof $localize<"u"&&$localize.locale||Xh}()}),Lw=new Pt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let tD=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ge.X(!1)}add(){this.hasPendingTasks.next(!0);const o=this.taskId++;return this.pendingTasks.add(o),o}remove(o){this.pendingTasks.delete(o),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=on({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class Bw{constructor(r,o){this.ngModuleFactory=r,this.componentFactories=o}}let Uw=(()=>{class t{compileModuleSync(o){return new H0(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const a=this.compileModuleSync(o),g=Nl($r(o).declarations).reduce((y,w)=>{const N=In(w);return N&&y.push(new zh(N)),y},[]);return new Bw(a,g)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=on({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const oD=new Pt(""),sD=new Pt("");let sE,lC=(()=>{class t{constructor(o,a,d){this._ngZone=o,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,sE||(function uC(t){sE=t}(d),d.addToWindow(a)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ls.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(o)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,a,d){let g=-1;a&&a>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==g),o(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:o,timeoutId:g,updateCb:d})}whenStable(o,a,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,a,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,a,d){return[]}static#e=this.\u0275fac=function(a){return new(a||t)(bt(ls),bt(aD),bt(sD))};static#t=this.\u0275prov=on({token:t,factory:t.\u0275fac})}return t})(),aD=(()=>{class t{constructor(){this._applications=new Map}registerApplication(o,a){this._applications.set(o,a)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,a=!0){return sE?.findTestabilityInTree(this,o,a)??null}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=on({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),ef=null;const lD=new Pt("AllowMultipleToken"),aE=new Pt("PlatformDestroyListeners"),lE=new Pt("appBootstrapListener");class hC{constructor(r,o){this.name=r,this.token=o}}function dD(t,r,o=[]){const a=`Platform: ${r}`,d=new Pt(a);return(g=[])=>{let y=uE();if(!y||y.injector.get(lD,!1)){const w=[...o,...g,{provide:d,useValue:!0}];t?t(w):function fC(t){if(ef&&!ef.get(lD,!1))throw new me(400,!1);(function uD(){!function is(t){aa=t}(()=>{throw new me(600,!1)})})(),ef=t;const r=t.get(fD);(function cD(t){t.get($d,null)?.forEach(o=>o())})(t)}(function hD(t=[],r){return ja.create({name:r,providers:[{provide:ul,useValue:"platform"},{provide:aE,useValue:new Set([()=>ef=null])},...t]})}(w,a))}return function gC(t){const r=uE();if(!r)throw new me(401,!1);return r}()}}function uE(){return ef?.get(fD)??null}let fD=(()=>{class t{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,a){const d=function mC(t="zone.js",r){return"noop"===t?new C_:"zone.js"===t?new ls(r):t}(a?.ngZone,function pD(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:a?.ngZoneEventCoalescing,runCoalescing:a?.ngZoneRunCoalescing}));return d.run(()=>{const g=function CT(t,r,o){return new $0(t,r,o)}(o.moduleType,this.injector,function yD(t){return[{provide:ls,useFactory:t},{provide:Eo,multi:!0,useFactory:()=>{const r=Bt(vC,{optional:!0});return()=>r.initialize()}},{provide:vD,useFactory:_C},{provide:sm,useFactory:am}]}(()=>d)),y=g.injector.get($a,null);return d.runOutsideAngular(()=>{const w=d.onError.subscribe({next:N=>{y.handleError(N)}});g.onDestroy(()=>{Gv(this._modules,g),w.unsubscribe()})}),function gD(t,r,o){try{const a=o();return Gm(a)?a.catch(d=>{throw r.runOutsideAngular(()=>t.handleError(d)),d}):a}catch(a){throw r.runOutsideAngular(()=>t.handleError(a)),a}}(y,d,()=>{const w=g.injector.get(rE);return w.runInitializers(),w.donePromise.then(()=>(f(g.injector.get($v,Xh)||Xh),this._moduleDoBootstrap(g),g))})})}bootstrapModule(o,a=[]){const d=mD({},a);return function cC(t,r,o){const a=new H0(o);return Promise.resolve(a)}(0,0,o).then(g=>this.bootstrapModuleFactory(g,d))}_moduleDoBootstrap(o){const a=o.injector.get(Tg);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(d=>a.bootstrap(d));else{if(!o.instance.ngDoBootstrap)throw new me(-403,!1);o.instance.ngDoBootstrap(a)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new me(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const o=this._injector.get(aE,null);o&&(o.forEach(a=>a()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(a){return new(a||t)(bt(ja))};static#t=this.\u0275prov=on({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function mD(t,r){return Array.isArray(r)?r.reduce(mD,t):{...t,...r}}let Tg=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Bt(vD),this.zoneIsStable=Bt(sm),this.componentTypes=[],this.components=[],this.isStable=Bt(tD).hasPendingTasks.pipe((0,Ve.w)(o=>o?(0,se.of)(!1):this.zoneIsStable),(0,Oe.x)(),(0,Te.B)()),this._injector=Bt(Ba)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,a){const d=o instanceof Up;if(!this._injector.get(rE).done)throw!d&&Zo(o),new me(405,!1);let y;y=d?o:this._injector.get(Vh).resolveComponentFactory(o),this.componentTypes.push(y.componentType);const w=function dC(t){return t.isBoundToModule}(y)?void 0:this._injector.get(sp),U=y.create(ja.NULL,[],a||y.selector,w),Q=U.location.nativeElement,ae=U.injector.get(oD,null);return ae?.registerApplication(Q),U.onDestroy(()=>{this.detachView(U.hostView),Gv(this.components,U),ae?.unregisterApplication(Q)}),this._loadComponent(U),U}tick(){if(this._runningTick)throw new me(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1}}attachView(o){const a=o;this._views.push(a),a.attachToAppRef(this)}detachView(o){const a=o;Gv(this._views,a),a.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const a=this._injector.get(lE,[]);a.push(...this._bootstrapListeners),a.forEach(d=>d(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>Gv(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new me(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=on({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Gv(t,r){const o=t.indexOf(r);o>-1&&t.splice(o,1)}const vD=new Pt("",{providedIn:"root",factory:()=>Bt($a).handleError.bind(void 0)});function _C(){const t=Bt(ls),r=Bt($a);return o=>t.runOutsideAngular(()=>r.handleError(o))}let vC=(()=>{class t{constructor(){this.zone=Bt(ls),this.applicationRef=Bt(Tg)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=on({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function EC(){return!1}let IC=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=bC}return t})();function bC(t){return function DC(t,r,o){if(Xr(t)&&!o){const a=ft(t.index,r);return new Qf(a,a)}return 47&t.type?new Qf(r[ar],r):null}(_o(),mt(),16==(16&t))}class DD{constructor(){}supports(r){return ed(r)}create(r){return new RC(r)}}const SC=(t,r)=>r;class RC{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||SC}forEachItem(r){let o;for(o=this._itHead;null!==o;o=o._next)r(o)}forEachOperation(r){let o=this._itHead,a=this._removalsHead,d=0,g=null;for(;o||a;){const y=!a||o&&o.currentIndex<wD(a,d,g)?o:a,w=wD(y,d,g),N=y.currentIndex;if(y===a)d--,a=a._nextRemoved;else if(o=o._next,null==y.previousIndex)d++;else{g||(g=[]);const U=w-d,Q=N-d;if(U!=Q){for(let Re=0;Re<U;Re++){const $e=Re<g.length?g[Re]:g[Re]=0,dt=$e+Re;Q<=dt&&dt<U&&(g[Re]=$e+1)}g[y.previousIndex]=Q-U}}w!==N&&r(y,w,N)}}forEachPreviousItem(r){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachMovedItem(r){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}forEachIdentityChange(r){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)r(o)}diff(r){if(null==r&&(r=[]),!ed(r))throw new me(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let d,g,y,o=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let w=0;w<this.length;w++)g=r[w],y=this._trackByFn(w,g),null!==o&&Object.is(o.trackById,y)?(a&&(o=this._verifyReinsertion(o,g,y,w)),Object.is(o.item,g)||this._addIdentityChange(o,g)):(o=this._mismatch(o,g,y,w),a=!0),o=o._next}else d=0,function km(t,r){if(Array.isArray(t))for(let o=0;o<t.length;o++)r(t[o]);else{const o=t[Symbol.iterator]();let a;for(;!(a=o.next()).done;)r(a.value)}}(r,w=>{y=this._trackByFn(d,w),null!==o&&Object.is(o.trackById,y)?(a&&(o=this._verifyReinsertion(o,w,y,d)),Object.is(o.item,w)||this._addIdentityChange(o,w)):(o=this._mismatch(o,w,y,d),a=!0),o=o._next,d++}),this.length=d;return this._truncate(o),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,o,a,d){let g;return null===r?g=this._itTail:(g=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._reinsertAfter(r,g,d)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,d))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._moveAfter(r,g,d)):r=this._addAfter(new NC(o,a),g,d),r}_verifyReinsertion(r,o,a,d){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==g?r=this._reinsertAfter(g,r._prev,d):r.currentIndex!=d&&(r.currentIndex=d,this._addToMoves(r,d)),r}_truncate(r){for(;null!==r;){const o=r._next;this._addToRemovals(this._unlink(r)),r=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,o,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const d=r._prevRemoved,g=r._nextRemoved;return null===d?this._removalsHead=g:d._nextRemoved=g,null===g?this._removalsTail=d:g._prevRemoved=d,this._insertAfter(r,o,a),this._addToMoves(r,a),r}_moveAfter(r,o,a){return this._unlink(r),this._insertAfter(r,o,a),this._addToMoves(r,a),r}_addAfter(r,o,a){return this._insertAfter(r,o,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,o,a){const d=null===o?this._itHead:o._next;return r._next=d,r._prev=o,null===d?this._itTail=r:d._prev=r,null===o?this._itHead=r:o._next=r,null===this._linkedRecords&&(this._linkedRecords=new TD),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const o=r._prev,a=r._next;return null===o?this._itHead=a:o._next=a,null===a?this._itTail=o:a._prev=o,r}_addToMoves(r,o){return r.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new TD),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,o){return r.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class NC{constructor(r,o){this.item=r,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class MC{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,o){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===o||o<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const o=r._prevDup,a=r._nextDup;return null===o?this._head=a:o._nextDup=a,null===a?this._tail=o:a._prevDup=o,null===this._head}}class TD{constructor(){this.map=new Map}put(r){const o=r.trackById;let a=this.map.get(o);a||(a=new MC,this.map.set(o,a)),a.add(r)}get(r,o){const d=this.map.get(r);return d?d.get(r,o):null}remove(r){const o=r.trackById;return this.map.get(o).remove(r)&&this.map.delete(o),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function wD(t,r,o){const a=t.previousIndex;if(null===a)return a;let d=0;return o&&a<o.length&&(d=o[a]),a+r+d}class CD{constructor(){}supports(r){return r instanceof Map||Fm(r)}create(){return new OC}}class OC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let o;for(o=this._mapHead;null!==o;o=o._next)r(o)}forEachPreviousItem(r){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)r(o)}forEachChangedItem(r){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}diff(r){if(r){if(!(r instanceof Map||Fm(r)))throw new me(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,d)=>{if(o&&o.key===d)this._maybeAddToChanges(o,a),this._appendAfter=o,o=o._next;else{const g=this._getOrCreateRecordForKey(d,a);o=this._insertBeforeOrAppend(o,g)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let a=o;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,o){if(r){const a=r._prev;return o._next=r,o._prev=a,r._prev=o,a&&(a._next=o),r===this._mapHead&&(this._mapHead=o),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(r,o){if(this._records.has(r)){const d=this._records.get(r);this._maybeAddToChanges(d,o);const g=d._prev,y=d._next;return g&&(g._next=y),y&&(y._prev=g),d._next=null,d._prev=null,d}const a=new PC(r);return this._records.set(r,a),a.currentValue=o,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,o){Object.is(o,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=o,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,o){r instanceof Map?r.forEach(o):Object.keys(r).forEach(a=>o(r[a],a))}}class PC{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function AD(){return new pE([new DD])}let pE=(()=>{class t{static#e=this.\u0275prov=on({token:t,providedIn:"root",factory:AD});constructor(o){this.factories=o}static create(o,a){if(null!=a){const d=a.factories.slice();o=o.concat(d)}return new t(o)}static extend(o){return{provide:t,useFactory:a=>t.create(o,a||AD()),deps:[[t,new nl,new Fu]]}}find(o){const a=this.factories.find(d=>d.supports(o));if(null!=a)return a;throw new me(901,!1)}}return t})();function SD(){return new gE([new CD])}let gE=(()=>{class t{static#e=this.\u0275prov=on({token:t,providedIn:"root",factory:SD});constructor(o){this.factories=o}static create(o,a){if(a){const d=a.factories.slice();o=o.concat(d)}return new t(o)}static extend(o){return{provide:t,useFactory:a=>t.create(o,a||SD()),deps:[[t,new nl,new Fu]]}}find(o){const a=this.factories.find(d=>d.supports(o));if(a)return a;throw new me(901,!1)}}return t})();const FC=dD(null,"core",[]);let LC=(()=>{class t{constructor(o){}static#e=this.\u0275fac=function(a){return new(a||t)(bt(Tg))};static#t=this.\u0275mod=Ts({type:t});static#n=this.\u0275inj=An({})}return t})();function KC(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function ZC(t,r){const o=In(t),a=r.elementInjector||Hc();return new zh(o).create(a,r.projectableNodes,r.hostElement,r.environmentInjector)}function QC(t){const r=In(t);if(!r)return null;const o=new zh(r);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}},721:(Mt,je,V)=>{V.d(je,{Ot:()=>he,ZF:()=>ot,hX:()=>be,z6:()=>ge});var l=V(3182),G=V(5879),ee=V(1920);class he{constructor(Ge){return Ge}}class ge{constructor(){return(0,l.C6)()}}const Ve=new G.OlP("angularfire2._apps"),Oe={provide:he,useFactory:function Te(me){return me&&1===me.length?me[0]:new he((0,l.Mq)())},deps:[[new G.FiY,Ve]]},re={provide:ge,deps:[[new G.FiY,Ve]]};function ue(me){return(Ge,_e)=>{const Ke=Ge.runOutsideAngular(()=>me(_e));return new he(Ke)}}let ye=(()=>{class me{constructor(_e){(0,l.KN)("angularfire",ee.q4.full,"core"),(0,l.KN)("angularfire",ee.q4.full,"app"),(0,l.KN)("angular",G.q4F.full,_e.toString())}static \u0275fac=function(Ke){return new(Ke||me)(G.LFG(G.Lbi))};static \u0275mod=G.oAB({type:me});static \u0275inj=G.cJS({providers:[Oe,re]})}return me})();function be(me,...Ge){return{ngModule:ye,providers:[{provide:Ve,useFactory:ue(me),multi:!0,deps:[G.R0b,G.zs3,ee.HU,...Ge]}]}}const ot=(0,ee.u3)(l.ZF,!0)},4162:(Mt,je,V)=>{V.d(je,{dh:()=>ye,v0:()=>It,AR:()=>Ct});var l=V(1920),G=V(5879),ee=V(721),he=V(3182),ge=V(3560);V(9058),V(534),V(7879),V(4537);class ue{constructor(Zn){return Zn}}class ye{constructor(){return(0,l.vb)("auth")}}const Ue=new G.OlP("angularfire2.auth-instances");function Xe(ur){return(Zn,Fn)=>{const Un=Zn.runOutsideAngular(()=>ur(Fn));return new ue(Un)}}const ot={provide:ye,deps:[[new G.FiY,Ue]]},nt={provide:ue,useFactory:function Le(ur,Zn){const Fn=(0,l.JM)("auth",ur,Zn);return Fn&&new ue(Fn)},deps:[[new G.FiY,Ue],ee.Ot]};let St=(()=>{class ur{constructor(){(0,he.KN)("angularfire",l.q4.full,"auth")}static \u0275fac=function(Un){return new(Un||ur)};static \u0275mod=G.oAB({type:ur});static \u0275inj=G.cJS({providers:[nt,ot]})}return ur})();function Ct(ur,...Zn){return{ngModule:St,providers:[{provide:Ue,useFactory:Xe(ur),multi:!0,deps:[G.R0b,G.zs3,l.HU,ee.z6,[new G.FiY,l.Rf],...Zn]}]}}const It=(0,l.u3)(ge.o,!0)},7217:(Mt,je,V)=>{V.d(je,{Dh:()=>Ve,GT:()=>se,cc:()=>Ue,hO:()=>be,on:()=>re,pX:()=>ge,xv:()=>Oe});var l=V(5879),G=V(1920),ee=V(7142);const he=["ngOnDestroy"],ge=(nt,St,Ct,me={})=>new Proxy(nt,{get:(Ge,_e)=>Ct.runOutsideAngular(()=>{if(nt[_e])return me?.spy?.get&&me.spy.get(_e,nt[_e]),nt[_e];if(he.indexOf(_e)>-1)return()=>{};const Ke=St.toPromise().then(Ce=>{const Ae=Ce?.[_e];return"function"==typeof Ae?Ae.bind(Ce):Ae?.then?Ae.then(at=>Ct.run(()=>at)):Ct.run(()=>Ae)});return new Proxy(()=>{},{get:(Ce,Ae)=>Ke[Ae],apply:(Ce,Ae,at)=>Ke.then(gt=>{const Jt=gt?.(...at);return me?.spy?.apply&&me.spy.apply(_e,at,Jt),Jt})})})}),se=(nt,St)=>{St.forEach(Ct=>{Object.getOwnPropertyNames(Ct.prototype||Ct).forEach(me=>{Object.defineProperty(nt.prototype,me,Object.getOwnPropertyDescriptor(Ct.prototype||Ct,me))})})};class Te{constructor(St){return St}}const Ve=new l.OlP("angularfire2.app.options"),Oe=new l.OlP("angularfire2.app.name");function re(nt,St,Ct){const Ge="object"==typeof Ct&&Ct||{};Ge.name=Ge.name||"string"==typeof Ct&&Ct||"[DEFAULT]";const Ke=ee.Z.apps.filter(Ce=>Ce&&Ce.name===Ge.name)[0]||St.runOutsideAngular(()=>ee.Z.initializeApp(nt,Ge));try{if(JSON.stringify(nt)!==JSON.stringify(Ke.options)){const Ce=!!module.hot;ue("error",`${Ke.name} Firebase App already initialized with different options${Ce?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Te(Ke)}const ue=(nt,...St)=>{(0,l.X6Q)()&&typeof console<"u"&&console[nt](...St)},ye={provide:Te,useFactory:re,deps:[Ve,l.R0b,[new l.FiY,Oe]]};let be=(()=>{class nt{static initializeApp(Ct,me){return{ngModule:nt,providers:[{provide:Ve,useValue:Ct},{provide:Oe,useValue:me}]}}constructor(Ct){ee.Z.registerVersion("angularfire",G.q4.full,"core"),ee.Z.registerVersion("angularfire",G.q4.full,"app-compat"),ee.Z.registerVersion("angular",l.q4F.full,Ct.toString())}static \u0275fac=function(me){return new(me||nt)(l.LFG(l.Lbi))};static \u0275mod=l.oAB({type:nt});static \u0275inj=l.cJS({providers:[ye]})}return nt})();function Ue(nt,St,Ct,me,Ge){const[,_e,Ke]=globalThis.\u0275AngularfireInstanceCache.find(Ce=>Ce[0]===nt)||[];if(_e)return function Le(nt,St){try{return nt.toString()===St.toString()}catch{return nt===St}}(Ge,Ke)||(ot("error",`${St} was already initialized on the ${Ct} Firebase App with different settings.${Xe?" You may need to reload as Firebase is not HMR aware.":""}`),ot("warn",{is:Ge,was:Ke})),_e;{const Ce=me();return globalThis.\u0275AngularfireInstanceCache.push([nt,Ce,Ge]),Ce}}const Xe=typeof module<"u"&&!!module.hot,ot=(nt,...St)=>{(0,l.X6Q)()&&typeof console<"u"&&console[nt](...St)};globalThis.\u0275AngularfireInstanceCache||=[]},5349:(Mt,je,V)=>{V.d(je,{gg:()=>yg,ET:()=>c0,hJ:()=>Rv,BS:()=>Av,PL:()=>D0,ad:()=>T0,Xo:()=>Ov,Cm:()=>Cv,IO:()=>xv,pl:()=>SI,ar:()=>Xh});var be,l=V(1920),G=V(5879),ee=V(721),he=V(4162),ge=V(3182),se=V(5861),Te=V(534),Ve=V(4537),Oe=V(7879),re=V(9058),ue=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ye={},Ue=Ue||{},Le=ue||self;function Xe(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function ot(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var St="closure_uid_"+(1e9*Math.random()>>>0),Ct=0;function me(i,e,n){return i.call.apply(i.bind,arguments)}function Ge(i,e,n){if(!i)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,s),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function _e(i,e,n){return(_e=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?me:Ge).apply(null,arguments)}function Ke(i,e){var n=Array.prototype.slice.call(arguments,1);return function(){var s=n.slice();return s.push.apply(s,arguments),i.apply(this,s)}}function Ce(i,e){function n(){}n.prototype=e.prototype,i.$=e.prototype,i.prototype=new n,i.prototype.constructor=i,i.ac=function(s,u,f){for(var _=Array(arguments.length-2),S=2;S<arguments.length;S++)_[S-2]=arguments[S];return e.prototype[u].apply(s,_)}}function Ae(){this.s=this.s,this.o=this.o}Ae.prototype.s=!1,Ae.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function nt(i){Object.prototype.hasOwnProperty.call(i,St)&&i[St]||(i[St]=++Ct)}(this)},Ae.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const gt=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let n=0;n<i.length;n++)if(n in i&&i[n]===e)return n;return-1};function Jt(i){const e=i.length;if(0<e){const n=Array(e);for(let s=0;s<e;s++)n[s]=i[s];return n}return[]}function er(i,e){for(let n=1;n<arguments.length;n++){const s=arguments[n];if(Xe(s)){const u=i.length||0,f=s.length||0;i.length=u+f;for(let _=0;_<f;_++)i[u+_]=s[_]}else i.push(s)}}function _n(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}_n.prototype.h=function(){this.defaultPrevented=!0};var pr=function(){if(!Le.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{Le.addEventListener("test",()=>{},e),Le.removeEventListener("test",()=>{},e)}catch{}return i}();function It(i){return/^[\s\xa0]*$/.test(i)}function Zt(){var i=Le.navigator;return i&&(i=i.userAgent)?i:""}function Lt(i){return-1!=Zt().indexOf(i)}function xe(i){return xe[" "](i),i}xe[" "]=function(){};var ut,i,Be=Lt("Opera"),Ee=Lt("Trident")||Lt("MSIE"),ke=Lt("Edge"),tt=ke||Ee,vt=Lt("Gecko")&&!(-1!=Zt().toLowerCase().indexOf("webkit")&&!Lt("Edge"))&&!(Lt("Trident")||Lt("MSIE"))&&!Lt("Edge"),lt=-1!=Zt().toLowerCase().indexOf("webkit")&&!Lt("Edge");function fn(){var i=Le.document;return i?i.documentMode:void 0}e:{var pn="",on=(i=Zt(),vt?/rv:([^\);]+)(\)|;)/.exec(i):ke?/Edge\/([\d\.]+)/.exec(i):Ee?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):lt?/WebKit\/(\S+)/.exec(i):Be?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(on&&(pn=on?on[1]:""),Ee){var sn=fn();if(null!=sn&&sn>parseFloat(pn)){ut=String(sn);break e}}ut=pn}var Ie=Le.document&&Ee&&(fn()||parseInt(ut,10))||void 0;function De(i,e){if(_n.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var n=this.type=i.type,s=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(vt){e:{try{xe(e.nodeName);var u=!0;break e}catch{}u=!1}u||(e=null)}}else"mouseover"==n?e=i.fromElement:"mouseout"==n&&(e=i.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:We[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&De.$.h.call(this)}}Ce(De,_n);var We={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var rt="closure_listenable_"+(1e6*Math.random()|0),Dt=0;function ht(i,e,n,s,u){this.listener=i,this.proxy=null,this.src=e,this.type=n,this.capture=!!s,this.la=u,this.key=++Dt,this.fa=this.ia=!1}function ln(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function un(i,e,n){for(const s in i)e.call(n,i[s],s,i)}function tn(i){const e={};for(const n in i)e[n]=i[n];return e}const cn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function jn(i,e){let n,s;for(let u=1;u<arguments.length;u++){for(n in s=arguments[u],s)i[n]=s[n];for(let f=0;f<cn.length;f++)n=cn[f],Object.prototype.hasOwnProperty.call(s,n)&&(i[n]=s[n])}}function wn(i){this.src=i,this.g={},this.h=0}function br(i,e){var n=e.type;if(n in i.g){var f,s=i.g[n],u=gt(s,e);(f=0<=u)&&Array.prototype.splice.call(s,u,1),f&&(ln(e),0==i.g[n].length&&(delete i.g[n],i.h--))}}function Nt(i,e,n,s){for(var u=0;u<i.length;++u){var f=i[u];if(!f.fa&&f.listener==e&&f.capture==!!n&&f.la==s)return u}return-1}wn.prototype.add=function(i,e,n,s,u){var f=i.toString();(i=this.g[f])||(i=this.g[f]=[],this.h++);var _=Nt(i,e,s,u);return-1<_?(e=i[_],n||(e.ia=!1)):((e=new ht(e,this.src,f,!!s,u)).ia=n,i.push(e)),e};var Yn="closure_lm_"+(1e6*Math.random()|0),or={};function Pt(i,e,n,s,u){if(s&&s.once)return hr(i,e,n,s,u);if(Array.isArray(e)){for(var f=0;f<e.length;f++)Pt(i,e[f],n,s,u);return null}return n=Zn(n),i&&i[rt]?i.O(e,n,ot(s)?!!s.capture:!!s,u):io(i,e,n,!1,s,u)}function io(i,e,n,s,u,f){if(!e)throw Error("Invalid event type");var _=ot(u)?!!u.capture:!!u,S=Pr(i);if(S||(i[Yn]=S=new wn(i)),(n=S.add(e,n,s,_,f)).proxy)return n;if(s=function an(){const e=Or;return function i(n){return e.call(i.src,i.listener,n)}}(),n.proxy=s,s.src=i,s.listener=n,i.addEventListener)pr||(u=_),void 0===u&&(u=!1),i.addEventListener(e.toString(),s,u);else if(i.attachEvent)i.attachEvent(Mr(e.toString()),s);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(s)}return n}function hr(i,e,n,s,u){if(Array.isArray(e)){for(var f=0;f<e.length;f++)hr(i,e[f],n,s,u);return null}return n=Zn(n),i&&i[rt]?i.P(e,n,ot(s)?!!s.capture:!!s,u):io(i,e,n,!0,s,u)}function Jr(i,e,n,s,u){if(Array.isArray(e))for(var f=0;f<e.length;f++)Jr(i,e[f],n,s,u);else s=ot(s)?!!s.capture:!!s,n=Zn(n),i&&i[rt]?(i=i.i,(e=String(e).toString())in i.g&&-1<(n=Nt(f=i.g[e],n,s,u))&&(ln(f[n]),Array.prototype.splice.call(f,n,1),0==f.length&&(delete i.g[e],i.h--))):i&&(i=Pr(i))&&(e=i.g[e.toString()],i=-1,e&&(i=Nt(e,n,s,u)),(n=-1<i?e[i]:null)&&ri(n))}function ri(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[rt])br(e.i,i);else{var n=i.type,s=i.proxy;e.removeEventListener?e.removeEventListener(n,s,i.capture):e.detachEvent?e.detachEvent(Mr(n),s):e.addListener&&e.removeListener&&e.removeListener(s),(n=Pr(e))?(br(n,i),0==n.h&&(n.src=null,e[Yn]=null)):ln(i)}}}function Mr(i){return i in or?or[i]:or[i]="on"+i}function Or(i,e){if(i.fa)i=!0;else{e=new De(e,this);var n=i.listener,s=i.la||i.src;i.ia&&ri(i),i=n.call(s,e)}return i}function Pr(i){return(i=i[Yn])instanceof wn?i:null}var ur="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zn(i){return"function"==typeof i?i:(i[ur]||(i[ur]=function(e){return i.handleEvent(e)}),i[ur])}function Fn(){Ae.call(this),this.i=new wn(this),this.S=this,this.J=null}function Un(i,e){var n,s=i.J;if(s)for(n=[];s;s=s.J)n.push(s);if(i=i.S,s=e.type||e,"string"==typeof e)e=new _n(e,i);else if(e instanceof _n)e.target=e.target||i;else{var u=e;jn(e=new _n(s,i),u)}if(u=!0,n)for(var f=n.length-1;0<=f;f--){var _=e.g=n[f];u=xi(_,s,!0,e)&&u}if(u=xi(_=e.g=i,s,!0,e)&&u,u=xi(_,s,!1,e)&&u,n)for(f=0;f<n.length;f++)u=xi(_=e.g=n[f],s,!1,e)&&u}function xi(i,e,n,s){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,f=0;f<e.length;++f){var _=e[f];if(_&&!_.fa&&_.capture==n){var S=_.listener,O=_.la||_.src;_.ia&&br(i.i,_),u=!1!==S.call(O,s)&&u}}return u&&!s.defaultPrevented}Ce(Fn,Ae),Fn.prototype[rt]=!0,Fn.prototype.removeEventListener=function(i,e,n,s){Jr(this,i,e,n,s)},Fn.prototype.N=function(){if(Fn.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var n=i.g[e],s=0;s<n.length;s++)ln(n[s]);delete i.g[e],i.h--}}this.J=null},Fn.prototype.O=function(i,e,n,s){return this.i.add(String(i),e,!1,n,s)},Fn.prototype.P=function(i,e,n,s){return this.i.add(String(i),e,!0,n,s)};var ki=Le.JSON.stringify;function J(){var i=Vt;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var L=new class fe{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new k,i=>i.reset());class k{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function ie(i){var e=1;i=i.split(":");const n=[];for(;0<e&&i.length;)n.push(i.shift()),e--;return i.length&&n.push(i.join(":")),n}function Ne(i){Le.setTimeout(()=>{throw i},0)}let st,bt=!1,Vt=new class j{constructor(){this.h=this.g=null}add(e,n){const s=L.get();s.set(e,n),this.h?this.h.next=s:this.g=s,this.h=s}},Bt=()=>{const i=Le.Promise.resolve(void 0);st=()=>{i.then(en)}};var en=()=>{for(var i;i=J();){try{i.h.call(i.g)}catch(n){Ne(n)}var e=L;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}bt=!1};function Ln(i,e){Fn.call(this),this.h=i||1,this.g=e||Le,this.j=_e(this.qb,this),this.l=Date.now()}function hn(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function jr(i,e,n){if("function"==typeof i)n&&(i=_e(i,n));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=_e(i.handleEvent,i)}return 2147483647<Number(e)?-1:Le.setTimeout(i,e||0)}function qo(i){i.g=jr(()=>{i.g=null,i.i&&(i.i=!1,qo(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}Ce(Ln,Fn),(be=Ln.prototype).ga=!1,be.T=null,be.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Un(this,"tick"),this.ga&&(hn(this),this.start()))}},be.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},be.N=function(){Ln.$.N.call(this),hn(this),delete this.g};class it extends Ae{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:qo(this)}N(){super.N(),this.g&&(Le.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fe(i){Ae.call(this),this.h=i,this.g={}}Ce(Fe,Ae);var _t=[];function Yt(i,e,n,s){Array.isArray(n)||(n&&(_t[0]=n.toString()),n=_t);for(var u=0;u<n.length;u++){var f=Pt(e,n[u],s||i.handleEvent,!1,i.h||i);if(!f)break;i.g[f.key]=f}}function gn(i){un(i.g,function(e,n){this.g.hasOwnProperty(n)&&ri(e)},i),i.g={}}function zt(){this.g=!0}function gr(i,e,n,s){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function yi(i,e){if(!i.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(i=0;i<n.length;i++)if(Array.isArray(n[i])){var s=n[i];if(!(2>s.length)){var u=s[1];if(Array.isArray(u)&&!(1>u.length)){var f=u[0];if("noop"!=f&&"stop"!=f&&"close"!=f)for(var _=1;_<u.length;_++)u[_]=""}}}return ki(n)}catch{return e}}(i,n)+(s?" "+s:"")})}Fe.prototype.N=function(){Fe.$.N.call(this),gn(this)},Fe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},zt.prototype.Ea=function(){this.g=!1},zt.prototype.info=function(){};var Fi={},zr=null;function fi(){return zr=zr||new Fn}function $n(i){_n.call(this,Fi.Ta,i)}function ii(i){const e=fi();Un(e,new $n(e))}function Is(i,e){_n.call(this,Fi.STAT_EVENT,i),this.stat=e}function tr(i){const e=fi();Un(e,new Is(e,i))}function Si(i,e){_n.call(this,Fi.Ua,i),this.size=e}function oi(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return Le.setTimeout(function(){i()},e)}Fi.Ta="serverreachability",Ce($n,_n),Fi.STAT_EVENT="statevent",Ce(Is,_n),Fi.Ua="timingevent",Ce(Si,_n);var Ko={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Ri={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function po(){}function Wr(){}po.prototype.h=null;var Vs,Yo={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ls(){_n.call(this,"d")}function fl(){_n.call(this,"c")}function Js(){}function bs(i,e,n,s){this.l=i,this.j=e,this.m=n,this.W=s||1,this.U=new Fe(this),this.P=Wa,this.V=new Ln(i=tt?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Bs}function Bs(){this.i=null,this.g="",this.h=!1}Ce(Ls,_n),Ce(fl,_n),Ce(Js,po),Js.prototype.g=function(){return new XMLHttpRequest},Js.prototype.i=function(){return{}},Vs=new Js;var Wa=45e3,Li={},Ds={};function Xs(i,e,n){i.L=1,i.v=nr(Hr(e)),i.s=n,i.S=!0,qr(i,null)}function qr(i,e){i.G=Date.now(),zi(i),i.A=Hr(i.v);var n=i.A,s=i.W;Array.isArray(s)||(s=[String(s)]),ws(n.i,"t",s),i.C=0,n=i.l.J,i.h=new Bs,i.g=xl(i.l,n?e:null,!i.s),0<i.O&&(i.M=new it(_e(i.Pa,i,i.g),i.O)),Yt(i.U,i.g,"readystatechange",i.nb),e=i.I?tn(i.I):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.A,i.u,i.s,e)):(i.u="GET",i.g.ha(i.A,i.u,null,e)),ii(),function Wn(i,e,n,s,u,f){i.info(function(){if(i.g)if(f)for(var _="",S=f.split("&"),O=0;O<S.length;O++){var $=S[O].split("=");if(1<$.length){var Z=$[0];$=$[1];var oe=Z.split("_");_=2<=oe.length&&"type"==oe[1]?_+(Z+"=")+$+"&":_+(Z+"=redacted&")}}else _=null;else _=f;return"XMLHTTP REQ ("+s+") [attempt "+u+"]: "+e+"\n"+n+"\n"+_})}(i.j,i.u,i.A,i.m,i.W,i.s)}function bo(i){return!!i.g&&"GET"==i.u&&2!=i.L&&i.l.Ha}function Ni(i,e,n){let u,s=!0;for(;!i.J&&i.C<n.length;){if(u=Ts(i,n),u==Ds){4==e&&(i.o=4,tr(14),s=!1),gr(i.j,i.m,null,"[Incomplete Response]");break}if(u==Li){i.o=4,tr(15),gr(i.j,i.m,n,"[Invalid Chunk]"),s=!1;break}gr(i.j,i.m,u,null),sr(i,u)}bo(i)&&u!=Ds&&u!=Li&&(i.h.g="",i.C=0),4!=e||0!=n.length||i.h.h||(i.o=1,tr(16),s=!1),i.i=i.i&&s,s?0<n.length&&!i.ba&&(i.ba=!0,(e=i.l).g==i&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),ia(e),e.M=!0,tr(11))):(gr(i.j,i.m,n,"[Invalid Chunked Response]"),In(i),Wi(i))}function Ts(i,e){var n=i.C,s=e.indexOf("\n",n);return-1==s?Ds:(n=Number(e.substring(n,s)),isNaN(n)?Li:(s+=1)+n>e.length?Ds:(e=e.slice(s,s+n),i.C=s+n,e))}function zi(i){i.Y=Date.now()+i.P,Vi(i,i.P)}function Vi(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=oi(_e(i.lb,i),e)}function Do(i){i.B&&(Le.clearTimeout(i.B),i.B=null)}function Wi(i){0==i.l.H||i.J||Bi(i.l,i)}function In(i){Do(i);var e=i.M;e&&"function"==typeof e.sa&&e.sa(),i.M=null,hn(i.V),gn(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.sa())}function sr(i,e){try{var n=i.l;if(0!=n.H&&(n.g==i||es(n.i,i)))if(!i.K&&es(n.i,i)&&3==n.H){try{var s=n.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var u=s;if(0==u[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<i.G))break e;ao(n),qa(n)}As(n),tr(18)}}else n.Fa=u[1],0<n.Fa-n.V&&37500>u[2]&&n.G&&0==n.A&&!n.v&&(n.v=oi(_e(n.ib,n),6e3));if(1>=ds(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else fs(n,11)}else if((i.K||n.g==i)&&ao(n),!It(e))for(u=n.Ja.g.parse(e),e=0;e<u.length;e++){let $=u[e];if(n.V=$[0],$=$[1],2==n.H)if("c"==$[0]){n.K=$[1],n.pa=$[2];const Z=$[3];null!=Z&&(n.ra=Z,n.l.info("VER="+n.ra));const oe=$[4];null!=oe&&(n.Ga=oe,n.l.info("SVER="+n.Ga));const we=$[5];null!=we&&"number"==typeof we&&0<we&&(n.L=s=1.5*we,n.l.info("backChannelRequestTimeoutMs_="+s)),s=n;const Ye=i.g;if(Ye){const wt=Ye.g?Ye.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wt){var f=s.i;f.g||-1==wt.indexOf("spdy")&&-1==wt.indexOf("quic")&&-1==wt.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(vn(f,f.h),f.h=null))}if(s.F){const jt=Ye.g?Ye.g.getResponseHeader("X-HTTP-Session-Id"):null;jt&&(s.Da=jt,Wt(s.I,s.F,jt))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-i.G,n.l.info("Handshake RTT: "+n.S+"ms"));var _=i;if((s=n).wa=Ss(s,s.J?s.pa:null,s.Y),_.K){Cs(s.i,_);var S=_,O=s.L;O&&S.setTimeout(O),S.B&&(Do(S),zi(S)),s.g=_}else Qi(s);0<n.j.length&&ra(n)}else"stop"!=$[0]&&"close"!=$[0]||fs(n,7);else 3==n.H&&("stop"==$[0]||"close"==$[0]?"stop"==$[0]?fs(n,7):Ol(n):"noop"!=$[0]&&n.h&&n.h.Aa($),n.A=0)}ii()}catch{}}function $r(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(Xe(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var n=function Zo(i){if(i.ta&&"function"==typeof i.ta)return i.ta();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(Xe(i)||"string"==typeof i){var e=[];i=i.length;for(var n=0;n<i;n++)e.push(n);return e}e=[],n=0;for(const s in i)e[n++]=s;return e}}}(i),s=function mr(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(Xe(i)){for(var e=[],n=i.length,s=0;s<n;s++)e.push(i[s]);return e}for(s in e=[],n=0,i)e[n++]=i[s];return e}(i),u=s.length,f=0;f<u;f++)e.call(void 0,s[f],n&&n[f],i)}(be=bs.prototype).setTimeout=function(i){this.P=i},be.nb=function(i){i=i.target;const e=this.M;e&&3==de(i)?e.l():this.Pa(i)},be.Pa=function(i){try{if(i==this.g)e:{const Z=de(this.g);var e=this.g.Ia();if(this.g.da(),!(3>Z)&&(3!=Z||tt||this.g&&(this.h.h||this.g.ja()||nn(this.g)))){this.J||4!=Z||7==e||ii(),Do(this);var n=this.g.da();this.ca=n;t:if(bo(this)){var s=nn(this.g);i="";var u=s.length,f=4==de(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){In(this),Wi(this);var _="";break t}this.h.i=new Le.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(s[e],{stream:f&&e==u-1});s.splice(0,u),this.h.g+=i,this.C=0,_=this.h.g}else _=this.g.ja();if(this.i=200==n,function xr(i,e,n,s,u,f,_){i.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+u+"]: "+e+"\n"+n+"\n"+f+" "+_})}(this.j,this.u,this.A,this.m,this.W,Z,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var S,O=this.g;if((S=O.g?O.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!It(S)){var $=S;break t}}$=null}if(!(n=$)){this.i=!1,this.o=3,tr(12),In(this),Wi(this);break e}gr(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sr(this,n)}this.S?(Ni(this,Z,_),tt&&this.i&&3==Z&&(Yt(this.U,this.V,"tick",this.mb),this.V.start())):(gr(this.j,this.m,_,null),sr(this,_)),4==Z&&In(this),this.i&&!this.J&&(4==Z?Bi(this.l,this):(this.i=!1,zi(this)))}else(function Vn(i){const e={};i=(i.g&&2<=de(i)&&i.g.getAllResponseHeaders()||"").split("\r\n");for(let s=0;s<i.length;s++){if(It(i[s]))continue;var n=ie(i[s]);const u=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const f=e[u]||[];e[u]=f,f.push(n)}!function Rt(i,e){for(const n in i)e.call(void 0,i[n],n,i)}(e,function(s){return s.join(", ")})})(this.g),400==n&&0<_.indexOf("Unknown SID")?(this.o=3,tr(12)):(this.o=0,tr(13)),In(this),Wi(this)}}}catch{}},be.mb=function(){if(this.g){var i=de(this.g),e=this.g.ja();this.C<e.length&&(Do(this),Ni(this,i,e),this.i&&4!=i&&zi(this))}},be.cancel=function(){this.J=!0,In(this)},be.lb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function Ai(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(ii(),tr(17)),In(this),this.o=2,Wi(this)):Vi(this,this.Y-i)};var Da=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function To(i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof To){this.h=i.h,go(this,i.j),this.s=i.s,this.g=i.g,cr(this,i.m),this.l=i.l;var e=i.i,n=new Qo;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),kt(this,n),this.o=i.o}else i&&(e=String(i).match(Da))?(this.h=!1,go(this,e[1]||"",!0),this.s=Gr(e[2]||""),this.g=Gr(e[3]||"",!0),cr(this,e[4]),this.l=Gr(e[5]||"",!0),kt(this,e[6]||"",!0),this.o=Gr(e[7]||"")):(this.h=!1,this.i=new Qo(null,this.h))}function Hr(i){return new To(i)}function go(i,e,n){i.j=n?Gr(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function cr(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function kt(i,e,n){e instanceof Qo?(i.i=e,function Ki(i,e){e&&!i.j&&(ai(i),i.i=null,i.g.forEach(function(n,s){var u=s.toLowerCase();s!=u&&(jo(this,s),ws(this,u,n))},i)),i.j=e}(i.i,i.h)):(n||(e=Ei(e,Uo)),i.i=new Qo(e,i.h))}function Wt(i,e,n){i.i.set(e,n)}function nr(i){return Wt(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Gr(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Ei(i,e,n){return"string"==typeof i?(i=encodeURI(i).replace(e,_r),n&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function _r(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}To.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Ei(e,oo,!0),":");var n=this.g;return(n||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Ei(e,oo,!0),"@"),i.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&i.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&i.push("/"),i.push(Ei(n,"/"==n.charAt(0)?Ii:Ar,!0))),(n=this.i.toString())&&i.push("?",n),(n=this.o)&&i.push("#",Ei(n,yn)),i.join("")};var oo=/[#\/\?@]/g,Ar=/[#\?:]/g,Ii=/[#\?]/g,Uo=/[#\?@]/g,yn=/#/g;function Qo(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function ai(i){i.g||(i.g=new Map,i.h=0,i.i&&function si(i,e){if(i){i=i.split("&");for(var n=0;n<i.length;n++){var s=i[n].indexOf("="),u=null;if(0<=s){var f=i[n].substring(0,s);u=i[n].substring(s+1)}else f=i[n];e(f,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,n){i.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function jo(i,e){ai(i),e=qi(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function ar(i,e){return ai(i),e=qi(i,e),i.g.has(e)}function ws(i,e,n){jo(i,e),0<n.length&&(i.i=null,i.g.set(qi(i,e),Jt(n)),i.h+=n.length)}function qi(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function pl(i){this.l=i||cs,i=Le.PerformanceNavigationTiming?0<(i=Le.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(Le.g&&Le.g.Ka&&Le.g.Ka()&&Le.g.Ka().dc),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(be=Qo.prototype).add=function(i,e){ai(this),this.i=null,i=qi(this,i);var n=this.g.get(i);return n||this.g.set(i,n=[]),n.push(e),this.h+=1,this},be.forEach=function(i,e){ai(this),this.g.forEach(function(n,s){n.forEach(function(u){i.call(e,u,s,this)},this)},this)},be.ta=function(){ai(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let s=0;s<e.length;s++){const u=i[s];for(let f=0;f<u.length;f++)n.push(e[s])}return n},be.Z=function(i){ai(this);let e=[];if("string"==typeof i)ar(this,i)&&(e=e.concat(this.g.get(qi(this,i))));else{i=Array.from(this.g.values());for(let n=0;n<i.length;n++)e=e.concat(i[n])}return e},be.set=function(i,e){return ai(this),this.i=null,ar(this,i=qi(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},be.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},be.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var s=e[n];const f=encodeURIComponent(String(s)),_=this.Z(s);for(s=0;s<_.length;s++){var u=f;""!==_[s]&&(u+="="+encodeURIComponent(String(_[s]))),i.push(u)}}return this.i=i.join("&")};var cs=10;function Zi(i){return!!i.h||!!i.g&&i.g.size>=i.j}function ds(i){return i.h?1:i.g?i.g.size:0}function es(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function vn(i,e){i.g?i.g.add(e):i.h=e}function Cs(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function wo(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const n of i.g.values())e=e.concat(n.F);return e}return Jt(i.i)}pl.prototype.cancel=function(){if(this.i=wo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}};var hs=class{stringify(i){return Le.JSON.stringify(i,void 0)}parse(i){return Le.JSON.parse(i,void 0)}};function Kr(){this.g=new hs}function Ta(i,e,n){const s=n||"";try{$r(i,function(u,f){let _=u;ot(u)&&(_=ki(u)),e.push(s+f+"="+encodeURIComponent(_))})}catch(u){throw e.push(s+"type="+encodeURIComponent("_badmap")),u}}function Ao(i,e,n,s,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(s)}catch{}}function li(i){this.l=i.ec||null,this.j=i.ob||!1}function ea(i,e){Fn.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=pi,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ce(li,po),li.prototype.g=function(){return new ea(this.l,this.j)},li.prototype.i=function(i){return function(){return i}}({}),Ce(ea,Fn);var pi=0;function Yr(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function ts(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Xr(i)}function Xr(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(be=ea.prototype).open=function(i,e){if(this.readyState!=pi)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Xr(this)},be.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||Le).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},be.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ts(this)),this.readyState=pi},be.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Xr(this)),this.g&&(this.readyState=3,Xr(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Le.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Yr(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},be.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?ts(this):Xr(this),3==this.readyState&&Yr(this)}},be.Za=function(i){this.g&&(this.response=this.responseText=i,ts(this))},be.Ya=function(i){this.g&&(this.response=i,ts(this))},be.ka=function(){this.g&&ts(this)},be.setRequestHeader=function(i,e){this.v.append(i,e)},be.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},be.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var n=e.next();!n.done;)i.push((n=n.value)[0]+": "+n[1]),n=e.next();return i.join("\r\n")},Object.defineProperty(ea.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var $o=Le.JSON.parse;function Gn(i){Fn.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Us,this.L=this.M=!1}Ce(Gn,Fn);var Us="",ta=/^https?$/i,js=["POST","PUT"];function gl(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,H(i),P(i)}function H(i){i.F||(i.F=!0,Un(i,"complete"),Un(i,"error"))}function q(i){if(i.h&&typeof Ue<"u"&&(!i.C[1]||4!=de(i)||2!=i.da()))if(i.v&&4==de(i))jr(i.La,0,i);else if(Un(i,"readystatechange"),4==de(i)){i.h=!1;try{const _=i.da();e:switch(_){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var s;if(s=0===_){var u=String(i.I).match(Da)[1]||null;!u&&Le.self&&Le.self.location&&(u=Le.self.location.protocol.slice(0,-1)),s=!ta.test(u?u.toLowerCase():"")}n=s}if(n)Un(i,"complete"),Un(i,"success");else{i.m=6;try{var f=2<de(i)?i.g.statusText:""}catch{f=""}i.j=f+" ["+i.da()+"]",H(i)}}finally{P(i)}}}function P(i,e){if(i.g){te(i);const n=i.g,s=i.C[0]?()=>{}:null;i.g=null,i.C=null,e||Un(i,"ready");try{n.onreadystatechange=s}catch{}}}function te(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(Le.clearTimeout(i.A),i.A=null)}function de(i){return i.g?i.g.readyState:0}function nn(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case Us:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function So(i){let e="";return un(i,function(n,s){e+=s,e+=":",e+=n,e+="\r\n"}),e}function Jo(i,e,n){e:{for(s in n){var s=!1;break e}s=!0}s||(n=So(n),"string"==typeof i?null!=n&&encodeURIComponent(String(n)):Wt(i,e,n))}function so(i,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[i]||e}function Ml(i){this.Ga=0,this.j=[],this.l=new zt,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=so("failFast",!1,i),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=so("baseRetryDelayMs",5e3,i),this.hb=so("retryDelaySeedMs",1e4,i),this.eb=so("forwardChannelMaxRetries",2,i),this.xa=so("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.useFetchStreams||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.i=new pl(i&&i.concurrentRequestLimit),this.Ja=new Kr,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.l.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.qa=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.qa=i.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Ol(i){if(ml(i),3==i.H){var e=i.W++,n=Hr(i.I);if(Wt(n,"SID",i.K),Wt(n,"RID",e),Wt(n,"TYPE","terminate"),Ya(i,n),(e=new bs(i,i.l,e)).L=2,e.v=nr(Hr(n)),n=!1,Le.navigator&&Le.navigator.sendBeacon)try{n=Le.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Le.Image&&((new Image).src=e.v,n=!0),n||(e.g=xl(e.l,null),e.g.ha(e.v)),e.G=Date.now(),zi(e)}Pl(i)}function qa(i){i.g&&(ia(i),i.g.cancel(),i.g=null)}function ml(i){qa(i),i.u&&(Le.clearTimeout(i.u),i.u=null),ao(i),i.i.cancel(),i.m&&("number"==typeof i.m&&Le.clearTimeout(i.m),i.m=null)}function ra(i){if(!Zi(i.i)&&!i.m){i.m=!0;var e=i.Na;st||Bt(),bt||(st(),bt=!0),Vt.add(e,i),i.C=0}}function Ka(i,e){var n;n=e?e.m:i.W++;const s=Hr(i.I);Wt(s,"SID",i.K),Wt(s,"RID",n),Wt(s,"AID",i.V),Ya(i,s),i.o&&i.s&&Jo(s,i.o,i.s),n=new bs(i,i.l,n,i.C+1),null===i.o&&(n.I=i.s),e&&(i.j=e.F.concat(i.j)),e=ns(i,n,1e3),n.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),vn(i.i,n),Xs(n,s,e)}function Ya(i,e){i.na&&un(i.na,function(n,s){Wt(e,s,n)}),i.h&&$r({},function(n,s){Wt(e,s,n)})}function ns(i,e,n){n=Math.min(i.j.length,n);var s=i.h?_e(i.h.Va,i.h,i):null;e:{var u=i.j;let f=-1;for(;;){const _=["count="+n];-1==f?0<n?(f=u[0].g,_.push("ofs="+f)):f=0:_.push("ofs="+f);let S=!0;for(let O=0;O<n;O++){let $=u[O].g;const Z=u[O].map;if($-=f,0>$)f=Math.max(0,u[O].g-100),S=!1;else try{Ta(Z,_,"req"+$+"_")}catch{s&&s(Z)}}if(S){s=_.join("&");break e}}}return i=i.j.splice(0,n),e.F=i,s}function Qi(i){if(!i.g&&!i.u){i.ba=1;var e=i.Ma;st||Bt(),bt||(st(),bt=!0),Vt.add(e,i),i.A=0}}function As(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=oi(_e(i.Ma,i),Du(i,i.A)),i.A++,0))}function ia(i){null!=i.B&&(Le.clearTimeout(i.B),i.B=null)}function ui(i){i.g=new bs(i,i.l,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=Hr(i.wa);Wt(e,"RID","rpc"),Wt(e,"SID",i.K),Wt(e,"AID",i.V),Wt(e,"CI",i.G?"0":"1"),!i.G&&i.qa&&Wt(e,"TO",i.qa),Wt(e,"TYPE","xmlhttp"),Ya(i,e),i.o&&i.s&&Jo(e,i.o,i.s),i.L&&i.g.setTimeout(i.L);var n=i.g;i=i.pa,n.L=1,n.v=nr(Hr(e)),n.s=null,n.S=!0,qr(n,i)}function ao(i){null!=i.v&&(Le.clearTimeout(i.v),i.v=null)}function Bi(i,e){var n=null;if(i.g==e){ao(i),ia(i),i.g=null;var s=2}else{if(!es(i.i,e))return;n=e.F,Cs(i.i,e),s=1}if(0!=i.H)if(e.i)if(1==s){n=e.s?e.s.length:0,e=Date.now()-e.G;var u=i.C;Un(s=fi(),new Si(s,n)),ra(i)}else Qi(i);else if(3==(u=e.o)||0==u&&0<e.ca||!(1==s&&function od(i,e){return!(ds(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.j=e.F.concat(i.j),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=oi(_e(i.Na,i,e),Du(i,i.C)),i.C++,0)))}(i,e)||2==s&&As(i)))switch(n&&0<n.length&&(e=i.i,e.i=e.i.concat(n)),u){case 1:fs(i,5);break;case 4:fs(i,10);break;case 3:fs(i,6);break;default:fs(i,2)}}function Du(i,e){let n=i.ab+Math.floor(Math.random()*i.hb);return i.isActive()||(n*=2),n*e}function fs(i,e){if(i.l.info("Error code "+e),2==e){var n=null;i.h&&(n=null);var s=_e(i.pb,i);n||(n=new To("//www.google.com/images/cleardot.gif"),Le.location&&"http"==Le.location.protocol||go(n,"https"),nr(n)),function Co(i,e){const n=new zt;if(Le.Image){const s=new Image;s.onload=Ke(Ao,n,s,"TestLoadImage: loaded",!0,e),s.onerror=Ke(Ao,n,s,"TestLoadImage: error",!1,e),s.onabort=Ke(Ao,n,s,"TestLoadImage: abort",!1,e),s.ontimeout=Ke(Ao,n,s,"TestLoadImage: timeout",!1,e),Le.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=i}else e(!1)}(n.toString(),s)}else tr(2);i.H=0,i.h&&i.h.za(e),Pl(i),ml(i)}function Pl(i){if(i.H=0,i.ma=[],i.h){const e=wo(i.i);(0!=e.length||0!=i.j.length)&&(er(i.ma,e),er(i.ma,i.j),i.i.i.length=0,Jt(i.j),i.j.length=0),i.h.ya()}}function Ss(i,e,n){var s=n instanceof To?Hr(n):new To(n);if(""!=s.g)e&&(s.g=e+"."+s.g),cr(s,s.m);else{var u=Le.location;s=u.protocol,e=e?e+"."+u.hostname:u.hostname,u=+u.port;var f=new To(null);s&&go(f,s),e&&(f.g=e),u&&cr(f,u),n&&(f.l=n),s=f}return e=i.Da,(n=i.F)&&e&&Wt(s,n,e),Wt(s,"VER",i.ra),Ya(i,s),s}function xl(i,e,n){if(e&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Gn(n&&i.Ha&&!i.va?new li({ob:!0}):i.va)).Oa(i.J),e}function wa(){}function oa(){if(Ee&&!(10<=Number(Ie)))throw Error("Environmental error: no available transport.")}function Ji(i,e){Fn.call(this),this.g=new Ml(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!It(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!It(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new sa(this)}function kl(i){Ls.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var e=i.__sm__;if(e){e:{for(const n in e){i=n;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function Za(){fl.call(this),this.status=1}function sa(i){this.g=i}function lo(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function $s(i,e,n){n||(n=0);var s=Array(16);if("string"==typeof e)for(var u=0;16>u;++u)s[u]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(u=0;16>u;++u)s[u]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var f=i.g[3],_=(e=i.g[0])+(f^(n=i.g[1])&((u=i.g[2])^f))+s[0]+3614090360&4294967295;_=(n=(u=(f=(e=(n=(u=(f=(e=(n=(u=(f=(e=(n=(u=(f=(e=(n=(u=(f=(e=(n=(u=(f=(e=(n=(u=(f=(e=(n=(u=(f=(e=(n=(u=(f=(e=(n=(u=(f=(e=(n=(u=(f=(e=(n=(u=(f=(e=(n=(u=(f=(e=(n=(u=(f=(e=(n=(u=(f=(e=n+(_<<7&4294967295|_>>>25))+((_=f+(u^e&(n^u))+s[1]+3905402710&4294967295)<<12&4294967295|_>>>20))+((_=u+(n^f&(e^n))+s[2]+606105819&4294967295)<<17&4294967295|_>>>15))+((_=n+(e^u&(f^e))+s[3]+3250441966&4294967295)<<22&4294967295|_>>>10))+((_=e+(f^n&(u^f))+s[4]+4118548399&4294967295)<<7&4294967295|_>>>25))+((_=f+(u^e&(n^u))+s[5]+1200080426&4294967295)<<12&4294967295|_>>>20))+((_=u+(n^f&(e^n))+s[6]+2821735955&4294967295)<<17&4294967295|_>>>15))+((_=n+(e^u&(f^e))+s[7]+4249261313&4294967295)<<22&4294967295|_>>>10))+((_=e+(f^n&(u^f))+s[8]+1770035416&4294967295)<<7&4294967295|_>>>25))+((_=f+(u^e&(n^u))+s[9]+2336552879&4294967295)<<12&4294967295|_>>>20))+((_=u+(n^f&(e^n))+s[10]+4294925233&4294967295)<<17&4294967295|_>>>15))+((_=n+(e^u&(f^e))+s[11]+2304563134&4294967295)<<22&4294967295|_>>>10))+((_=e+(f^n&(u^f))+s[12]+1804603682&4294967295)<<7&4294967295|_>>>25))+((_=f+(u^e&(n^u))+s[13]+4254626195&4294967295)<<12&4294967295|_>>>20))+((_=u+(n^f&(e^n))+s[14]+2792965006&4294967295)<<17&4294967295|_>>>15))+((_=n+(e^u&(f^e))+s[15]+1236535329&4294967295)<<22&4294967295|_>>>10))+((_=e+(u^f&(n^u))+s[1]+4129170786&4294967295)<<5&4294967295|_>>>27))+((_=f+(n^u&(e^n))+s[6]+3225465664&4294967295)<<9&4294967295|_>>>23))+((_=u+(e^n&(f^e))+s[11]+643717713&4294967295)<<14&4294967295|_>>>18))+((_=n+(f^e&(u^f))+s[0]+3921069994&4294967295)<<20&4294967295|_>>>12))+((_=e+(u^f&(n^u))+s[5]+3593408605&4294967295)<<5&4294967295|_>>>27))+((_=f+(n^u&(e^n))+s[10]+38016083&4294967295)<<9&4294967295|_>>>23))+((_=u+(e^n&(f^e))+s[15]+3634488961&4294967295)<<14&4294967295|_>>>18))+((_=n+(f^e&(u^f))+s[4]+3889429448&4294967295)<<20&4294967295|_>>>12))+((_=e+(u^f&(n^u))+s[9]+568446438&4294967295)<<5&4294967295|_>>>27))+((_=f+(n^u&(e^n))+s[14]+3275163606&4294967295)<<9&4294967295|_>>>23))+((_=u+(e^n&(f^e))+s[3]+4107603335&4294967295)<<14&4294967295|_>>>18))+((_=n+(f^e&(u^f))+s[8]+1163531501&4294967295)<<20&4294967295|_>>>12))+((_=e+(u^f&(n^u))+s[13]+2850285829&4294967295)<<5&4294967295|_>>>27))+((_=f+(n^u&(e^n))+s[2]+4243563512&4294967295)<<9&4294967295|_>>>23))+((_=u+(e^n&(f^e))+s[7]+1735328473&4294967295)<<14&4294967295|_>>>18))+((_=n+(f^e&(u^f))+s[12]+2368359562&4294967295)<<20&4294967295|_>>>12))+((_=e+(n^u^f)+s[5]+4294588738&4294967295)<<4&4294967295|_>>>28))+((_=f+(e^n^u)+s[8]+2272392833&4294967295)<<11&4294967295|_>>>21))+((_=u+(f^e^n)+s[11]+1839030562&4294967295)<<16&4294967295|_>>>16))+((_=n+(u^f^e)+s[14]+4259657740&4294967295)<<23&4294967295|_>>>9))+((_=e+(n^u^f)+s[1]+2763975236&4294967295)<<4&4294967295|_>>>28))+((_=f+(e^n^u)+s[4]+1272893353&4294967295)<<11&4294967295|_>>>21))+((_=u+(f^e^n)+s[7]+4139469664&4294967295)<<16&4294967295|_>>>16))+((_=n+(u^f^e)+s[10]+3200236656&4294967295)<<23&4294967295|_>>>9))+((_=e+(n^u^f)+s[13]+681279174&4294967295)<<4&4294967295|_>>>28))+((_=f+(e^n^u)+s[0]+3936430074&4294967295)<<11&4294967295|_>>>21))+((_=u+(f^e^n)+s[3]+3572445317&4294967295)<<16&4294967295|_>>>16))+((_=n+(u^f^e)+s[6]+76029189&4294967295)<<23&4294967295|_>>>9))+((_=e+(n^u^f)+s[9]+3654602809&4294967295)<<4&4294967295|_>>>28))+((_=f+(e^n^u)+s[12]+3873151461&4294967295)<<11&4294967295|_>>>21))+((_=u+(f^e^n)+s[15]+530742520&4294967295)<<16&4294967295|_>>>16))+((_=n+(u^f^e)+s[2]+3299628645&4294967295)<<23&4294967295|_>>>9))+((_=e+(u^(n|~f))+s[0]+4096336452&4294967295)<<6&4294967295|_>>>26))+((_=f+(n^(e|~u))+s[7]+1126891415&4294967295)<<10&4294967295|_>>>22))+((_=u+(e^(f|~n))+s[14]+2878612391&4294967295)<<15&4294967295|_>>>17))+((_=n+(f^(u|~e))+s[5]+4237533241&4294967295)<<21&4294967295|_>>>11))+((_=e+(u^(n|~f))+s[12]+1700485571&4294967295)<<6&4294967295|_>>>26))+((_=f+(n^(e|~u))+s[3]+2399980690&4294967295)<<10&4294967295|_>>>22))+((_=u+(e^(f|~n))+s[10]+4293915773&4294967295)<<15&4294967295|_>>>17))+((_=n+(f^(u|~e))+s[1]+2240044497&4294967295)<<21&4294967295|_>>>11))+((_=e+(u^(n|~f))+s[8]+1873313359&4294967295)<<6&4294967295|_>>>26))+((_=f+(n^(e|~u))+s[15]+4264355552&4294967295)<<10&4294967295|_>>>22))+((_=u+(e^(f|~n))+s[6]+2734768916&4294967295)<<15&4294967295|_>>>17))+((_=n+(f^(u|~e))+s[13]+1309151649&4294967295)<<21&4294967295|_>>>11))+((f=(e=n+((_=e+(u^(n|~f))+s[4]+4149444226&4294967295)<<6&4294967295|_>>>26))+((_=f+(n^(e|~u))+s[11]+3174756917&4294967295)<<10&4294967295|_>>>22))^((u=f+((_=u+(e^(f|~n))+s[2]+718787259&4294967295)<<15&4294967295|_>>>17))|~e))+s[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(u+(_<<21&4294967295|_>>>11))&4294967295,i.g[2]=i.g[2]+u&4294967295,i.g[3]=i.g[3]+f&4294967295}function dr(i,e){this.h=e;for(var n=[],s=!0,u=i.length-1;0<=u;u--){var f=0|i[u];s&&f==e||(n[u]=f,s=!1)}this.g=n}(be=Gn.prototype).Oa=function(i){this.M=i},be.ha=function(i,e,n,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Vs.g(),this.C=function Bo(i){return i.h||(i.h=i.i())}(this.u?this.u:Vs),this.g.onreadystatechange=_e(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(f){return void gl(this,f)}if(i=n||"",n=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var u in s)n.set(u,s[u]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const f of s.keys())n.set(f,s.get(f))}s=Array.from(n.keys()).find(f=>"content-type"==f.toLowerCase()),u=Le.FormData&&i instanceof Le.FormData,!(0<=gt(js,e))||s||u||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[f,_]of n)this.g.setRequestHeader(f,_);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{te(this),0<this.B&&((this.L=function na(i){return Ee&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=_e(this.ua,this)):this.A=jr(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(f){gl(this,f)}},be.ua=function(){typeof Ue<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Un(this,"timeout"),this.abort(8))},be.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Un(this,"complete"),Un(this,"abort"),P(this))},be.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),P(this,!0)),Gn.$.N.call(this)},be.La=function(){this.s||(this.G||this.v||this.l?q(this):this.kb())},be.kb=function(){q(this)},be.isActive=function(){return!!this.g},be.da=function(){try{return 2<de(this)?this.g.status:-1}catch{return-1}},be.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},be.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),$o(e)}},be.Ia=function(){return this.m},be.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(be=Ml.prototype).ra=8,be.H=1,be.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const u=new bs(this,this.l,i);let f=this.s;if(this.U&&(f?(f=tn(f),jn(f,this.U)):f=this.U),null!==this.o||this.O||(u.I=f,f=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var s=this.j[n];if(void 0===(s="__data__"in s.map&&"string"==typeof(s=s.map.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=ns(this,u,e),Wt(n=Hr(this.I),"RID",i),Wt(n,"CVER",22),this.F&&Wt(n,"X-HTTP-Session-Id",this.F),Ya(this,n),f&&(this.O?e="headers="+encodeURIComponent(String(So(f)))+"&"+e:this.o&&Jo(n,this.o,f)),vn(this.i,u),this.bb&&Wt(n,"TYPE","init"),this.P?(Wt(n,"$req",e),Wt(n,"SID","null"),u.aa=!0,Xs(u,n,null)):Xs(u,n,e),this.H=2}}else 3==this.H&&(i?Ka(this,i):0==this.j.length||Zi(this.i)||Ka(this))},be.Ma=function(){if(this.u=null,ui(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var i=2*this.S;this.l.info("BP detection timer enabled: "+i),this.B=oi(_e(this.jb,this),i)}},be.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,tr(10),qa(this),ui(this))},be.ib=function(){null!=this.v&&(this.v=null,qa(this),As(this),tr(19))},be.pb=function(i){i?(this.l.info("Successfully pinged google.com"),tr(2)):(this.l.info("Failed to ping google.com"),tr(1))},be.isActive=function(){return!!this.h&&this.h.isActive(this)},(be=wa.prototype).Ba=function(){},be.Aa=function(){},be.za=function(){},be.ya=function(){},be.isActive=function(){return!0},be.Va=function(){},oa.prototype.g=function(i,e){return new Ji(i,e)},Ce(Ji,Fn),Ji.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var i=this.g,e=this.l,n=this.h||void 0;tr(0),i.Y=e,i.na=n||{},i.G=i.aa,i.I=Ss(i,null,i.Y),ra(i)},Ji.prototype.close=function(){Ol(this.g)},Ji.prototype.u=function(i){var e=this.g;if("string"==typeof i){var n={};n.__data__=i,i=n}else this.v&&((n={}).__data__=ki(i),i=n);e.j.push(new class{constructor(i,e){this.g=i,this.map=e}}(e.fb++,i)),3==e.H&&ra(e)},Ji.prototype.N=function(){this.g.h=null,delete this.j,Ol(this.g),delete this.g,Ji.$.N.call(this)},Ce(kl,Ls),Ce(Za,fl),Ce(sa,wa),sa.prototype.Ba=function(){Un(this.g,"a")},sa.prototype.Aa=function(i){Un(this.g,new kl(i))},sa.prototype.za=function(i){Un(this.g,new Za)},sa.prototype.ya=function(){Un(this.g,"b")},Ce(lo,function Rs(){this.blockSize=-1}),lo.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},lo.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var n=e-this.blockSize,s=this.m,u=this.h,f=0;f<e;){if(0==u)for(;f<=n;)$s(this,i,f),f+=this.blockSize;if("string"==typeof i){for(;f<e;)if(s[u++]=i.charCodeAt(f++),u==this.blockSize){$s(this,s),u=0;break}}else for(;f<e;)if(s[u++]=i[f++],u==this.blockSize){$s(this,s),u=0;break}}this.h=u,this.i+=e},lo.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var n=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&n,n/=256;for(this.j(i),i=Array(16),e=n=0;4>e;++e)for(var s=0;32>s;s+=8)i[n++]=this.g[e]>>>s&255;return i};var oc={};function Tu(i){return-128<=i&&128>i?function Se(i,e){var n=oc;return Object.prototype.hasOwnProperty.call(n,i)?n[i]:n[i]=e(i)}(i,function(e){return new dr([0|e],0>e?-1:0)}):new dr([0|i],0>i?-1:0)}function rs(i){if(isNaN(i)||!isFinite(i))return Ca;if(0>i)return Ui(rs(-i));for(var e=[],n=1,s=0;i>=n;s++)e[s]=i/n|0,n*=_l;return new dr(e,0)}var _l=4294967296,Ca=Tu(0),aa=Tu(1),vl=Tu(16777216);function is(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function Ro(i){return-1==i.h}function Ui(i){for(var e=i.g.length,n=[],s=0;s<e;s++)n[s]=~i.g[s];return new dr(n,~i.h).add(aa)}function la(i,e){return i.add(Ui(e))}function Aa(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function A(i,e){this.g=i,this.h=e}function Y(i,e){if(is(e))throw Error("division by zero");if(is(i))return new A(Ca,Ca);if(Ro(i))return e=Y(Ui(i),e),new A(Ui(e.g),Ui(e.h));if(Ro(e))return e=Y(i,Ui(e)),new A(Ui(e.g),e.h);if(30<i.g.length){if(Ro(i)||Ro(e))throw Error("slowDivide_ only works with positive integers.");for(var n=aa,s=e;0>=s.X(i);)n=x(n),s=x(s);var u=W(n,1),f=W(s,1);for(s=W(s,2),n=W(n,2);!is(s);){var _=f.add(s);0>=_.X(i)&&(u=u.add(n),f=_),s=W(s,1),n=W(n,1)}return e=la(i,u.R(e)),new A(u,e)}for(u=Ca;0<=i.X(e);){for(n=Math.max(1,Math.floor(i.ea()/e.ea())),s=48>=(s=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,s-48),_=(f=rs(n)).R(e);Ro(_)||0<_.X(i);)_=(f=rs(n-=s)).R(e);is(f)&&(f=aa),u=u.add(f),i=la(i,_)}return new A(u,i)}function x(i){for(var e=i.g.length+1,n=[],s=0;s<e;s++)n[s]=i.D(s)<<1|i.D(s-1)>>>31;return new dr(n,i.h)}function W(i,e){var n=e>>5;e%=32;for(var s=i.g.length-n,u=[],f=0;f<s;f++)u[f]=0<e?i.D(f+n)>>>e|i.D(f+n+1)<<32-e:i.D(f+n);return new dr(u,i.h)}(be=dr.prototype).ea=function(){if(Ro(this))return-Ui(this).ea();for(var i=0,e=1,n=0;n<this.g.length;n++){var s=this.D(n);i+=(0<=s?s:_l+s)*e,e*=_l}return i},be.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(is(this))return"0";if(Ro(this))return"-"+Ui(this).toString(i);for(var e=rs(Math.pow(i,6)),n=this,s="";;){var u=Y(n,e).g,f=((0<(n=la(n,u.R(e))).g.length?n.g[0]:n.h)>>>0).toString(i);if(is(n=u))return f+s;for(;6>f.length;)f="0"+f;s=f+s}},be.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},be.X=function(i){return Ro(i=la(this,i))?-1:is(i)?0:1},be.abs=function(){return Ro(this)?Ui(this):this},be.add=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],s=0,u=0;u<=e;u++){var f=s+(65535&this.D(u))+(65535&i.D(u)),_=(f>>>16)+(this.D(u)>>>16)+(i.D(u)>>>16);s=_>>>16,n[u]=(_&=65535)<<16|(f&=65535)}return new dr(n,-2147483648&n[n.length-1]?-1:0)},be.R=function(i){if(is(this)||is(i))return Ca;if(Ro(this))return Ro(i)?Ui(this).R(Ui(i)):Ui(Ui(this).R(i));if(Ro(i))return Ui(this.R(Ui(i)));if(0>this.X(vl)&&0>i.X(vl))return rs(this.ea()*i.ea());for(var e=this.g.length+i.g.length,n=[],s=0;s<2*e;s++)n[s]=0;for(s=0;s<this.g.length;s++)for(var u=0;u<i.g.length;u++){var f=this.D(s)>>>16,_=65535&this.D(s),S=i.D(u)>>>16,O=65535&i.D(u);n[2*s+2*u]+=_*O,Aa(n,2*s+2*u),n[2*s+2*u+1]+=f*O,Aa(n,2*s+2*u+1),n[2*s+2*u+1]+=_*S,Aa(n,2*s+2*u+1),n[2*s+2*u+2]+=f*S,Aa(n,2*s+2*u+2)}for(s=0;s<e;s++)n[s]=n[2*s+1]<<16|n[2*s];for(s=e;s<2*e;s++)n[s]=0;return new dr(n,0)},be.gb=function(i){return Y(this,i).h},be.and=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)&i.D(s);return new dr(n,this.h&i.h)},be.or=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)|i.D(s);return new dr(n,this.h|i.h)},be.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)^i.D(s);return new dr(n,this.h^i.h)},oa.prototype.createWebChannel=oa.prototype.g,Ji.prototype.send=Ji.prototype.u,Ji.prototype.open=Ji.prototype.m,Ji.prototype.close=Ji.prototype.close,Ko.NO_ERROR=0,Ko.TIMEOUT=8,Ko.HTTP_ERROR=6,Ri.COMPLETE="complete",Wr.EventType=Yo,Yo.OPEN="a",Yo.CLOSE="b",Yo.ERROR="c",Yo.MESSAGE="d",Fn.prototype.listen=Fn.prototype.O,Gn.prototype.listenOnce=Gn.prototype.P,Gn.prototype.getLastError=Gn.prototype.Sa,Gn.prototype.getLastErrorCode=Gn.prototype.Ia,Gn.prototype.getStatus=Gn.prototype.da,Gn.prototype.getResponseJson=Gn.prototype.Wa,Gn.prototype.getResponseText=Gn.prototype.ja,Gn.prototype.send=Gn.prototype.ha,Gn.prototype.setWithCredentials=Gn.prototype.Oa,lo.prototype.digest=lo.prototype.l,lo.prototype.reset=lo.prototype.reset,lo.prototype.update=lo.prototype.j,dr.prototype.add=dr.prototype.add,dr.prototype.multiply=dr.prototype.R,dr.prototype.modulo=dr.prototype.gb,dr.prototype.compare=dr.prototype.X,dr.prototype.toNumber=dr.prototype.ea,dr.prototype.toString=dr.prototype.toString,dr.prototype.getBits=dr.prototype.D,dr.fromNumber=rs,dr.fromString=function Fl(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return Ui(Fl(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=rs(Math.pow(e,8)),s=Ca,u=0;u<i.length;u+=8){var f=Math.min(8,i.length-u),_=parseInt(i.substring(u,u+f),e);8>f?(f=rs(Math.pow(e,f)),s=s.R(f).add(rs(_))):s=(s=s.R(n)).add(rs(_))}return s};var ce=ye.createWebChannelTransport=function(){return new oa},Ze=ye.getStatEventTarget=function(){return fi()},ct=ye.ErrorCode=Ko,qt=ye.EventType=Ri,Dr=ye.Event=Fi,Sr=ye.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},vr=ye.FetchXmlHttpFactory=li,kn=ye.WebChannel=Wr,ei=ye.XhrIo=Gn,Lr=ye.Md5=lo,Ur=ye.Integer=dr;const ps="@firebase/firestore";class Vr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vr.UNAUTHENTICATED=new Vr(null),Vr.GOOGLE_CREDENTIALS=new Vr("google-credentials-uid"),Vr.FIRST_PARTY=new Vr("first-party-uid"),Vr.MOCK_USER=new Vr("mock-user");let ji="10.5.2";const ci=new Oe.Yd("@firebase/firestore");function Ho(){return ci.logLevel}function pt(i,...e){if(ci.logLevel<=Oe.in.DEBUG){const n=e.map(Ll);ci.debug(`Firestore (${ji}): ${i}`,...n)}}function bi(i,...e){if(ci.logLevel<=Oe.in.ERROR){const n=e.map(Ll);ci.error(`Firestore (${ji}): ${i}`,...n)}}function Cn(i,...e){if(ci.logLevel<=Oe.in.WARN){const n=e.map(Ll);ci.warn(`Firestore (${ji}): ${i}`,...n)}}function Ll(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function Kt(i="Unexpected state"){const e=`FIRESTORE (${ji}) INTERNAL ASSERTION FAILED: `+i;throw bi(e),new Error(e)}function Ut(i,e){i||Kt()}function Ft(i,e){return i}const Qe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ft extends re.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class uo{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class ac{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wu{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Vr.UNAUTHENTICATED))}shutdown(){}}class gs{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Cu{constructor(e){this.t=e,this.currentUser=Vr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var s=this;let u=this.i;const f=$=>this.i!==u?(u=this.i,n($)):Promise.resolve();let _=new uo;this.o=()=>{this.i++,this.currentUser=this.u(),_.resolve(),_=new uo,e.enqueueRetryable(()=>f(this.currentUser))};const S=()=>{const $=_;e.enqueueRetryable((0,se.Z)(function*(){yield $.promise,yield f(s.currentUser)}))},O=$=>{pt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=$,this.auth.addAuthTokenListener(this.o),S()};this.t.onInit($=>O($)),setTimeout(()=>{if(!this.auth){const $=this.t.getImmediate({optional:!0});$?O($):(pt("FirebaseAuthCredentialsProvider","Auth not yet detected"),_.resolve(),_=new uo)}},0),S()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(pt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ut("string"==typeof s.accessToken),new ac(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ut(null===e||"string"==typeof e),new Vr(e)}}class lc{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Vr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Xo{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new lc(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Vr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Vl{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sd{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const s=f=>{null!=f.error&&pt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const _=f.token!==this.R;return this.R=f.token,pt("FirebaseAppCheckTokenProvider",`Received ${_?"new":"existing"} token.`),_?n(f.token):Promise.resolve()};this.o=f=>{e.enqueueRetryable(()=>s(f))};const u=f=>{pt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.appCheck.addTokenListener(this.o)};this.A.onInit(f=>u(f)),setTimeout(()=>{if(!this.appCheck){const f=this.A.getImmediate({optional:!0});f?u(f):pt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ut("string"==typeof n.token),this.R=n.token,new Vl(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Nn(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}class uc{static newId(){const n=62*Math.floor(256/62);let s="";for(;s.length<20;){const u=Nn(40);for(let f=0;f<u.length;++f)s.length<20&&u[f]<n&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[f]%62))}return s}}function Mn(i,e){return i<e?-1:i>e?1:0}function Sa(i,e,n){return i.length===e.length&&i.every((s,u)=>n(s,e[u]))}class gi{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ft(Qe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ft(Qe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ft(Qe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ft(Qe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return gi.fromMillis(Date.now())}static fromDate(e){return gi.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new gi(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Mn(this.nanoseconds,e.nanoseconds):Mn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class mn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new mn(e)}static min(){return new mn(new gi(0,0))}static max(){return new mn(new gi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Go{constructor(e,n,s){void 0===n?n=0:n>e.length&&Kt(),void 0===s?s=e.length-n:s>e.length-n&&Kt(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return 0===Go.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Go?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let u=0;u<s;u++){const f=e.get(u),_=n.get(u);if(f<_)return-1;if(f>_)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class fr extends Go{construct(e,n,s){return new fr(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ft(Qe.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(u=>u.length>0))}return new fr(n)}static emptyPath(){return new fr([])}}const Xi=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class di extends Go{construct(e,n,s){return new di(e,n,s)}static isValidIdentifier(e){return Xi.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),di.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new di(["__name__"])}static fromServerFormat(e){const n=[];let s="",u=0;const f=()=>{if(0===s.length)throw new ft(Qe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let _=!1;for(;u<e.length;){const S=e[u];if("\\"===S){if(u+1===e.length)throw new ft(Qe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const O=e[u+1];if("\\"!==O&&"."!==O&&"`"!==O)throw new ft(Qe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=O,u+=2}else"`"===S?(_=!_,u++):"."!==S||_?(s+=S,u++):(f(),u++)}if(f(),_)throw new ft(Qe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new di(n)}static emptyPath(){return new di([])}}class $t{constructor(e){this.path=e}static fromPath(e){return new $t(fr.fromString(e))}static fromName(e){return new $t(fr.fromString(e).popFirst(5))}static empty(){return new $t(fr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===fr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return fr.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new $t(new fr(e.slice()))}}function No(i){return new eo(i.readTime,i.key,-1)}class eo{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new eo(mn.min(),$t.empty(),-1)}static max(){return new eo(mn.max(),$t.empty(),-1)}}function Bl(i,e){let n=i.readTime.compareTo(e.readTime);return 0!==n?n:(n=$t.comparator(i.documentKey,e.documentKey),0!==n?n:Mn(i.largestBatchId,e.largestBatchId))}const Ul="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ad{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ms(i){return Mo.apply(this,arguments)}function Mo(){return Mo=(0,se.Z)(function*(i){if(i.code!==Qe.FAILED_PRECONDITION||i.message!==Ul)throw i;pt("LocalStore","Unexpectedly lost primary lease")}),Mo.apply(this,arguments)}class Pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Kt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Pe((s,u)=>{this.nextCallback=f=>{this.wrapSuccess(e,f).next(s,u)},this.catchCallback=f=>{this.wrapFailure(n,f).next(s,u)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Pe?n:Pe.resolve(n)}catch(n){return Pe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Pe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Pe.reject(n)}static resolve(e){return new Pe((n,s)=>{n(e)})}static reject(e){return new Pe((n,s)=>{s(e)})}static waitFor(e){return new Pe((n,s)=>{let u=0,f=0,_=!1;e.forEach(S=>{++u,S.next(()=>{++f,_&&f===u&&n()},O=>s(O))}),_=!0,f===u&&n()})}static or(e){let n=Pe.resolve(!1);for(const s of e)n=n.next(u=>u?Pe.resolve(u):s());return n}static forEach(e,n){const s=[];return e.forEach((u,f)=>{s.push(n.call(this,u,f))}),this.waitFor(s)}static mapArray(e,n){return new Pe((s,u)=>{const f=e.length,_=new Array(f);let S=0;for(let O=0;O<f;O++){const $=O;n(e[$]).next(Z=>{_[$]=Z,++S,S===f&&s(_)},Z=>u(Z))}})}static doWhile(e,n){return new Pe((s,u)=>{const f=()=>{!0===e()?n().next(()=>{f()},u):s()};f()})}}function R(i){return"IndexedDbTransactionError"===i.name}let He=(()=>{class i{constructor(n,s){this.previousValue=n,s&&(s.sequenceNumberHandler=u=>this.se(u),this.oe=u=>s.writeSequenceNumber(u))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return i._e=-1,i})();function Ht(i){return null==i}function Dn(i){return 0===i&&1/i==-1/0}function Nu(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Ja(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function rf(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class Zr{constructor(e,n){this.comparator=e,this.root=n||ho.EMPTY}insert(e,n){return new Zr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ho.BLACK,null,null))}remove(e){return new Zr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ho.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(0===s)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(e,s.key);if(0===u)return n+s.left.size;u<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mc(this.root,e,this.comparator,!1)}getReverseIterator(){return new mc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mc(this.root,e,this.comparator,!0)}}class mc{constructor(e,n,s,u){this.isReverse=u,this.nodeStack=[];let f=1;for(;!e.isEmpty();)if(f=n?s(e.key,n):1,n&&u&&(f*=-1),f<0)e=this.isReverse?e.left:e.right;else{if(0===f){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ho{constructor(e,n,s,u,f){this.key=e,this.value=n,this.color=s??ho.RED,this.left=u??ho.EMPTY,this.right=f??ho.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,u,f){return new ho(e??this.key,n??this.value,s??this.color,u??this.left,f??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let u=this;const f=s(e,u.key);return u=f<0?u.copy(null,null,null,u.left.insert(e,n,s),null):0===f?u.copy(null,n,null,null,null):u.copy(null,null,null,null,u.right.insert(e,n,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return ho.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,u=this;if(n(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,n),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===n(e,u.key)){if(u.right.isEmpty())return ho.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,n))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ho.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ho.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Kt();const e=this.left.check();if(e!==this.right.check())throw Kt();return e+(this.isRed()?0:1)}}ho.EMPTY=null,ho.RED=!0,ho.BLACK=!1,ho.EMPTY=new class{constructor(){this.size=0}get key(){throw Kt()}get value(){throw Kt()}get color(){throw Kt()}get left(){throw Kt()}get right(){throw Kt()}copy(e,n,s,u,f){return this}insert(e,n,s){return new ho(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Tr{constructor(e){this.comparator=e,this.data=new Zr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,e[1])>=0)return;n(u.key)}}forEachWhile(e,n){let s;for(s=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ca(this.data.getIterator())}getIteratorFrom(e){return new ca(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Tr)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const u=n.getNext().key,f=s.getNext().key;if(0!==this.comparator(u,f))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Tr(this.comparator);return n.data=e,n}}class ca{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Po{constructor(e){this.fields=e,e.sort(di.comparator)}static empty(){return new Po([])}unionWith(e){let n=new Tr(di.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Po(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Sa(this.fields,e.fields,(n,s)=>n.isEqual(s))}}class ud extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class fo{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(u){try{return atob(u)}catch(f){throw typeof DOMException<"u"&&f instanceof DOMException?new ud("Invalid base64 string: "+f):f}}(e);return new fo(n)}static fromUint8Array(e){const n=function(u){let f="";for(let _=0;_<u.length;++_)f+=String.fromCharCode(u[_]);return f}(e);return new fo(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let u=0;u<n.length;u++)s[u]=n.charCodeAt(u);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Mn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fo.EMPTY_BYTE_STRING=new fo("");const cd=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xa(i){if(Ut(!!i),"string"==typeof i){let e=0;const n=cd.exec(i);if(Ut(!!n),n[1]){let u=n[1];u=(u+"000000000").substr(0,9),e=Number(u)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Di(i.seconds),nanos:Di(i.nanos)}}function Di(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function to(i){return"string"==typeof i?fo.fromBase64String(i):fo.fromUint8Array(i)}function zl(i){var e,n;return"server_timestamp"===(null===(n=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function hi(i){const e=i.mapValue.fields.__previous_value__;return zl(e)?hi(e):e}function xs(i){const e=Xa(i.mapValue.fields.__local_write_time__.timestampValue);return new gi(e.seconds,e.nanos)}class Mu{constructor(e,n,s,u,f,_,S,O,$){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=u,this.ssl=f,this.forceLongPolling=_,this.autoDetectLongPolling=S,this.longPollingOptions=O,this.useFetchStreams=$}}class da{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new da("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof da&&e.projectId===this.projectId&&e.database===this.database}}const ha={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Gs(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?zl(i)?4:ql(i)?9007199254740991:10:Kt()}function zs(i,e){if(i===e)return!0;const n=Gs(i);if(n!==Gs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return xs(i).isEqual(xs(e));case 3:return function(u,f){if("string"==typeof u.timestampValue&&"string"==typeof f.timestampValue&&u.timestampValue.length===f.timestampValue.length)return u.timestampValue===f.timestampValue;const _=Xa(u.timestampValue),S=Xa(f.timestampValue);return _.seconds===S.seconds&&_.nanos===S.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return f=e,to(i.bytesValue).isEqual(to(f.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(u,f){return Di(u.geoPointValue.latitude)===Di(f.geoPointValue.latitude)&&Di(u.geoPointValue.longitude)===Di(f.geoPointValue.longitude)}(i,e);case 2:return function(u,f){if("integerValue"in u&&"integerValue"in f)return Di(u.integerValue)===Di(f.integerValue);if("doubleValue"in u&&"doubleValue"in f){const _=Di(u.doubleValue),S=Di(f.doubleValue);return _===S?Dn(_)===Dn(S):isNaN(_)&&isNaN(S)}return!1}(i,e);case 9:return Sa(i.arrayValue.values||[],e.arrayValue.values||[],zs);case 10:return function(u,f){const _=u.mapValue.fields||{},S=f.mapValue.fields||{};if(Nu(_)!==Nu(S))return!1;for(const O in _)if(_.hasOwnProperty(O)&&(void 0===S[O]||!zs(_[O],S[O])))return!1;return!0}(i,e);default:return Kt()}var f}function el(i,e){return void 0!==(i.values||[]).find(n=>zs(n,e))}function Pa(i,e){if(i===e)return 0;const n=Gs(i),s=Gs(e);if(n!==s)return Mn(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Mn(i.booleanValue,e.booleanValue);case 2:return function(f,_){const S=Di(f.integerValue||f.doubleValue),O=Di(_.integerValue||_.doubleValue);return S<O?-1:S>O?1:S===O?0:isNaN(S)?isNaN(O)?0:-1:1}(i,e);case 3:return vc(i.timestampValue,e.timestampValue);case 4:return vc(xs(i),xs(e));case 5:return Mn(i.stringValue,e.stringValue);case 6:return function(f,_){const S=to(f),O=to(_);return S.compareTo(O)}(i.bytesValue,e.bytesValue);case 7:return function(f,_){const S=f.split("/"),O=_.split("/");for(let $=0;$<S.length&&$<O.length;$++){const Z=Mn(S[$],O[$]);if(0!==Z)return Z}return Mn(S.length,O.length)}(i.referenceValue,e.referenceValue);case 8:return function(f,_){const S=Mn(Di(f.latitude),Di(_.latitude));return 0!==S?S:Mn(Di(f.longitude),Di(_.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(f,_){const S=f.values||[],O=_.values||[];for(let $=0;$<S.length&&$<O.length;++$){const Z=Pa(S[$],O[$]);if(Z)return Z}return Mn(S.length,O.length)}(i.arrayValue,e.arrayValue);case 10:return function(f,_){if(f===ha.mapValue&&_===ha.mapValue)return 0;if(f===ha.mapValue)return 1;if(_===ha.mapValue)return-1;const S=f.fields||{},O=Object.keys(S),$=_.fields||{},Z=Object.keys($);O.sort(),Z.sort();for(let oe=0;oe<O.length&&oe<Z.length;++oe){const we=Mn(O[oe],Z[oe]);if(0!==we)return we;const Ye=Pa(S[O[oe]],$[Z[oe]]);if(0!==Ye)return Ye}return Mn(O.length,Z.length)}(i.mapValue,e.mapValue);default:throw Kt()}}function vc(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Mn(i,e);const n=Xa(i),s=Xa(e),u=Mn(n.seconds,s.seconds);return 0!==u?u:Mn(n.nanos,s.nanos)}function Ws(i){return qs(i)}function qs(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=Xa(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?to(i.bytesValue).toBase64():"referenceValue"in i?$t.fromName(i.referenceValue).toString():"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",u=!0;for(const f of n.values||[])u?u=!1:s+=",",s+=qs(f);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let u="{",f=!0;for(const _ of s)f?f=!1:u+=",",u+=`${_}:${qs(n.fields[_])}`;return u+"}"}(i.mapValue):Kt()}function Ks(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function bl(i){return!!i&&"integerValue"in i}function fa(i){return!!i&&"arrayValue"in i}function Wl(i){return!!i&&"nullValue"in i}function xo(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function yc(i){return!!i&&"mapValue"in i}function vs(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Ja(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=vs(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=vs(i.arrayValue.values[n]);return e}return Object.assign({},i)}function ql(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}class Oi{constructor(e){this.value=e}static empty(){return new Oi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!yc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=vs(n)}setAll(e){let n=di.emptyPath(),s={},u=[];e.forEach((_,S)=>{if(!n.isImmediateParentOf(S)){const O=this.getFieldsMap(n);this.applyChanges(O,s,u),s={},u=[],n=S.popLast()}_?s[S.lastSegment()]=vs(_):u.push(S.lastSegment())});const f=this.getFieldsMap(n);this.applyChanges(f,s,u)}delete(e){const n=this.field(e.popLast());yc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return zs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let u=n.mapValue.fields[e.get(s)];yc(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=u),n=u}return n.mapValue.fields}applyChanges(e,n,s){Ja(n,(u,f)=>e[u]=f);for(const u of s)delete e[u]}clone(){return new Oi(vs(this.value))}}function wr(i){const e=[];return Ja(i.fields,(n,s)=>{const u=new di([n]);if(yc(s)){const f=wr(s.mapValue).fields;if(0===f.length)e.push(u);else for(const _ of f)e.push(u.child(_))}else e.push(u)}),new Po(e)}class Qr{constructor(e,n,s,u,f,_,S){this.key=e,this.documentType=n,this.version=s,this.readTime=u,this.createTime=f,this.data=_,this.documentState=S}static newInvalidDocument(e){return new Qr(e,0,mn.min(),mn.min(),mn.min(),Oi.empty(),0)}static newFoundDocument(e,n,s,u){return new Qr(e,1,n,mn.min(),s,u,0)}static newNoDocument(e,n){return new Qr(e,2,n,mn.min(),mn.min(),Oi.empty(),0)}static newUnknownDocument(e,n){return new Qr(e,3,n,mn.min(),mn.min(),Oi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(mn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Oi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Oi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=mn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Qr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ks{constructor(e,n){this.position=e,this.inclusive=n}}function pa(i,e,n){let s=0;for(let u=0;u<i.position.length;u++){const f=e[u],_=i.position[u];if(s=f.field.isKeyField()?$t.comparator($t.fromName(_.referenceValue),n.key):Pa(_,n.data.field(f.field)),"desc"===f.dir&&(s*=-1),0!==s)break}return s}function hd(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!zs(i.position[n],e.position[n]))return!1;return!0}class xu{constructor(e,n="asc"){this.field=e,this.dir=n}}function sf(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class ah{}class lr extends ah{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,s):new uh(e,n,s):"array-contains"===n?new bc(e,s):"in"===n?new Ql(e,s):"not-in"===n?new md(e,s):"array-contains-any"===n?new ch(e,s):new lr(e,n,s)}static createKeyFieldInFilter(e,n,s){return"in"===n?new Fs(e,s):new Zl(e,s)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Pa(n,this.value)):null!==n&&Gs(this.value)===Gs(n)&&this.matchesComparison(Pa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Kt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class kr extends ah{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new kr(e,n)}matches(e){return Kl(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Kl(i){return"and"===i.op}function ga(i){return function fd(i){for(const e of i.filters)if(e instanceof kr)return!1;return!0}(i)&&Kl(i)}function Ic(i){if(i instanceof lr)return i.field.canonicalString()+i.op.toString()+Ws(i.value);if(ga(i))return i.filters.map(e=>Ic(e)).join(",");{const e=i.filters.map(n=>Ic(n)).join(",");return`${i.op}(${e})`}}function $i(i,e){return i instanceof lr?(s=i,(u=e)instanceof lr&&s.op===u.op&&s.field.isEqual(u.field)&&zs(s.value,u.value)):i instanceof kr?function(s,u){return u instanceof kr&&s.op===u.op&&s.filters.length===u.filters.length&&s.filters.reduce((f,_,S)=>f&&$i(_,u.filters[S]),!0)}(i,e):void Kt();var s,u}function Yl(i){return i instanceof lr?`${(n=i).field.canonicalString()} ${n.op} ${Ws(n.value)}`:i instanceof kr?function(n){return n.op.toString()+" {"+n.getFilters().map(Yl).join(" ,")+"}"}(i):"Filter";var n}class uh extends lr{constructor(e,n,s){super(e,n,s),this.key=$t.fromName(s.referenceValue)}matches(e){const n=$t.comparator(e.key,this.key);return this.matchesComparison(n)}}class Fs extends lr{constructor(e,n){super(e,"in",n),this.keys=gd(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Zl extends lr{constructor(e,n){super(e,"not-in",n),this.keys=gd(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function gd(i,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(s=>$t.fromName(s.referenceValue))}class bc extends lr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return fa(n)&&el(n.arrayValue,this.value)}}class Ql extends lr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&el(this.value.arrayValue,n)}}class md extends lr{constructor(e,n){super(e,"not-in",n)}matches(e){if(el(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!el(this.value.arrayValue,n)}}class ch extends lr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!fa(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>el(this.value.arrayValue,s))}}class af{constructor(e,n=null,s=[],u=[],f=null,_=null,S=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=u,this.limit=f,this.startAt=_,this.endAt=S,this.ce=null}}function ku(i,e=null,n=[],s=[],u=null,f=null,_=null){return new af(i,e,n,s,u,f,_)}function no(i){const e=Ft(i);if(null===e.ce){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Ic(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>{return(f=s).field.canonicalString()+f.dir;var f}).join(","),Ht(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Ws(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Ws(s)).join(",")),e.ce=n}return e.ce}function ka(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!sf(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!$i(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!hd(i.startAt,e.startAt)&&hd(i.endAt,e.endAt)}function ma(i){return $t.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class Ys{constructor(e,n=null,s=[],u=[],f=null,_="F",S=null,O=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=u,this.limit=f,this.limitType=_,this.startAt=S,this.endAt=O,this.le=null,this.he=null,this.Pe=null}}function tl(i){return new Ys(i)}function hh(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function yd(i){return null!==i.collectionGroup}function Dl(i){const e=Ft(i);if(null===e.le){e.le=[];const n=new Set;for(const f of e.explicitOrderBy)e.le.push(f),n.add(f.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(_){let S=new Tr(di.comparator);return _.filters.forEach(O=>{O.getFlattenedFilters().forEach($=>{$.isInequality()&&(S=S.add($.field))})}),S})(e).forEach(f=>{n.has(f.canonicalString())||f.isKeyField()||e.le.push(new xu(f,s))}),n.has(di.keyField().canonicalString())||e.le.push(new xu(di.keyField(),s))}return e.le}function ko(i){const e=Ft(i);return e.he||(e.he=function lf(i,e){if("F"===i.limitType)return ku(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(u=>new xu(u.field,"desc"===u.dir?"asc":"desc"));const n=i.endAt?new ks(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new ks(i.startAt.position,i.startAt.inclusive):null;return ku(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}(e,Dl(i))),e.he}function Fu(i,e){const n=i.filters.concat([e]);return new Ys(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Ed(i,e,n){return new Ys(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function nl(i,e){return ka(ko(i),ko(e))&&i.limitType===e.limitType}function uf(i){return`${no(ko(i))}|lt:${i.limitType}`}function Xl(i){return`Query(target=${function(n){let s=n.path.canonicalString();return null!==n.collectionGroup&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(u=>Yl(u)).join(", ")}]`),Ht(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(u=>{return`${(_=u).field.canonicalString()} (${_.dir})`;var _}).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(u=>Ws(u)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(u=>Ws(u)).join(",")),`Target(${s})`}(ko(i))}; limitType=${i.limitType})`}function D(i,e){return e.isFoundDocument()&&function(s,u){const f=u.key.path;return null!==s.collectionGroup?u.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(f):$t.isDocumentKey(s.path)?s.path.isEqual(f):s.path.isImmediateParentOf(f)}(i,e)&&function(s,u){for(const f of Dl(s))if(!f.field.isKeyField()&&null===u.data.field(f.field))return!1;return!0}(i,e)&&function(s,u){for(const f of s.filters)if(!f.matches(u))return!1;return!0}(i,e)&&(u=e,!((s=i).startAt&&!function(_,S,O){const $=pa(_,S,O);return _.inclusive?$<=0:$<0}(s.startAt,Dl(s),u)||s.endAt&&!function(_,S,O){const $=pa(_,S,O);return _.inclusive?$>=0:$>0}(s.endAt,Dl(s),u)));var s,u}function v(i){return(e,n)=>{let s=!1;for(const u of Dl(i)){const f=C(u,e,n);if(0!==f)return f;s=s||u.field.isKeyField()}return 0}}function C(i,e,n){const s=i.field.isKeyField()?$t.comparator(e.key,n.key):function(f,_,S){const O=_.data.field(f),$=S.data.field(f);return null!==O&&null!==$?Pa(O,$):Kt()}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Kt()}}class z{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(void 0!==s)for(const[u,f]of s)if(this.equalsFn(u,e))return f}has(e){return void 0!==this.get(e)}set(e,n){const s=this.mapKeyFn(e),u=this.inner[s];if(void 0===u)return this.inner[s]=[[e,n]],void this.innerSize++;for(let f=0;f<u.length;f++)if(this.equalsFn(u[f][0],e))return void(u[f]=[e,n]);u.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(void 0===s)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return 1===s.length?delete this.inner[n]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Ja(this.inner,(n,s)=>{for(const[u,f]of s)e(u,f)})}isEmpty(){return rf(this.inner)}size(){return this.innerSize}}const ne=new Zr($t.comparator);function ve(){return ne}const et=new Zr($t.comparator);function yt(...i){let e=et;for(const n of i)e=e.insert(n.key,n);return e}function rn(i){let e=et;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function dn(){return qn()}function Bn(){return qn()}function qn(){return new z(i=>i.toString(),(i,e)=>i.isEqual(e))}const _a=new Zr($t.comparator),Lu=new Tr($t.comparator);function On(...i){let e=Lu;for(const n of i)e=e.add(n);return e}const Dc=new Tr(Mn);function eu(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dn(e)?"-0":e}}function fh(i){return{integerValue:""+i}}function rl(i,e){return function Rr(i){return"number"==typeof i&&Number.isInteger(i)&&!Dn(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}(e)?fh(e):eu(i,e)}class Tl{constructor(){this._=void 0}}function wc(i,e,n){return i instanceof wl?function(u,f){const _={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return f&&zl(f)&&(f=hi(f)),f&&(_.fields.__previous_value__=f),{mapValue:_}}(n,e):i instanceof tu?Cl(i,e):i instanceof va?Id(i,e):function(u,f){const _=Cc(u,f),S=lp(_)+lp(u.Ie);return bl(_)&&bl(u.Ie)?fh(S):eu(u.serializer,S)}(i,e)}function ph(i,e,n){return i instanceof tu?Cl(i,e):i instanceof va?Id(i,e):n}function Cc(i,e){return i instanceof nu?bl(s=e)||(f=s)&&"doubleValue"in f?e:{integerValue:0}:null;var s,f}class wl extends Tl{}class tu extends Tl{constructor(e){super(),this.elements=e}}function Cl(i,e){const n=gh(e);for(const s of i.elements)n.some(u=>zs(u,s))||n.push(s);return{arrayValue:{values:n}}}class va extends Tl{constructor(e){super(),this.elements=e}}function Id(i,e){let n=gh(e);for(const s of i.elements)n=n.filter(u=>!zs(u,s));return{arrayValue:{values:n}}}class nu extends Tl{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function lp(i){return Di(i.integerValue||i.doubleValue)}function gh(i){return fa(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class cf{constructor(e,n){this.version=e,this.transformResults=n}}class Pi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Pi}static exists(e){return new Pi(void 0,e)}static updateTime(e){return new Pi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mh(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class _h{}function Ac(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new Vu(i.key,Pi.none()):new ru(i.key,i.data,Pi.none());{const n=i.data,s=Oi.empty();let u=new Tr(di.comparator);for(let f of e.fields)if(!u.has(f)){let _=n.field(f);null===_&&f.length>1&&(f=f.popLast(),_=n.field(f)),null===_?s.delete(f):s.set(f,_),u=u.add(f)}return new iu(i.key,s,new Po(u.toArray()),Pi.none())}}function Cg(i,e,n){i instanceof ru?function(u,f,_){const S=u.value.clone(),O=Sg(u.fieldTransforms,f,_.transformResults);S.setAll(O),f.convertToFoundDocument(_.version,S).setHasCommittedMutations()}(i,e,n):i instanceof iu?function(u,f,_){if(!mh(u.precondition,f))return void f.convertToUnknownDocument(_.version);const S=Sg(u.fieldTransforms,f,_.transformResults),O=f.data;O.setAll(Ag(u)),O.setAll(S),f.convertToFoundDocument(_.version,O).setHasCommittedMutations()}(i,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Dd(i,e,n,s){return i instanceof ru?function(f,_,S,O){if(!mh(f.precondition,_))return S;const $=f.value.clone(),Z=up(f.fieldTransforms,O,_);return $.setAll(Z),_.convertToFoundDocument(_.version,$).setHasLocalMutations(),null}(i,e,n,s):i instanceof iu?function(f,_,S,O){if(!mh(f.precondition,_))return S;const $=up(f.fieldTransforms,O,_),Z=_.data;return Z.setAll(Ag(f)),Z.setAll($),_.convertToFoundDocument(_.version,Z).setHasLocalMutations(),null===S?null:S.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map(oe=>oe.field))}(i,e,n,s):(S=n,mh(i.precondition,_=e)?(_.convertToNoDocument(_.version).setHasLocalMutations(),null):S);var _,S}function df(i,e){let n=null;for(const s of i.fieldTransforms){const u=e.data.field(s.field),f=Cc(s.transform,u||null);null!=f&&(null===n&&(n=Oi.empty()),n.set(s.field,f))}return n||null}function vh(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(u=e.fieldTransforms,!!(void 0===(s=i.fieldTransforms)&&void 0===u||s&&u&&Sa(s,u,(f,_)=>function bd(i,e){return i.field.isEqual(e.field)&&(u=e.transform,(s=i.transform)instanceof tu&&u instanceof tu||s instanceof va&&u instanceof va?Sa(s.elements,u.elements,zs):s instanceof nu&&u instanceof nu?zs(s.Ie,u.Ie):s instanceof wl&&u instanceof wl);var s,u}(f,_))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var s,u}class ru extends _h{constructor(e,n,s,u=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class iu extends _h{constructor(e,n,s,u,f=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=u,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function Ag(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function Sg(i,e,n){const s=new Map;Ut(i.length===n.length);for(let u=0;u<n.length;u++){const f=i[u],_=f.transform,S=e.data.field(f.field);s.set(f.field,ph(_,S,n[u]))}return s}function up(i,e,n){const s=new Map;for(const u of i){const f=u.transform,_=n.data.field(u.field);s.set(u.field,wc(f,_,e))}return s}class Vu extends _h{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cp extends _h{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class yh{constructor(e,n,s,u){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let u=0;u<this.mutations.length;u++){const f=this.mutations[u];f.key.isEqual(e.key)&&Cg(f,e,s[u])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Dd(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Dd(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Bn();return this.mutations.forEach(u=>{const f=e.get(u.key),_=f.overlayedDocument;let S=this.applyToLocalView(_,f.mutatedFields);S=n.has(u.key)?null:S;const O=Ac(_,S);null!==O&&s.set(u.key,O),_.isValidDocument()||_.convertToNoDocument(mn.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),On())}isEqual(e){return this.batchId===e.batchId&&Sa(this.mutations,e.mutations,(n,s)=>vh(n,s))&&Sa(this.baseMutations,e.baseMutations,(n,s)=>vh(n,s))}}class hf{constructor(e,n,s,u){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=u}static from(e,n,s){Ut(e.mutations.length===s.length);let u=_a;const f=e.mutations;for(let _=0;_<f.length;_++)u=u.insert(f[_].key,s[_].version);return new hf(e,n,s,u)}}class ff{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class hp{constructor(e,n){this.count=e,this.unchangedNames=n}}var yr,Er;function pf(i){if(void 0===i)return bi("GRPC error has no .code"),Qe.UNKNOWN;switch(i){case yr.OK:return Qe.OK;case yr.CANCELLED:return Qe.CANCELLED;case yr.UNKNOWN:return Qe.UNKNOWN;case yr.DEADLINE_EXCEEDED:return Qe.DEADLINE_EXCEEDED;case yr.RESOURCE_EXHAUSTED:return Qe.RESOURCE_EXHAUSTED;case yr.INTERNAL:return Qe.INTERNAL;case yr.UNAVAILABLE:return Qe.UNAVAILABLE;case yr.UNAUTHENTICATED:return Qe.UNAUTHENTICATED;case yr.INVALID_ARGUMENT:return Qe.INVALID_ARGUMENT;case yr.NOT_FOUND:return Qe.NOT_FOUND;case yr.ALREADY_EXISTS:return Qe.ALREADY_EXISTS;case yr.PERMISSION_DENIED:return Qe.PERMISSION_DENIED;case yr.FAILED_PRECONDITION:return Qe.FAILED_PRECONDITION;case yr.ABORTED:return Qe.ABORTED;case yr.OUT_OF_RANGE:return Qe.OUT_OF_RANGE;case yr.UNIMPLEMENTED:return Qe.UNIMPLEMENTED;case yr.DATA_LOSS:return Qe.DATA_LOSS;default:return Kt()}}(Er=yr||(yr={}))[Er.OK=0]="OK",Er[Er.CANCELLED=1]="CANCELLED",Er[Er.UNKNOWN=2]="UNKNOWN",Er[Er.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Er[Er.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Er[Er.NOT_FOUND=5]="NOT_FOUND",Er[Er.ALREADY_EXISTS=6]="ALREADY_EXISTS",Er[Er.PERMISSION_DENIED=7]="PERMISSION_DENIED",Er[Er.UNAUTHENTICATED=16]="UNAUTHENTICATED",Er[Er.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Er[Er.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Er[Er.ABORTED=10]="ABORTED",Er[Er.OUT_OF_RANGE=11]="OUT_OF_RANGE",Er[Er.UNIMPLEMENTED=12]="UNIMPLEMENTED",Er[Er.INTERNAL=13]="INTERNAL",Er[Er.UNAVAILABLE=14]="UNAVAILABLE",Er[Er.DATA_LOSS=15]="DATA_LOSS";const Rg=new Ur([4294967295,4294967295],0);function gf(i){const e=function ya(){return new TextEncoder}().encode(i),n=new Lr;return n.update(e),new Uint8Array(n.digest())}function mf(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),u=e.getUint32(8,!0),f=e.getUint32(12,!0);return[new Ur([n,s],0),new Ur([u,f],0)]}class Eh{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Td(`Invalid padding: ${n}`);if(s<0)throw new Td(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new Td(`Invalid hash count: ${s}`);if(0===e.length&&0!==n)throw new Td(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Ur.fromNumber(this.Te)}de(e,n,s){let u=e.add(n.multiply(Ur.fromNumber(s)));return 1===u.compare(Rg)&&(u=new Ur([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const n=gf(e),[s,u]=mf(n);for(let f=0;f<this.hashCount;f++){const _=this.de(s,u,f);if(!this.Ae(_))return!1}return!0}static create(e,n,s){const u=e%8==0?0:8-e%8,f=new Uint8Array(Math.ceil(e/8)),_=new Eh(f,u,n);return s.forEach(S=>_.insert(S)),_}insert(e){if(0===this.Te)return;const n=gf(e),[s,u]=mf(n);for(let f=0;f<this.hashCount;f++){const _=this.de(s,u,f);this.Re(_)}}Re(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Td extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Rc{constructor(e,n,s,u,f){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const u=new Map;return u.set(e,Bu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Rc(mn.min(),u,new Zr(Mn),ve(),On())}}class Bu{constructor(e,n,s,u,f){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Bu(s,n,On(),On(),On())}}class wd{constructor(e,n,s,u){this.Ve=e,this.removedTargetIds=n,this.key=s,this.me=u}}class fp{constructor(e,n){this.targetId=e,this.fe=n}}class pp{constructor(e,n,s=fo.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=u}}class Ih{constructor(){this.ge=0,this.pe=Nc(),this.ye=fo.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=On(),n=On(),s=On();return this.pe.forEach((u,f)=>{switch(f){case 0:e=e.add(u);break;case 2:n=n.add(u);break;case 1:s=s.add(u);break;default:Kt()}}),new Bu(this.ye,this.we,e,n,s)}Fe(){this.Se=!1,this.pe=Nc()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class _f{constructor(e){this.Le=e,this.ke=new Map,this.qe=ve(),this.Qe=vf(),this.Ke=new Zr(Mn)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const s=this.ze(n);switch(e.state){case 0:this.je(n)&&s.Ce(e.resumeToken);break;case 1:s.Ne(),s.be||s.Fe(),s.Ce(e.resumeToken);break;case 2:s.Ne(),s.be||this.removeTarget(n);break;case 3:this.je(n)&&(s.Be(),s.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),s.Ce(e.resumeToken));break;default:Kt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((s,u)=>{this.je(u)&&n(u)})}Je(e){const n=e.targetId,s=e.fe.count,u=this.Ye(n);if(u){const f=u.target;if(ma(f))if(0===s){const _=new $t(f.path);this.We(n,_,Qr.newNoDocument(_,mn.min()))}else Ut(1===s);else{const _=this.Ze(n);if(_!==s){const S=this.Xe(e),O=S?this.et(S,e,_):1;0!==O&&(this.He(n),this.Ke=this.Ke.insert(n,2===O?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:u=0},hashCount:f=0}=n;let _,S;try{_=to(s).toUint8Array()}catch(O){if(O instanceof ud)return Cn("Decoding the base64 bloom filter in existence filter failed ("+O.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw O}try{S=new Eh(_,u,f)}catch(O){return Cn(O instanceof Td?"BloomFilter error: ":"Applying bloom filter failed: ",O),null}return 0===S.Te?null:S}et(e,n,s){return n.fe.count===s-this.rt(e,n.targetId)?0:2}rt(e,n){const s=this.Le.getRemoteKeysForTarget(n);let u=0;return s.forEach(f=>{const _=this.Le.nt(),S=`projects/${_.projectId}/databases/${_.database}/documents/${f.path.canonicalString()}`;e.mightContain(S)||(this.We(n,f,null),u++)}),u}it(e){const n=new Map;this.ke.forEach((f,_)=>{const S=this.Ye(_);if(S){if(f.current&&ma(S.target)){const O=new $t(S.target.path);null!==this.qe.get(O)||this.st(_,O)||this.We(_,O,Qr.newNoDocument(O,e))}f.De&&(n.set(_,f.ve()),f.Fe())}});let s=On();this.Qe.forEach((f,_)=>{let S=!0;_.forEachWhile(O=>{const $=this.Ye(O);return!$||"TargetPurposeLimboResolution"===$.purpose||(S=!1,!1)}),S&&(s=s.add(f))}),this.qe.forEach((f,_)=>_.setReadTime(e));const u=new Rc(e,n,this.Ke,this.qe,s);return this.qe=ve(),this.Qe=vf(),this.Ke=new Zr(Mn),u}Ue(e,n){if(!this.je(e))return;const s=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,s),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,s){if(!this.je(e))return;const u=this.ze(e);this.st(e,n)?u.Me(n,1):u.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),s&&(this.qe=this.qe.insert(n,s))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Ih,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Tr(Mn),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=null!==this.Ye(e);return n||pt("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Ih),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function vf(){return new Zr($t.comparator)}function Nc(){return new Zr($t.comparator)}const gp={asc:"ASCENDING",desc:"DESCENDING"},Ng={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yf={and:"AND",or:"OR"};class mp{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ou(i,e){return i.useProto3Json||Ht(e)?e:{value:e}}function os(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function su(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function _p(i,e){return os(i,e.toTimestamp())}function Hi(i){return Ut(!!i),mn.fromTimestamp(function(n){const s=Xa(n);return new gi(s.seconds,s.nanos)}(i))}function Mc(i,e){return(s=i,new fr(["projects",s.projectId,"databases",s.database])).child("documents").child(e).canonicalString();var s}function vp(i){const e=fr.fromString(i);return Ut(kc(e)),e}function Uu(i,e){return Mc(i.databaseId,e.path)}function Al(i,e){const n=vp(e);if(n.get(1)!==i.databaseId.projectId)throw new ft(Qe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ft(Qe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new $t(bh(n))}function yp(i,e){return Mc(i.databaseId,e)}function Cd(i){return new fr(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function bh(i){return Ut(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Oc(i,e,n){return{name:Uu(i,e),fields:n.value.mapValue.fields}}function ju(i,e){return{documents:[yp(i,e.path)]}}function Sd(i,e){const n={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(n.parent=yp(i,s),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=yp(i,s.popLast()),n.structuredQuery.from=[{collectionId:s.lastSegment()}]);const u=function(O){if(0!==O.length)return Df(kr.create(O,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(O){if(0!==O.length)return O.map($=>{return{field:au((oe=$).field),direction:bf(oe.dir)};var oe})}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const _=ou(i,e.limit);return null!==_&&(n.structuredQuery.limit=_),e.startAt&&(n.structuredQuery.startAt={before:(O=e.startAt).inclusive,values:O.position}),e.endAt&&(n.structuredQuery.endAt=function(O){return{before:!O.inclusive,values:O.position}}(e.endAt)),n;var O}function If(i){let e=function Ef(i){const e=vp(i);return 4===e.length?fr.emptyPath():bh(e)}(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let u=null;if(s>0){Ut(1===s);const Z=n.from[0];Z.allDescendants?u=Z.collectionId:e=e.child(Z.collectionId)}let f=[];n.where&&(f=function(oe){const we=h_(oe);return we instanceof kr&&ga(we)?we.getFilters():[we]}(n.where));let _=[];n.orderBy&&(_=n.orderBy.map(we=>{return new xu(lu((wt=we).field),function(Gt){switch(Gt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(wt.direction));var wt}));let S=null;n.limit&&(S=function(oe){let we;return we="object"==typeof oe?oe.value:oe,Ht(we)?null:we}(n.limit));let O=null;var oe;n.startAt&&(O=new ks((oe=n.startAt).values||[],!!oe.before));let $=null;return n.endAt&&($=function(oe){return new ks(oe.values||[],!oe.before)}(n.endAt)),function vd(i,e,n,s,u,f,_,S){return new Ys(i,e,n,s,u,f,_,S)}(e,u,_,f,S,"F",O,$)}function h_(i){return void 0!==i.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=lu(n.unaryFilter.field);return lr.create(s,"==",{doubleValue:NaN});case"IS_NULL":const u=lu(n.unaryFilter.field);return lr.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const f=lu(n.unaryFilter.field);return lr.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const _=lu(n.unaryFilter.field);return lr.create(_,"!=",{nullValue:"NULL_VALUE"});default:return Kt()}}(i):void 0!==i.fieldFilter?lr.create(lu((n=i).fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Kt()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==i.compositeFilter?function(n){return kr.create(n.compositeFilter.filters.map(s=>h_(s)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return Kt()}}(n.compositeFilter.op))}(i):Kt();var n}function bf(i){return gp[i]}function f_(i){return Ng[i]}function Pg(i){return yf[i]}function au(i){return{fieldPath:i.canonicalString()}}function lu(i){return di.fromServerFormat(i.fieldPath)}function Df(i){return i instanceof lr?function(n){if("=="===n.op){if(xo(n.value))return{unaryFilter:{field:au(n.field),op:"IS_NAN"}};if(Wl(n.value))return{unaryFilter:{field:au(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(xo(n.value))return{unaryFilter:{field:au(n.field),op:"IS_NOT_NAN"}};if(Wl(n.value))return{unaryFilter:{field:au(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:au(n.field),op:f_(n.op),value:n.value}}}(i):i instanceof kr?function(n){const s=n.getFilters().map(u=>Df(u));return 1===s.length?s[0]:{compositeFilter:{op:Pg(n.op),filters:s}}}(i):Kt()}function xg(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function kc(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class Ea{constructor(e,n,s,u,f=mn.min(),_=mn.min(),S=fo.EMPTY_BYTE_STRING,O=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=_,this.resumeToken=S,this.expectedCount=O}withSequenceNumber(e){return new Ea(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ea(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ea(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ea(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Ip{constructor(e){this.ut=e}}function bp(i){const e=If({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Ed(e,e.limit,"L"):e}class Pd{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(Di(e.integerValue));else if("doubleValue"in e){const s=Di(e.doubleValue);isNaN(s)?this.Tt(n,13):(this.Tt(n,15),Dn(s)?n.Et(0):n.Et(s))}else if("timestampValue"in e){const s=e.timestampValue;this.Tt(n,20),"string"==typeof s?n.dt(s):(n.dt(`${s.seconds||""}`),n.Et(s.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(to(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){const s=e.geoPointValue;this.Tt(n,45),n.Et(s.latitude||0),n.Et(s.longitude||0)}else"mapValue"in e?ql(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):Kt()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){const s=e.fields||{};this.Tt(n,55);for(const u of Object.keys(s))this.At(u,n),this.Pt(s[u],n)}yt(e,n){const s=e.values||[];this.Tt(n,50);for(const u of s)this.Pt(u,n)}ft(e,n){this.Tt(n,37),$t.fromName(e).path.forEach(s=>{this.Tt(n,60),this.wt(s,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}}Pd.St=new Pd;class Kv{constructor(){this.on=new Np}addToCollectionParentIndex(e,n){return this.on.add(n),Pe.resolve()}getCollectionParents(e,n){return Pe.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return Pe.resolve()}deleteFieldIndex(e,n){return Pe.resolve()}deleteAllFieldIndexes(e){return Pe.resolve()}createTargetIndexes(e,n){return Pe.resolve()}getDocumentsMatchingTarget(e,n){return Pe.resolve(null)}getIndexType(e,n){return Pe.resolve(0)}getFieldIndexes(e,n){return Pe.resolve([])}getNextCollectionGroupToUpdate(e){return Pe.resolve(null)}getMinOffset(e,n){return Pe.resolve(eo.min())}getMinOffsetFromCollectionGroup(e,n){return Pe.resolve(eo.min())}updateCollectionGroup(e,n,s){return Pe.resolve()}updateIndexEntries(e,n){return Pe.resolve()}}class Np{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),u=this.index[n]||new Tr(fr.comparator),f=!u.has(s);return this.index[n]=u.add(s),f}has(e){const n=e.lastSegment(),s=e.popLast(),u=this.index[n];return u&&u.has(s)}getEntries(e){return(this.index[e]||new Tr(fr.comparator)).toArray()}}new Uint8Array(0);class Gi{constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new Gi(e,Gi.DEFAULT_COLLECTION_PERCENTILE,Gi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Gi.DEFAULT_COLLECTION_PERCENTILE=10,Gi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gi.DEFAULT=new Gi(41943040,Gi.DEFAULT_COLLECTION_PERCENTILE,Gi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gi.DISABLED=new Gi(-1,0,0);class h{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new h(0)}static Nn(){return new h(-1)}}class Tt{constructor(){this.changes=new z(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Qr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return void 0!==s?Pe.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Fr{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Br{constructor(e,n,s,u){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=u}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(u=>(s=u,this.remoteDocumentCache.getEntry(e,n))).next(u=>(null!==s&&Dd(s.mutation,u,Po.empty(),gi.now()),u))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,On()).next(()=>s))}getLocalViewOfDocuments(e,n,s=On()){const u=dn();return this.populateOverlays(e,u,n).next(()=>this.computeViews(e,n,u,s).next(f=>{let _=yt();return f.forEach((S,O)=>{_=_.insert(S,O.overlayedDocument)}),_}))}getOverlayedDocuments(e,n){const s=dn();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,On()))}populateOverlays(e,n,s){const u=[];return s.forEach(f=>{n.has(f)||u.push(f)}),this.documentOverlayCache.getOverlays(e,u).next(f=>{f.forEach((_,S)=>{n.set(_,S)})})}computeViews(e,n,s,u){let f=ve();const _=qn(),S=qn();return n.forEach((O,$)=>{const Z=s.get($.key);u.has($.key)&&(void 0===Z||Z.mutation instanceof iu)?f=f.insert($.key,$):void 0!==Z?(_.set($.key,Z.mutation.getFieldMask()),Dd(Z.mutation,$,Z.mutation.getFieldMask(),gi.now())):_.set($.key,Po.empty())}),this.recalculateAndSaveOverlays(e,f).next(O=>(O.forEach(($,Z)=>_.set($,Z)),n.forEach(($,Z)=>{var oe;return S.set($,new Fr(Z,null!==(oe=_.get($))&&void 0!==oe?oe:null))}),S))}recalculateAndSaveOverlays(e,n){const s=qn();let u=new Zr((_,S)=>_-S),f=On();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(_=>{for(const S of _)S.keys().forEach(O=>{const $=n.get(O);if(null===$)return;let Z=s.get(O)||Po.empty();Z=S.applyToLocalView($,Z),s.set(O,Z);const oe=(u.get(S.batchId)||On()).add(O);u=u.insert(S.batchId,oe)})}).next(()=>{const _=[],S=u.getReverseIterator();for(;S.hasNext();){const O=S.getNext(),$=O.key,Z=O.value,oe=Bn();Z.forEach(we=>{if(!f.has(we)){const Ye=Ac(n.get(we),s.get(we));null!==Ye&&oe.set(we,Ye),f=f.add(we)}}),_.push(this.documentOverlayCache.saveOverlays(e,$,oe))}return Pe.waitFor(_)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,u){return $t.isDocumentKey((_=n).path)&&null===_.collectionGroup&&0===_.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):yd(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,u):this.getDocumentsMatchingCollectionQuery(e,n,s,u);var _}getNextDocuments(e,n,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,u).next(f=>{const _=u-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,u-f.size):Pe.resolve(dn());let S=-1,O=f;return _.next($=>Pe.forEach($,(Z,oe)=>(S<oe.largestBatchId&&(S=oe.largestBatchId),f.get(Z)?Pe.resolve():this.remoteDocumentCache.getEntry(e,Z).next(we=>{O=O.insert(Z,we)}))).next(()=>this.populateOverlays(e,$,f)).next(()=>this.computeViews(e,O,$,On())).next(Z=>({batchId:S,changes:rn(Z)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new $t(n)).next(s=>{let u=yt();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u})}getDocumentsMatchingCollectionGroupQuery(e,n,s,u){const f=n.collectionGroup;let _=yt();return this.indexManager.getCollectionParents(e,f).next(S=>Pe.forEach(S,O=>{const $=(oe=n,we=O.child(f),new Ys(we,null,oe.explicitOrderBy.slice(),oe.filters.slice(),oe.limit,oe.limitType,oe.startAt,oe.endAt));var oe,we;return this.getDocumentsMatchingCollectionQuery(e,$,s,u).next(Z=>{Z.forEach((oe,we)=>{_=_.insert(oe,we)})})}).next(()=>_))}getDocumentsMatchingCollectionQuery(e,n,s,u){let f;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(_=>(f=_,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,f,u))).next(_=>{f.forEach((O,$)=>{const Z=$.getKey();null===_.get(Z)&&(_=_.insert(Z,Qr.newInvalidDocument(Z)))});let S=yt();return _.forEach((O,$)=>{const Z=f.get(O);void 0!==Z&&Dd(Z.mutation,$,Po.empty(),gi.now()),D(n,$)&&(S=S.insert(O,$))}),S})}}class _i{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return Pe.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,{id:(u=n).id,version:u.version,createTime:Hi(u.createTime)}),Pe.resolve();var u}getNamedQuery(e,n){return Pe.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,{name:(u=n).name,query:bp(u.bundledQuery),readTime:Hi(u.readTime)}),Pe.resolve();var u}}class Ti{constructor(){this.overlays=new Zr($t.comparator),this.lr=new Map}getOverlay(e,n){return Pe.resolve(this.overlays.get(n))}getOverlays(e,n){const s=dn();return Pe.forEach(n,u=>this.getOverlay(e,u).next(f=>{null!==f&&s.set(u,f)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((u,f)=>{this.lt(e,n,f)}),Pe.resolve()}removeOverlaysForBatchId(e,n,s){const u=this.lr.get(s);return void 0!==u&&(u.forEach(f=>this.overlays=this.overlays.remove(f)),this.lr.delete(s)),Pe.resolve()}getOverlaysForCollection(e,n,s){const u=dn(),f=n.length+1,_=new $t(n.child("")),S=this.overlays.getIteratorFrom(_);for(;S.hasNext();){const O=S.getNext().value,$=O.getKey();if(!n.isPrefixOf($.path))break;$.path.length===f&&O.largestBatchId>s&&u.set(O.getKey(),O)}return Pe.resolve(u)}getOverlaysForCollectionGroup(e,n,s,u){let f=new Zr(($,Z)=>$-Z);const _=this.overlays.getIterator();for(;_.hasNext();){const $=_.getNext().value;if($.getKey().getCollectionGroup()===n&&$.largestBatchId>s){let Z=f.get($.largestBatchId);null===Z&&(Z=dn(),f=f.insert($.largestBatchId,Z)),Z.set($.getKey(),$)}}const S=dn(),O=f.getIterator();for(;O.hasNext()&&(O.getNext().value.forEach(($,Z)=>S.set($,Z)),!(S.size()>=u)););return Pe.resolve(S)}lt(e,n,s){const u=this.overlays.get(s.key);if(null!==u){const _=this.lr.get(u.largestBatchId).delete(s.key);this.lr.set(u.largestBatchId,_)}this.overlays=this.overlays.insert(s.key,new ff(n,s));let f=this.lr.get(n);void 0===f&&(f=On(),this.lr.set(n,f)),this.lr.set(n,f.add(s.key))}}class Fo{constructor(){this.hr=new Tr(ir.Pr),this.Ir=new Tr(ir.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const s=new ir(e,n);this.hr=this.hr.add(s),this.Ir=this.Ir.add(s)}Er(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.dr(new ir(e,n))}Ar(e,n){e.forEach(s=>this.removeReference(s,n))}Rr(e){const n=new $t(new fr([])),s=new ir(n,e),u=new ir(n,e+1),f=[];return this.Ir.forEachInRange([s,u],_=>{this.dr(_),f.push(_.key)}),f}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new $t(new fr([])),s=new ir(n,e),u=new ir(n,e+1);let f=On();return this.Ir.forEachInRange([s,u],_=>{f=f.add(_.key)}),f}containsKey(e){const n=new ir(e,0),s=this.hr.firstAfterOrEqual(n);return null!==s&&e.isEqual(s.key)}}class ir{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return $t.comparator(e.key,n.key)||Mn(e.gr,n.gr)}static Tr(e,n){return Mn(e.gr,n.gr)||$t.comparator(e.key,n.key)}}class Eo{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Tr(ir.Pr)}checkEmpty(e){return Pe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,s,u){const f=this.pr;this.pr++;const _=new yh(f,n,s,u);this.mutationQueue.push(_);for(const S of u)this.yr=this.yr.add(new ir(S.key,f)),this.indexManager.addToCollectionParentIndex(e,S.key.path.popLast());return Pe.resolve(_)}lookupMutationBatch(e,n){return Pe.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const u=this.Sr(n+1),f=u<0?0:u;return Pe.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return Pe.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return Pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new ir(n,0),u=new ir(n,Number.POSITIVE_INFINITY),f=[];return this.yr.forEachInRange([s,u],_=>{const S=this.wr(_.gr);f.push(S)}),Pe.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Tr(Mn);return n.forEach(u=>{const f=new ir(u,0),_=new ir(u,Number.POSITIVE_INFINITY);this.yr.forEachInRange([f,_],S=>{s=s.add(S.gr)})}),Pe.resolve(this.br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,u=s.length+1;let f=s;$t.isDocumentKey(f)||(f=f.child(""));const _=new ir(new $t(f),0);let S=new Tr(Mn);return this.yr.forEachWhile(O=>{const $=O.key.path;return!!s.isPrefixOf($)&&($.length===u&&(S=S.add(O.gr)),!0)},_),Pe.resolve(this.br(S))}br(e){const n=[];return e.forEach(s=>{const u=this.wr(s);null!==u&&n.push(u)}),n}removeMutationBatch(e,n){Ut(0===this.Dr(n.batchId,"removed")),this.mutationQueue.shift();let s=this.yr;return Pe.forEach(n.mutations,u=>{const f=new ir(u.key,n.batchId);return s=s.delete(f),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.yr=s})}Fn(e){}containsKey(e,n){const s=new ir(n,0),u=this.yr.firstAfterOrEqual(s);return Pe.resolve(n.isEqual(u&&u.key))}performConsistencyCheck(e){return Pe.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Ia{constructor(e){this.Cr=e,this.docs=new Zr($t.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,u=this.docs.get(s),f=u?u.size:0,_=this.Cr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:_}),this.size+=_-f,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return Pe.resolve(s?s.document.mutableCopy():Qr.newInvalidDocument(n))}getEntries(e,n){let s=ve();return n.forEach(u=>{const f=this.docs.get(u);s=s.insert(u,f?f.document.mutableCopy():Qr.newInvalidDocument(u))}),Pe.resolve(s)}getDocumentsMatchingQuery(e,n,s,u){let f=ve();const _=n.path,S=new $t(_.child("")),O=this.docs.getIteratorFrom(S);for(;O.hasNext();){const{key:$,value:{document:Z}}=O.getNext();if(!_.isPrefixOf($.path))break;$.path.length>_.length+1||Bl(No(Z),s)<=0||(u.has(Z.key)||D(n,Z))&&(f=f.insert(Z.key,Z.mutableCopy()))}return Pe.resolve(f)}getAllFromCollectionGroup(e,n,s,u){Kt()}vr(e,n){return Pe.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new ss(this)}getSize(e){return Pe.resolve(this.size)}}class ss extends Tt{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((s,u)=>{u.isValidDocument()?n.push(this._r.addEntry(e,u)):this._r.removeEntry(s)}),Pe.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}class Sl{constructor(e){this.persistence=e,this.Fr=new z(n=>no(n),ka),this.lastRemoteSnapshotVersion=mn.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Fo,this.targetCount=0,this.Nr=h.On()}forEachTarget(e,n){return this.Fr.forEach((s,u)=>n(u)),Pe.resolve()}getLastRemoteSnapshotVersion(e){return Pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Pe.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),Pe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.Mr&&(this.Mr=n),Pe.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new h(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,Pe.resolve()}updateTargetData(e,n){return this.kn(n),Pe.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,Pe.resolve()}removeTargets(e,n,s){let u=0;const f=[];return this.Fr.forEach((_,S)=>{S.sequenceNumber<=n&&null===s.get(S.targetId)&&(this.Fr.delete(_),f.push(this.removeMatchingKeysForTargetId(e,S.targetId)),u++)}),Pe.waitFor(f).next(()=>u)}getTargetCount(e){return Pe.resolve(this.targetCount)}getTargetData(e,n){const s=this.Fr.get(n)||null;return Pe.resolve(s)}addMatchingKeys(e,n,s){return this.Or.Er(n,s),Pe.resolve()}removeMatchingKeys(e,n,s){this.Or.Ar(n,s);const u=this.persistence.referenceDelegate,f=[];return u&&n.forEach(_=>{f.push(u.markPotentiallyOrphaned(e,_))}),Pe.waitFor(f)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),Pe.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Or.mr(n);return Pe.resolve(s)}containsKey(e,n){return Pe.resolve(this.Or.containsKey(n))}}class ol{constructor(e,n){this.Br={},this.overlays={},this.Lr=new He(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new Sl(this),this.indexManager=new Kv,this.remoteDocumentCache=new Ia(s=>this.referenceDelegate.Qr(s)),this.serializer=new Ip(n),this.Kr=new _i(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Ti,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Br[e.toKey()];return s||(s=new Eo(n,this.referenceDelegate),this.Br[e.toKey()]=s),s}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,s){pt("MemoryPersistence","Starting transaction:",e);const u=new Zs(this.Lr.next());return this.referenceDelegate.$r(),s(u).next(f=>this.referenceDelegate.Ur(u).next(()=>f)).toPromise().then(f=>(u.raiseOnCommittedEvent(),f))}Wr(e,n){return Pe.or(Object.values(this.Br).map(s=>()=>s.containsKey(e,n)))}}class Zs extends ad{constructor(e){super(),this.currentSequenceNumber=e}}class ys{constructor(e){this.persistence=e,this.Gr=new Fo,this.zr=null}static jr(e){return new ys(e)}get Hr(){if(this.zr)return this.zr;throw Kt()}addReference(e,n,s){return this.Gr.addReference(s,n),this.Hr.delete(s.toString()),Pe.resolve()}removeReference(e,n,s){return this.Gr.removeReference(s,n),this.Hr.add(s.toString()),Pe.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),Pe.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(u=>this.Hr.add(u.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(u=>{u.forEach(f=>this.Hr.add(f.toString()))}).next(()=>s.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Pe.forEach(this.Hr,s=>{const u=$t.fromPath(s);return this.Jr(e,u).next(f=>{f||n.removeEntry(u,mn.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(s=>{s?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return Pe.or([()=>Pe.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}class Qs{constructor(e,n,s,u){this.targetId=e,this.fromCache=n,this.ki=s,this.qi=u}static Qi(e,n){let s=On(),u=On();for(const f of n.docChanges)switch(f.type){case 0:s=s.add(f.doc.key);break;case 1:u=u.add(f.doc.key)}return new Qs(e,n.fromCache,s,u)}}class Mh{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class ul{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,s,u){const f={result:null};return this.zi(e,n).next(_=>{f.result=_}).next(()=>{if(!f.result)return this.ji(e,n,u,s).next(_=>{f.result=_})}).next(()=>{if(f.result)return;const _=new Mh;return this.Hi(e,n,_).next(S=>{if(f.result=S,this.$i)return this.Ji(e,n,_,S.size)})}).next(()=>f.result)}Ji(e,n,s,u){return s.documentReadCount<this.Ui?(Ho()<=Oe.in.DEBUG&&pt("QueryEngine","SDK will not create cache indexes for query:",Xl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),Pe.resolve()):(Ho()<=Oe.in.DEBUG&&pt("QueryEngine","Query:",Xl(n),"scans",s.documentReadCount,"local documents and returns",u,"documents as results."),s.documentReadCount>this.Wi*u?(Ho()<=Oe.in.DEBUG&&pt("QueryEngine","The SDK decides to create cache indexes for query:",Xl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ko(n))):Pe.resolve())}zi(e,n){if(hh(n))return Pe.resolve(null);let s=ko(n);return this.indexManager.getIndexType(e,s).next(u=>0===u?null:(null!==n.limit&&1===u&&(n=Ed(n,null,"F"),s=ko(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(f=>{const _=On(...f);return this.Gi.getDocuments(e,_).next(S=>this.indexManager.getMinOffset(e,s).next(O=>{const $=this.Yi(n,S);return this.Zi(n,$,_,O.readTime)?this.zi(e,Ed(n,null,"F")):this.Xi(e,$,n,O)}))})))}ji(e,n,s,u){return hh(n)||u.isEqual(mn.min())?Pe.resolve(null):this.Gi.getDocuments(e,s).next(f=>{const _=this.Yi(n,f);return this.Zi(n,_,s,u)?Pe.resolve(null):(Ho()<=Oe.in.DEBUG&&pt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Xl(n)),this.Xi(e,_,n,function Qa(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,u=mn.fromTimestamp(1e9===s?new gi(n+1,0):new gi(n,s));return new eo(u,$t.empty(),e)}(u,-1)).next(S=>S))})}Yi(e,n){let s=new Tr(v(e));return n.forEach((u,f)=>{D(e,f)&&(s=s.add(f))}),s}Zi(e,n,s,u){if(null===e.limit)return!1;if(s.size!==n.size)return!0;const f="F"===e.limitType?n.last():n.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(u)>0)}Hi(e,n,s){return Ho()<=Oe.in.DEBUG&&pt("QueryEngine","Using full collection scan to execute query:",Xl(n)),this.Gi.getDocumentsMatchingQuery(e,n,eo.min(),s)}Xi(e,n,s,u){return this.Gi.getDocumentsMatchingQuery(e,s,u).next(f=>(n.forEach(_=>{f=f.insert(_.key,_)}),f))}}class jc{constructor(e,n,s,u){this.persistence=e,this.es=n,this.serializer=u,this.ts=new Zr(Mn),this.ns=new z(f=>no(f),ka),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(s)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Br(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function $c(i,e){return Hc.apply(this,arguments)}function Hc(){return Hc=(0,se.Z)(function*(i,e){const n=Ft(i);return yield n.persistence.runTransaction("Handle user change","readonly",s=>{let u;return n.mutationQueue.getAllMutationBatches(s).next(f=>(u=f,n.os(e),n.mutationQueue.getAllMutationBatches(s))).next(f=>{const _=[],S=[];let O=On();for(const $ of u){_.push($.batchId);for(const Z of $.mutations)O=O.add(Z.key)}for(const $ of f){S.push($.batchId);for(const Z of $.mutations)O=O.add(Z.key)}return n.localDocuments.getDocuments(s,O).next($=>({_s:$,removedBatchIds:_,addedBatchIds:S}))})})}),Hc.apply(this,arguments)}function zu(i){const e=Ft(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function kp(i,e){const n=Ft(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Ua(i,e,n){return Rl.apply(this,arguments)}function Rl(){return Rl=(0,se.Z)(function*(i,e,n){const s=Ft(i),u=s.ts.get(e),f=n?"readwrite":"readwrite-primary";try{n||(yield s.persistence.runTransaction("Release target",f,_=>s.persistence.referenceDelegate.removeTarget(_,u)))}catch(_){if(!R(_))throw _;pt("LocalStore",`Failed to update sequence numbers for target ${e}: ${_}`)}s.ts=s.ts.remove(e),s.ns.delete(u.target)}),Rl.apply(this,arguments)}function qu(i,e,n){const s=Ft(i);let u=mn.min(),f=On();return s.persistence.runTransaction("Execute query","readwrite",_=>function(O,$,Z){const oe=Ft(O),we=oe.ns.get(Z);return void 0!==we?Pe.resolve(oe.ts.get(we)):oe.qr.getTargetData($,Z)}(s,_,ko(e)).next(S=>{if(S)return u=S.lastLimboFreeSnapshotVersion,s.qr.getMatchingKeysForTargetId(_,S.targetId).next(O=>{f=O})}).next(()=>s.es.getDocumentsMatchingQuery(_,e,n?u:mn.min(),n?f:On())).next(S=>(function jd(i,e,n){let s=i.rs.get(e)||mn.min();n.forEach((u,f)=>{f.readTime.compareTo(s)>0&&(s=f.readTime)}),i.rs.set(e,s)}(s,function m(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}(e),S),{documents:S,ls:f})))}class Of{constructor(){this.activeTargetIds=function Tc(){return Dc}()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Gd{constructor(){this.eo=new Of,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,s){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new Of,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Hg{ro(e){}shutdown(){}}class Vp{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){pt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){pt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Gc=null;function Ph(){return null===Gc?Gc=268435456+Math.round(2147483648*Math.random()):Gc++,"0x"+Gc.toString(16)}const xh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Gg{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const as="WebChannelConnection";class Bp extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const s=n.ssl?"https":"http",u=encodeURIComponent(this.databaseId.projectId),f=encodeURIComponent(this.databaseId.database);this.mo=s+"://"+n.host,this.fo=`projects/${u}/databases/${f}`,this.po="(default)"===this.databaseId.database?`project_id=${u}`:`project_id=${u}&database_id=${f}`}get yo(){return!1}wo(n,s,u,f,_){const S=Ph(),O=this.So(n,s);pt("RestConnection",`Sending RPC '${n}' ${S}:`,O,u);const $={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo($,f,_),this.Do(n,O,$,u).then(Z=>(pt("RestConnection",`Received RPC '${n}' ${S}: `,Z),Z),Z=>{throw Cn("RestConnection",`RPC '${n}' ${S} failed with error: `,Z,"url: ",O,"request:",u),Z})}Co(n,s,u,f,_,S){return this.wo(n,s,u,f,_)}bo(n,s,u){n["X-Goog-Api-Client"]="gl-js/ fire/"+ji,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((f,_)=>n[_]=f),u&&u.headers.forEach((f,_)=>n[_]=f)}So(n,s){return`${this.mo}/v1/${s}:${xh[n]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,s,u){const f=Ph();return new Promise((_,S)=>{const O=new ei;O.setWithCredentials(!0),O.listenOnce(qt.COMPLETE,()=>{try{switch(O.getLastErrorCode()){case ct.NO_ERROR:const Z=O.getResponseJson();pt(as,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(Z)),_(Z);break;case ct.TIMEOUT:pt(as,`RPC '${e}' ${f} timed out`),S(new ft(Qe.DEADLINE_EXCEEDED,"Request time out"));break;case ct.HTTP_ERROR:const oe=O.getStatus();if(pt(as,`RPC '${e}' ${f} failed with status:`,oe,"response text:",O.getResponseText()),oe>0){let we=O.getResponseJson();Array.isArray(we)&&(we=we[0]);const Ye=we?.error;if(Ye&&Ye.status&&Ye.message){const wt=function(Gt){const Rn=Gt.toLowerCase().replace(/_/g,"-");return Object.values(Qe).indexOf(Rn)>=0?Rn:Qe.UNKNOWN}(Ye.status);S(new ft(wt,Ye.message))}else S(new ft(Qe.UNKNOWN,"Server responded with status "+O.getStatus()))}else S(new ft(Qe.UNAVAILABLE,"Connection failed."));break;default:Kt()}}finally{pt(as,`RPC '${e}' ${f} completed.`)}});const $=JSON.stringify(u);pt(as,`RPC '${e}' ${f} sending request:`,u),O.send(n,"POST",$,s,15)})}vo(e,n,s){const u=Ph(),f=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],_=ce(),S=Ze(),O={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},$=this.longPollingOptions.timeoutSeconds;void 0!==$&&(O.longPollingTimeout=Math.round(1e3*$)),this.useFetchStreams&&(O.xmlHttpFactory=new vr({})),this.bo(O.initMessageHeaders,n,s),O.encodeInitMessageHeaders=!0;const Z=f.join("");pt(as,`Creating RPC '${e}' stream ${u}: ${Z}`,O);const oe=_.createWebChannel(Z,O);let we=!1,Ye=!1;const wt=new Gg({co:Gt=>{Ye?pt(as,`Not sending because RPC '${e}' stream ${u} is closed:`,Gt):(we||(pt(as,`Opening RPC '${e}' stream ${u} transport.`),oe.open(),we=!0),pt(as,`RPC '${e}' stream ${u} sending:`,Gt),oe.send(Gt))},lo:()=>oe.close()}),jt=(Gt,Rn,Pn)=>{Gt.listen(Rn,xn=>{try{Pn(xn)}catch(Cr){setTimeout(()=>{throw Cr},0)}})};return jt(oe,kn.EventType.OPEN,()=>{Ye||pt(as,`RPC '${e}' stream ${u} transport opened.`)}),jt(oe,kn.EventType.CLOSE,()=>{Ye||(Ye=!0,pt(as,`RPC '${e}' stream ${u} transport closed`),wt.Ro())}),jt(oe,kn.EventType.ERROR,Gt=>{Ye||(Ye=!0,Cn(as,`RPC '${e}' stream ${u} transport errored:`,Gt),wt.Ro(new ft(Qe.UNAVAILABLE,"The operation could not be completed")))}),jt(oe,kn.EventType.MESSAGE,Gt=>{var Rn;if(!Ye){const Pn=Gt.data[0];Ut(!!Pn);const Cr=Pn.error||(null===(Rn=Pn[0])||void 0===Rn?void 0:Rn.error);if(Cr){pt(as,`RPC '${e}' stream ${u} received error:`,Cr);const vi=Cr.status;let ni=function(k0){const Fv=yr[k0];if(void 0!==Fv)return pf(Fv)}(vi),Io=Cr.message;void 0===ni&&(ni=Qe.INTERNAL,Io="Unknown error status: "+vi+" with message "+Cr.message),Ye=!0,wt.Ro(new ft(ni,Io)),oe.close()}else pt(as,`RPC '${e}' stream ${u} received:`,Pn),wt.Vo(Pn)}}),jt(S,Dr.STAT_EVENT,Gt=>{Gt.stat===Sr.PROXY?pt(as,`RPC '${e}' stream ${u} detected buffering proxy`):Gt.stat===Sr.NOPROXY&&pt(as,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{wt.Ao()},0),wt}}function kh(){return typeof document<"u"?document:null}function Ku(i){return new mp(i,!0)}class zg{constructor(e,n,s=1e3,u=1.5,f=6e4){this.si=e,this.timerId=n,this.Fo=s,this.Mo=u,this.xo=f,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),s=Math.max(0,Date.now()-this.Bo),u=Math.max(0,n-s);u>0&&pt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,u,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class Wg{constructor(e,n,s,u,f,_,S,O){this.si=e,this.Ko=s,this.$o=u,this.connection=f,this.authCredentialsProvider=_,this.appCheckCredentialsProvider=S,this.listener=O,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new zg(e,n)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,se.Z)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,se.Z)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){var s=this;return(0,se.Z)(function*(){s.t_(),s.n_(),s.zo.cancel(),s.Uo++,4!==e?s.zo.reset():n&&n.code===Qe.RESOURCE_EXHAUSTED?(bi(n.toString()),bi("Using maximum backoff delay to prevent overloading the backend."),s.zo.Lo()):n&&n.code===Qe.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.r_(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Io(n)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,u])=>{this.Uo===n&&this.s_(s,u)},s=>{e(()=>{const u=new ft(Qe.UNKNOWN,"Fetching auth token failed: "+s.message);return this.o_(u)})})}s_(e,n){const s=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{s(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(u=>{s(()=>this.o_(u))}),this.stream.onMessage(u=>{s(()=>this.onMessage(u))})}Jo(){var e=this;this.state=5,this.zo.ko((0,se.Z)(function*(){e.state=0,e.start()}))}o_(e){return pt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(pt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Jv extends Wg{constructor(e,n,s,u,f,_){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,u,_),this.serializer=f}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=function Ep(i,e){let n;if("targetChange"in e){const s="NO_CHANGE"===($=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===$?1:"REMOVE"===$?2:"CURRENT"===$?3:"RESET"===$?4:Kt(),u=e.targetChange.targetIds||[],f=function($,Z){return $.useProto3Json?(Ut(void 0===Z||"string"==typeof Z),fo.fromBase64String(Z||"")):(Ut(void 0===Z||Z instanceof Uint8Array),fo.fromUint8Array(Z||new Uint8Array))}(i,e.targetChange.resumeToken),_=e.targetChange.cause,S=_&&function($){const Z=void 0===$.code?Qe.UNKNOWN:pf($.code);return new ft(Z,$.message||"")}(_);n=new pp(s,u,f,S||null)}else if("documentChange"in e){const s=e.documentChange,u=Al(i,s.document.name),f=Hi(s.document.updateTime),_=s.document.createTime?Hi(s.document.createTime):mn.min(),S=new Oi({mapValue:{fields:s.document.fields}}),O=Qr.newFoundDocument(u,f,_,S);n=new wd(s.targetIds||[],s.removedTargetIds||[],O.key,O)}else if("documentDelete"in e){const s=e.documentDelete,u=Al(i,s.document),f=s.readTime?Hi(s.readTime):mn.min(),_=Qr.newNoDocument(u,f);n=new wd([],s.removedTargetIds||[],_.key,_)}else if("documentRemove"in e){const s=e.documentRemove,u=Al(i,s.document);n=new wd([],s.removedTargetIds||[],u,null)}else{if(!("filter"in e))return Kt();{const s=e.filter,{count:u=0,unchangedNames:f}=s,_=new hp(u,f);n=new fp(s.targetId,_)}}var $;return n}(this.serializer,e),s=function(f){if(!("targetChange"in f))return mn.min();const _=f.targetChange;return _.targetIds&&_.targetIds.length?mn.min():_.readTime?Hi(_.readTime):mn.min()}(e);return this.listener.a_(n,s)}u_(e){const n={};n.database=Cd(this.serializer),n.addTarget=function(f,_){let S;const O=_.target;if(S=ma(O)?{documents:ju(f,O)}:{query:Sd(f,O)},S.targetId=_.targetId,_.resumeToken.approximateByteSize()>0){S.resumeToken=su(f,_.resumeToken);const $=ou(f,_.expectedCount);null!==$&&(S.expectedCount=$)}else if(_.snapshotVersion.compareTo(mn.min())>0){S.readTime=os(f,_.snapshotVersion.toTimestamp());const $=ou(f,_.expectedCount);null!==$&&(S.expectedCount=$)}return S}(this.serializer,e);const s=function Og(i,e){const n=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Kt()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);s&&(n.labels=s),this.e_(n)}c_(e){const n={};n.database=Cd(this.serializer),n.removeTarget=e,this.e_(n)}}class Xv extends Wg{constructor(e,n,s,u,f,_){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,u,_),this.serializer=f,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(Ut(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=function Mg(i,e){return i&&i.length>0?(Ut(void 0!==e),i.map(n=>function(u,f){let _=Hi(u.updateTime?u.updateTime:f);return _.isEqual(mn.min())&&(_=Hi(f)),new cf(_,u.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),s=Hi(e.commitTime);return this.listener.I_(s,n)}return Ut(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Cd(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>function Pc(i,e){let n;if(e instanceof ru)n={update:Oc(i,e.key,e.value)};else if(e instanceof Vu)n={delete:Uu(i,e.key)};else if(e instanceof iu)n={update:Oc(i,e.key,e.data),updateMask:xg(e.fieldMask)};else{if(!(e instanceof cp))return Kt();n={verify:Uu(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(f,_){const S=_.transform;if(S instanceof wl)return{fieldPath:_.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(S instanceof tu)return{fieldPath:_.field.canonicalString(),appendMissingElements:{values:S.elements}};if(S instanceof va)return{fieldPath:_.field.canonicalString(),removeAllFromArray:{values:S.elements}};if(S instanceof nu)return{fieldPath:_.field.canonicalString(),increment:S.Ie};throw Kt()}(0,s))),e.precondition.isNone||(n.currentDocument=void 0!==(f=e.precondition).updateTime?{updateTime:_p(i,f.updateTime)}:void 0!==f.exists?{exists:f.exists}:Kt()),n;var f}(this.serializer,s))};this.e_(n)}}class qg extends class{}{constructor(e,n,s,u){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=u,this.d_=!1}A_(){if(this.d_)throw new ft(Qe.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,s){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.wo(e,n,s,u,f)).catch(u=>{throw"FirebaseError"===u.name?(u.code===Qe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ft(Qe.UNKNOWN,u.toString())})}Co(e,n,s,u){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,_])=>this.connection.Co(e,n,s,f,_,u)).catch(f=>{throw"FirebaseError"===f.name?(f.code===Qe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ft(Qe.UNKNOWN,f.toString())})}terminate(){this.d_=!0}}class ey{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(bi(n),this.f_=!1):pt("OnlineStateTracker",n)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class vE{constructor(e,n,s,u,f){var _=this;this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=f,this.F_.ro(S=>{s.enqueueAndForget((0,se.Z)(function*(){var O;Yu(_)&&(pt("RemoteStore","Restarting streams for network reachability change."),yield(O=(0,se.Z)(function*(Z){const oe=Ft(Z);oe.C_.add(4),yield zc(oe),oe.M_.set("Unknown"),oe.C_.delete(4),yield xf(oe)}),function $(Z){return O.apply(this,arguments)})(_))}))}),this.M_=new ey(s,u)}}function xf(i){return Fh.apply(this,arguments)}function Fh(){return Fh=(0,se.Z)(function*(i){if(Yu(i))for(const e of i.v_)yield e(!0)}),Fh.apply(this,arguments)}function zc(i){return Yg.apply(this,arguments)}function Yg(){return Yg=(0,se.Z)(function*(i){for(const e of i.v_)yield e(!1)}),Yg.apply(this,arguments)}function kf(i,e){const n=Ft(i);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),Zg(n)?Up(n):Wd(n).Ho()&&Lh(n,e))}function zd(i,e){const n=Ft(i),s=Wd(n);n.D_.delete(e),s.Ho()&&y_(n,e),0===n.D_.size&&(s.Ho()?s.Zo():Yu(n)&&n.M_.set("Unknown"))}function Lh(i,e){if(i.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(mn.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Wd(i).u_(e)}function y_(i,e){i.x_.Oe(e),Wd(i).c_(e)}function Up(i){i.x_=new _f({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>i.D_.get(e)||null,nt:()=>i.datastore.serializer.databaseId}),Wd(i).start(),i.M_.g_()}function Zg(i){return Yu(i)&&!Wd(i).jo()&&i.D_.size>0}function Yu(i){return 0===Ft(i).C_.size}function ty(i){i.x_=void 0}function ny(i){return Vh.apply(this,arguments)}function Vh(){return Vh=(0,se.Z)(function*(i){i.D_.forEach((e,n)=>{Lh(i,e)})}),Vh.apply(this,arguments)}function ry(i,e){return Wc.apply(this,arguments)}function Wc(){return Wc=(0,se.Z)(function*(i,e){ty(i),Zg(i)?(i.M_.w_(e),Up(i)):i.M_.set("Unknown")}),Wc.apply(this,arguments)}function Ff(i,e,n){return Qg.apply(this,arguments)}function Qg(){return Qg=(0,se.Z)(function*(i,e,n){if(i.M_.set("Online"),e instanceof pp&&2===e.state&&e.cause)try{yield(s=(0,se.Z)(function*(f,_){const S=_.cause;for(const O of _.targetIds)f.D_.has(O)&&(yield f.remoteSyncer.rejectListen(O,S),f.D_.delete(O),f.x_.removeTarget(O))}),function u(f,_){return s.apply(this,arguments)})(i,e)}catch(s){pt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield Lf(i,s)}else if(e instanceof wd?i.x_.$e(e):e instanceof fp?i.x_.Je(e):i.x_.Ge(e),!n.isEqual(mn.min()))try{const s=yield zu(i.localStore);n.compareTo(s)>=0&&(yield function(f,_){const S=f.x_.it(_);return S.targetChanges.forEach((O,$)=>{if(O.resumeToken.approximateByteSize()>0){const Z=f.D_.get($);Z&&f.D_.set($,Z.withResumeToken(O.resumeToken,_))}}),S.targetMismatches.forEach((O,$)=>{const Z=f.D_.get(O);if(!Z)return;f.D_.set(O,Z.withResumeToken(fo.EMPTY_BYTE_STRING,Z.snapshotVersion)),y_(f,O);const oe=new Ea(Z.target,O,$,Z.sequenceNumber);Lh(f,oe)}),f.remoteSyncer.applyRemoteEvent(S)}(i,n))}catch(s){pt("RemoteStore","Failed to raise snapshot:",s),yield Lf(i,s)}var s}),Qg.apply(this,arguments)}function Lf(i,e,n){return Jg.apply(this,arguments)}function Jg(){return Jg=(0,se.Z)(function*(i,e,n){if(!R(e))throw e;i.C_.add(1),yield zc(i),i.M_.set("Offline"),n||(n=()=>zu(i.localStore)),i.asyncQueue.enqueueRetryable((0,se.Z)(function*(){pt("RemoteStore","Retrying IndexedDB access"),yield n(),i.C_.delete(1),yield xf(i)}))}),Jg.apply(this,arguments)}function E_(i,e){return e().catch(n=>Lf(i,n,e))}function Bh(i){return jp.apply(this,arguments)}function jp(){return jp=(0,se.Z)(function*(i){const e=Ft(i),n=qd(e);let s=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;I_(e);)try{const u=yield kp(e.localStore,s);if(null===u){0===e.b_.length&&n.Zo();break}s=u.batchId,Xg(e,u)}catch(u){yield Lf(e,u)}iy(e)&&Vf(e)}),jp.apply(this,arguments)}function I_(i){return Yu(i)&&i.b_.length<10}function Xg(i,e){i.b_.push(e);const n=qd(i);n.Ho()&&n.h_&&n.P_(e.mutations)}function iy(i){return Yu(i)&&!qd(i).jo()&&i.b_.length>0}function Vf(i){qd(i).start()}function b_(i){return em.apply(this,arguments)}function em(){return em=(0,se.Z)(function*(i){qd(i).E_()}),em.apply(this,arguments)}function oy(i){return $p.apply(this,arguments)}function $p(){return $p=(0,se.Z)(function*(i){const e=qd(i);for(const n of i.b_)e.P_(n.mutations)}),$p.apply(this,arguments)}function sy(i,e,n){return Hp.apply(this,arguments)}function Hp(){return Hp=(0,se.Z)(function*(i,e,n){const s=i.b_.shift(),u=hf.from(s,e,n);yield E_(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield Bh(i)}),Hp.apply(this,arguments)}function ay(i,e){return tm.apply(this,arguments)}function tm(){return tm=(0,se.Z)(function*(i,e){var n;e&&qd(i).h_&&(yield(n=(0,se.Z)(function*(u,f){if(function Sc(i){switch(i){default:return Kt();case Qe.CANCELLED:case Qe.UNKNOWN:case Qe.DEADLINE_EXCEEDED:case Qe.RESOURCE_EXHAUSTED:case Qe.INTERNAL:case Qe.UNAVAILABLE:case Qe.UNAUTHENTICATED:return!1;case Qe.INVALID_ARGUMENT:case Qe.NOT_FOUND:case Qe.ALREADY_EXISTS:case Qe.PERMISSION_DENIED:case Qe.FAILED_PRECONDITION:case Qe.ABORTED:case Qe.OUT_OF_RANGE:case Qe.UNIMPLEMENTED:case Qe.DATA_LOSS:return!0}}(S=f.code)&&S!==Qe.ABORTED){const _=u.b_.shift();qd(u).Yo(),yield E_(u,()=>u.remoteSyncer.rejectFailedWrite(_.batchId,f)),yield Bh(u)}var S}),function s(u,f){return n.apply(this,arguments)})(i,e)),iy(i)&&Vf(i)}),tm.apply(this,arguments)}function ly(i,e){return Gp.apply(this,arguments)}function Gp(){return Gp=(0,se.Z)(function*(i,e){const n=Ft(i);n.asyncQueue.verifyOperationInProgress(),pt("RemoteStore","RemoteStore received new credentials");const s=Yu(n);n.C_.add(3),yield zc(n),s&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield xf(n)}),Gp.apply(this,arguments)}function ja(){return ja=(0,se.Z)(function*(i,e){const n=Ft(i);e?(n.C_.delete(2),yield xf(n)):e||(n.C_.add(2),yield zc(n),n.M_.set("Unknown"))}),ja.apply(this,arguments)}function Wd(i){return i.O_||(i.O_=function(n,s,u){const f=Ft(n);return f.A_(),new Jv(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,u)}(i.datastore,i.asyncQueue,{ho:ny.bind(null,i),Io:ry.bind(null,i),a_:Ff.bind(null,i)}),i.v_.push(function(){var e=(0,se.Z)(function*(n){n?(i.O_.Yo(),Zg(i)?Up(i):i.M_.set("Unknown")):(yield i.O_.stop(),ty(i))});return function(n){return e.apply(this,arguments)}}())),i.O_}function qd(i){return i.N_||(i.N_=function(n,s,u){const f=Ft(n);return f.A_(),new Xv(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,u)}(i.datastore,i.asyncQueue,{ho:b_.bind(null,i),Io:ay.bind(null,i),T_:oy.bind(null,i),I_:sy.bind(null,i)}),i.v_.push(function(){var e=(0,se.Z)(function*(n){n?(i.N_.Yo(),yield Bh(i)):(yield i.N_.stop(),i.b_.length>0&&(pt("RemoteStore",`Stopping write stream with ${i.b_.length} pending writes`),i.b_=[]))});return function(n){return e.apply(this,arguments)}}())),i.N_}class Bf{constructor(e,n,s,u,f){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=u,this.removalCallback=f,this.deferred=new uo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(_=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,u,f){const _=Date.now()+s,S=new Bf(e,n,_,u,f);return S.start(s),S}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ft(Qe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $a(i,e){if(bi("AsyncQueue",`${e}: ${i}`),R(i))return new ft(Qe.UNAVAILABLE,`${e}: ${i}`);throw i}class fu{constructor(e){this.comparator=e?(n,s)=>e(n,s)||$t.comparator(n.key,s.key):(n,s)=>$t.comparator(n.key,s.key),this.keyedMap=yt(),this.sortedSet=new Zr(this.comparator)}static emptySet(e){return new fu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof fu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const u=n.getNext().key,f=s.getNext().key;if(!u.isEqual(f))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const s=new fu;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class D_{constructor(){this.B_=new Zr($t.comparator)}track(e){const n=e.doc.key,s=this.B_.get(n);s?0!==e.type&&3===s.type?this.B_=this.B_.insert(n,e):3===e.type&&1!==s.type?this.B_=this.B_.insert(n,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.B_=this.B_.remove(n):1===e.type&&2===s.type?this.B_=this.B_.insert(n,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):Kt():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,s)=>{e.push(s)}),e}}class Uh{constructor(e,n,s,u,f,_,S,O,$){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=f,this.fromCache=_,this.syncStateChanged=S,this.excludesMetadataChanges=O,this.hasCachedResults=$}static fromInitialDocuments(e,n,s,u,f){const _=[];return n.forEach(S=>{_.push({type:0,doc:S})}),new Uh(e,n,fu.emptySet(n),_,s,u,!0,!1,f)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let u=0;u<n.length;u++)if(n[u].type!==s[u].type||!n[u].doc.isEqual(s[u].doc))return!1;return!0}}class uy{constructor(){this.k_=void 0,this.listeners=[]}}class nm{constructor(){this.queries=new z(e=>uf(e),nl),this.onlineState="Unknown",this.q_=new Set}}function cl(i,e){return Wp.apply(this,arguments)}function Wp(){return Wp=(0,se.Z)(function*(i,e){const n=Ft(i),s=e.query;let u=!1,f=n.queries.get(s);if(f||(u=!0,f=new uy),u)try{f.k_=yield n.onListen(s)}catch(_){const S=$a(_,`Initialization of query '${Xl(e.query)}' failed`);return void e.onError(S)}n.queries.set(s,f),f.listeners.push(e),e.Q_(n.onlineState),f.k_&&e.K_(f.k_)&&Uf(n)}),Wp.apply(this,arguments)}function rm(i,e){return T_.apply(this,arguments)}function T_(){return T_=(0,se.Z)(function*(i,e){const n=Ft(i),s=e.query;let u=!1;const f=n.queries.get(s);if(f){const _=f.listeners.indexOf(e);_>=0&&(f.listeners.splice(_,1),u=0===f.listeners.length)}if(u)return n.queries.delete(s),n.onUnlisten(s)}),T_.apply(this,arguments)}function ls(i,e){const n=Ft(i);let s=!1;for(const u of e){const _=n.queries.get(u.query);if(_){for(const S of _.listeners)S.K_(u)&&(s=!0);_.k_=u}}s&&Uf(n)}function cy(i,e,n){const s=Ft(i),u=s.queries.get(e);if(u)for(const f of u.listeners)f.onError(n);s.queries.delete(e)}function Uf(i){i.q_.forEach(e=>{e.next()})}class im{constructor(e,n,s){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=s||{}}K_(e){if(!this.options.includeMetadataChanges){const s=[];for(const u of e.docChanges)3!==u.type&&s.push(u);e=new Uh(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){return!e.fromCache||(!this.options.J_||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=Uh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class C_{constructor(e){this.key=e}}class sm{constructor(e){this.key=e}}class am{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=On(),this.mutatedKeys=On(),this._a=v(e),this.aa=new fu(this._a)}get ua(){return this.ia}ca(e,n){const s=n?n.la:new D_,u=n?n.aa:this.aa;let f=n?n.mutatedKeys:this.mutatedKeys,_=u,S=!1;const O="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,$="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((Z,oe)=>{const we=u.get(Z),Ye=D(this.query,oe)?oe:null,wt=!!we&&this.mutatedKeys.has(we.key),jt=!!Ye&&(Ye.hasLocalMutations||this.mutatedKeys.has(Ye.key)&&Ye.hasCommittedMutations);let Gt=!1;we&&Ye?we.data.isEqual(Ye.data)?wt!==jt&&(s.track({type:3,doc:Ye}),Gt=!0):this.ha(we,Ye)||(s.track({type:2,doc:Ye}),Gt=!0,(O&&this._a(Ye,O)>0||$&&this._a(Ye,$)<0)&&(S=!0)):!we&&Ye?(s.track({type:0,doc:Ye}),Gt=!0):we&&!Ye&&(s.track({type:1,doc:we}),Gt=!0,(O||$)&&(S=!0)),Gt&&(Ye?(_=_.add(Ye),f=jt?f.add(Z):f.delete(Z)):(_=_.delete(Z),f=f.delete(Z)))}),null!==this.query.limit)for(;_.size>this.query.limit;){const Z="F"===this.query.limitType?_.last():_.first();_=_.delete(Z.key),f=f.delete(Z.key),s.track({type:1,doc:Z})}return{aa:_,la:s,Zi:S,mutatedKeys:f}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s){const u=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const f=e.la.L_();f.sort(($,Z)=>function(we,Ye){const wt=jt=>{switch(jt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Kt()}};return wt(we)-wt(Ye)}($.type,Z.type)||this._a($.doc,Z.doc)),this.Pa(s);const _=n?this.Ia():[],S=0===this.oa.size&&this.current?1:0,O=S!==this.sa;return this.sa=S,0!==f.length||O?{snapshot:new Uh(this.query,e.aa,u,f,e.mutatedKeys,0===S,O,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ta:_}:{Ta:_}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new D_,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=On(),this.aa.forEach(s=>{this.Ea(s.key)&&(this.oa=this.oa.add(s.key))});const n=[];return e.forEach(s=>{this.oa.has(s)||n.push(new sm(s))}),this.oa.forEach(s=>{e.has(s)||n.push(new C_(s))}),n}da(e){this.ia=e.ls,this.oa=On();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return Uh.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class hy{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class fy{constructor(e){this.key=e,this.Ra=!1}}class py{constructor(e,n,s,u,f,_){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=u,this.currentUser=f,this.maxConcurrentLimboResolutions=_,this.Va={},this.ma=new z(S=>uf(S),nl),this.fa=new Map,this.ga=new Set,this.pa=new Zr($t.comparator),this.ya=new Map,this.wa=new Fo,this.Sa={},this.ba=new Map,this.Da=h.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function A_(i,e){return qc.apply(this,arguments)}function qc(){return qc=(0,se.Z)(function*(i,e){const n=function _m(i){const e=Ft(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Yp.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=P_.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=R_.bind(null,e),e.Va.a_=ls.bind(null,e.eventManager),e.Va.Fa=cy.bind(null,e.eventManager),e}(i);let s,u;const f=n.ma.get(e);if(f)s=f.targetId,n.sharedClientState.addLocalQueryTarget(s),u=f.view.Aa();else{const _=yield function Wu(i,e){const n=Ft(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let u;return n.qr.getTargetData(s,e).next(f=>f?(u=f,Pe.resolve(u)):n.qr.allocateTargetId(s).next(_=>(u=new Ea(e,_,"TargetPurposeListen",s.currentSequenceNumber),n.qr.addTargetData(s,u).next(()=>u))))}).then(s=>{const u=n.ts.get(s.targetId);return(null===u||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(n.ts=n.ts.insert(s.targetId,s),n.ns.set(e,s.targetId)),s})}(n.localStore,ko(e)),S=n.sharedClientState.addLocalQueryTarget(_.targetId);s=_.targetId,u=yield function Nl(i,e,n,s,u){return Kc.apply(this,arguments)}(n,e,s,"current"===S,_.resumeToken),n.isPrimaryClient&&kf(n.remoteStore,_)}return u}),qc.apply(this,arguments)}function Kc(){return Kc=(0,se.Z)(function*(i,e,n,s,u){i.va=(oe,we,Ye)=>{return(wt=(0,se.Z)(function*(Gt,Rn,Pn,xn){let Cr=Rn.view.ca(Pn);Cr.Zi&&(Cr=yield qu(Gt.localStore,Rn.query,!1).then(({documents:Io})=>Rn.view.ca(Io,Cr)));const vi=xn&&xn.targetChanges.get(Rn.targetId),ni=Rn.view.applyChanges(Cr,Gt.isPrimaryClient,vi);return Qp(Gt,Rn.targetId,ni.Ta),ni.snapshot}),function jt(Gt,Rn,Pn,xn){return wt.apply(this,arguments)})(i,oe,we,Ye);var wt};const f=yield qu(i.localStore,e,!0),_=new am(e,f.ls),S=_.ca(f.documents),O=Bu.createSynthesizedTargetChangeForCurrentChange(n,s&&"Offline"!==i.onlineState,u),$=_.applyChanges(S,i.isPrimaryClient,O);Qp(i,n,$.Ta);const Z=new hy(e,n,_);return i.ma.set(e,Z),i.fa.has(n)?i.fa.get(n).push(e):i.fa.set(n,[e]),$.snapshot}),Kc.apply(this,arguments)}function gy(i,e){return lm.apply(this,arguments)}function lm(){return lm=(0,se.Z)(function*(i,e){const n=Ft(i),s=n.ma.get(e),u=n.fa.get(s.targetId);if(u.length>1)return n.fa.set(s.targetId,u.filter(f=>!nl(f,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||(yield Ua(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),zd(n.remoteStore,s.targetId),$f(n,s.targetId)}).catch(Ms))):($f(n,s.targetId),yield Ua(n.localStore,s.targetId,!0))}),lm.apply(this,arguments)}function Kp(){return Kp=(0,se.Z)(function*(i,e,n){const s=function vm(i){const e=Ft(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=my.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_y.bind(null,e),e}(i);try{const u=yield function(_,S){const O=Ft(_),$=gi.now(),Z=S.reduce((Ye,wt)=>Ye.add(wt.key),On());let oe,we;return O.persistence.runTransaction("Locally write mutations","readwrite",Ye=>{let wt=ve(),jt=On();return O.ss.getEntries(Ye,Z).next(Gt=>{wt=Gt,wt.forEach((Rn,Pn)=>{Pn.isValidDocument()||(jt=jt.add(Rn))})}).next(()=>O.localDocuments.getOverlayedDocuments(Ye,wt)).next(Gt=>{oe=Gt;const Rn=[];for(const Pn of S){const xn=df(Pn,oe.get(Pn.key).overlayedDocument);null!=xn&&Rn.push(new iu(Pn.key,xn,wr(xn.value.mapValue),Pi.exists(!0)))}return O.mutationQueue.addMutationBatch(Ye,$,Rn,S)}).next(Gt=>{we=Gt;const Rn=Gt.applyToLocalDocumentSet(oe,jt);return O.documentOverlayCache.saveOverlays(Ye,Gt.batchId,Rn)})}).then(()=>({batchId:we.batchId,changes:rn(oe)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(u.batchId),function(_,S,O){let $=_.Sa[_.currentUser.toKey()];$||($=new Zr(Mn)),$=$.insert(S,O),_.Sa[_.currentUser.toKey()]=$}(s,u.batchId,n),yield pu(s,u.changes),yield Bh(s.remoteStore)}catch(u){const f=$a(u,"Failed to persist write");n.reject(f)}}),Kp.apply(this,arguments)}function Yp(i,e){return Kd.apply(this,arguments)}function Kd(){return Kd=(0,se.Z)(function*(i,e){const n=Ft(i);try{const s=yield function Sf(i,e){const n=Ft(i),s=e.snapshotVersion;let u=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",f=>{const _=n.ss.newChangeBuffer({trackRemovals:!0});u=n.ts;const S=[];e.targetChanges.forEach((Z,oe)=>{const we=u.get(oe);if(!we)return;S.push(n.qr.removeMatchingKeys(f,Z.removedDocuments,oe).next(()=>n.qr.addMatchingKeys(f,Z.addedDocuments,oe)));let Ye=we.withSequenceNumber(f.currentSequenceNumber);var jt,Gt,Rn;null!==e.targetMismatches.get(oe)?Ye=Ye.withResumeToken(fo.EMPTY_BYTE_STRING,mn.min()).withLastLimboFreeSnapshotVersion(mn.min()):Z.resumeToken.approximateByteSize()>0&&(Ye=Ye.withResumeToken(Z.resumeToken,s)),u=u.insert(oe,Ye),Gt=Ye,Rn=Z,(0===(jt=we).resumeToken.approximateByteSize()||Gt.snapshotVersion.toMicroseconds()-jt.snapshotVersion.toMicroseconds()>=3e8||Rn.addedDocuments.size+Rn.modifiedDocuments.size+Rn.removedDocuments.size>0)&&S.push(n.qr.updateTargetData(f,Ye))});let O=ve(),$=On();if(e.documentUpdates.forEach(Z=>{e.resolvedLimboDocuments.has(Z)&&S.push(n.persistence.referenceDelegate.updateLimboDocument(f,Z))}),S.push(function Rf(i,e,n){let s=On(),u=On();return n.forEach(f=>s=s.add(f)),e.getEntries(i,s).next(f=>{let _=ve();return n.forEach((S,O)=>{const $=f.get(S);O.isFoundDocument()!==$.isFoundDocument()&&(u=u.add(S)),O.isNoDocument()&&O.version.isEqual(mn.min())?(e.removeEntry(S,O.readTime),_=_.insert(S,O)):!$.isValidDocument()||O.version.compareTo($.version)>0||0===O.version.compareTo($.version)&&$.hasPendingWrites?(e.addEntry(O),_=_.insert(S,O)):pt("LocalStore","Ignoring outdated watch update for ",S,". Current version:",$.version," Watch version:",O.version)}),{us:_,cs:u}})}(f,_,e.documentUpdates).next(Z=>{O=Z.us,$=Z.cs})),!s.isEqual(mn.min())){const Z=n.qr.getLastRemoteSnapshotVersion(f).next(oe=>n.qr.setTargetsMetadata(f,f.currentSequenceNumber,s));S.push(Z)}return Pe.waitFor(S).next(()=>_.apply(f)).next(()=>n.localDocuments.getLocalViewOfDocuments(f,O,$)).next(()=>O)}).then(f=>(n.ts=u,f))}(n.localStore,e);e.targetChanges.forEach((u,f)=>{const _=n.ya.get(f);_&&(Ut(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?_.Ra=!0:u.modifiedDocuments.size>0?Ut(_.Ra):u.removedDocuments.size>0&&(Ut(_.Ra),_.Ra=!1))}),yield pu(n,s,e)}catch(s){yield Ms(s)}}),Kd.apply(this,arguments)}function jf(i,e,n){const s=Ft(i);if(s.isPrimaryClient&&0===n||!s.isPrimaryClient&&1===n){const u=[];s.ma.forEach((f,_)=>{const S=_.view.Q_(e);S.snapshot&&u.push(S.snapshot)}),function(_,S){const O=Ft(_);O.onlineState=S;let $=!1;O.queries.forEach((Z,oe)=>{for(const we of oe.listeners)we.Q_(S)&&($=!0)}),$&&Uf(O)}(s.eventManager,e),u.length&&s.Va.a_(u),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function R_(i,e,n){return Zp.apply(this,arguments)}function Zp(){return Zp=(0,se.Z)(function*(i,e,n){const s=Ft(i);s.sharedClientState.updateQueryState(e,"rejected",n);const u=s.ya.get(e),f=u&&u.key;if(f){let _=new Zr($t.comparator);_=_.insert(f,Qr.newNoDocument(f,mn.min()));const S=On().add(f),O=new Rc(mn.min(),new Map,new Zr(Mn),_,S);yield Yp(s,O),s.pa=s.pa.remove(f),s.ya.delete(e),jh(s)}else yield Ua(s.localStore,e,!1).then(()=>$f(s,e,n)).catch(Ms)}),Zp.apply(this,arguments)}function my(i,e){return um.apply(this,arguments)}function um(){return um=(0,se.Z)(function*(i,e){const n=Ft(i),s=e.batch.batchId;try{const u=yield function Ba(i,e){const n=Ft(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const u=e.batch.keys(),f=n.ss.newChangeBuffer({trackRemovals:!0});return function(S,O,$,Z){const oe=$.batch,we=oe.keys();let Ye=Pe.resolve();return we.forEach(wt=>{Ye=Ye.next(()=>Z.getEntry(O,wt)).next(jt=>{const Gt=$.docVersions.get(wt);Ut(null!==Gt),jt.version.compareTo(Gt)<0&&(oe.applyToRemoteDocument(jt,$),jt.isValidDocument()&&(jt.setReadTime($.commitVersion),Z.addEntry(jt)))})}),Ye.next(()=>S.mutationQueue.removeMutationBatch(O,oe))}(n,s,e,f).next(()=>f.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,u,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(S){let O=On();for(let $=0;$<S.mutationResults.length;++$)S.mutationResults[$].transformResults.length>0&&(O=O.add(S.batch.mutations[$].key));return O}(e))).next(()=>n.localDocuments.getDocuments(s,u))})}(n.localStore,e);O_(n,s,null),dm(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),yield pu(n,u)}catch(u){yield Ms(u)}}),um.apply(this,arguments)}function _y(i,e,n){return cm.apply(this,arguments)}function cm(){return cm=(0,se.Z)(function*(i,e,n){const s=Ft(i);try{const u=yield function(_,S){const O=Ft(_);return O.persistence.runTransaction("Reject batch","readwrite-primary",$=>{let Z;return O.mutationQueue.lookupMutationBatch($,S).next(oe=>(Ut(null!==oe),Z=oe.keys(),O.mutationQueue.removeMutationBatch($,oe))).next(()=>O.mutationQueue.performConsistencyCheck($)).next(()=>O.documentOverlayCache.removeOverlaysForBatchId($,Z,S)).next(()=>O.localDocuments.recalculateAndSaveOverlaysForDocumentKeys($,Z)).next(()=>O.localDocuments.getDocuments($,Z))})}(s.localStore,e);O_(s,e,n),dm(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),yield pu(s,u)}catch(u){yield Ms(u)}}),cm.apply(this,arguments)}function dm(i,e){(i.ba.get(e)||[]).forEach(n=>{n.resolve()}),i.ba.delete(e)}function O_(i,e,n){const s=Ft(i);let u=s.Sa[s.currentUser.toKey()];if(u){const f=u.get(e);f&&(n?f.reject(n):f.resolve(),u=u.remove(e)),s.Sa[s.currentUser.toKey()]=u}}function $f(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.fa.get(e))i.ma.delete(s),n&&i.Va.Fa(s,n);i.fa.delete(e),i.isPrimaryClient&&i.wa.Rr(e).forEach(s=>{i.wa.containsKey(s)||hm(i,s)})}function hm(i,e){i.ga.delete(e.path.canonicalString());const n=i.pa.get(e);null!==n&&(zd(i.remoteStore,n),i.pa=i.pa.remove(e),i.ya.delete(n),jh(i))}function Qp(i,e,n){for(const s of n)s instanceof C_?(i.wa.addReference(s.key,e),yE(i,s)):s instanceof sm?(pt("SyncEngine","Document no longer in limbo: "+s.key),i.wa.removeReference(s.key,e),i.wa.containsKey(s.key)||hm(i,s.key)):Kt()}function yE(i,e){const n=e.key,s=n.path.canonicalString();i.pa.get(n)||i.ga.has(s)||(pt("SyncEngine","New document in limbo: "+n),i.ga.add(s),jh(i))}function jh(i){for(;i.ga.size>0&&i.pa.size<i.maxConcurrentLimboResolutions;){const e=i.ga.values().next().value;i.ga.delete(e);const n=new $t(fr.fromString(e)),s=i.Da.next();i.ya.set(s,new fy(n)),i.pa=i.pa.insert(n,s),kf(i.remoteStore,new Ea(ko(tl(n.path)),s,"TargetPurposeLimboResolution",He._e))}}function pu(i,e,n){return Jp.apply(this,arguments)}function Jp(){return Jp=(0,se.Z)(function*(i,e,n){const s=Ft(i),u=[],f=[],_=[];var S;s.ma.isEmpty()||(s.ma.forEach((S,O)=>{_.push(s.va(O,e,n).then($=>{if(($||n)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(O.targetId,$?.fromCache?"not-current":"current"),$){u.push($);const Z=Qs.Qi(O.targetId,$);f.push(Z)}}))}),yield Promise.all(_),s.Va.a_(u),yield(S=(0,se.Z)(function*($,Z){const oe=Ft($);try{yield oe.persistence.runTransaction("notifyLocalViewChanges","readwrite",we=>Pe.forEach(Z,Ye=>Pe.forEach(Ye.ki,wt=>oe.persistence.referenceDelegate.addReference(we,Ye.targetId,wt)).next(()=>Pe.forEach(Ye.qi,wt=>oe.persistence.referenceDelegate.removeReference(we,Ye.targetId,wt)))))}catch(we){if(!R(we))throw we;pt("LocalStore","Failed to update sequence numbers: "+we)}for(const we of Z){const Ye=we.targetId;if(!we.fromCache){const wt=oe.ts.get(Ye),Gt=wt.withLastLimboFreeSnapshotVersion(wt.snapshotVersion);oe.ts=oe.ts.insert(Ye,Gt)}}}),function O($,Z){return S.apply(this,arguments)})(s.localStore,f))}),Jp.apply(this,arguments)}function vy(i,e){return Xp.apply(this,arguments)}function Xp(){return Xp=(0,se.Z)(function*(i,e){const n=Ft(i);if(!n.currentUser.isEqual(e)){pt("SyncEngine","User change. New user:",e.toKey());const s=yield $c(n.localStore,e);n.currentUser=e,(f=n).ba.forEach(S=>{S.forEach(O=>{O.reject(new ft(Qe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),f.ba.clear(),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield pu(n,s._s)}var f}),Xp.apply(this,arguments)}function P_(i,e){const n=Ft(i),s=n.ya.get(e);if(s&&s.Ra)return On().add(s.key);{let u=On();const f=n.fa.get(e);if(!f)return u;for(const _ of f){const S=n.ma.get(_);u=u.unionWith(S.view.ua)}return u}}class zf{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,se.Z)(function*(){n.serializer=Ku(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function xp(i,e,n,s){return new jc(i,e,n,s)}(this.persistence,new ul,e.initialUser,this.serializer)}createPersistence(e){return new ol(ys.jr,this.serializer)}createSharedClientState(e){return new Gd}terminate(){var e=this;return(0,se.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class $h{initialize(e,n){var s=this;return(0,se.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(n),s.remoteStore=s.createRemoteStore(n),s.eventManager=s.createEventManager(n),s.syncEngine=s.createSyncEngine(n,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=u=>jf(s.syncEngine,u,1),s.remoteStore.remoteSyncer.handleCredentialChange=vy.bind(null,s.syncEngine),yield function zp(i,e){return ja.apply(this,arguments)}(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new nm}createDatastore(e){const n=Ku(e.databaseInfo.databaseId),s=new Bp(e.databaseInfo);return new qg(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return s=this.localStore,u=this.datastore,f=e.asyncQueue,_=n=>jf(this.syncEngine,n,0),S=Vp.D()?new Vp:new Hg,new vE(s,u,f,_,S);var s,u,f,_,S}createSyncEngine(e,n){return function(u,f,_,S,O,$,Z){const oe=new py(u,f,_,S,O,$);return Z&&(oe.Ca=!0),oe}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,se.Z)(function*(s){const u=Ft(s);pt("RemoteStore","RemoteStore shutting down."),u.C_.add(5),yield zc(u),u.F_.shutdown(),u.M_.set("Unknown")}),function n(s){return e.apply(this,arguments)})(this.remoteStore);var e}}class Wf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):bi("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Dy{constructor(e,n,s,u){var f=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=u,this.user=Vr.UNAUTHENTICATED,this.clientId=uc.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var _=(0,se.Z)(function*(S){pt("FirestoreClient","Received user=",S.uid),yield f.authCredentialListener(S),f.user=S});return function(S){return _.apply(this,arguments)}}()),this.appCheckCredentials.start(s,_=>(pt("FirestoreClient","Received new app check token=",_),this.appCheckCredentialListener(_,this.user)))}getConfiguration(){var e=this;return(0,se.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ft(Qe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new uo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,se.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(s){const u=$a(s,"Failed to shutdown persistence");n.reject(u)}})),n.promise}}function rg(i,e){return B_.apply(this,arguments)}function B_(){return B_=(0,se.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),pt("FirestoreClient","Initializing OfflineComponentProvider");const n=yield i.getConfiguration();yield e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(function(){var u=(0,se.Z)(function*(f){s.isEqual(f)||(yield $c(e.localStore,f),s=f)});return function(f){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),B_.apply(this,arguments)}function qf(i,e){return ig.apply(this,arguments)}function ig(){return ig=(0,se.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const n=yield function Em(i){return Im.apply(this,arguments)}(i);pt("FirestoreClient","Initializing OnlineComponentProvider");const s=yield i.getConfiguration();yield e.initialize(n,s),i.setCredentialChangeListener(u=>ly(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,f)=>ly(e.remoteStore,f)),i._onlineComponents=e}),ig.apply(this,arguments)}function Im(){return Im=(0,se.Z)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){pt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield rg(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function U_(i){return"FirebaseError"===i.name?i.code===Qe.FAILED_PRECONDITION||i.code===Qe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}(n))throw n;Cn("Error using user provided cache. Falling back to memory cache: "+n),yield rg(i,new zf)}}else pt("FirestoreClient","Using default OfflineComponentProvider"),yield rg(i,new zf);return i._offlineComponents}),Im.apply(this,arguments)}function Kf(i){return bm.apply(this,arguments)}function bm(){return bm=(0,se.Z)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(pt("FirestoreClient","Using user provided OnlineComponentProvider"),yield qf(i,i._uninitializedComponentsProvider._online)):(pt("FirestoreClient","Using default OnlineComponentProvider"),yield qf(i,new $h))),i._onlineComponents}),bm.apply(this,arguments)}function Hh(i){return Tm.apply(this,arguments)}function Tm(){return Tm=(0,se.Z)(function*(i){const e=yield Kf(i),n=e.eventManager;return n.onListen=A_.bind(null,e.syncEngine),n.onUnlisten=gy.bind(null,e.syncEngine),n}),Tm.apply(this,arguments)}function Rm(i){const e={};return void 0!==i.timeoutSeconds&&(e.timeoutSeconds=i.timeoutSeconds),e}const Nm=new Map;function Yf(i,e,n){if(!n)throw new ft(Qe.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function q_(i){if(!$t.isDocumentKey(i))throw new ft(Qe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function K_(i){if($t.isDocumentKey(i))throw new ft(Qe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Gh(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(s=i).constructor?s.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var s;return"function"==typeof i?"a function":Kt()}function Nr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ft(Qe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Gh(i);throw new ft(Qe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}class Y_{constructor(e){var n,s;if(void 0===e.host){if(void 0!==e.ssl)throw new ft(Qe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ft(Qe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Zu(i,e,n,s){if(!0===e&&!0===s)throw new ft(Qe.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Rm(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(f){if(void 0!==f.timeoutSeconds){if(isNaN(f.timeoutSeconds))throw new ft(Qe.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (must not be NaN)`);if(f.timeoutSeconds<5)throw new ft(Qe.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (minimum allowed value is 5)`);if(f.timeoutSeconds>30)throw new ft(Qe.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jc{constructor(e,n,s,u){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Y_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ft(Qe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ft(Qe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Y_(e),void 0!==e.credentials&&(this._authCredentials=function(s){if(!s)return new wu;switch(s.type){case"firstParty":return new Xo(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ft(Qe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Nm.get(n);s&&(pt("ComponentProvider","Removing Datastore"),Nm.delete(n),s.terminate())}(this),Promise.resolve()}}class us{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new us(this.firestore,e,this._query)}}class ro{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ro(this.firestore,e,this._key)}}class Qu extends us{constructor(e,n,s){super(e,n,tl(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ro(this.firestore,null,new $t(e))}withConverter(e){return new Qu(this.firestore,e,this._path)}}function Cy(i,e,...n){if(i=(0,re.m9)(i),Yf("collection","path",e),i instanceof Jc){const s=fr.fromString(e,...n);return K_(s),new Qu(i,null,s)}{if(!(i instanceof ro||i instanceof Qu))throw new ft(Qe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(fr.fromString(e,...n));return K_(s),new Qu(i.firestore,null,s)}}class J_{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new zg(this,"async_queue_retry"),this.iu=()=>{const n=kh();n&&pt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=kh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=kh();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new uo;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,se.Z)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(n){if(!R(n))throw n;pt("AsyncQueue","Operation failed with retryable error: "+n)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(s=>{throw this.eu=s,this.tu=!1,bi("INTERNAL UNHANDLED ERROR: ",function(_){let S=_.message||"";return _.stack&&(S=_.stack.includes(_.message)?_.stack:_.message+"\n"+_.stack),S}(s)),s}).then(s=>(this.tu=!1,s))));return this.Ja=n,n}enqueueAfterDelay(e,n,s){this.su(),this.ru.indexOf(e)>-1&&(n=0);const u=Bf.createAndSchedule(this,e,n,s,f=>this.au(f));return this.Xa.push(u),u}su(){this.eu&&Kt()}verifyOperationInProgress(){}uu(){var e=this;return(0,se.Z)(function*(){let n;do{n=e.Ja,yield n}while(n!==e.Ja)})()}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function sg(i){return function(n,s){if("object"!=typeof n||null===n)return!1;const u=n;for(const f of["next","error","complete"])if(f in u&&"function"==typeof u[f])return!0;return!1}(i)}class wi extends Jc{constructor(e,n,s,u){super(e,n,s,u),this.type="firestore",this._queue=new J_,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||zh(this),this._firestoreClient.terminate()}}function Ry(i,e){const n="object"==typeof i?i:(0,Te.getApp)(),s="string"==typeof i?i:e||"(default)",u=(0,Te._getProvider)(n,"firestore").getImmediate({identifier:s});if(!u._initialized){const f=(0,re.P0)("firestore");f&&function Zf(i,e,n,s={}){var u;const f=(i=Nr(i,Jc))._getSettings(),_=`${e}:${n}`;if("firestore.googleapis.com"!==f.host&&f.host!==_&&Cn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},f),{host:_,ssl:!1})),s.mockUserToken){let S,O;if("string"==typeof s.mockUserToken)S=s.mockUserToken,O=Vr.MOCK_USER;else{S=(0,re.Sg)(s.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const $=s.mockUserToken.sub||s.mockUserToken.user_id;if(!$)throw new ft(Qe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");O=new Vr($)}i._authCredentials=new gs(new ac(S,O))}}(u,...f)}return u}function Lo(i){return i._firestoreClient||zh(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function zh(i){var e,n,s;const u=i._freezeSettings(),f=(O=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Mu(i._databaseId,O,i._persistenceKey,(Z=u).host,Z.ssl,Z.experimentalForceLongPolling,Z.experimentalAutoDetectLongPolling,Rm(Z.experimentalLongPollingOptions),Z.useFetchStreams));var O,Z;i._firestoreClient=new Dy(i._authCredentials,i._appCheckCredentials,i._queue,f),null!==(n=u.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(s=u.localCache)&&void 0!==s&&s._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:u.localCache.kind,_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider})}class Zd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zd(fo.fromBase64String(e))}catch(n){throw new ft(Qe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Zd(fo.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Wh{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new ft(Qe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new di(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class nv{constructor(e){this._methodName=e}}class Om{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ft(Qe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ft(Qe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Mn(this._lat,e._lat)||Mn(this._long,e._long)}}const rv=/^__.*__$/;class iv{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return null!==this.fieldMask?new iu(e,this.data,this.fieldMask,n,this.fieldTransforms):new ru(e,this.data,n,this.fieldTransforms)}}function ov(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Kt()}}class xm{constructor(e,n,s,u,f,_){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=u,void 0===f&&this.Pu(),this.fieldTransforms=f||[],this.fieldMask=_||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new xm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const s=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.Tu({path:s,du:!1});return u.Au(e),u}Ru(e){var n;const s=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.Tu({path:s,du:!1});return u.Pu(),u}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return Xu(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(ov(this.Iu)&&rv.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class sv{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Ku(e)}pu(e,n,s,u=!1){return new xm({Iu:e,methodName:n,gu:s,path:di.emptyPath(),du:!1,fu:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qd(i){const e=i._freezeSettings(),n=Ku(i._databaseId);return new sv(i._databaseId,!!e.ignoreUndefinedProperties,n)}function av(i,e,n,s,u,f={}){const _=i.pu(f.merge||f.mergeFields?2:0,e,n,u);nd("Data must be an object, but it was:",_,s);const S=Ga(s,_);let O,$;if(f.merge)O=new Po(_.fieldMask),$=_.fieldTransforms;else if(f.mergeFields){const Z=[];for(const oe of f.mergeFields){const we=vu(e,oe,n);if(!_.contains(we))throw new ft(Qe.INVALID_ARGUMENT,`Field '${we}' is specified in your field mask but missing from your input data.`);Jd(Z,we)||Z.push(we)}O=new Po(Z),$=_.fieldTransforms.filter(oe=>O.covers(oe.field))}else O=null,$=_.fieldTransforms;return new iv(new Oi(S),O,$)}function _u(i,e){if(ag(i=(0,re.m9)(i)))return nd("Unsupported field value:",e,i),Ga(i,e);if(i instanceof nv)return function(s,u){if(!ov(u.Iu))throw u.mu(`${s._methodName}() can only be used with update() and set()`);if(!u.path)throw u.mu(`${s._methodName}() is not currently supported inside arrays`);const f=s._toFieldTransform(u);f&&u.fieldTransforms.push(f)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(s,u){const f=[];let _=0;for(const S of s){let O=_u(S,u.Vu(_));null==O&&(O={nullValue:"NULL_VALUE"}),f.push(O),_++}return{arrayValue:{values:f}}}(i,e)}return function(s,u){if(null===(s=(0,re.m9)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return rl(u.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const f=gi.fromDate(s);return{timestampValue:os(u.serializer,f)}}if(s instanceof gi){const f=new gi(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:os(u.serializer,f)}}if(s instanceof Om)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Zd)return{bytesValue:su(u.serializer,s._byteString)};if(s instanceof ro){const f=u.databaseId,_=s.firestore._databaseId;if(!_.isEqual(f))throw u.mu(`Document reference is for database ${_.projectId}/${_.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:Mc(s.firestore._databaseId||u.databaseId,s._key.path)}}throw u.mu(`Unsupported field value: ${Gh(s)}`)}(i,e)}function Ga(i,e){const n={};return rf(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ja(i,(s,u)=>{const f=_u(u,e.Eu(s));null!=f&&(n[s]=f)}),{mapValue:{fields:n}}}function ag(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof gi||i instanceof Om||i instanceof Zd||i instanceof ro||i instanceof nv)}function nd(i,e,n){if(!ag(n)||"object"!=typeof(u=n)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const s=Gh(n);throw e.mu("an object"===s?i+" a custom object":i+" "+s)}var u}function vu(i,e,n){if((e=(0,re.m9)(e))instanceof Wh)return e._internalPath;if("string"==typeof e)return Ju(i,e);throw Xu("Field path arguments must be of type string or ",i,!1,void 0,n)}const Kh=new RegExp("[~\\*/\\[\\]]");function Ju(i,e,n){if(e.search(Kh)>=0)throw Xu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Wh(...e.split("."))._internalPath}catch{throw Xu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Xu(i,e,n,s,u){const f=s&&!s.isEmpty(),_=void 0!==u;let S=`Function ${e}() called with invalid data`;n&&(S+=" (via `toFirestore()`)"),S+=". ";let O="";return(f||_)&&(O+=" (found",f&&(O+=` in field ${s}`),_&&(O+=` in document ${u}`),O+=")"),new ft(Qe.INVALID_ARGUMENT,S+i+O)}function Jd(i,e){return i.some(n=>n.isEqual(e))}class rd{constructor(e,n,s,u,f){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=u,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new ro(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Yh(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ec("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Yh extends rd{data(){return super.data()}}function ec(i,e){return"string"==typeof e?Ju(i,e):e instanceof Wh?e._internalPath:e._delegate._internalPath}function Lm(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new ft(Qe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class lg{}class Vm extends lg{}function uv(i,e,...n){let s=[];e instanceof lg&&s.push(e),s=s.concat(n),function(f){const _=f.filter(O=>O instanceof Xd).length,S=f.filter(O=>O instanceof Zh).length;if(_>1||_>0&&S>0)throw new ft(Qe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const u of s)i=u._apply(i);return i}class Zh extends Vm{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Zh(e,n,s)}_apply(e){const n=this._parse(e);return dg(e._query,n),new us(e.firestore,e.converter,Fu(e._query,n))}_parse(e){const n=Qd(e.firestore);return function(f,_,S,O,$,Z,oe){let we;if($.isKeyField()){if("array-contains"===Z||"array-contains-any"===Z)throw new ft(Qe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${Z}' queries on documentId().`);if("in"===Z||"not-in"===Z){Qh(oe,Z);const Ye=[];for(const wt of oe)Ye.push(cg(O,f,wt));we={arrayValue:{values:Ye}}}else we=cg(O,f,oe)}else"in"!==Z&&"not-in"!==Z&&"array-contains-any"!==Z||Qh(oe,Z),we=function td(i,e,n,s=!1){return _u(n,i.pu(s?4:3,e))}(S,"where",oe,"in"===Z||"not-in"===Z);return lr.create($,Z,we)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function cv(i,e,n){const s=e,u=ec("where",i);return Zh._create(u,s,n)}class Xd extends lg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Xd(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===n.length?n[0]:kr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(u,f){let _=u;const S=f.getFlattenedFilters();for(const O of S)dg(_,O),_=Fu(_,O)}(e._query,n),new us(e.firestore,e.converter,Fu(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Jf extends Vm{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Jf(e,n)}_apply(e){const n=function(u,f,_){if(null!==u.startAt)throw new ft(Qe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==u.endAt)throw new ft(Qe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new xu(f,_)}(e._query,this._field,this._direction);return new us(e.firestore,e.converter,function(u,f){const _=u.explicitOrderBy.concat([f]);return new Ys(u.path,u.collectionGroup,_,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(e._query,n))}}function ky(i,e="asc"){const n=e,s=ec("orderBy",i);return Jf._create(s,n)}function cg(i,e,n){if("string"==typeof(n=(0,re.m9)(n))){if(""===n)throw new ft(Qe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yd(e)&&-1!==n.indexOf("/"))throw new ft(Qe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(fr.fromString(n));if(!$t.isDocumentKey(s))throw new ft(Qe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Ks(i,new $t(s))}if(n instanceof ro)return Ks(i,n._key);throw new ft(Qe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Gh(n)}.`)}function Qh(i,e){if(!Array.isArray(i)||0===i.length)throw new ft(Qe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function dg(i,e){const n=function(u,f){for(const _ of u)for(const S of _.getFlattenedFilters())if(f.indexOf(S.op)>=0)return S.op;return null}(i.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new ft(Qe.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class hv{convertValue(e,n="none"){switch(Gs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Di(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(to(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Kt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ja(e,(u,f)=>{s[u]=this.convertValue(f,n)}),s}convertGeoPoint(e){return new Om(Di(e.latitude),Di(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=hi(e);return null==s?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(xs(e));default:return null}}convertTimestamp(e){const n=Xa(e);return new gi(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=fr.fromString(e);Ut(kc(s));const u=new da(s.get(1),s.get(3)),f=new $t(s.popFirst(5));return u.isEqual(n)||bi(`Document ${f} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),f}}function eh(i,e,n){let s;return s=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,s}class th{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class id extends rd{constructor(e,n,s,u,f,_){super(e,n,s,u,_),this._firestore=e,this._firestoreImpl=e,this.metadata=f}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new nh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(ec("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class nh extends id{data(e={}){return super.data(e)}}class tc{constructor(e,n,s,u){this._firestore=e,this._userDataWriter=n,this._snapshot=u,this.metadata=new th(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new nh(this._firestore,this._userDataWriter,s.key,s,new th(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ft(Qe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(u,f){if(u._snapshot.oldDocs.isEmpty()){let _=0;return u._snapshot.docChanges.map(S=>({type:"added",doc:new nh(u._firestore,u._userDataWriter,S.doc.key,S.doc,new th(u._snapshot.mutatedKeys.has(S.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:_++}))}{let _=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(S=>f||3!==S.type).map(S=>{const O=new nh(u._firestore,u._userDataWriter,S.doc.key,S.doc,new th(u._snapshot.mutatedKeys.has(S.doc.key),u._snapshot.fromCache),u.query.converter);let $=-1,Z=-1;return 0!==S.type&&($=_.indexOf(S.doc.key),_=_.delete(S.doc.key)),1!==S.type&&(_=_.add(S.doc),Z=_.indexOf(S.doc.key)),{type:VE(S.type),doc:O,oldIndex:$,newIndex:Z}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function VE(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Kt()}}class yu extends hv{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zd(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ro(this.firestore,null,n)}}function By(i){i=Nr(i,us);const e=Nr(i.firestore,wi),n=Lo(e),s=new yu(e);return Lm(i._query),function Am(i,e,n={}){const s=new uo;return i.asyncQueue.enqueueAndForget((0,se.Z)(function*(){return function(f,_,S,O,$){const Z=new Wf({next:we=>{_.enqueueAndForget(()=>rm(f,oe)),we.fromCache&&"server"===O.source?$.reject(new ft(Qe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):$.resolve(we)},error:we=>$.reject(we)}),oe=new im(S,Z,{includeMetadataChanges:!0,J_:!0});return cl(f,oe)}(yield Hh(i),i.asyncQueue,e,n,s)})),s.promise}(n,i._query).then(u=>new tc(e,s,i,u))}function fv(i,e,n){i=Nr(i,ro);const s=Nr(i.firestore,wi),u=eh(i.converter,e,n);return rh(s,[av(Qd(s),"setDoc",i._key,u,null!==i.converter,n).toMutation(i._key,Pi.none())])}function $y(i,e){const n=Nr(i.firestore,wi),s=function Z_(i,e,...n){if(i=(0,re.m9)(i),1===arguments.length&&(e=uc.newId()),Yf("doc","path",e),i instanceof Jc){const s=fr.fromString(e,...n);return q_(s),new ro(i,null,new $t(s))}{if(!(i instanceof ro||i instanceof Qu))throw new ft(Qe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(fr.fromString(e,...n));return q_(s),new ro(i.firestore,i instanceof Qu?i.converter:null,new $t(s))}}(i),u=eh(i.converter,e);return rh(n,[av(Qd(i.firestore),"addDoc",s._key,u,null!==i.converter,{}).toMutation(s._key,Pi.exists(!1))]).then(()=>s)}function rh(i,e){return function(s,u){const f=new uo;return s.asyncQueue.enqueueAndForget((0,se.Z)(function*(){return function S_(i,e,n){return Kp.apply(this,arguments)}(yield function Dm(i){return Kf(i).then(e=>e.syncEngine)}(s),u,f)})),f.promise}(Lo(i),e)}!function(e,n=!0){ji=Te.SDK_VERSION,(0,Te._registerComponent)(new Ve.wA("firestore",(s,{instanceIdentifier:u,options:f})=>{const _=s.getProvider("app").getImmediate(),S=new wi(new Cu(s.getProvider("auth-internal")),new sd(s.getProvider("app-check-internal")),function($,Z){if(!Object.prototype.hasOwnProperty.apply($.options,["projectId"]))throw new ft(Qe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new da($.options.projectId,Z)}(_,u),_);return f=Object.assign({useFetchStreams:n},f),S._setSettings(f),S},"PUBLIC").setMultipleInstances(!0)),(0,Te.registerVersion)(ps,"4.3.2",e),(0,Te.registerVersion)(ps,"4.3.2","esm2017")}();var mg=V(5592),nc=V(7398),_g=function(){return _g=Object.assign||function(e){for(var n,s=1,u=arguments.length;s<u;s++)for(var f in n=arguments[s])Object.prototype.hasOwnProperty.call(n,f)&&(e[f]=n[f]);return e},_g.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var Jm={includeMetadataChanges:!1};function rc(i,e){return void 0===e&&(e=Jm),new mg.y(function(n){var s=function Hy(i,...e){var n,s,u;i=(0,re.m9)(i);let f={includeMetadataChanges:!1},_=0;"object"!=typeof e[_]||sg(e[_])||(f=e[_],_++);const S={includeMetadataChanges:f.includeMetadataChanges};if(sg(e[_])){const oe=e[_];e[_]=null===(n=oe.next)||void 0===n?void 0:n.bind(oe),e[_+1]=null===(s=oe.error)||void 0===s?void 0:s.bind(oe),e[_+2]=null===(u=oe.complete)||void 0===u?void 0:u.bind(oe)}let O,$,Z;if(i instanceof ro)$=Nr(i.firestore,wi),Z=tl(i._key.path),O={next:oe=>{e[_]&&e[_](function ep(i,e,n){const s=n.docs.get(e._key),u=new yu(i);return new id(i,u,e._key,s,new th(n.hasPendingWrites,n.fromCache),e.converter)}($,i,oe))},error:e[_+1],complete:e[_+2]};else{const oe=Nr(i,us);$=Nr(oe.firestore,wi),Z=oe._query;const we=new yu($);O={next:Ye=>{e[_]&&e[_](new tc($,we,oe,Ye))},error:e[_+1],complete:e[_+2]},Lm(i._query)}return function(we,Ye,wt,jt){const Gt=new Wf(jt),Rn=new im(Ye,Gt,wt);return we.asyncQueue.enqueueAndForget((0,se.Z)(function*(){return cl(yield Hh(we),Rn)})),()=>{Gt.Na(),we.asyncQueue.enqueueAndForget((0,se.Z)(function*(){return rm(yield Hh(we),Rn)}))}}(Lo($),Z,S,O)}(i,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:s}})}function bv(i,e){return void 0===e&&(e={}),function s0(i){return rc(i,{includeMetadataChanges:!0}).pipe((0,nc.U)(function(e){return e.docs}))}(i).pipe((0,nc.U)(function(n){return n.map(function(s){return function vg(i,e){var n;void 0===e&&(e={});var s=i.data(e);return i.exists()&&"object"==typeof s&&null!==s&&e.idField?_g(_g({},s),((n={})[e.idField]=i.id,n)):s}(s,e)})}))}class yg{constructor(e){return e}}const Tv="firestore",Eg=new G.OlP("angularfire2.firestore-instances");function t_(i){return(e,n)=>{const s=e.runOutsideAngular(()=>i(n));return new yg(s)}}const n_={provide:class wv{constructor(){return(0,l.vb)(Tv)}},deps:[[new G.FiY,Eg]]},Eu={provide:yg,useFactory:function eI(i,e){const n=(0,l.JM)(Tv,i,e);return n&&new yg(n)},deps:[[new G.FiY,Eg],ee.Ot]};let l0=(()=>{class i{constructor(){(0,ge.KN)("angularfire",l.q4.full,"fst")}static \u0275fac=function(s){return new(s||i)};static \u0275mod=G.oAB({type:i});static \u0275inj=G.cJS({providers:[Eu,n_]})}return i})();function Cv(i,...e){return{ngModule:l0,providers:[{provide:Eg,useFactory:t_(i),multi:!0,deps:[G.R0b,G.zs3,l.HU,ee.z6,[new G.FiY,he.dh],[new G.FiY,l.Rf],...e]}]}}const Av=(0,l.u3)(bv,!0),c0=(0,l.u3)($y,!0),Rv=(0,l.u3)(Cy,!0),D0=(0,l.u3)(By,!0),T0=(0,l.u3)(Ry,!0),Ov=(0,l.u3)(ky,!0),xv=(0,l.u3)(uv,!0),SI=(0,l.u3)(fv,!0),Xh=(0,l.u3)(cv,!0)},1920:(Mt,je,V)=>{V.d(je,{q4:()=>Ue,iC:()=>Jt,HU:()=>_e,Rf:()=>nt,vb:()=>ot,JM:()=>Xe,u3:()=>pr});var l=V(5879),G=V(3182),ee=V(1954),ge=V(2631);const Te=new class se extends ge.v{}(class he extends ee.o{constructor(Zt,Lt){super(Zt,Lt),this.scheduler=Zt,this.work=Lt}schedule(Zt,Lt=0){return Lt>0?super.schedule(Zt,Lt):(this.delay=Lt,this.state=Zt,this.scheduler.flush(this),this)}execute(Zt,Lt){return Lt>0||this.closed?super.execute(Zt,Lt):this._execute(Zt,Lt)}requestAsyncId(Zt,Lt,xe=0){return null!=xe&&xe>0||null==xe&&this.delay>0?super.requestAsyncId(Zt,Lt,xe):(Zt.flush(this),0)}});var Oe=V(6321),re=V(5592),ue=V(9397),ye=V(5137),be=V(3093);const Ue=new l.GfV("ANGULARFIRE2_VERSION");function Xe(It,Zt,Lt){if(Zt){if(1===Zt.length)return Zt[0];const Be=Zt.filter(Ee=>Ee.app===Lt);if(1===Be.length)return Be[0]}return Lt.container.getProvider(It).getImmediate({optional:!0})}const ot=(It,Zt)=>{const Lt=Zt?[Zt]:(0,G.C6)(),xe=[];return Lt.forEach(Se=>{Se.container.getProvider(It).instances.forEach(Ee=>{xe.includes(Ee)||xe.push(Ee)})}),xe};class nt{constructor(){return ot(St)}}const St="app-check";function Ct(){}class me{zone;delegate;constructor(Zt,Lt=Te){this.zone=Zt,this.delegate=Lt}now(){return this.delegate.now()}schedule(Zt,Lt,xe){const Se=this.zone;return this.delegate.schedule(function(Ee){Se.runGuarded(()=>{Zt.apply(this,[Ee])})},Lt,xe)}}class Ge{zone;task=null;constructor(Zt){this.zone=Zt}call(Zt,Lt){const xe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ct,{},Ct,Ct)),Lt.pipe((0,ue.b)({next:xe,complete:xe,error:xe})).subscribe(Zt).add(xe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let _e=(()=>{class It{ngZone;outsideAngular;insideAngular;constructor(Lt){this.ngZone=Lt,this.outsideAngular=Lt.runOutsideAngular(()=>new me(Zone.current)),this.insideAngular=Lt.run(()=>new me(Zone.current,Oe.z)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(xe){return new(xe||It)(l.LFG(l.R0b))};static \u0275prov=l.Yz7({token:It,factory:It.\u0275fac,providedIn:"root"})}return It})();function Ke(){const It=globalThis.\u0275AngularFireScheduler;if(!It)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return It}function Ae(It){return Ke().ngZone.run(()=>It())}function Jt(It){return function er(It){return function(Lt){return(Lt=Lt.lift(new Ge(It.ngZone))).pipe((0,ye.R)(It.outsideAngular),(0,be.Q)(It.insideAngular))}}(Ke())(It)}const _n=(It,Zt)=>function(){const xe=arguments;return Zt&&setTimeout(()=>{"scheduled"===Zt.state&&Zt.invoke()},10),Ae(()=>It.apply(void 0,xe))},pr=(It,Zt)=>function(){let Lt;const xe=arguments;for(let Be=0;Be<arguments.length;Be++)"function"==typeof xe[Be]&&(Zt&&(Lt||=Ae(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ct,{},Ct,Ct))),xe[Be]=_n(xe[Be],Lt));const Se=function Ce(It){return Ke().ngZone.runOutsideAngular(()=>It())}(()=>It.apply(this,xe));if(!Zt){if(Se instanceof re.y){const Be=Ke();return Se.pipe((0,ye.R)(Be.outsideAngular),(0,be.Q)(Be.insideAngular))}return Ae(()=>Se)}return Se instanceof re.y?Se.pipe(Jt):Se instanceof Promise?Ae(()=>new Promise((Be,Ee)=>Se.then(ke=>Ae(()=>Be(ke)),ke=>Ae(()=>Ee(ke))))):"function"==typeof Se&&Lt?function(){return setTimeout(()=>{Lt&&"scheduled"===Lt.state&&Lt.invoke()},10),Se.apply(this,arguments)}:Ae(()=>Se)}},6223:(Mt,je,V)=>{V.d(je,{Cf:()=>ot,EJ:()=>Ei,Fj:()=>Ue,JJ:()=>We,JL:()=>rt,JU:()=>Ve,K7:()=>yn,Kr:()=>Qo,NI:()=>Ri,On:()=>Li,UX:()=>gl,YN:()=>_r,_Y:()=>Ds,a5:()=>An,cw:()=>J,kI:()=>Ct,qu:()=>Gn,sg:()=>$r,u:()=>kt,u5:()=>na});var l=V(5879),G=V(6814),ee=V(2459),he=V(9315),ge=V(7398);let se=(()=>{class H{constructor(P,te){this._renderer=P,this._elementRef=te,this.onChange=de=>{},this.onTouched=()=>{}}setProperty(P,te){this._renderer.setProperty(this._elementRef.nativeElement,P,te)}registerOnTouched(P){this.onTouched=P}registerOnChange(P){this.onChange=P}setDisabledState(P){this.setProperty("disabled",P)}static#e=this.\u0275fac=function(te){return new(te||H)(l.Y36(l.Qsj),l.Y36(l.SBq))};static#t=this.\u0275dir=l.lG2({type:H})}return H})(),Te=(()=>{class H extends se{static#e=this.\u0275fac=function(){let P;return function(de){return(P||(P=l.n5z(H)))(de||H)}}();static#t=this.\u0275dir=l.lG2({type:H,features:[l.qOj]})}return H})();const Ve=new l.OlP("NgValueAccessor"),ue={provide:Ve,useExisting:(0,l.Gpc)(()=>Ue),multi:!0},be=new l.OlP("CompositionEventMode");let Ue=(()=>{class H extends se{constructor(P,te,de){super(P,te),this._compositionMode=de,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ye(){const H=(0,G.q)()?(0,G.q)().getUserAgent():"";return/android (\d+)/.test(H.toLowerCase())}())}writeValue(P){this.setProperty("value",P??"")}_handleInput(P){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(P)}_compositionStart(){this._composing=!0}_compositionEnd(P){this._composing=!1,this._compositionMode&&this.onChange(P)}static#e=this.\u0275fac=function(te){return new(te||H)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(be,8))};static#t=this.\u0275dir=l.lG2({type:H,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(te,de){1&te&&l.NdJ("input",function(Vn){return de._handleInput(Vn.target.value)})("blur",function(){return de.onTouched()})("compositionstart",function(){return de._compositionStart()})("compositionend",function(Vn){return de._compositionEnd(Vn.target.value)})},features:[l._Bn([ue]),l.qOj]})}return H})();function Le(H){return null==H||("string"==typeof H||Array.isArray(H))&&0===H.length}function Xe(H){return null!=H&&"number"==typeof H.length}const ot=new l.OlP("NgValidators"),nt=new l.OlP("NgAsyncValidators"),St=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ct{static min(q){return function me(H){return q=>{if(Le(q.value)||Le(H))return null;const P=parseFloat(q.value);return!isNaN(P)&&P<H?{min:{min:H,actual:q.value}}:null}}(q)}static max(q){return function Ge(H){return q=>{if(Le(q.value)||Le(H))return null;const P=parseFloat(q.value);return!isNaN(P)&&P>H?{max:{max:H,actual:q.value}}:null}}(q)}static required(q){return function _e(H){return Le(H.value)?{required:!0}:null}(q)}static requiredTrue(q){return function Ke(H){return!0===H.value?null:{required:!0}}(q)}static email(q){return function Ce(H){return Le(H.value)||St.test(H.value)?null:{email:!0}}(q)}static minLength(q){return function Ae(H){return q=>Le(q.value)||!Xe(q.value)?null:q.value.length<H?{minlength:{requiredLength:H,actualLength:q.value.length}}:null}(q)}static maxLength(q){return function at(H){return q=>Xe(q.value)&&q.value.length>H?{maxlength:{requiredLength:H,actualLength:q.value.length}}:null}(q)}static pattern(q){return function gt(H){if(!H)return Jt;let q,P;return"string"==typeof H?(P="","^"!==H.charAt(0)&&(P+="^"),P+=H,"$"!==H.charAt(H.length-1)&&(P+="$"),q=new RegExp(P)):(P=H.toString(),q=H),te=>{if(Le(te.value))return null;const de=te.value;return q.test(de)?null:{pattern:{requiredPattern:P,actualValue:de}}}}(q)}static nullValidator(q){return null}static compose(q){return xe(q)}static composeAsync(q){return Be(q)}}function Jt(H){return null}function er(H){return null!=H}function _n(H){return(0,l.QGY)(H)?(0,ee.D)(H):H}function pr(H){let q={};return H.forEach(P=>{q=null!=P?{...q,...P}:q}),0===Object.keys(q).length?null:q}function It(H,q){return q.map(P=>P(H))}function Lt(H){return H.map(q=>function Zt(H){return!H.validate}(q)?q:P=>q.validate(P))}function xe(H){if(!H)return null;const q=H.filter(er);return 0==q.length?null:function(P){return pr(It(P,q))}}function Se(H){return null!=H?xe(Lt(H)):null}function Be(H){if(!H)return null;const q=H.filter(er);return 0==q.length?null:function(P){const te=It(P,q).map(_n);return(0,he.D)(te).pipe((0,ge.U)(pr))}}function Ee(H){return null!=H?Be(Lt(H)):null}function ke(H,q){return null===H?[q]:Array.isArray(H)?[...H,q]:[H,q]}function tt(H){return H._rawValidators}function vt(H){return H._rawAsyncValidators}function lt(H){return H?Array.isArray(H)?H:[H]:[]}function fn(H,q){return Array.isArray(H)?H.includes(q):H===q}function ut(H,q){const P=lt(q);return lt(H).forEach(de=>{fn(P,de)||P.push(de)}),P}function pn(H,q){return lt(q).filter(P=>!fn(H,P))}class on{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(q){this._rawValidators=q||[],this._composedValidatorFn=Se(this._rawValidators)}_setAsyncValidators(q){this._rawAsyncValidators=q||[],this._composedAsyncValidatorFn=Ee(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(q){this._onDestroyCallbacks.push(q)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(q=>q()),this._onDestroyCallbacks=[]}reset(q=void 0){this.control&&this.control.reset(q)}hasError(q,P){return!!this.control&&this.control.hasError(q,P)}getError(q,P){return this.control?this.control.getError(q,P):null}}class sn extends on{get formDirective(){return null}get path(){return null}}class An extends on{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Qt{constructor(q){this._cd=q}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let We=(()=>{class H extends Qt{constructor(P){super(P)}static#e=this.\u0275fac=function(te){return new(te||H)(l.Y36(An,2))};static#t=this.\u0275dir=l.lG2({type:H,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(te,de){2&te&&l.ekj("ng-untouched",de.isUntouched)("ng-touched",de.isTouched)("ng-pristine",de.isPristine)("ng-dirty",de.isDirty)("ng-valid",de.isValid)("ng-invalid",de.isInvalid)("ng-pending",de.isPending)},features:[l.qOj]})}return H})(),rt=(()=>{class H extends Qt{constructor(P){super(P)}static#e=this.\u0275fac=function(te){return new(te||H)(l.Y36(sn,10))};static#t=this.\u0275dir=l.lG2({type:H,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(te,de){2&te&&l.ekj("ng-untouched",de.isUntouched)("ng-touched",de.isTouched)("ng-pristine",de.isPristine)("ng-dirty",de.isDirty)("ng-valid",de.isValid)("ng-invalid",de.isInvalid)("ng-pending",de.isPending)("ng-submitted",de.isSubmitted)},features:[l.qOj]})}return H})();const Jr="VALID",ri="INVALID",Mr="PENDING",Or="DISABLED";function Pr(H){return(Un(H)?H.validators:H)||null}function Zn(H,q){return(Un(q)?q.asyncValidators:H)||null}function Un(H){return null!=H&&!Array.isArray(H)&&"object"==typeof H}function xi(H,q,P){const te=H.controls;if(!(q?Object.keys(te):te).length)throw new l.vHH(1e3,"");if(!te[P])throw new l.vHH(1001,"")}function ki(H,q,P){H._forEachChild((te,de)=>{if(void 0===P[de])throw new l.vHH(1002,"")})}class fe{constructor(q,P){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(q),this._assignAsyncValidators(P)}get validator(){return this._composedValidatorFn}set validator(q){this._rawValidators=this._composedValidatorFn=q}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(q){this._rawAsyncValidators=this._composedAsyncValidatorFn=q}get parent(){return this._parent}get valid(){return this.status===Jr}get invalid(){return this.status===ri}get pending(){return this.status==Mr}get disabled(){return this.status===Or}get enabled(){return this.status!==Or}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(q){this._assignValidators(q)}setAsyncValidators(q){this._assignAsyncValidators(q)}addValidators(q){this.setValidators(ut(q,this._rawValidators))}addAsyncValidators(q){this.setAsyncValidators(ut(q,this._rawAsyncValidators))}removeValidators(q){this.setValidators(pn(q,this._rawValidators))}removeAsyncValidators(q){this.setAsyncValidators(pn(q,this._rawAsyncValidators))}hasValidator(q){return fn(this._rawValidators,q)}hasAsyncValidator(q){return fn(this._rawAsyncValidators,q)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(q={}){this.touched=!0,this._parent&&!q.onlySelf&&this._parent.markAsTouched(q)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(q=>q.markAllAsTouched())}markAsUntouched(q={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(P=>{P.markAsUntouched({onlySelf:!0})}),this._parent&&!q.onlySelf&&this._parent._updateTouched(q)}markAsDirty(q={}){this.pristine=!1,this._parent&&!q.onlySelf&&this._parent.markAsDirty(q)}markAsPristine(q={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(P=>{P.markAsPristine({onlySelf:!0})}),this._parent&&!q.onlySelf&&this._parent._updatePristine(q)}markAsPending(q={}){this.status=Mr,!1!==q.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!q.onlySelf&&this._parent.markAsPending(q)}disable(q={}){const P=this._parentMarkedDirty(q.onlySelf);this.status=Or,this.errors=null,this._forEachChild(te=>{te.disable({...q,onlySelf:!0})}),this._updateValue(),!1!==q.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...q,skipPristineCheck:P}),this._onDisabledChange.forEach(te=>te(!0))}enable(q={}){const P=this._parentMarkedDirty(q.onlySelf);this.status=Jr,this._forEachChild(te=>{te.enable({...q,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:q.emitEvent}),this._updateAncestors({...q,skipPristineCheck:P}),this._onDisabledChange.forEach(te=>te(!1))}_updateAncestors(q){this._parent&&!q.onlySelf&&(this._parent.updateValueAndValidity(q),q.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(q){this._parent=q}getRawValue(){return this.value}updateValueAndValidity(q={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Jr||this.status===Mr)&&this._runAsyncValidator(q.emitEvent)),!1!==q.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!q.onlySelf&&this._parent.updateValueAndValidity(q)}_updateTreeValidity(q={emitEvent:!0}){this._forEachChild(P=>P._updateTreeValidity(q)),this.updateValueAndValidity({onlySelf:!0,emitEvent:q.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Or:Jr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(q){if(this.asyncValidator){this.status=Mr,this._hasOwnPendingAsyncValidator=!0;const P=_n(this.asyncValidator(this));this._asyncValidationSubscription=P.subscribe(te=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(te,{emitEvent:q})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(q,P={}){this.errors=q,this._updateControlsErrors(!1!==P.emitEvent)}get(q){let P=q;return null==P||(Array.isArray(P)||(P=P.split(".")),0===P.length)?null:P.reduce((te,de)=>te&&te._find(de),this)}getError(q,P){const te=P?this.get(P):this;return te&&te.errors?te.errors[q]:null}hasError(q,P){return!!this.getError(q,P)}get root(){let q=this;for(;q._parent;)q=q._parent;return q}_updateControlsErrors(q){this.status=this._calculateStatus(),q&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(q)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?Or:this.errors?ri:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Mr)?Mr:this._anyControlsHaveStatus(ri)?ri:Jr}_anyControlsHaveStatus(q){return this._anyControls(P=>P.status===q)}_anyControlsDirty(){return this._anyControls(q=>q.dirty)}_anyControlsTouched(){return this._anyControls(q=>q.touched)}_updatePristine(q={}){this.pristine=!this._anyControlsDirty(),this._parent&&!q.onlySelf&&this._parent._updatePristine(q)}_updateTouched(q={}){this.touched=this._anyControlsTouched(),this._parent&&!q.onlySelf&&this._parent._updateTouched(q)}_registerOnCollectionChange(q){this._onCollectionChange=q}_setUpdateStrategy(q){Un(q)&&null!=q.updateOn&&(this._updateOn=q.updateOn)}_parentMarkedDirty(q){return!q&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(q){return null}_assignValidators(q){this._rawValidators=Array.isArray(q)?q.slice():q,this._composedValidatorFn=function ur(H){return Array.isArray(H)?Se(H):H||null}(this._rawValidators)}_assignAsyncValidators(q){this._rawAsyncValidators=Array.isArray(q)?q.slice():q,this._composedAsyncValidatorFn=function Fn(H){return Array.isArray(H)?Ee(H):H||null}(this._rawAsyncValidators)}}class J extends fe{constructor(q,P,te){super(Pr(P),Zn(te,P)),this.controls=q,this._initObservables(),this._setUpdateStrategy(P),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(q,P){return this.controls[q]?this.controls[q]:(this.controls[q]=P,P.setParent(this),P._registerOnCollectionChange(this._onCollectionChange),P)}addControl(q,P,te={}){this.registerControl(q,P),this.updateValueAndValidity({emitEvent:te.emitEvent}),this._onCollectionChange()}removeControl(q,P={}){this.controls[q]&&this.controls[q]._registerOnCollectionChange(()=>{}),delete this.controls[q],this.updateValueAndValidity({emitEvent:P.emitEvent}),this._onCollectionChange()}setControl(q,P,te={}){this.controls[q]&&this.controls[q]._registerOnCollectionChange(()=>{}),delete this.controls[q],P&&this.registerControl(q,P),this.updateValueAndValidity({emitEvent:te.emitEvent}),this._onCollectionChange()}contains(q){return this.controls.hasOwnProperty(q)&&this.controls[q].enabled}setValue(q,P={}){ki(this,0,q),Object.keys(q).forEach(te=>{xi(this,!0,te),this.controls[te].setValue(q[te],{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P)}patchValue(q,P={}){null!=q&&(Object.keys(q).forEach(te=>{const de=this.controls[te];de&&de.patchValue(q[te],{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P))}reset(q={},P={}){this._forEachChild((te,de)=>{te.reset(q?q[de]:null,{onlySelf:!0,emitEvent:P.emitEvent})}),this._updatePristine(P),this._updateTouched(P),this.updateValueAndValidity(P)}getRawValue(){return this._reduceChildren({},(q,P,te)=>(q[te]=P.getRawValue(),q))}_syncPendingControls(){let q=this._reduceChildren(!1,(P,te)=>!!te._syncPendingControls()||P);return q&&this.updateValueAndValidity({onlySelf:!0}),q}_forEachChild(q){Object.keys(this.controls).forEach(P=>{const te=this.controls[P];te&&q(te,P)})}_setUpControls(){this._forEachChild(q=>{q.setParent(this),q._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(q){for(const[P,te]of Object.entries(this.controls))if(this.contains(P)&&q(te))return!0;return!1}_reduceValue(){return this._reduceChildren({},(P,te,de)=>((te.enabled||this.disabled)&&(P[de]=te.value),P))}_reduceChildren(q,P){let te=q;return this._forEachChild((de,nn)=>{te=P(te,de,nn)}),te}_allControlsDisabled(){for(const q of Object.keys(this.controls))if(this.controls[q].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(q){return this.controls.hasOwnProperty(q)?this.controls[q]:null}}class k extends J{}const Ne=new l.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>st}),st="always";function bt(H,q){return[...q.path,H]}function Vt(H,q,P=st){hn(H,q),q.valueAccessor.writeValue(H.value),(H.disabled||"always"===P)&&q.valueAccessor.setDisabledState?.(H.disabled),function qo(H,q){q.valueAccessor.registerOnChange(P=>{H._pendingValue=P,H._pendingChange=!0,H._pendingDirty=!0,"change"===H.updateOn&&Fe(H,q)})}(H,q),function _t(H,q){const P=(te,de)=>{q.valueAccessor.writeValue(te),de&&q.viewToModelUpdate(te)};H.registerOnChange(P),q._registerOnDestroy(()=>{H._unregisterOnChange(P)})}(H,q),function it(H,q){q.valueAccessor.registerOnTouched(()=>{H._pendingTouched=!0,"blur"===H.updateOn&&H._pendingChange&&Fe(H,q),"submit"!==H.updateOn&&H.markAsTouched()})}(H,q),function Ln(H,q){if(q.valueAccessor.setDisabledState){const P=te=>{q.valueAccessor.setDisabledState(te)};H.registerOnDisabledChange(P),q._registerOnDestroy(()=>{H._unregisterOnDisabledChange(P)})}}(H,q)}function Bt(H,q,P=!0){const te=()=>{};q.valueAccessor&&(q.valueAccessor.registerOnChange(te),q.valueAccessor.registerOnTouched(te)),jr(H,q),H&&(q._invokeOnDestroyCallbacks(),H._registerOnCollectionChange(()=>{}))}function en(H,q){H.forEach(P=>{P.registerOnValidatorChange&&P.registerOnValidatorChange(q)})}function hn(H,q){const P=tt(H);null!==q.validator?H.setValidators(ke(P,q.validator)):"function"==typeof P&&H.setValidators([P]);const te=vt(H);null!==q.asyncValidator?H.setAsyncValidators(ke(te,q.asyncValidator)):"function"==typeof te&&H.setAsyncValidators([te]);const de=()=>H.updateValueAndValidity();en(q._rawValidators,de),en(q._rawAsyncValidators,de)}function jr(H,q){let P=!1;if(null!==H){if(null!==q.validator){const de=tt(H);if(Array.isArray(de)&&de.length>0){const nn=de.filter(Vn=>Vn!==q.validator);nn.length!==de.length&&(P=!0,H.setValidators(nn))}}if(null!==q.asyncValidator){const de=vt(H);if(Array.isArray(de)&&de.length>0){const nn=de.filter(Vn=>Vn!==q.asyncValidator);nn.length!==de.length&&(P=!0,H.setAsyncValidators(nn))}}}const te=()=>{};return en(q._rawValidators,te),en(q._rawAsyncValidators,te),P}function Fe(H,q){H._pendingDirty&&H.markAsDirty(),H.setValue(H._pendingValue,{emitModelToViewChange:!1}),q.viewToModelUpdate(H._pendingValue),H._pendingChange=!1}function yi(H,q){if(!H.hasOwnProperty("model"))return!1;const P=H.model;return!!P.isFirstChange()||!Object.is(q,P.currentValue)}function fi(H,q){if(!q)return null;let P,te,de;return Array.isArray(q),q.forEach(nn=>{nn.constructor===Ue?P=nn:function Fi(H){return Object.getPrototypeOf(H.constructor)===Te}(nn)?te=nn:de=nn}),de||te||P||null}function oi(H,q){const P=H.indexOf(q);P>-1&&H.splice(P,1)}function Ko(H){return"object"==typeof H&&null!==H&&2===Object.keys(H).length&&"value"in H&&"disabled"in H}const Ri=class extends fe{constructor(q=null,P,te){super(Pr(P),Zn(te,P)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(q),this._setUpdateStrategy(P),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Un(P)&&(P.nonNullable||P.initialValueIsDefault)&&(this.defaultValue=Ko(q)?q.value:q)}setValue(q,P={}){this.value=this._pendingValue=q,this._onChange.length&&!1!==P.emitModelToViewChange&&this._onChange.forEach(te=>te(this.value,!1!==P.emitViewToModelChange)),this.updateValueAndValidity(P)}patchValue(q,P={}){this.setValue(q,P)}reset(q=this.defaultValue,P={}){this._applyFormState(q),this.markAsPristine(P),this.markAsUntouched(P),this.setValue(this.value,P),this._pendingChange=!1}_updateValue(){}_anyControls(q){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(q){this._onChange.push(q)}_unregisterOnChange(q){oi(this._onChange,q)}registerOnDisabledChange(q){this._onDisabledChange.push(q)}_unregisterOnDisabledChange(q){oi(this._onDisabledChange,q)}_forEachChild(q){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(q){Ko(q)?(this.value=this._pendingValue=q.value,q.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=q}},Bs={provide:An,useExisting:(0,l.Gpc)(()=>Li)},Wa=(()=>Promise.resolve())();let Li=(()=>{class H extends An{constructor(P,te,de,nn,Vn,So){super(),this._changeDetectorRef=Vn,this.callSetDisabledState=So,this.control=new Ri,this._registered=!1,this.name="",this.update=new l.vpe,this._parent=P,this._setValidators(te),this._setAsyncValidators(de),this.valueAccessor=fi(0,nn)}ngOnChanges(P){if(this._checkForErrors(),!this._registered||"name"in P){if(this._registered&&(this._checkName(),this.formDirective)){const te=P.name.previousValue;this.formDirective.removeControl({name:te,path:this._getPath(te)})}this._setUpControl()}"isDisabled"in P&&this._updateDisabled(P),yi(P,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(P){this.viewModel=P,this.update.emit(P)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Vt(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(P){Wa.then(()=>{this.control.setValue(P,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(P){const te=P.isDisabled.currentValue,de=0!==te&&(0,l.VuI)(te);Wa.then(()=>{de&&!this.control.disabled?this.control.disable():!de&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(P){return this._parent?bt(P,this._parent):[P]}static#e=this.\u0275fac=function(te){return new(te||H)(l.Y36(sn,9),l.Y36(ot,10),l.Y36(nt,10),l.Y36(Ve,10),l.Y36(l.sBO,8),l.Y36(Ne,8))};static#t=this.\u0275dir=l.lG2({type:H,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l._Bn([Bs]),l.qOj,l.TTD]})}return H})(),Ds=(()=>{class H{static#e=this.\u0275fac=function(te){return new(te||H)};static#t=this.\u0275dir=l.lG2({type:H,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return H})(),Ts=(()=>{class H{static#e=this.\u0275fac=function(te){return new(te||H)};static#t=this.\u0275mod=l.oAB({type:H});static#n=this.\u0275inj=l.cJS({})}return H})();const In=new l.OlP("NgModelWithFormControlWarning"),Zo={provide:sn,useExisting:(0,l.Gpc)(()=>$r)};let $r=(()=>{class H extends sn{constructor(P,te,de){super(),this.callSetDisabledState=de,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(P),this._setAsyncValidators(te)}ngOnChanges(P){this._checkFormPresent(),P.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(jr(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(P){const te=this.form.get(P.path);return Vt(te,P,this.callSetDisabledState),te.updateValueAndValidity({emitEvent:!1}),this.directives.push(P),te}getControl(P){return this.form.get(P.path)}removeControl(P){Bt(P.control||null,P,!1),function $n(H,q){const P=H.indexOf(q);P>-1&&H.splice(P,1)}(this.directives,P)}addFormGroup(P){this._setUpFormContainer(P)}removeFormGroup(P){this._cleanUpFormContainer(P)}getFormGroup(P){return this.form.get(P.path)}addFormArray(P){this._setUpFormContainer(P)}removeFormArray(P){this._cleanUpFormContainer(P)}getFormArray(P){return this.form.get(P.path)}updateModel(P,te){this.form.get(P.path).setValue(te)}onSubmit(P){return this.submitted=!0,function zr(H,q){H._syncPendingControls(),q.forEach(P=>{const te=P.control;"submit"===te.updateOn&&te._pendingChange&&(P.viewToModelUpdate(te._pendingValue),te._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(P),"dialog"===P?.target?.method}onReset(){this.resetForm()}resetForm(P=void 0){this.form.reset(P),this.submitted=!1}_updateDomValue(){this.directives.forEach(P=>{const te=P.control,de=this.form.get(P.path);te!==de&&(Bt(te||null,P),(H=>H instanceof Ri)(de)&&(Vt(de,P,this.callSetDisabledState),P.control=de))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(P){const te=this.form.get(P.path);(function Yt(H,q){hn(H,q)})(te,P),te.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(P){if(this.form){const te=this.form.get(P.path);te&&function gn(H,q){return jr(H,q)}(te,P)&&te.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){hn(this.form,this),this._oldForm&&jr(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(te){return new(te||H)(l.Y36(ot,10),l.Y36(nt,10),l.Y36(Ne,8))};static#t=this.\u0275dir=l.lG2({type:H,selectors:[["","formGroup",""]],hostBindings:function(te,de){1&te&&l.NdJ("submit",function(Vn){return de.onSubmit(Vn)})("reset",function(){return de.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([Zo]),l.qOj,l.TTD]})}return H})();const cr={provide:An,useExisting:(0,l.Gpc)(()=>kt)};let kt=(()=>{class H extends An{set isDisabled(P){}static#e=this._ngModelWarningSentOnce=!1;constructor(P,te,de,nn,Vn){super(),this._ngModelWarningConfig=Vn,this._added=!1,this.name=null,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=P,this._setValidators(te),this._setAsyncValidators(de),this.valueAccessor=fi(0,nn)}ngOnChanges(P){this._added||this._setUpControl(),yi(P,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(P){this.viewModel=P,this.update.emit(P)}get path(){return bt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(te){return new(te||H)(l.Y36(sn,13),l.Y36(ot,10),l.Y36(nt,10),l.Y36(Ve,10),l.Y36(In,8))};static#n=this.\u0275dir=l.lG2({type:H,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([cr]),l.qOj,l.TTD]})}return H})();const Wt={provide:Ve,useExisting:(0,l.Gpc)(()=>Ei),multi:!0};function nr(H,q){return null==H?`${q}`:(q&&"object"==typeof q&&(q="Object"),`${H}: ${q}`.slice(0,50))}let Ei=(()=>{class H extends Te{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(P){this._compareWith=P}writeValue(P){this.value=P;const de=nr(this._getOptionId(P),P);this.setProperty("value",de)}registerOnChange(P){this.onChange=te=>{this.value=this._getOptionValue(te),P(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(P){for(const te of this._optionMap.keys())if(this._compareWith(this._optionMap.get(te),P))return te;return null}_getOptionValue(P){const te=function Gr(H){return H.split(":")[0]}(P);return this._optionMap.has(te)?this._optionMap.get(te):P}static#e=this.\u0275fac=function(){let P;return function(de){return(P||(P=l.n5z(H)))(de||H)}}();static#t=this.\u0275dir=l.lG2({type:H,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(te,de){1&te&&l.NdJ("change",function(Vn){return de.onChange(Vn.target.value)})("blur",function(){return de.onTouched()})},inputs:{compareWith:"compareWith"},features:[l._Bn([Wt]),l.qOj]})}return H})(),_r=(()=>{class H{constructor(P,te,de){this._element=P,this._renderer=te,this._select=de,this._select&&(this.id=this._select._registerOption())}set ngValue(P){null!=this._select&&(this._select._optionMap.set(this.id,P),this._setElementValue(nr(this.id,P)),this._select.writeValue(this._select.value))}set value(P){this._setElementValue(P),this._select&&this._select.writeValue(this._select.value)}_setElementValue(P){this._renderer.setProperty(this._element.nativeElement,"value",P)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(te){return new(te||H)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(Ei,9))};static#t=this.\u0275dir=l.lG2({type:H,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return H})();const oo={provide:Ve,useExisting:(0,l.Gpc)(()=>yn),multi:!0};function Ar(H,q){return null==H?`${q}`:("string"==typeof q&&(q=`'${q}'`),q&&"object"==typeof q&&(q="Object"),`${H}: ${q}`.slice(0,50))}let yn=(()=>{class H extends Te{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(P){this._compareWith=P}writeValue(P){let te;if(this.value=P,Array.isArray(P)){const de=P.map(nn=>this._getOptionId(nn));te=(nn,Vn)=>{nn._setSelected(de.indexOf(Vn.toString())>-1)}}else te=(de,nn)=>{de._setSelected(!1)};this._optionMap.forEach(te)}registerOnChange(P){this.onChange=te=>{const de=[],nn=te.selectedOptions;if(void 0!==nn){const Vn=nn;for(let So=0;So<Vn.length;So++){const so=this._getOptionValue(Vn[So].value);de.push(so)}}else{const Vn=te.options;for(let So=0;So<Vn.length;So++){const Jo=Vn[So];if(Jo.selected){const so=this._getOptionValue(Jo.value);de.push(so)}}}this.value=de,P(de)}}_registerOption(P){const te=(this._idCounter++).toString();return this._optionMap.set(te,P),te}_getOptionId(P){for(const te of this._optionMap.keys())if(this._compareWith(this._optionMap.get(te)._value,P))return te;return null}_getOptionValue(P){const te=function Ii(H){return H.split(":")[0]}(P);return this._optionMap.has(te)?this._optionMap.get(te)._value:P}static#e=this.\u0275fac=function(){let P;return function(de){return(P||(P=l.n5z(H)))(de||H)}}();static#t=this.\u0275dir=l.lG2({type:H,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(te,de){1&te&&l.NdJ("change",function(Vn){return de.onChange(Vn.target)})("blur",function(){return de.onTouched()})},inputs:{compareWith:"compareWith"},features:[l._Bn([oo]),l.qOj]})}return H})(),Qo=(()=>{class H{constructor(P,te,de){this._element=P,this._renderer=te,this._select=de,this._select&&(this.id=this._select._registerOption(this))}set ngValue(P){null!=this._select&&(this._value=P,this._setElementValue(Ar(this.id,P)),this._select.writeValue(this._select.value))}set value(P){this._select?(this._value=P,this._setElementValue(Ar(this.id,P)),this._select.writeValue(this._select.value)):this._setElementValue(P)}_setElementValue(P){this._renderer.setProperty(this._element.nativeElement,"value",P)}_setSelected(P){this._renderer.setProperty(this._element.nativeElement,"selected",P)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(te){return new(te||H)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(yn,9))};static#t=this.\u0275dir=l.lG2({type:H,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return H})(),pi=(()=>{class H{static#e=this.\u0275fac=function(te){return new(te||H)};static#t=this.\u0275mod=l.oAB({type:H});static#n=this.\u0275inj=l.cJS({imports:[Ts]})}return H})();class Yr extends fe{constructor(q,P,te){super(Pr(P),Zn(te,P)),this.controls=q,this._initObservables(),this._setUpdateStrategy(P),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(q){return this.controls[this._adjustIndex(q)]}push(q,P={}){this.controls.push(q),this._registerControl(q),this.updateValueAndValidity({emitEvent:P.emitEvent}),this._onCollectionChange()}insert(q,P,te={}){this.controls.splice(q,0,P),this._registerControl(P),this.updateValueAndValidity({emitEvent:te.emitEvent})}removeAt(q,P={}){let te=this._adjustIndex(q);te<0&&(te=0),this.controls[te]&&this.controls[te]._registerOnCollectionChange(()=>{}),this.controls.splice(te,1),this.updateValueAndValidity({emitEvent:P.emitEvent})}setControl(q,P,te={}){let de=this._adjustIndex(q);de<0&&(de=0),this.controls[de]&&this.controls[de]._registerOnCollectionChange(()=>{}),this.controls.splice(de,1),P&&(this.controls.splice(de,0,P),this._registerControl(P)),this.updateValueAndValidity({emitEvent:te.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(q,P={}){ki(this,0,q),q.forEach((te,de)=>{xi(this,!1,de),this.at(de).setValue(te,{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P)}patchValue(q,P={}){null!=q&&(q.forEach((te,de)=>{this.at(de)&&this.at(de).patchValue(te,{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P))}reset(q=[],P={}){this._forEachChild((te,de)=>{te.reset(q[de],{onlySelf:!0,emitEvent:P.emitEvent})}),this._updatePristine(P),this._updateTouched(P),this.updateValueAndValidity(P)}getRawValue(){return this.controls.map(q=>q.getRawValue())}clear(q={}){this.controls.length<1||(this._forEachChild(P=>P._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:q.emitEvent}))}_adjustIndex(q){return q<0?q+this.length:q}_syncPendingControls(){let q=this.controls.reduce((P,te)=>!!te._syncPendingControls()||P,!1);return q&&this.updateValueAndValidity({onlySelf:!0}),q}_forEachChild(q){this.controls.forEach((P,te)=>{q(P,te)})}_updateValue(){this.value=this.controls.filter(q=>q.enabled||this.disabled).map(q=>q.value)}_anyControls(q){return this.controls.some(P=>P.enabled&&q(P))}_setUpControls(){this._forEachChild(q=>this._registerControl(q))}_allControlsDisabled(){for(const q of this.controls)if(q.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(q){q.setParent(this),q._registerOnCollectionChange(this._onCollectionChange)}_find(q){return this.at(q)??null}}function $o(H){return!!H&&(void 0!==H.asyncValidators||void 0!==H.validators||void 0!==H.updateOn)}let Gn=(()=>{class H{constructor(){this.useNonNullable=!1}get nonNullable(){const P=new H;return P.useNonNullable=!0,P}group(P,te=null){const de=this._reduceControls(P);let nn={};return $o(te)?nn=te:null!==te&&(nn.validators=te.validator,nn.asyncValidators=te.asyncValidator),new J(de,nn)}record(P,te=null){const de=this._reduceControls(P);return new k(de,te)}control(P,te,de){let nn={};return this.useNonNullable?($o(te)?nn=te:(nn.validators=te,nn.asyncValidators=de),new Ri(P,{...nn,nonNullable:!0})):new Ri(P,te,de)}array(P,te,de){const nn=P.map(Vn=>this._createControl(Vn));return new Yr(nn,te,de)}_reduceControls(P){const te={};return Object.keys(P).forEach(de=>{te[de]=this._createControl(P[de])}),te}_createControl(P){return P instanceof Ri||P instanceof fe?P:Array.isArray(P)?this.control(P[0],P.length>1?P[1]:null,P.length>2?P[2]:null):this.control(P)}static#e=this.\u0275fac=function(te){return new(te||H)};static#t=this.\u0275prov=l.Yz7({token:H,factory:H.\u0275fac,providedIn:"root"})}return H})(),na=(()=>{class H{static withConfig(P){return{ngModule:H,providers:[{provide:Ne,useValue:P.callSetDisabledState??st}]}}static#e=this.\u0275fac=function(te){return new(te||H)};static#t=this.\u0275mod=l.oAB({type:H});static#n=this.\u0275inj=l.cJS({imports:[pi]})}return H})(),gl=(()=>{class H{static withConfig(P){return{ngModule:H,providers:[{provide:In,useValue:P.warnOnNgModelWithFormControl??"always"},{provide:Ne,useValue:P.callSetDisabledState??st}]}}static#e=this.\u0275fac=function(te){return new(te||H)};static#t=this.\u0275mod=l.oAB({type:H});static#n=this.\u0275inj=l.cJS({imports:[pi]})}return H})()},2614:()=>{const Mt=":";const sn=function(Ie,...De){if(sn.translate){const rt=sn.translate(Ie,De);Ie=rt[0],De=rt[1]}let We=Qt(Ie[0],Ie.raw[0]);for(let rt=1;rt<Ie.length;rt++)We+=De[rt-1]+Qt(Ie[rt],Ie.raw[rt]);return We},An=":";function Qt(Ie,De){return De.charAt(0)===An?Ie.substring(function Se(Ie,De){for(let We=1,rt=1;We<Ie.length;We++,rt++)if("\\"===De[rt])rt++;else if(Ie[We]===Mt)return We;throw new Error(`Unterminated $localize metadata block in "${De}".`)}(Ie,De)+1):Ie}globalThis.$localize=sn},6593:(Mt,je,V)=>{V.d(je,{Dx:()=>ht,b2:()=>Ie,q6:()=>on});var l=V(5879),G=V(6814);class ee extends G.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class he extends ee{static makeCurrent(){(0,G.HT)(new he)}onAndCancel(j,L,k){return j.addEventListener(L,k),()=>{j.removeEventListener(L,k)}}dispatchEvent(j,L){j.dispatchEvent(L)}remove(j){j.parentNode&&j.parentNode.removeChild(j)}createElement(j,L){return(L=L||this.getDefaultDocument()).createElement(j)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(j){return j.nodeType===Node.ELEMENT_NODE}isShadowRoot(j){return j instanceof DocumentFragment}getGlobalEventTarget(j,L){return"window"===L?window:"document"===L?j:"body"===L?j.body:null}getBaseHref(j){const L=function se(){return ge=ge||document.querySelector("base"),ge?ge.getAttribute("href"):null}();return null==L?null:function Ve(J){Te=Te||document.createElement("a"),Te.setAttribute("href",J);const j=Te.pathname;return"/"===j.charAt(0)?j:`/${j}`}(L)}resetBaseElement(){ge=null}getUserAgent(){return window.navigator.userAgent}getCookie(j){return(0,G.Mx)(document.cookie,j)}}let Te,ge=null,re=(()=>{class J{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(k){return new(k||J)};static#t=this.\u0275prov=l.Yz7({token:J,factory:J.\u0275fac})}return J})();const ue=new l.OlP("EventManagerPlugins");let ye=(()=>{class J{constructor(L,k){this._zone=k,this._eventNameToPlugin=new Map,L.forEach(ie=>{ie.manager=this}),this._plugins=L.slice().reverse()}addEventListener(L,k,ie){return this._findPluginFor(k).addEventListener(L,k,ie)}getZone(){return this._zone}_findPluginFor(L){let k=this._eventNameToPlugin.get(L);if(k)return k;if(k=this._plugins.find(Ne=>Ne.supports(L)),!k)throw new l.vHH(5101,!1);return this._eventNameToPlugin.set(L,k),k}static#e=this.\u0275fac=function(k){return new(k||J)(l.LFG(ue),l.LFG(l.R0b))};static#t=this.\u0275prov=l.Yz7({token:J,factory:J.\u0275fac})}return J})();class be{constructor(j){this._doc=j}}const Ue="ng-app-id";let Le=(()=>{class J{constructor(L,k,ie,Ne={}){this.doc=L,this.appId=k,this.nonce=ie,this.platformId=Ne,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,G.PM)(Ne),this.resetHostNodes()}addStyles(L){for(const k of L)1===this.changeUsageCount(k,1)&&this.onStyleAdded(k)}removeStyles(L){for(const k of L)this.changeUsageCount(k,-1)<=0&&this.onStyleRemoved(k)}ngOnDestroy(){const L=this.styleNodesInDOM;L&&(L.forEach(k=>k.remove()),L.clear());for(const k of this.getAllStyles())this.onStyleRemoved(k);this.resetHostNodes()}addHost(L){this.hostNodes.add(L);for(const k of this.getAllStyles())this.addStyleToHost(L,k)}removeHost(L){this.hostNodes.delete(L)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(L){for(const k of this.hostNodes)this.addStyleToHost(k,L)}onStyleRemoved(L){const k=this.styleRef;k.get(L)?.elements?.forEach(ie=>ie.remove()),k.delete(L)}collectServerRenderedStyles(){const L=this.doc.head?.querySelectorAll(`style[${Ue}="${this.appId}"]`);if(L?.length){const k=new Map;return L.forEach(ie=>{null!=ie.textContent&&k.set(ie.textContent,ie)}),k}return null}changeUsageCount(L,k){const ie=this.styleRef;if(ie.has(L)){const Ne=ie.get(L);return Ne.usage+=k,Ne.usage}return ie.set(L,{usage:k,elements:[]}),k}getStyleElement(L,k){const ie=this.styleNodesInDOM,Ne=ie?.get(k);if(Ne?.parentNode===L)return ie.delete(k),Ne.removeAttribute(Ue),Ne;{const st=this.doc.createElement("style");return this.nonce&&st.setAttribute("nonce",this.nonce),st.textContent=k,this.platformIsServer&&st.setAttribute(Ue,this.appId),st}}addStyleToHost(L,k){const ie=this.getStyleElement(L,k);L.appendChild(ie);const Ne=this.styleRef,st=Ne.get(k)?.elements;st?st.push(ie):Ne.set(k,{elements:[ie],usage:1})}resetHostNodes(){const L=this.hostNodes;L.clear(),L.add(this.doc.head)}static#e=this.\u0275fac=function(k){return new(k||J)(l.LFG(G.K0),l.LFG(l.AFp),l.LFG(l.Ojb,8),l.LFG(l.Lbi))};static#t=this.\u0275prov=l.Yz7({token:J,factory:J.\u0275fac})}return J})();const Xe={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ot=/%COMP%/g,Ge=new l.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Ce(J,j){return j.map(L=>L.replace(ot,J))}let Ae=(()=>{class J{constructor(L,k,ie,Ne,st,bt,Vt,Bt=null){this.eventManager=L,this.sharedStylesHost=k,this.appId=ie,this.removeStylesOnCompDestroy=Ne,this.doc=st,this.platformId=bt,this.ngZone=Vt,this.nonce=Bt,this.rendererByCompId=new Map,this.platformIsServer=(0,G.PM)(bt),this.defaultRenderer=new at(L,st,Vt,this.platformIsServer)}createRenderer(L,k){if(!L||!k)return this.defaultRenderer;this.platformIsServer&&k.encapsulation===l.ifc.ShadowDom&&(k={...k,encapsulation:l.ifc.Emulated});const ie=this.getOrCreateRenderer(L,k);return ie instanceof It?ie.applyToHost(L):ie instanceof pr&&ie.applyStyles(),ie}getOrCreateRenderer(L,k){const ie=this.rendererByCompId;let Ne=ie.get(k.id);if(!Ne){const st=this.doc,bt=this.ngZone,Vt=this.eventManager,Bt=this.sharedStylesHost,en=this.removeStylesOnCompDestroy,Ln=this.platformIsServer;switch(k.encapsulation){case l.ifc.Emulated:Ne=new It(Vt,Bt,k,this.appId,en,st,bt,Ln);break;case l.ifc.ShadowDom:return new _n(Vt,Bt,L,k,st,bt,this.nonce,Ln);default:Ne=new pr(Vt,Bt,k,en,st,bt,Ln)}ie.set(k.id,Ne)}return Ne}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(k){return new(k||J)(l.LFG(ye),l.LFG(Le),l.LFG(l.AFp),l.LFG(Ge),l.LFG(G.K0),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(l.Ojb))};static#t=this.\u0275prov=l.Yz7({token:J,factory:J.\u0275fac})}return J})();class at{constructor(j,L,k,ie){this.eventManager=j,this.doc=L,this.ngZone=k,this.platformIsServer=ie,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(j,L){return L?this.doc.createElementNS(Xe[L]||L,j):this.doc.createElement(j)}createComment(j){return this.doc.createComment(j)}createText(j){return this.doc.createTextNode(j)}appendChild(j,L){(er(j)?j.content:j).appendChild(L)}insertBefore(j,L,k){j&&(er(j)?j.content:j).insertBefore(L,k)}removeChild(j,L){j&&j.removeChild(L)}selectRootElement(j,L){let k="string"==typeof j?this.doc.querySelector(j):j;if(!k)throw new l.vHH(-5104,!1);return L||(k.textContent=""),k}parentNode(j){return j.parentNode}nextSibling(j){return j.nextSibling}setAttribute(j,L,k,ie){if(ie){L=ie+":"+L;const Ne=Xe[ie];Ne?j.setAttributeNS(Ne,L,k):j.setAttribute(L,k)}else j.setAttribute(L,k)}removeAttribute(j,L,k){if(k){const ie=Xe[k];ie?j.removeAttributeNS(ie,L):j.removeAttribute(`${k}:${L}`)}else j.removeAttribute(L)}addClass(j,L){j.classList.add(L)}removeClass(j,L){j.classList.remove(L)}setStyle(j,L,k,ie){ie&(l.JOm.DashCase|l.JOm.Important)?j.style.setProperty(L,k,ie&l.JOm.Important?"important":""):j.style[L]=k}removeStyle(j,L,k){k&l.JOm.DashCase?j.style.removeProperty(L):j.style[L]=""}setProperty(j,L,k){j[L]=k}setValue(j,L){j.nodeValue=L}listen(j,L,k){if("string"==typeof j&&!(j=(0,G.q)().getGlobalEventTarget(this.doc,j)))throw new Error(`Unsupported event target ${j} for event ${L}`);return this.eventManager.addEventListener(j,L,this.decoratePreventDefault(k))}decoratePreventDefault(j){return L=>{if("__ngUnwrap__"===L)return j;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>j(L)):j(L))&&L.preventDefault()}}}function er(J){return"TEMPLATE"===J.tagName&&void 0!==J.content}class _n extends at{constructor(j,L,k,ie,Ne,st,bt,Vt){super(j,Ne,st,Vt),this.sharedStylesHost=L,this.hostEl=k,this.shadowRoot=k.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Bt=Ce(ie.id,ie.styles);for(const en of Bt){const Ln=document.createElement("style");bt&&Ln.setAttribute("nonce",bt),Ln.textContent=en,this.shadowRoot.appendChild(Ln)}}nodeOrShadowRoot(j){return j===this.hostEl?this.shadowRoot:j}appendChild(j,L){return super.appendChild(this.nodeOrShadowRoot(j),L)}insertBefore(j,L,k){return super.insertBefore(this.nodeOrShadowRoot(j),L,k)}removeChild(j,L){return super.removeChild(this.nodeOrShadowRoot(j),L)}parentNode(j){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(j)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class pr extends at{constructor(j,L,k,ie,Ne,st,bt,Vt){super(j,Ne,st,bt),this.sharedStylesHost=L,this.removeStylesOnCompDestroy=ie,this.styles=Vt?Ce(Vt,k.styles):k.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class It extends pr{constructor(j,L,k,ie,Ne,st,bt,Vt){const Bt=ie+"-"+k.id;super(j,L,k,Ne,st,bt,Vt,Bt),this.contentAttr=function _e(J){return"_ngcontent-%COMP%".replace(ot,J)}(Bt),this.hostAttr=function Ke(J){return"_nghost-%COMP%".replace(ot,J)}(Bt)}applyToHost(j){this.applyStyles(),this.setAttribute(j,this.hostAttr,"")}createElement(j,L){const k=super.createElement(j,L);return super.setAttribute(k,this.contentAttr,""),k}}let Zt=(()=>{class J extends be{constructor(L){super(L)}supports(L){return!0}addEventListener(L,k,ie){return L.addEventListener(k,ie,!1),()=>this.removeEventListener(L,k,ie)}removeEventListener(L,k,ie){return L.removeEventListener(k,ie)}static#e=this.\u0275fac=function(k){return new(k||J)(l.LFG(G.K0))};static#t=this.\u0275prov=l.Yz7({token:J,factory:J.\u0275fac})}return J})();const Lt=["alt","control","meta","shift"],xe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Se={alt:J=>J.altKey,control:J=>J.ctrlKey,meta:J=>J.metaKey,shift:J=>J.shiftKey};let Be=(()=>{class J extends be{constructor(L){super(L)}supports(L){return null!=J.parseEventName(L)}addEventListener(L,k,ie){const Ne=J.parseEventName(k),st=J.eventCallback(Ne.fullKey,ie,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,G.q)().onAndCancel(L,Ne.domEventName,st))}static parseEventName(L){const k=L.toLowerCase().split("."),ie=k.shift();if(0===k.length||"keydown"!==ie&&"keyup"!==ie)return null;const Ne=J._normalizeKey(k.pop());let st="",bt=k.indexOf("code");if(bt>-1&&(k.splice(bt,1),st="code."),Lt.forEach(Bt=>{const en=k.indexOf(Bt);en>-1&&(k.splice(en,1),st+=Bt+".")}),st+=Ne,0!=k.length||0===Ne.length)return null;const Vt={};return Vt.domEventName=ie,Vt.fullKey=st,Vt}static matchEventFullKeyCode(L,k){let ie=xe[L.key]||L.key,Ne="";return k.indexOf("code.")>-1&&(ie=L.code,Ne="code."),!(null==ie||!ie)&&(ie=ie.toLowerCase()," "===ie?ie="space":"."===ie&&(ie="dot"),Lt.forEach(st=>{st!==ie&&(0,Se[st])(L)&&(Ne+=st+".")}),Ne+=ie,Ne===k)}static eventCallback(L,k,ie){return Ne=>{J.matchEventFullKeyCode(Ne,L)&&ie.runGuarded(()=>k(Ne))}}static _normalizeKey(L){return"esc"===L?"escape":L}static#e=this.\u0275fac=function(k){return new(k||J)(l.LFG(G.K0))};static#t=this.\u0275prov=l.Yz7({token:J,factory:J.\u0275fac})}return J})();const on=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:G.bD},{provide:l.g9A,useValue:function lt(){he.makeCurrent()},multi:!0},{provide:G.K0,useFactory:function ut(){return(0,l.RDi)(document),document},deps:[]}]),sn=new l.OlP(""),An=[{provide:l.rWj,useClass:class Oe{addToWindow(j){l.dqk.getAngularTestability=(k,ie=!0)=>{const Ne=j.findTestabilityInTree(k,ie);if(null==Ne)throw new l.vHH(5103,!1);return Ne},l.dqk.getAllAngularTestabilities=()=>j.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>j.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(k=>{const ie=l.dqk.getAllAngularTestabilities();let Ne=ie.length,st=!1;const bt=function(Vt){st=st||Vt,Ne--,0==Ne&&k(st)};ie.forEach(Vt=>{Vt.whenStable(bt)})})}findTestabilityInTree(j,L,k){return null==L?null:j.getTestability(L)??(k?(0,G.q)().isShadowRoot(L)?this.findTestabilityInTree(j,L.host,!0):this.findTestabilityInTree(j,L.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],Qt=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function fn(){return new l.qLn},deps:[]},{provide:ue,useClass:Zt,multi:!0,deps:[G.K0,l.R0b,l.Lbi]},{provide:ue,useClass:Be,multi:!0,deps:[G.K0]},Ae,Le,ye,{provide:l.FYo,useExisting:Ae},{provide:G.JF,useClass:re,deps:[]},[]];let Ie=(()=>{class J{constructor(L){}static withServerTransition(L){return{ngModule:J,providers:[{provide:l.AFp,useValue:L.appId}]}}static#e=this.\u0275fac=function(k){return new(k||J)(l.LFG(sn,12))};static#t=this.\u0275mod=l.oAB({type:J});static#n=this.\u0275inj=l.cJS({providers:[...Qt,...An],imports:[G.ez,l.hGG]})}return J})(),ht=(()=>{class J{constructor(L){this._doc=L}getTitle(){return this._doc.title}setTitle(L){this._doc.title=L||""}static#e=this.\u0275fac=function(k){return new(k||J)(l.LFG(G.K0))};static#t=this.\u0275prov=l.Yz7({token:J,factory:function(k){let ie=null;return ie=k?new k:function Dt(){return new ht((0,l.LFG)(G.K0))}(),ie},providedIn:"root"})}return J})();typeof window<"u"&&window},9517:(Mt,je,V)=>{V.d(je,{F0:()=>Cn,rH:()=>Ut,Bz:()=>_o,lC:()=>Ei});var l=V(5879),G=V(5592),ee=V(4674),ge=V(2459),se=V(2096),Te=V(5619),Ve=V(2572),Oe=V(6973),re=V(5211),ue=V(4829);function ye(T){return new G.y(R=>{(0,ue.Xf)(T()).subscribe(R)})}var be=V(8407);function Ue(T,R){const b=(0,ee.m)(T)?T:()=>T,M=B=>B.error(b());return new G.y(R?B=>R.schedule(M,0,B):M)}var Le=V(6232),Xe=V(7394),ot=V(9360),nt=V(8251);function St(){return(0,ot.e)((T,R)=>{let b=null;T._refCount++;const M=(0,nt.x)(R,void 0,void 0,void 0,()=>{if(!T||T._refCount<=0||0<--T._refCount)return void(b=null);const B=T._connection,X=b;b=null,B&&(!X||B===X)&&B.unsubscribe(),R.unsubscribe()});T.subscribe(M),M.closed||(b=T.connect())})}class Ct extends G.y{constructor(R,b){super(),this.source=R,this.subjectFactory=b,this._subject=null,this._refCount=0,this._connection=null,(0,ot.A)(R)&&(this.lift=R.lift)}_subscribe(R){return this.getSubject().subscribe(R)}getSubject(){const R=this._subject;return(!R||R.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:R}=this;this._subject=this._connection=null,R?.unsubscribe()}connect(){let R=this._connection;if(!R){R=this._connection=new Xe.w0;const b=this.getSubject();R.add(this.source.subscribe((0,nt.x)(b,void 0,()=>{this._teardown(),b.complete()},M=>{this._teardown(),b.error(M)},()=>this._teardown()))),R.closed&&(this._connection=null,R=Xe.w0.EMPTY)}return R}refCount(){return St()(this)}}var me=V(8645),Ge=V(6814),_e=V(7398),Ke=V(4664),Ce=V(8180),Ae=V(7921),at=V(2181),gt=V(1631),Jt=V(1374);function er(T,R){return(0,ee.m)(R)?(0,gt.z)(T,R,1):(0,gt.z)(T,1)}var _n=V(9397);function pr(T){return(0,ot.e)((R,b)=>{let X,M=null,B=!1;M=R.subscribe((0,nt.x)(b,void 0,void 0,le=>{X=(0,ue.Xf)(T(le,pr(T)(R))),M?(M.unsubscribe(),M=null,X.subscribe(b)):B=!0})),B&&(M.unsubscribe(),M=null,X.subscribe(b))})}var Lt=V(3572);function xe(T){return T<=0?()=>Le.E:(0,ot.e)((R,b)=>{let M=[];R.subscribe((0,nt.x)(b,B=>{M.push(B),T<M.length&&M.shift()},()=>{for(const B of M)b.next(B);b.complete()},void 0,()=>{M=null}))})}var Se=V(3026),Be=V(2737),ke=V(975);function tt(T){return(0,ot.e)((R,b)=>{try{R.subscribe(b)}finally{b.add(T)}})}var vt=V(9773),lt=V(7537),fn=V(6593);const ut="primary",pn=Symbol("RouteTitle");class on{constructor(R){this.params=R||{}}has(R){return Object.prototype.hasOwnProperty.call(this.params,R)}get(R){if(this.has(R)){const b=this.params[R];return Array.isArray(b)?b[0]:b}return null}getAll(R){if(this.has(R)){const b=this.params[R];return Array.isArray(b)?b:[b]}return[]}get keys(){return Object.keys(this.params)}}function sn(T){return new on(T)}function An(T,R,b){const M=b.path.split("/");if(M.length>T.length||"full"===b.pathMatch&&(R.hasChildren()||M.length<T.length))return null;const B={};for(let X=0;X<M.length;X++){const le=M[X],ze=T[X];if(le.startsWith(":"))B[le.substring(1)]=ze;else if(le!==ze.path)return null}return{consumed:T.slice(0,M.length),posParams:B}}function Ie(T,R){const b=T?Object.keys(T):void 0,M=R?Object.keys(R):void 0;if(!b||!M||b.length!=M.length)return!1;let B;for(let X=0;X<b.length;X++)if(B=b[X],!De(T[B],R[B]))return!1;return!0}function De(T,R){if(Array.isArray(T)&&Array.isArray(R)){if(T.length!==R.length)return!1;const b=[...T].sort(),M=[...R].sort();return b.every((B,X)=>M[X]===B)}return T===R}function We(T){return T.length>0?T[T.length-1]:null}function rt(T){return function he(T){return!!T&&(T instanceof G.y||(0,ee.m)(T.lift)&&(0,ee.m)(T.subscribe))}(T)?T:(0,l.QGY)(T)?(0,ge.D)(Promise.resolve(T)):(0,se.of)(T)}const Dt={exact:function Rt(T,R,b){if(!Pt(T.segments,R.segments)||!wn(T.segments,R.segments,b)||T.numberOfChildren!==R.numberOfChildren)return!1;for(const M in R.children)if(!T.children[M]||!Rt(T.children[M],R.children[M],b))return!1;return!0},subset:cn},ht={exact:function un(T,R){return Ie(T,R)},subset:function tn(T,R){return Object.keys(R).length<=Object.keys(T).length&&Object.keys(R).every(b=>De(T[b],R[b]))},ignored:()=>!0};function ln(T,R,b){return Dt[b.paths](T.root,R.root,b.matrixParams)&&ht[b.queryParams](T.queryParams,R.queryParams)&&!("exact"===b.fragment&&T.fragment!==R.fragment)}function cn(T,R,b){return jn(T,R,R.segments,b)}function jn(T,R,b,M){if(T.segments.length>b.length){const B=T.segments.slice(0,b.length);return!(!Pt(B,b)||R.hasChildren()||!wn(B,b,M))}if(T.segments.length===b.length){if(!Pt(T.segments,b)||!wn(T.segments,b,M))return!1;for(const B in R.children)if(!T.children[B]||!cn(T.children[B],R.children[B],M))return!1;return!0}{const B=b.slice(0,T.segments.length),X=b.slice(T.segments.length);return!!(Pt(T.segments,B)&&wn(T.segments,B,M)&&T.children[ut])&&jn(T.children[ut],R,X,M)}}function wn(T,R,b){return R.every((M,B)=>ht[b](T[B].parameters,M.parameters))}class br{constructor(R=new Nt([],{}),b={},M=null){this.root=R,this.queryParams=b,this.fragment=M}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=sn(this.queryParams)),this._queryParamMap}toString(){return Jr.serialize(this)}}class Nt{constructor(R,b){this.segments=R,this.children=b,this.parent=null,Object.values(b).forEach(M=>M.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ri(this)}}class Yn{constructor(R,b){this.path=R,this.parameters=b}get parameterMap(){return this._parameterMap||(this._parameterMap=sn(this.parameters)),this._parameterMap}toString(){return xi(this)}}function Pt(T,R){return T.length===R.length&&T.every((b,M)=>b.path===R[M].path)}let an=(()=>{class T{static#e=this.\u0275fac=function(M){return new(M||T)};static#t=this.\u0275prov=l.Yz7({token:T,factory:function(){return new hr},providedIn:"root"})}return T})();class hr{parse(R){const b=new Vt(R);return new br(b.parseRootSegment(),b.parseQueryParams(),b.parseFragment())}serialize(R){const b=`/${Mr(R.root,!0)}`,M=function fe(T){const R=Object.keys(T).map(b=>{const M=T[b];return Array.isArray(M)?M.map(B=>`${Pr(b)}=${Pr(B)}`).join("&"):`${Pr(b)}=${Pr(M)}`}).filter(b=>!!b);return R.length?`?${R.join("&")}`:""}(R.queryParams);return`${b}${M}${"string"==typeof R.fragment?`#${function ur(T){return encodeURI(T)}(R.fragment)}`:""}`}}const Jr=new hr;function ri(T){return T.segments.map(R=>xi(R)).join("/")}function Mr(T,R){if(!T.hasChildren())return ri(T);if(R){const b=T.children[ut]?Mr(T.children[ut],!1):"",M=[];return Object.entries(T.children).forEach(([B,X])=>{B!==ut&&M.push(`${B}:${Mr(X,!1)}`)}),M.length>0?`${b}(${M.join("//")})`:b}{const b=function io(T,R){let b=[];return Object.entries(T.children).forEach(([M,B])=>{M===ut&&(b=b.concat(R(B,M)))}),Object.entries(T.children).forEach(([M,B])=>{M!==ut&&(b=b.concat(R(B,M)))}),b}(T,(M,B)=>B===ut?[Mr(T.children[ut],!1)]:[`${B}:${Mr(M,!1)}`]);return 1===Object.keys(T.children).length&&null!=T.children[ut]?`${ri(T)}/${b[0]}`:`${ri(T)}/(${b.join("//")})`}}function Or(T){return encodeURIComponent(T).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Pr(T){return Or(T).replace(/%3B/gi,";")}function Zn(T){return Or(T).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Fn(T){return decodeURIComponent(T)}function Un(T){return Fn(T.replace(/\+/g,"%20"))}function xi(T){return`${Zn(T.path)}${function ki(T){return Object.keys(T).map(R=>`;${Zn(R)}=${Zn(T[R])}`).join("")}(T.parameters)}`}const J=/^[^\/()?;#]+/;function j(T){const R=T.match(J);return R?R[0]:""}const L=/^[^\/()?;=#]+/,ie=/^[^=?&#]+/,st=/^[^&#]+/;class Vt{constructor(R){this.url=R,this.remaining=R}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Nt([],{}):new Nt([],this.parseChildren())}parseQueryParams(){const R={};if(this.consumeOptional("?"))do{this.parseQueryParam(R)}while(this.consumeOptional("&"));return R}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const R=[];for(this.peekStartsWith("(")||R.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),R.push(this.parseSegment());let b={};this.peekStartsWith("/(")&&(this.capture("/"),b=this.parseParens(!0));let M={};return this.peekStartsWith("(")&&(M=this.parseParens(!1)),(R.length>0||Object.keys(b).length>0)&&(M[ut]=new Nt(R,b)),M}parseSegment(){const R=j(this.remaining);if(""===R&&this.peekStartsWith(";"))throw new l.vHH(4009,!1);return this.capture(R),new Yn(Fn(R),this.parseMatrixParams())}parseMatrixParams(){const R={};for(;this.consumeOptional(";");)this.parseParam(R);return R}parseParam(R){const b=function k(T){const R=T.match(L);return R?R[0]:""}(this.remaining);if(!b)return;this.capture(b);let M="";if(this.consumeOptional("=")){const B=j(this.remaining);B&&(M=B,this.capture(M))}R[Fn(b)]=Fn(M)}parseQueryParam(R){const b=function Ne(T){const R=T.match(ie);return R?R[0]:""}(this.remaining);if(!b)return;this.capture(b);let M="";if(this.consumeOptional("=")){const le=function bt(T){const R=T.match(st);return R?R[0]:""}(this.remaining);le&&(M=le,this.capture(M))}const B=Un(b),X=Un(M);if(R.hasOwnProperty(B)){let le=R[B];Array.isArray(le)||(le=[le],R[B]=le),le.push(X)}else R[B]=X}parseParens(R){const b={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const M=j(this.remaining),B=this.remaining[M.length];if("/"!==B&&")"!==B&&";"!==B)throw new l.vHH(4010,!1);let X;M.indexOf(":")>-1?(X=M.slice(0,M.indexOf(":")),this.capture(X),this.capture(":")):R&&(X=ut);const le=this.parseChildren();b[X]=1===Object.keys(le).length?le[ut]:new Nt([],le),this.consumeOptional("//")}return b}peekStartsWith(R){return this.remaining.startsWith(R)}consumeOptional(R){return!!this.peekStartsWith(R)&&(this.remaining=this.remaining.substring(R.length),!0)}capture(R){if(!this.consumeOptional(R))throw new l.vHH(4011,!1)}}function Bt(T){return T.segments.length>0?new Nt([],{[ut]:T}):T}function en(T){const R={};for(const M of Object.keys(T.children)){const X=en(T.children[M]);if(M===ut&&0===X.segments.length&&X.hasChildren())for(const[le,ze]of Object.entries(X.children))R[le]=ze;else(X.segments.length>0||X.hasChildren())&&(R[M]=X)}return function Ln(T){if(1===T.numberOfChildren&&T.children[ut]){const R=T.children[ut];return new Nt(T.segments.concat(R.segments),R.children)}return T}(new Nt(T.segments,R))}function hn(T){return T instanceof br}function qo(T){let R;const B=Bt(function b(X){const le={};for(const He of X.children){const Ht=b(He);le[He.outlet]=Ht}const ze=new Nt(X.url,le);return X===T&&(R=ze),ze}(T.root));return R??B}function it(T,R,b,M){let B=T;for(;B.parent;)B=B.parent;if(0===R.length)return Yt(B,B,B,b,M);const X=function Wn(T){if("string"==typeof T[0]&&1===T.length&&"/"===T[0])return new zt(!0,0,T);let R=0,b=!1;const M=T.reduce((B,X,le)=>{if("object"==typeof X&&null!=X){if(X.outlets){const ze={};return Object.entries(X.outlets).forEach(([He,Ht])=>{ze[He]="string"==typeof Ht?Ht.split("/"):Ht}),[...B,{outlets:ze}]}if(X.segmentPath)return[...B,X.segmentPath]}return"string"!=typeof X?[...B,X]:0===le?(X.split("/").forEach((ze,He)=>{0==He&&"."===ze||(0==He&&""===ze?b=!0:".."===ze?R++:""!=ze&&B.push(ze))}),B):[...B,X]},[]);return new zt(b,R,M)}(R);if(X.toRoot())return Yt(B,B,new Nt([],{}),b,M);const le=function gr(T,R,b){if(T.isAbsolute)return new xr(R,!0,0);if(!b)return new xr(R,!1,NaN);if(null===b.parent)return new xr(b,!0,0);const M=Fe(T.commands[0])?0:1;return function Ai(T,R,b){let M=T,B=R,X=b;for(;X>B;){if(X-=B,M=M.parent,!M)throw new l.vHH(4005,!1);B=M.segments.length}return new xr(M,!1,B-X)}(b,b.segments.length-1+M,T.numberOfDoubleDots)}(X,B,T),ze=le.processChildren?zr(le.segmentGroup,le.index,X.commands):Fi(le.segmentGroup,le.index,X.commands);return Yt(B,le.segmentGroup,ze,b,M)}function Fe(T){return"object"==typeof T&&null!=T&&!T.outlets&&!T.segmentPath}function _t(T){return"object"==typeof T&&null!=T&&T.outlets}function Yt(T,R,b,M,B){let le,X={};M&&Object.entries(M).forEach(([He,Ht])=>{X[He]=Array.isArray(Ht)?Ht.map(Dn=>`${Dn}`):`${Ht}`}),le=T===R?b:gn(T,R,b);const ze=Bt(en(le));return new br(ze,X,B)}function gn(T,R,b){const M={};return Object.entries(T.children).forEach(([B,X])=>{M[B]=X===R?b:gn(X,R,b)}),new Nt(T.segments,M)}class zt{constructor(R,b,M){if(this.isAbsolute=R,this.numberOfDoubleDots=b,this.commands=M,R&&M.length>0&&Fe(M[0]))throw new l.vHH(4003,!1);const B=M.find(_t);if(B&&B!==We(M))throw new l.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class xr{constructor(R,b,M){this.segmentGroup=R,this.processChildren=b,this.index=M}}function Fi(T,R,b){if(T||(T=new Nt([],{})),0===T.segments.length&&T.hasChildren())return zr(T,R,b);const M=function fi(T,R,b){let M=0,B=R;const X={match:!1,pathIndex:0,commandIndex:0};for(;B<T.segments.length;){if(M>=b.length)return X;const le=T.segments[B],ze=b[M];if(_t(ze))break;const He=`${ze}`,Ht=M<b.length-1?b[M+1]:null;if(B>0&&void 0===He)break;if(He&&Ht&&"object"==typeof Ht&&void 0===Ht.outlets){if(!tr(He,Ht,le))return X;M+=2}else{if(!tr(He,{},le))return X;M++}B++}return{match:!0,pathIndex:B,commandIndex:M}}(T,R,b),B=b.slice(M.commandIndex);if(M.match&&M.pathIndex<T.segments.length){const X=new Nt(T.segments.slice(0,M.pathIndex),{});return X.children[ut]=new Nt(T.segments.slice(M.pathIndex),T.children),zr(X,0,B)}return M.match&&0===B.length?new Nt(T.segments,{}):M.match&&!T.hasChildren()?$n(T,R,b):M.match?zr(T,0,B):$n(T,R,b)}function zr(T,R,b){if(0===b.length)return new Nt(T.segments,{});{const M=function yi(T){return _t(T[0])?T[0].outlets:{[ut]:T}}(b),B={};if(Object.keys(M).some(X=>X!==ut)&&T.children[ut]&&1===T.numberOfChildren&&0===T.children[ut].segments.length){const X=zr(T.children[ut],R,b);return new Nt(T.segments,X.children)}return Object.entries(M).forEach(([X,le])=>{"string"==typeof le&&(le=[le]),null!==le&&(B[X]=Fi(T.children[X],R,le))}),Object.entries(T.children).forEach(([X,le])=>{void 0===M[X]&&(B[X]=le)}),new Nt(T.segments,B)}}function $n(T,R,b){const M=T.segments.slice(0,R);let B=0;for(;B<b.length;){const X=b[B];if(_t(X)){const He=ii(X.outlets);return new Nt(M,He)}if(0===B&&Fe(b[0])){M.push(new Yn(T.segments[R].path,Is(b[0]))),B++;continue}const le=_t(X)?X.outlets[ut]:`${X}`,ze=B<b.length-1?b[B+1]:null;le&&ze&&Fe(ze)?(M.push(new Yn(le,Is(ze))),B+=2):(M.push(new Yn(le,{})),B++)}return new Nt(M,{})}function ii(T){const R={};return Object.entries(T).forEach(([b,M])=>{"string"==typeof M&&(M=[M]),null!==M&&(R[b]=$n(new Nt([],{}),0,M))}),R}function Is(T){const R={};return Object.entries(T).forEach(([b,M])=>R[b]=`${M}`),R}function tr(T,R,b){return T==b.path&&Ie(R,b.parameters)}const Si="imperative";class oi{constructor(R,b){this.id=R,this.url=b}}class Ko extends oi{constructor(R,b,M="imperative",B=null){super(R,b),this.type=0,this.navigationTrigger=M,this.restoredState=B}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ri extends oi{constructor(R,b,M){super(R,b),this.urlAfterRedirects=M,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class po extends oi{constructor(R,b,M,B){super(R,b),this.reason=M,this.code=B,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Bo extends oi{constructor(R,b,M,B){super(R,b),this.reason=M,this.code=B,this.type=16}}class Wr extends oi{constructor(R,b,M,B){super(R,b),this.error=M,this.target=B,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Yo extends oi{constructor(R,b,M,B){super(R,b),this.urlAfterRedirects=M,this.state=B,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ls extends oi{constructor(R,b,M,B){super(R,b),this.urlAfterRedirects=M,this.state=B,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fl extends oi{constructor(R,b,M,B,X){super(R,b),this.urlAfterRedirects=M,this.state=B,this.shouldActivate=X,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Vs extends oi{constructor(R,b,M,B){super(R,b),this.urlAfterRedirects=M,this.state=B,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Js extends oi{constructor(R,b,M,B){super(R,b),this.urlAfterRedirects=M,this.state=B,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bs{constructor(R){this.route=R,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Bs{constructor(R){this.route=R,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Wa{constructor(R){this.snapshot=R,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Li{constructor(R){this.snapshot=R,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ds{constructor(R){this.snapshot=R,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xs{constructor(R){this.snapshot=R,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qr{constructor(R,b,M){this.routerEvent=R,this.position=b,this.anchor=M,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class bo{}class Ni{constructor(R){this.url=R}}class zi{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Vi,this.attachRef=null}}let Vi=(()=>{class T{constructor(){this.contexts=new Map}onChildOutletCreated(b,M){const B=this.getOrCreateContext(b);B.outlet=M,this.contexts.set(b,B)}onChildOutletDestroyed(b){const M=this.getContext(b);M&&(M.outlet=null,M.attachRef=null)}onOutletDeactivated(){const b=this.contexts;return this.contexts=new Map,b}onOutletReAttached(b){this.contexts=b}getOrCreateContext(b){let M=this.getContext(b);return M||(M=new zi,this.contexts.set(b,M)),M}getContext(b){return this.contexts.get(b)||null}static#e=this.\u0275fac=function(M){return new(M||T)};static#t=this.\u0275prov=l.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();class Do{constructor(R){this._root=R}get root(){return this._root.value}parent(R){const b=this.pathFromRoot(R);return b.length>1?b[b.length-2]:null}children(R){const b=Wi(R,this._root);return b?b.children.map(M=>M.value):[]}firstChild(R){const b=Wi(R,this._root);return b&&b.children.length>0?b.children[0].value:null}siblings(R){const b=In(R,this._root);return b.length<2?[]:b[b.length-2].children.map(B=>B.value).filter(B=>B!==R)}pathFromRoot(R){return In(R,this._root).map(b=>b.value)}}function Wi(T,R){if(T===R.value)return R;for(const b of R.children){const M=Wi(T,b);if(M)return M}return null}function In(T,R){if(T===R.value)return[R];for(const b of R.children){const M=In(T,b);if(M.length)return M.unshift(R),M}return[]}class sr{constructor(R,b){this.value=R,this.children=b}toString(){return`TreeNode(${this.value})`}}function mr(T){const R={};return T&&T.children.forEach(b=>R[b.value.outlet]=b),R}class Zo extends Do{constructor(R,b){super(R),this.snapshot=b,kt(this,R)}toString(){return this.snapshot.toString()}}function $r(T,R){const b=function Da(T,R){const le=new go([],{},{},"",{},ut,R,null,{});return new cr("",new sr(le,[]))}(0,R),M=new Te.X([new Yn("",{})]),B=new Te.X({}),X=new Te.X({}),le=new Te.X({}),ze=new Te.X(""),He=new si(M,B,le,ze,X,ut,R,b.root);return He.snapshot=b.root,new Zo(new sr(He,[]),b)}class si{constructor(R,b,M,B,X,le,ze,He){this.urlSubject=R,this.paramsSubject=b,this.queryParamsSubject=M,this.fragmentSubject=B,this.dataSubject=X,this.outlet=le,this.component=ze,this._futureSnapshot=He,this.title=this.dataSubject?.pipe((0,_e.U)(Ht=>Ht[pn]))??(0,se.of)(void 0),this.url=R,this.params=b,this.queryParams=M,this.fragment=B,this.data=X}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,_e.U)(R=>sn(R)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,_e.U)(R=>sn(R)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function To(T,R="emptyOnly"){const b=T.pathFromRoot;let M=0;if("always"!==R)for(M=b.length-1;M>=1;){const B=b[M],X=b[M-1];if(B.routeConfig&&""===B.routeConfig.path)M--;else{if(X.component)break;M--}}return function Hr(T){return T.reduce((R,b)=>({params:{...R.params,...b.params},data:{...R.data,...b.data},resolve:{...b.data,...R.resolve,...b.routeConfig?.data,...b._resolvedData}}),{params:{},data:{},resolve:{}})}(b.slice(M))}class go{get title(){return this.data?.[pn]}constructor(R,b,M,B,X,le,ze,He,Ht){this.url=R,this.params=b,this.queryParams=M,this.fragment=B,this.data=X,this.outlet=le,this.component=ze,this.routeConfig=He,this._resolve=Ht}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=sn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=sn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(M=>M.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class cr extends Do{constructor(R,b){super(b),this.url=R,kt(this,b)}toString(){return Wt(this._root)}}function kt(T,R){R.value._routerState=T,R.children.forEach(b=>kt(T,b))}function Wt(T){const R=T.children.length>0?` { ${T.children.map(Wt).join(", ")} } `:"";return`${T.value}${R}`}function nr(T){if(T.snapshot){const R=T.snapshot,b=T._futureSnapshot;T.snapshot=b,Ie(R.queryParams,b.queryParams)||T.queryParamsSubject.next(b.queryParams),R.fragment!==b.fragment&&T.fragmentSubject.next(b.fragment),Ie(R.params,b.params)||T.paramsSubject.next(b.params),function Qt(T,R){if(T.length!==R.length)return!1;for(let b=0;b<T.length;++b)if(!Ie(T[b],R[b]))return!1;return!0}(R.url,b.url)||T.urlSubject.next(b.url),Ie(R.data,b.data)||T.dataSubject.next(b.data)}else T.snapshot=T._futureSnapshot,T.dataSubject.next(T._futureSnapshot.data)}function Gr(T,R){const b=Ie(T.params,R.params)&&function or(T,R){return Pt(T,R)&&T.every((b,M)=>Ie(b.parameters,R[M].parameters))}(T.url,R.url);return b&&!(!T.parent!=!R.parent)&&(!T.parent||Gr(T.parent,R.parent))}let Ei=(()=>{class T{constructor(){this.activated=null,this._activatedRoute=null,this.name=ut,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.parentContexts=(0,l.f3M)(Vi),this.location=(0,l.f3M)(l.s_b),this.changeDetector=(0,l.f3M)(l.sBO),this.environmentInjector=(0,l.f3M)(l.lqb),this.inputBinder=(0,l.f3M)(oo,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(b){if(b.name){const{firstChange:M,previousValue:B}=b.name;if(M)return;this.isTrackedInParentContexts(B)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(B)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(b){return this.parentContexts.getContext(b)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const b=this.parentContexts.getContext(this.name);b?.route&&(b.attachRef?this.attach(b.attachRef,b.route):this.activateWith(b.route,b.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,!1);this.location.detach();const b=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(b.instance),b}attach(b,M){this.activated=b,this._activatedRoute=M,this.location.insert(b.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(b.instance)}deactivate(){if(this.activated){const b=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(b)}}activateWith(b,M){if(this.isActivated)throw new l.vHH(4013,!1);this._activatedRoute=b;const B=this.location,le=b.snapshot.component,ze=this.parentContexts.getOrCreateContext(this.name).children,He=new _r(b,ze,B.injector);this.activated=B.createComponent(le,{index:B.length,injector:He,environmentInjector:M??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(M){return new(M||T)};static#t=this.\u0275dir=l.lG2({type:T,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[l.TTD]})}return T})();class _r{constructor(R,b,M){this.route=R,this.childContexts=b,this.parent=M}get(R,b){return R===si?this.route:R===Vi?this.childContexts:this.parent.get(R,b)}}const oo=new l.OlP("");let Ar=(()=>{class T{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(b){this.unsubscribeFromRouteData(b),this.subscribeToRouteData(b)}unsubscribeFromRouteData(b){this.outletDataSubscriptions.get(b)?.unsubscribe(),this.outletDataSubscriptions.delete(b)}subscribeToRouteData(b){const{activatedRoute:M}=b,B=(0,Ve.a)([M.queryParams,M.params,M.data]).pipe((0,Ke.w)(([X,le,ze],He)=>(ze={...X,...le,...ze},0===He?(0,se.of)(ze):Promise.resolve(ze)))).subscribe(X=>{if(!b.isActivated||!b.activatedComponentRef||b.activatedRoute!==M||null===M.component)return void this.unsubscribeFromRouteData(b);const le=(0,l.qFp)(M.component);if(le)for(const{templateName:ze}of le.inputs)b.activatedComponentRef.setInput(ze,X[ze]);else this.unsubscribeFromRouteData(b)});this.outletDataSubscriptions.set(b,B)}static#e=this.\u0275fac=function(M){return new(M||T)};static#t=this.\u0275prov=l.Yz7({token:T,factory:T.\u0275fac})}return T})();function Uo(T,R,b){if(b&&T.shouldReuseRoute(R.value,b.value.snapshot)){const M=b.value;M._futureSnapshot=R.value;const B=function yn(T,R,b){return R.children.map(M=>{for(const B of b.children)if(T.shouldReuseRoute(M.value,B.value.snapshot))return Uo(T,M,B);return Uo(T,M)})}(T,R,b);return new sr(M,B)}{if(T.shouldAttach(R.value)){const X=T.retrieve(R.value);if(null!==X){const le=X.route;return le.value._futureSnapshot=R.value,le.children=R.children.map(ze=>Uo(T,ze)),le}}const M=function Qo(T){return new si(new Te.X(T.url),new Te.X(T.params),new Te.X(T.queryParams),new Te.X(T.fragment),new Te.X(T.data),T.outlet,T.component,T)}(R.value),B=R.children.map(X=>Uo(T,X));return new sr(M,B)}}const ai="ngNavigationCancelingError";function jo(T,R){const{redirectTo:b,navigationBehaviorOptions:M}=hn(R)?{redirectTo:R,navigationBehaviorOptions:void 0}:R,B=ar(!1,0,R);return B.url=b,B.navigationBehaviorOptions=M,B}function ar(T,R,b){const M=new Error("NavigationCancelingError: "+(T||""));return M[ai]=!0,M.cancellationCode=R,b&&(M.url=b),M}function qi(T){return T&&T[ai]}let Ki=(()=>{class T{static#e=this.\u0275fac=function(M){return new(M||T)};static#t=this.\u0275cmp=l.Xpm({type:T,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(M,B){1&M&&l._UZ(0,"router-outlet")},dependencies:[Ei],encapsulation:2})}return T})();function hs(T){const R=T.children&&T.children.map(hs),b=R?{...T,children:R}:{...T};return!b.component&&!b.loadComponent&&(R||b.loadChildren)&&b.outlet&&b.outlet!==ut&&(b.component=Ki),b}function Kr(T){return T.outlet||ut}function Co(T){if(!T)return null;if(T.routeConfig?._injector)return T.routeConfig._injector;for(let R=T.parent;R;R=R.parent){const b=R.routeConfig;if(b?._loadedInjector)return b._loadedInjector;if(b?._injector)return b._injector}return null}class ea{constructor(R,b,M,B,X){this.routeReuseStrategy=R,this.futureState=b,this.currState=M,this.forwardEvent=B,this.inputBindingEnabled=X}activate(R){const b=this.futureState._root,M=this.currState?this.currState._root:null;this.deactivateChildRoutes(b,M,R),nr(this.futureState.root),this.activateChildRoutes(b,M,R)}deactivateChildRoutes(R,b,M){const B=mr(b);R.children.forEach(X=>{const le=X.value.outlet;this.deactivateRoutes(X,B[le],M),delete B[le]}),Object.values(B).forEach(X=>{this.deactivateRouteAndItsChildren(X,M)})}deactivateRoutes(R,b,M){const B=R.value,X=b?b.value:null;if(B===X)if(B.component){const le=M.getContext(B.outlet);le&&this.deactivateChildRoutes(R,b,le.children)}else this.deactivateChildRoutes(R,b,M);else X&&this.deactivateRouteAndItsChildren(b,M)}deactivateRouteAndItsChildren(R,b){R.value.component&&this.routeReuseStrategy.shouldDetach(R.value.snapshot)?this.detachAndStoreRouteSubtree(R,b):this.deactivateRouteAndOutlet(R,b)}detachAndStoreRouteSubtree(R,b){const M=b.getContext(R.value.outlet),B=M&&R.value.component?M.children:b,X=mr(R);for(const le of Object.keys(X))this.deactivateRouteAndItsChildren(X[le],B);if(M&&M.outlet){const le=M.outlet.detach(),ze=M.children.onOutletDeactivated();this.routeReuseStrategy.store(R.value.snapshot,{componentRef:le,route:R,contexts:ze})}}deactivateRouteAndOutlet(R,b){const M=b.getContext(R.value.outlet),B=M&&R.value.component?M.children:b,X=mr(R);for(const le of Object.keys(X))this.deactivateRouteAndItsChildren(X[le],B);M&&(M.outlet&&(M.outlet.deactivate(),M.children.onOutletDeactivated()),M.attachRef=null,M.route=null)}activateChildRoutes(R,b,M){const B=mr(b);R.children.forEach(X=>{this.activateRoutes(X,B[X.value.outlet],M),this.forwardEvent(new Xs(X.value.snapshot))}),R.children.length&&this.forwardEvent(new Li(R.value.snapshot))}activateRoutes(R,b,M){const B=R.value,X=b?b.value:null;if(nr(B),B===X)if(B.component){const le=M.getOrCreateContext(B.outlet);this.activateChildRoutes(R,b,le.children)}else this.activateChildRoutes(R,b,M);else if(B.component){const le=M.getOrCreateContext(B.outlet);if(this.routeReuseStrategy.shouldAttach(B.snapshot)){const ze=this.routeReuseStrategy.retrieve(B.snapshot);this.routeReuseStrategy.store(B.snapshot,null),le.children.onOutletReAttached(ze.contexts),le.attachRef=ze.componentRef,le.route=ze.route.value,le.outlet&&le.outlet.attach(ze.componentRef,ze.route.value),nr(ze.route.value),this.activateChildRoutes(R,null,le.children)}else{const ze=Co(B.snapshot);le.attachRef=null,le.route=B,le.injector=ze,le.outlet&&le.outlet.activateWith(B,le.injector),this.activateChildRoutes(R,null,le.children)}}else this.activateChildRoutes(R,null,M)}}class pi{constructor(R){this.path=R,this.route=this.path[this.path.length-1]}}class Yr{constructor(R,b){this.component=R,this.route=b}}function ts(T,R,b){const M=T._root;return Gn(M,R?R._root:null,b,[M.value])}function $o(T,R){const b=Symbol(),M=R.get(T,b);return M===b?"function"!=typeof T||(0,l.Z0I)(T)?R.get(T):T:M}function Gn(T,R,b,M,B={canDeactivateChecks:[],canActivateChecks:[]}){const X=mr(R);return T.children.forEach(le=>{(function Us(T,R,b,M,B={canDeactivateChecks:[],canActivateChecks:[]}){const X=T.value,le=R?R.value:null,ze=b?b.getContext(T.value.outlet):null;if(le&&X.routeConfig===le.routeConfig){const He=function ta(T,R,b){if("function"==typeof b)return b(T,R);switch(b){case"pathParamsChange":return!Pt(T.url,R.url);case"pathParamsOrQueryParamsChange":return!Pt(T.url,R.url)||!Ie(T.queryParams,R.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Gr(T,R)||!Ie(T.queryParams,R.queryParams);default:return!Gr(T,R)}}(le,X,X.routeConfig.runGuardsAndResolvers);He?B.canActivateChecks.push(new pi(M)):(X.data=le.data,X._resolvedData=le._resolvedData),Gn(T,R,X.component?ze?ze.children:null:b,M,B),He&&ze&&ze.outlet&&ze.outlet.isActivated&&B.canDeactivateChecks.push(new Yr(ze.outlet.component,le))}else le&&js(R,ze,B),B.canActivateChecks.push(new pi(M)),Gn(T,null,X.component?ze?ze.children:null:b,M,B)})(le,X[le.value.outlet],b,M.concat([le.value]),B),delete X[le.value.outlet]}),Object.entries(X).forEach(([le,ze])=>js(ze,b.getContext(le),B)),B}function js(T,R,b){const M=mr(T),B=T.value;Object.entries(M).forEach(([X,le])=>{js(le,B.component?R?R.children.getContext(X):null:R,b)}),b.canDeactivateChecks.push(new Yr(B.component&&R&&R.outlet&&R.outlet.isActivated?R.outlet.component:null,B))}function na(T){return"function"==typeof T}function So(T){return T instanceof Oe.K||"EmptyError"===T?.name}const Jo=Symbol("INITIAL_VALUE");function so(){return(0,Ke.w)(T=>(0,Ve.a)(T.map(R=>R.pipe((0,Ce.q)(1),(0,Ae.O)(Jo)))).pipe((0,_e.U)(R=>{for(const b of R)if(!0!==b){if(b===Jo)return Jo;if(!1===b||b instanceof br)return b}return!0}),(0,at.h)(R=>R!==Jo),(0,Ce.q)(1)))}function Qi(T){return(0,be.z)((0,_n.b)(R=>{if(hn(R))throw jo(0,R)}),(0,_e.U)(R=>!0===R))}class ia{constructor(R){this.segmentGroup=R||null}}class ui{constructor(R){this.urlTree=R}}function ao(T){return Ue(new ia(T))}function Bi(T){return Ue(new ui(T))}class Pl{constructor(R,b){this.urlSerializer=R,this.urlTree=b}noMatchError(R){return new l.vHH(4002,!1)}lineralizeSegments(R,b){let M=[],B=b.root;for(;;){if(M=M.concat(B.segments),0===B.numberOfChildren)return(0,se.of)(M);if(B.numberOfChildren>1||!B.children[ut])return Ue(new l.vHH(4e3,!1));B=B.children[ut]}}applyRedirectCommands(R,b,M){return this.applyRedirectCreateUrlTree(b,this.urlSerializer.parse(b),R,M)}applyRedirectCreateUrlTree(R,b,M,B){const X=this.createSegmentGroup(R,b.root,M,B);return new br(X,this.createQueryParams(b.queryParams,this.urlTree.queryParams),b.fragment)}createQueryParams(R,b){const M={};return Object.entries(R).forEach(([B,X])=>{if("string"==typeof X&&X.startsWith(":")){const ze=X.substring(1);M[B]=b[ze]}else M[B]=X}),M}createSegmentGroup(R,b,M,B){const X=this.createSegments(R,b.segments,M,B);let le={};return Object.entries(b.children).forEach(([ze,He])=>{le[ze]=this.createSegmentGroup(R,He,M,B)}),new Nt(X,le)}createSegments(R,b,M,B){return b.map(X=>X.path.startsWith(":")?this.findPosParam(R,X,B):this.findOrReturn(X,M))}findPosParam(R,b,M){const B=M[b.path.substring(1)];if(!B)throw new l.vHH(4001,!1);return B}findOrReturn(R,b){let M=0;for(const B of b){if(B.path===R.path)return b.splice(M),B;M++}return R}}const Ss={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function xl(T,R,b,M,B){const X=wa(T,R,b);return X.matched?(M=function Yi(T,R){return T.providers&&!T._injector&&(T._injector=(0,l.MMx)(T.providers,R,`Route: ${T.path}`)),T._injector??R}(R,M),function As(T,R,b,M){const B=R.canMatch;if(!B||0===B.length)return(0,se.of)(!0);const X=B.map(le=>{const ze=$o(le,T);return rt(function de(T){return T&&na(T.canMatch)}(ze)?ze.canMatch(R,b):T.runInContext(()=>ze(R,b)))});return(0,se.of)(X).pipe(so(),Qi())}(M,R,b).pipe((0,_e.U)(le=>!0===le?X:{...Ss}))):(0,se.of)(X)}function wa(T,R,b){if(""===R.path)return"full"===R.pathMatch&&(T.hasChildren()||b.length>0)?{...Ss}:{matched:!0,consumedSegments:[],remainingSegments:b,parameters:{},positionalParamSegments:{}};const B=(R.matcher||An)(b,T,R);if(!B)return{...Ss};const X={};Object.entries(B.posParams??{}).forEach(([ze,He])=>{X[ze]=He.path});const le=B.consumed.length>0?{...X,...B.consumed[B.consumed.length-1].parameters}:X;return{matched:!0,consumedSegments:B.consumed,remainingSegments:b.slice(B.consumed.length),parameters:le,positionalParamSegments:B.posParams??{}}}function oa(T,R,b,M){return b.length>0&&function Za(T,R,b){return b.some(M=>Rs(T,R,M)&&Kr(M)!==ut)}(T,b,M)?{segmentGroup:new Nt(R,kl(M,new Nt(b,T.children))),slicedSegments:[]}:0===b.length&&function sa(T,R,b){return b.some(M=>Rs(T,R,M))}(T,b,M)?{segmentGroup:new Nt(T.segments,Ji(T,0,b,M,T.children)),slicedSegments:b}:{segmentGroup:new Nt(T.segments,T.children),slicedSegments:b}}function Ji(T,R,b,M,B){const X={};for(const le of M)if(Rs(T,b,le)&&!B[Kr(le)]){const ze=new Nt([],{});X[Kr(le)]=ze}return{...B,...X}}function kl(T,R){const b={};b[ut]=R;for(const M of T)if(""===M.path&&Kr(M)!==ut){const B=new Nt([],{});b[Kr(M)]=B}return b}function Rs(T,R,b){return(!(T.hasChildren()||R.length>0)||"full"!==b.pathMatch)&&""===b.path}class oc{constructor(R,b,M,B,X,le,ze){this.injector=R,this.configLoader=b,this.rootComponentType=M,this.config=B,this.urlTree=X,this.paramsInheritanceStrategy=le,this.urlSerializer=ze,this.allowRedirects=!0,this.applyRedirects=new Pl(this.urlSerializer,this.urlTree)}noMatchError(R){return new l.vHH(4002,!1)}recognize(){const R=oa(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,R,ut).pipe(pr(b=>{if(b instanceof ui)return this.allowRedirects=!1,this.urlTree=b.urlTree,this.match(b.urlTree);throw b instanceof ia?this.noMatchError(b):b}),(0,_e.U)(b=>{const M=new go([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ut,this.rootComponentType,null,{}),B=new sr(M,b),X=new cr("",B),le=function jr(T,R,b=null,M=null){return it(qo(T),R,b,M)}(M,[],this.urlTree.queryParams,this.urlTree.fragment);return le.queryParams=this.urlTree.queryParams,X.url=this.urlSerializer.serialize(le),this.inheritParamsAndData(X._root),{state:X,tree:le}}))}match(R){return this.processSegmentGroup(this.injector,this.config,R.root,ut).pipe(pr(M=>{throw M instanceof ia?this.noMatchError(M):M}))}inheritParamsAndData(R){const b=R.value,M=To(b,this.paramsInheritanceStrategy);b.params=Object.freeze(M.params),b.data=Object.freeze(M.data),R.children.forEach(B=>this.inheritParamsAndData(B))}processSegmentGroup(R,b,M,B){return 0===M.segments.length&&M.hasChildren()?this.processChildren(R,b,M):this.processSegment(R,b,M,M.segments,B,!0)}processChildren(R,b,M){const B=[];for(const X of Object.keys(M.children))"primary"===X?B.unshift(X):B.push(X);return(0,ge.D)(B).pipe(er(X=>{const le=M.children[X],ze=function Ta(T,R){const b=T.filter(M=>Kr(M)===R);return b.push(...T.filter(M=>Kr(M)!==R)),b}(b,X);return this.processSegmentGroup(R,ze,le,X)}),function Zt(T,R){return(0,ot.e)(function It(T,R,b,M,B){return(X,le)=>{let ze=b,He=R,Ht=0;X.subscribe((0,nt.x)(le,Dn=>{const Rr=Ht++;He=ze?T(He,Dn,Rr):(ze=!0,Dn),M&&le.next(He)},B&&(()=>{ze&&le.next(He),le.complete()})))}}(T,R,arguments.length>=2,!0))}((X,le)=>(X.push(...le),X)),(0,Lt.d)(null),function Ee(T,R){const b=arguments.length>=2;return M=>M.pipe(T?(0,at.h)((B,X)=>T(B,X,M)):Be.y,xe(1),b?(0,Lt.d)(R):(0,Se.T)(()=>new Oe.K))}(),(0,gt.z)(X=>{if(null===X)return ao(M);const le=Fl(X);return function Tu(T){T.sort((R,b)=>R.value.outlet===ut?-1:b.value.outlet===ut?1:R.value.outlet.localeCompare(b.value.outlet))}(le),(0,se.of)(le)}))}processSegment(R,b,M,B,X,le){return(0,ge.D)(b).pipe(er(ze=>this.processSegmentAgainstRoute(ze._injector??R,b,ze,M,B,X,le).pipe(pr(He=>{if(He instanceof ia)return(0,se.of)(null);throw He}))),(0,Jt.P)(ze=>!!ze),pr(ze=>{if(So(ze))return function $s(T,R,b){return 0===R.length&&!T.children[b]}(M,B,X)?(0,se.of)([]):ao(M);throw ze}))}processSegmentAgainstRoute(R,b,M,B,X,le,ze){return function lo(T,R,b,M){return!!(Kr(T)===M||M!==ut&&Rs(R,b,T))&&("**"===T.path||wa(R,T,b).matched)}(M,B,X,le)?void 0===M.redirectTo?this.matchSegmentAgainstRoute(R,B,M,X,le,ze):ze&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(R,B,b,M,X,le):ao(B):ao(B)}expandSegmentAgainstRouteUsingRedirect(R,b,M,B,X,le){return"**"===B.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(R,M,B,le):this.expandRegularSegmentAgainstRouteUsingRedirect(R,b,M,B,X,le)}expandWildCardWithParamsAgainstRouteUsingRedirect(R,b,M,B){const X=this.applyRedirects.applyRedirectCommands([],M.redirectTo,{});return M.redirectTo.startsWith("/")?Bi(X):this.applyRedirects.lineralizeSegments(M,X).pipe((0,gt.z)(le=>{const ze=new Nt(le,{});return this.processSegment(R,b,ze,le,B,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(R,b,M,B,X,le){const{matched:ze,consumedSegments:He,remainingSegments:Ht,positionalParamSegments:Dn}=wa(b,B,X);if(!ze)return ao(b);const Rr=this.applyRedirects.applyRedirectCommands(He,B.redirectTo,Dn);return B.redirectTo.startsWith("/")?Bi(Rr):this.applyRedirects.lineralizeSegments(B,Rr).pipe((0,gt.z)(Tn=>this.processSegment(R,M,b,Tn.concat(Ht),le,!1)))}matchSegmentAgainstRoute(R,b,M,B,X,le){let ze;if("**"===M.path){const He=B.length>0?We(B).parameters:{},Ht=new go(B,He,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ca(M),Kr(M),M.component??M._loadedComponent??null,M,aa(M));ze=(0,se.of)({snapshot:Ht,consumedSegments:[],remainingSegments:[]}),b.children={}}else ze=xl(b,M,B,R).pipe((0,_e.U)(({matched:He,consumedSegments:Ht,remainingSegments:Dn,parameters:Rr})=>He?{snapshot:new go(Ht,Rr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ca(M),Kr(M),M.component??M._loadedComponent??null,M,aa(M)),consumedSegments:Ht,remainingSegments:Dn}:null));return ze.pipe((0,Ke.w)(He=>null===He?ao(b):this.getChildConfig(R=M._injector??R,M,B).pipe((0,Ke.w)(({routes:Ht})=>{const Dn=M._loadedInjector??R,{snapshot:Rr,consumedSegments:Tn,remainingSegments:Os}=He,{segmentGroup:Ra,slicedSegments:Mi}=oa(b,Tn,Os,Ht);if(0===Mi.length&&Ra.hasChildren())return this.processChildren(Dn,Ht,Ra).pipe((0,_e.U)(Hs=>null===Hs?null:[new sr(Rr,Hs)]));if(0===Ht.length&&0===Mi.length)return(0,se.of)([new sr(Rr,[])]);const co=Kr(M)===X;return this.processSegment(Dn,Ht,Ra,Mi,co?ut:X,!0).pipe((0,_e.U)(Hs=>[new sr(Rr,Hs)]))}))))}getChildConfig(R,b,M){return b.children?(0,se.of)({routes:b.children,injector:R}):b.loadChildren?void 0!==b._loadedRoutes?(0,se.of)({routes:b._loadedRoutes,injector:b._loadedInjector}):function ns(T,R,b,M){const B=R.canLoad;if(void 0===B||0===B.length)return(0,se.of)(!0);const X=B.map(le=>{const ze=$o(le,T);return rt(function H(T){return T&&na(T.canLoad)}(ze)?ze.canLoad(R,b):T.runInContext(()=>ze(R,b)))});return(0,se.of)(X).pipe(so(),Qi())}(R,b,M).pipe((0,gt.z)(B=>B?this.configLoader.loadChildren(R,b).pipe((0,_n.b)(X=>{b._loadedRoutes=X.routes,b._loadedInjector=X.injector})):function fs(T){return Ue(ar(!1,3))}())):(0,se.of)({routes:[],injector:R})}}function rs(T){const R=T.value.routeConfig;return R&&""===R.path}function Fl(T){const R=[],b=new Set;for(const M of T){if(!rs(M)){R.push(M);continue}const B=R.find(X=>M.value.routeConfig===X.value.routeConfig);void 0!==B?(B.children.push(...M.children),b.add(B)):R.push(M)}for(const M of b){const B=Fl(M.children);R.push(new sr(M.value,B))}return R.filter(M=>!b.has(M))}function Ca(T){return T.data||{}}function aa(T){return T.resolve||{}}function A(T){return"string"==typeof T.title||null===T.title}function Y(T){return(0,Ke.w)(R=>{const b=T(R);return b?(0,ge.D)(b).pipe((0,_e.U)(()=>R)):(0,se.of)(R)})}const x=new l.OlP("ROUTES");let W=(()=>{class T{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,l.f3M)(l.Sil)}loadComponent(b){if(this.componentLoaders.get(b))return this.componentLoaders.get(b);if(b._loadedComponent)return(0,se.of)(b._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(b);const M=rt(b.loadComponent()).pipe((0,_e.U)(ct),(0,_n.b)(X=>{this.onLoadEndListener&&this.onLoadEndListener(b),b._loadedComponent=X}),tt(()=>{this.componentLoaders.delete(b)})),B=new Ct(M,()=>new me.x).pipe(St());return this.componentLoaders.set(b,B),B}loadChildren(b,M){if(this.childrenLoaders.get(M))return this.childrenLoaders.get(M);if(M._loadedRoutes)return(0,se.of)({routes:M._loadedRoutes,injector:M._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(M);const X=function ce(T,R,b,M){return rt(T.loadChildren()).pipe((0,_e.U)(ct),(0,gt.z)(B=>B instanceof l.YKP||Array.isArray(B)?(0,se.of)(B):(0,ge.D)(R.compileModuleAsync(B))),(0,_e.U)(B=>{M&&M(T);let X,le,ze=!1;return Array.isArray(B)?(le=B,!0):(X=B.create(b).injector,le=X.get(x,[],{optional:!0,self:!0}).flat()),{routes:le.map(hs),injector:X}}))}(M,this.compiler,b,this.onLoadEndListener).pipe(tt(()=>{this.childrenLoaders.delete(M)})),le=new Ct(X,()=>new me.x).pipe(St());return this.childrenLoaders.set(M,le),le}static#e=this.\u0275fac=function(M){return new(M||T)};static#t=this.\u0275prov=l.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();function ct(T){return function Ze(T){return T&&"object"==typeof T&&"default"in T}(T)?T.default:T}let qt=(()=>{class T{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new me.x,this.transitionAbortSubject=new me.x,this.configLoader=(0,l.f3M)(W),this.environmentInjector=(0,l.f3M)(l.lqb),this.urlSerializer=(0,l.f3M)(an),this.rootContexts=(0,l.f3M)(Vi),this.inputBindingEnabled=null!==(0,l.f3M)(oo,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,se.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=B=>this.events.next(new Bs(B)),this.configLoader.onLoadStartListener=B=>this.events.next(new bs(B))}complete(){this.transitions?.complete()}handleNavigationRequest(b){const M=++this.navigationId;this.transitions?.next({...this.transitions.value,...b,id:M})}setupNavigations(b,M,B){return this.transitions=new Te.X({id:0,currentUrlTree:M,currentRawUrl:M,currentBrowserUrl:M,extractedUrl:b.urlHandlingStrategy.extract(M),urlAfterRedirects:b.urlHandlingStrategy.extract(M),rawUrl:M,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Si,restoredState:null,currentSnapshot:B.snapshot,targetSnapshot:null,currentRouterState:B,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,at.h)(X=>0!==X.id),(0,_e.U)(X=>({...X,extractedUrl:b.urlHandlingStrategy.extract(X.rawUrl)})),(0,Ke.w)(X=>{this.currentTransition=X;let le=!1,ze=!1;return(0,se.of)(X).pipe((0,_n.b)(He=>{this.currentNavigation={id:He.id,initialUrl:He.rawUrl,extractedUrl:He.extractedUrl,trigger:He.source,extras:He.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Ke.w)(He=>{const Ht=He.currentBrowserUrl.toString(),Dn=!b.navigated||He.extractedUrl.toString()!==Ht||Ht!==He.currentUrlTree.toString();if(!Dn&&"reload"!==(He.extras.onSameUrlNavigation??b.onSameUrlNavigation)){const Tn="";return this.events.next(new Bo(He.id,this.urlSerializer.serialize(He.rawUrl),Tn,0)),He.resolve(null),Le.E}if(b.urlHandlingStrategy.shouldProcessUrl(He.rawUrl))return(0,se.of)(He).pipe((0,Ke.w)(Tn=>{const Os=this.transitions?.getValue();return this.events.next(new Ko(Tn.id,this.urlSerializer.serialize(Tn.extractedUrl),Tn.source,Tn.restoredState)),Os!==this.transitions?.getValue()?Le.E:Promise.resolve(Tn)}),function vl(T,R,b,M,B,X){return(0,gt.z)(le=>function dr(T,R,b,M,B,X,le="emptyOnly"){return new oc(T,R,b,M,B,le,X).recognize()}(T,R,b,M,le.extractedUrl,B,X).pipe((0,_e.U)(({state:ze,tree:He})=>({...le,targetSnapshot:ze,urlAfterRedirects:He}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,b.config,this.urlSerializer,b.paramsInheritanceStrategy),(0,_n.b)(Tn=>{X.targetSnapshot=Tn.targetSnapshot,X.urlAfterRedirects=Tn.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Tn.urlAfterRedirects};const Os=new Yo(Tn.id,this.urlSerializer.serialize(Tn.extractedUrl),this.urlSerializer.serialize(Tn.urlAfterRedirects),Tn.targetSnapshot);this.events.next(Os)}));if(Dn&&b.urlHandlingStrategy.shouldProcessUrl(He.currentRawUrl)){const{id:Tn,extractedUrl:Os,source:Ra,restoredState:Mi,extras:co}=He,Hs=new Ko(Tn,this.urlSerializer.serialize(Os),Ra,Mi);this.events.next(Hs);const vo=$r(0,this.rootComponentType).snapshot;return this.currentTransition=X={...He,targetSnapshot:vo,urlAfterRedirects:Os,extras:{...co,skipLocationChange:!1,replaceUrl:!1}},(0,se.of)(X)}{const Tn="";return this.events.next(new Bo(He.id,this.urlSerializer.serialize(He.extractedUrl),Tn,1)),He.resolve(null),Le.E}}),(0,_n.b)(He=>{const Ht=new Ls(He.id,this.urlSerializer.serialize(He.extractedUrl),this.urlSerializer.serialize(He.urlAfterRedirects),He.targetSnapshot);this.events.next(Ht)}),(0,_e.U)(He=>(this.currentTransition=X={...He,guards:ts(He.targetSnapshot,He.currentSnapshot,this.rootContexts)},X)),function Ml(T,R){return(0,gt.z)(b=>{const{targetSnapshot:M,currentSnapshot:B,guards:{canActivateChecks:X,canDeactivateChecks:le}}=b;return 0===le.length&&0===X.length?(0,se.of)({...b,guardsResult:!0}):function Ol(T,R,b,M){return(0,ge.D)(T).pipe((0,gt.z)(B=>function Ya(T,R,b,M,B){const X=R&&R.routeConfig?R.routeConfig.canDeactivate:null;if(!X||0===X.length)return(0,se.of)(!0);const le=X.map(ze=>{const He=Co(R)??B,Ht=$o(ze,He);return rt(function te(T){return T&&na(T.canDeactivate)}(Ht)?Ht.canDeactivate(T,R,b,M):He.runInContext(()=>Ht(T,R,b,M))).pipe((0,Jt.P)())});return(0,se.of)(le).pipe(so())}(B.component,B.route,b,R,M)),(0,Jt.P)(B=>!0!==B,!0))}(le,M,B,T).pipe((0,gt.z)(ze=>ze&&function gl(T){return"boolean"==typeof T}(ze)?function qa(T,R,b,M){return(0,ge.D)(R).pipe(er(B=>(0,re.z)(function ra(T,R){return null!==T&&R&&R(new Wa(T)),(0,se.of)(!0)}(B.route.parent,M),function ml(T,R){return null!==T&&R&&R(new Ds(T)),(0,se.of)(!0)}(B.route,M),function Ka(T,R,b){const M=R[R.length-1],X=R.slice(0,R.length-1).reverse().map(le=>function Xr(T){const R=T.routeConfig?T.routeConfig.canActivateChild:null;return R&&0!==R.length?{node:T,guards:R}:null}(le)).filter(le=>null!==le).map(le=>ye(()=>{const ze=le.guards.map(He=>{const Ht=Co(le.node)??b,Dn=$o(He,Ht);return rt(function P(T){return T&&na(T.canActivateChild)}(Dn)?Dn.canActivateChild(M,T):Ht.runInContext(()=>Dn(M,T))).pipe((0,Jt.P)())});return(0,se.of)(ze).pipe(so())}));return(0,se.of)(X).pipe(so())}(T,B.path,b),function od(T,R,b){const M=R.routeConfig?R.routeConfig.canActivate:null;if(!M||0===M.length)return(0,se.of)(!0);const B=M.map(X=>ye(()=>{const le=Co(R)??b,ze=$o(X,le);return rt(function q(T){return T&&na(T.canActivate)}(ze)?ze.canActivate(R,T):le.runInContext(()=>ze(R,T))).pipe((0,Jt.P)())}));return(0,se.of)(B).pipe(so())}(T,B.route,b))),(0,Jt.P)(B=>!0!==B,!0))}(M,X,T,R):(0,se.of)(ze)),(0,_e.U)(ze=>({...b,guardsResult:ze})))})}(this.environmentInjector,He=>this.events.next(He)),(0,_n.b)(He=>{if(X.guardsResult=He.guardsResult,hn(He.guardsResult))throw jo(0,He.guardsResult);const Ht=new fl(He.id,this.urlSerializer.serialize(He.extractedUrl),this.urlSerializer.serialize(He.urlAfterRedirects),He.targetSnapshot,!!He.guardsResult);this.events.next(Ht)}),(0,at.h)(He=>!!He.guardsResult||(this.cancelNavigationTransition(He,"",3),!1)),Y(He=>{if(He.guards.canActivateChecks.length)return(0,se.of)(He).pipe((0,_n.b)(Ht=>{const Dn=new Vs(Ht.id,this.urlSerializer.serialize(Ht.extractedUrl),this.urlSerializer.serialize(Ht.urlAfterRedirects),Ht.targetSnapshot);this.events.next(Dn)}),(0,Ke.w)(Ht=>{let Dn=!1;return(0,se.of)(Ht).pipe(function is(T,R){return(0,gt.z)(b=>{const{targetSnapshot:M,guards:{canActivateChecks:B}}=b;if(!B.length)return(0,se.of)(b);let X=0;return(0,ge.D)(B).pipe(er(le=>function Ro(T,R,b,M){const B=T.routeConfig,X=T._resolve;return void 0!==B?.title&&!A(B)&&(X[pn]=B.title),function Ui(T,R,b,M){const B=function la(T){return[...Object.keys(T),...Object.getOwnPropertySymbols(T)]}(T);if(0===B.length)return(0,se.of)({});const X={};return(0,ge.D)(B).pipe((0,gt.z)(le=>function Aa(T,R,b,M){const B=Co(R)??M,X=$o(T,B);return rt(X.resolve?X.resolve(R,b):B.runInContext(()=>X(R,b)))}(T[le],R,b,M).pipe((0,Jt.P)(),(0,_n.b)(ze=>{X[le]=ze}))),xe(1),(0,ke.h)(X),pr(le=>So(le)?Le.E:Ue(le)))}(X,T,R,M).pipe((0,_e.U)(le=>(T._resolvedData=le,T.data=To(T,b).resolve,B&&A(B)&&(T.data[pn]=B.title),null)))}(le.route,M,T,R)),(0,_n.b)(()=>X++),xe(1),(0,gt.z)(le=>X===B.length?(0,se.of)(b):Le.E))})}(b.paramsInheritanceStrategy,this.environmentInjector),(0,_n.b)({next:()=>Dn=!0,complete:()=>{Dn||this.cancelNavigationTransition(Ht,"",2)}}))}),(0,_n.b)(Ht=>{const Dn=new Js(Ht.id,this.urlSerializer.serialize(Ht.extractedUrl),this.urlSerializer.serialize(Ht.urlAfterRedirects),Ht.targetSnapshot);this.events.next(Dn)}))}),Y(He=>{const Ht=Dn=>{const Rr=[];Dn.routeConfig?.loadComponent&&!Dn.routeConfig._loadedComponent&&Rr.push(this.configLoader.loadComponent(Dn.routeConfig).pipe((0,_n.b)(Tn=>{Dn.component=Tn}),(0,_e.U)(()=>{})));for(const Tn of Dn.children)Rr.push(...Ht(Tn));return Rr};return(0,Ve.a)(Ht(He.targetSnapshot.root)).pipe((0,Lt.d)(),(0,Ce.q)(1))}),Y(()=>this.afterPreactivation()),(0,_e.U)(He=>{const Ht=function Ii(T,R,b){const M=Uo(T,R._root,b?b._root:void 0);return new Zo(M,R)}(b.routeReuseStrategy,He.targetSnapshot,He.currentRouterState);return this.currentTransition=X={...He,targetRouterState:Ht},X}),(0,_n.b)(()=>{this.events.next(new bo)}),((T,R,b,M)=>(0,_e.U)(B=>(new ea(R,B.targetRouterState,B.currentRouterState,b,M).activate(T),B)))(this.rootContexts,b.routeReuseStrategy,He=>this.events.next(He),this.inputBindingEnabled),(0,Ce.q)(1),(0,_n.b)({next:He=>{le=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ri(He.id,this.urlSerializer.serialize(He.extractedUrl),this.urlSerializer.serialize(He.urlAfterRedirects))),b.titleStrategy?.updateTitle(He.targetRouterState.snapshot),He.resolve(!0)},complete:()=>{le=!0}}),(0,vt.R)(this.transitionAbortSubject.pipe((0,_n.b)(He=>{throw He}))),tt(()=>{le||ze||this.cancelNavigationTransition(X,"",1),this.currentNavigation?.id===X.id&&(this.currentNavigation=null)}),pr(He=>{if(ze=!0,qi(He))this.events.next(new po(X.id,this.urlSerializer.serialize(X.extractedUrl),He.message,He.cancellationCode)),function ws(T){return qi(T)&&hn(T.url)}(He)?this.events.next(new Ni(He.url)):X.resolve(!1);else{this.events.next(new Wr(X.id,this.urlSerializer.serialize(X.extractedUrl),He,X.targetSnapshot??void 0));try{X.resolve(b.errorHandler(He))}catch(Ht){X.reject(Ht)}}return Le.E}))}))}cancelNavigationTransition(b,M,B){const X=new po(b.id,this.urlSerializer.serialize(b.extractedUrl),M,B);this.events.next(X),b.resolve(!1)}static#e=this.\u0275fac=function(M){return new(M||T)};static#t=this.\u0275prov=l.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();function Dr(T){return T!==Si}let Sr=(()=>{class T{buildTitle(b){let M,B=b.root;for(;void 0!==B;)M=this.getResolvedTitleForRoute(B)??M,B=B.children.find(X=>X.outlet===ut);return M}getResolvedTitleForRoute(b){return b.data[pn]}static#e=this.\u0275fac=function(M){return new(M||T)};static#t=this.\u0275prov=l.Yz7({token:T,factory:function(){return(0,l.f3M)(vr)},providedIn:"root"})}return T})(),vr=(()=>{class T extends Sr{constructor(b){super(),this.title=b}updateTitle(b){const M=this.buildTitle(b);void 0!==M&&this.title.setTitle(M)}static#e=this.\u0275fac=function(M){return new(M||T)(l.LFG(fn.Dx))};static#t=this.\u0275prov=l.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})(),kn=(()=>{class T{static#e=this.\u0275fac=function(M){return new(M||T)};static#t=this.\u0275prov=l.Yz7({token:T,factory:function(){return(0,l.f3M)(Lr)},providedIn:"root"})}return T})();class ei{shouldDetach(R){return!1}store(R,b){}shouldAttach(R){return!1}retrieve(R){return null}shouldReuseRoute(R,b){return R.routeConfig===b.routeConfig}}let Lr=(()=>{class T extends ei{static#e=this.\u0275fac=function(){let b;return function(B){return(b||(b=l.n5z(T)))(B||T)}}();static#t=this.\u0275prov=l.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();const Ur=new l.OlP("",{providedIn:"root",factory:()=>({})});let ps=(()=>{class T{static#e=this.\u0275fac=function(M){return new(M||T)};static#t=this.\u0275prov=l.Yz7({token:T,factory:function(){return(0,l.f3M)(Vr)},providedIn:"root"})}return T})(),Vr=(()=>{class T{shouldProcessUrl(b){return!0}extract(b){return b}merge(b,M){return b}static#e=this.\u0275fac=function(M){return new(M||T)};static#t=this.\u0275prov=l.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();var ji=function(T){return T[T.COMPLETE=0]="COMPLETE",T[T.FAILED=1]="FAILED",T[T.REDIRECTING=2]="REDIRECTING",T}(ji||{});function ci(T,R){T.events.pipe((0,at.h)(b=>b instanceof Ri||b instanceof po||b instanceof Wr||b instanceof Bo),(0,_e.U)(b=>b instanceof Ri||b instanceof Bo?ji.COMPLETE:b instanceof po&&(0===b.code||1===b.code)?ji.REDIRECTING:ji.FAILED),(0,at.h)(b=>b!==ji.REDIRECTING),(0,Ce.q)(1)).subscribe(()=>{R()})}function Ho(T){throw T}function mo(T,R,b){return R.parse("/")}const pt={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},bi={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Cn=(()=>{class T{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,l.f3M)(l.c2e),this.isNgZoneEnabled=!1,this._events=new me.x,this.options=(0,l.f3M)(Ur,{optional:!0})||{},this.pendingTasks=(0,l.f3M)(l.HDt),this.errorHandler=this.options.errorHandler||Ho,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||mo,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,l.f3M)(ps),this.routeReuseStrategy=(0,l.f3M)(kn),this.titleStrategy=(0,l.f3M)(Sr),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,l.f3M)(x,{optional:!0})?.flat()??[],this.navigationTransitions=(0,l.f3M)(qt),this.urlSerializer=(0,l.f3M)(an),this.location=(0,l.f3M)(Ge.Ye),this.componentInputBindingEnabled=!!(0,l.f3M)(oo,{optional:!0}),this.eventsSubscription=new Xe.w0,this.isNgZoneEnabled=(0,l.f3M)(l.R0b)instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new br,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=$r(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(b=>{this.lastSuccessfulId=b.id,this.currentPageId=this.browserPageId},b=>{this.console.warn(`Unhandled Navigation Error: ${b}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const b=this.navigationTransitions.events.subscribe(M=>{try{const{currentTransition:B}=this.navigationTransitions;if(null===B)return void(Kt(M)&&this._events.next(M));if(M instanceof Ko)Dr(B.source)&&(this.browserUrlTree=B.extractedUrl);else if(M instanceof Bo)this.rawUrlTree=B.rawUrl;else if(M instanceof Yo){if("eager"===this.urlUpdateStrategy){if(!B.extras.skipLocationChange){const X=this.urlHandlingStrategy.merge(B.urlAfterRedirects,B.rawUrl);this.setBrowserUrl(X,B)}this.browserUrlTree=B.urlAfterRedirects}}else if(M instanceof bo)this.currentUrlTree=B.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(B.urlAfterRedirects,B.rawUrl),this.routerState=B.targetRouterState,"deferred"===this.urlUpdateStrategy&&(B.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,B),this.browserUrlTree=B.urlAfterRedirects);else if(M instanceof po)0!==M.code&&1!==M.code&&(this.navigated=!0),(3===M.code||2===M.code)&&this.restoreHistory(B);else if(M instanceof Ni){const X=this.urlHandlingStrategy.merge(M.url,B.currentRawUrl),le={skipLocationChange:B.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Dr(B.source)};this.scheduleNavigation(X,Si,null,le,{resolve:B.resolve,reject:B.reject,promise:B.promise})}M instanceof Wr&&this.restoreHistory(B,!0),M instanceof Ri&&(this.navigated=!0),Kt(M)&&this._events.next(M)}catch(B){this.navigationTransitions.transitionAbortSubject.next(B)}});this.eventsSubscription.add(b)}resetRootComponentType(b){this.routerState.root.component=b,this.navigationTransitions.rootComponentType=b}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const b=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Si,b)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(b=>{const M="popstate"===b.type?"popstate":"hashchange";"popstate"===M&&setTimeout(()=>{this.navigateToSyncWithBrowser(b.url,M,b.state)},0)}))}navigateToSyncWithBrowser(b,M,B){const X={replaceUrl:!0},le=B?.navigationId?B:null;if(B){const He={...B};delete He.navigationId,delete He.\u0275routerPageId,0!==Object.keys(He).length&&(X.state=He)}const ze=this.parseUrl(b);this.scheduleNavigation(ze,M,le,X)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(b){this.config=b.map(hs),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(b,M={}){const{relativeTo:B,queryParams:X,fragment:le,queryParamsHandling:ze,preserveFragment:He}=M,Ht=He?this.currentUrlTree.fragment:le;let Rr,Dn=null;switch(ze){case"merge":Dn={...this.currentUrlTree.queryParams,...X};break;case"preserve":Dn=this.currentUrlTree.queryParams;break;default:Dn=X||null}null!==Dn&&(Dn=this.removeEmptyProps(Dn));try{Rr=qo(B?B.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof b[0]||!b[0].startsWith("/"))&&(b=[]),Rr=this.currentUrlTree.root}return it(Rr,b,Dn,Ht??null)}navigateByUrl(b,M={skipLocationChange:!1}){const B=hn(b)?b:this.parseUrl(b),X=this.urlHandlingStrategy.merge(B,this.rawUrlTree);return this.scheduleNavigation(X,Si,null,M)}navigate(b,M={skipLocationChange:!1}){return function Ll(T){for(let R=0;R<T.length;R++)if(null==T[R])throw new l.vHH(4008,!1)}(b),this.navigateByUrl(this.createUrlTree(b,M),M)}serializeUrl(b){return this.urlSerializer.serialize(b)}parseUrl(b){let M;try{M=this.urlSerializer.parse(b)}catch(B){M=this.malformedUriErrorHandler(B,this.urlSerializer,b)}return M}isActive(b,M){let B;if(B=!0===M?{...pt}:!1===M?{...bi}:M,hn(b))return ln(this.currentUrlTree,b,B);const X=this.parseUrl(b);return ln(this.currentUrlTree,X,B)}removeEmptyProps(b){return Object.keys(b).reduce((M,B)=>{const X=b[B];return null!=X&&(M[B]=X),M},{})}scheduleNavigation(b,M,B,X,le){if(this.disposed)return Promise.resolve(!1);let ze,He,Ht;le?(ze=le.resolve,He=le.reject,Ht=le.promise):Ht=new Promise((Rr,Tn)=>{ze=Rr,He=Tn});const Dn=this.pendingTasks.add();return ci(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Dn))}),this.navigationTransitions.handleNavigationRequest({source:M,restoredState:B,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:b,extras:X,resolve:ze,reject:He,promise:Ht,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ht.catch(Rr=>Promise.reject(Rr))}setBrowserUrl(b,M){const B=this.urlSerializer.serialize(b);if(this.location.isCurrentPathEqualTo(B)||M.extras.replaceUrl){const le={...M.extras.state,...this.generateNgRouterState(M.id,this.browserPageId)};this.location.replaceState(B,"",le)}else{const X={...M.extras.state,...this.generateNgRouterState(M.id,this.browserPageId+1)};this.location.go(B,"",X)}}restoreHistory(b,M=!1){if("computed"===this.canceledNavigationResolution){const X=this.currentPageId-this.browserPageId;0!==X?this.location.historyGo(X):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===X&&(this.resetState(b),this.browserUrlTree=b.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(M&&this.resetState(b),this.resetUrlToCurrentUrlTree())}resetState(b){this.routerState=b.currentRouterState,this.currentUrlTree=b.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,b.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(b,M){return"computed"===this.canceledNavigationResolution?{navigationId:b,\u0275routerPageId:M}:{navigationId:b}}static#e=this.\u0275fac=function(M){return new(M||T)};static#t=this.\u0275prov=l.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();function Kt(T){return!(T instanceof bo||T instanceof Ni)}let Ut=(()=>{class T{constructor(b,M,B,X,le,ze){this.router=b,this.route=M,this.tabIndexAttribute=B,this.renderer=X,this.el=le,this.locationStrategy=ze,this.href=null,this.commands=null,this.onChanges=new me.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const He=le.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===He||"area"===He,this.isAnchorElement?this.subscription=b.events.subscribe(Ht=>{Ht instanceof Ri&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(b){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",b)}ngOnChanges(b){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(b){null!=b?(this.commands=Array.isArray(b)?b:[b],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(b,M,B,X,le){return!!(null===this.urlTree||this.isAnchorElement&&(0!==b||M||B||X||le||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const b=null===this.href?null:(0,l.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",b)}applyAttributeValue(b,M){const B=this.renderer,X=this.el.nativeElement;null!==M?B.setAttribute(X,b,M):B.removeAttribute(X,b)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(M){return new(M||T)(l.Y36(Cn),l.Y36(si),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(Ge.S$))};static#t=this.\u0275dir=l.lG2({type:T,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(M,B){1&M&&l.NdJ("click",function(le){return B.onClick(le.button,le.ctrlKey,le.shiftKey,le.altKey,le.metaKey)}),2&M&&l.uIk("target",B.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",l.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",l.VuI],replaceUrl:["replaceUrl","replaceUrl",l.VuI],routerLink:"routerLink"},standalone:!0,features:[l.Xq5,l.TTD]})}return T})();class Qe{}let ac=(()=>{class T{constructor(b,M,B,X,le){this.router=b,this.injector=B,this.preloadingStrategy=X,this.loader=le}setUpPreloading(){this.subscription=this.router.events.pipe((0,at.h)(b=>b instanceof Ri),er(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(b,M){const B=[];for(const X of M){X.providers&&!X._injector&&(X._injector=(0,l.MMx)(X.providers,b,`Route: ${X.path}`));const le=X._injector??b,ze=X._loadedInjector??le;(X.loadChildren&&!X._loadedRoutes&&void 0===X.canLoad||X.loadComponent&&!X._loadedComponent)&&B.push(this.preloadConfig(le,X)),(X.children||X._loadedRoutes)&&B.push(this.processRoutes(ze,X.children??X._loadedRoutes))}return(0,ge.D)(B).pipe((0,lt.J)())}preloadConfig(b,M){return this.preloadingStrategy.preload(M,()=>{let B;B=M.loadChildren&&void 0===M.canLoad?this.loader.loadChildren(b,M):(0,se.of)(null);const X=B.pipe((0,gt.z)(le=>null===le?(0,se.of)(void 0):(M._loadedRoutes=le.routes,M._loadedInjector=le.injector,this.processRoutes(le.injector??b,le.routes))));if(M.loadComponent&&!M._loadedComponent){const le=this.loader.loadComponent(M);return(0,ge.D)([X,le]).pipe((0,lt.J)())}return X})}static#e=this.\u0275fac=function(M){return new(M||T)(l.LFG(Cn),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(Qe),l.LFG(W))};static#t=this.\u0275prov=l.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();const wu=new l.OlP("");let gs=(()=>{class T{constructor(b,M,B,X,le={}){this.urlSerializer=b,this.transitions=M,this.viewportScroller=B,this.zone=X,this.options=le,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},le.scrollPositionRestoration=le.scrollPositionRestoration||"disabled",le.anchorScrolling=le.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(b=>{b instanceof Ko?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=b.navigationTrigger,this.restoredId=b.restoredState?b.restoredState.navigationId:0):b instanceof Ri?(this.lastId=b.id,this.scheduleScrollEvent(b,this.urlSerializer.parse(b.urlAfterRedirects).fragment)):b instanceof Bo&&0===b.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(b,this.urlSerializer.parse(b.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(b=>{b instanceof qr&&(b.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(b.position):b.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(b.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(b,M){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new qr(b,"popstate"===this.lastSource?this.store[this.restoredId]:null,M))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(M){l.$Z()};static#t=this.\u0275prov=l.Yz7({token:T,factory:T.\u0275fac})}return T})();function Xo(T,R){return{\u0275kind:T,\u0275providers:R}}function uc(){const T=(0,l.f3M)(l.zs3);return R=>{const b=T.get(l.z2F);if(R!==b.components[0])return;const M=T.get(Cn),B=T.get(Mn);1===T.get(Sa)&&M.initialNavigation(),T.get(Go,null,l.XFs.Optional)?.setUpPreloading(),T.get(wu,null,l.XFs.Optional)?.init(),M.resetRootComponentType(b.componentTypes[0]),B.closed||(B.next(),B.complete(),B.unsubscribe())}}const Mn=new l.OlP("",{factory:()=>new me.x}),Sa=new l.OlP("",{providedIn:"root",factory:()=>1}),Go=new l.OlP("");function fr(T){return Xo(0,[{provide:Go,useExisting:ac},{provide:Qe,useExisting:T}])}const Hn=new l.OlP("ROUTER_FORROOT_GUARD"),cc=[Ge.Ye,{provide:an,useClass:hr},Cn,Vi,{provide:si,useFactory:function lc(T){return T.routerState.root},deps:[Cn]},W,[]];function ua(){return new l.PXZ("Router",Cn)}let _o=(()=>{class T{constructor(b){}static forRoot(b,M){return{ngModule:T,providers:[cc,[],{provide:x,multi:!0,useValue:b},{provide:Hn,useFactory:eo,deps:[[Cn,new l.FiY,new l.tp0]]},{provide:Ur,useValue:M||{}},M?.useHash?{provide:Ge.S$,useClass:Ge.Do}:{provide:Ge.S$,useClass:Ge.b0},{provide:wu,useFactory:()=>{const T=(0,l.f3M)(Ge.EM),R=(0,l.f3M)(l.R0b),b=(0,l.f3M)(Ur),M=(0,l.f3M)(qt),B=(0,l.f3M)(an);return b.scrollOffset&&T.setOffset(b.scrollOffset),new gs(B,M,T,R,b)}},M?.preloadingStrategy?fr(M.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:ua},M?.initialNavigation?Bl(M):[],M?.bindToComponentInputs?Xo(8,[Ar,{provide:oo,useExisting:Ar}]).\u0275providers:[],[{provide:Ul,useFactory:uc},{provide:l.tb,multi:!0,useExisting:Ul}]]}}static forChild(b){return{ngModule:T,providers:[{provide:x,multi:!0,useValue:b}]}}static#e=this.\u0275fac=function(M){return new(M||T)(l.LFG(Hn,8))};static#t=this.\u0275mod=l.oAB({type:T});static#n=this.\u0275inj=l.cJS({})}return T})();function eo(T){return"guarded"}function Bl(T){return["disabled"===T.initialNavigation?Xo(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const R=(0,l.f3M)(Cn);return()=>{R.setUpLocationChangeListener()}}},{provide:Sa,useValue:2}]).\u0275providers:[],"enabledBlocking"===T.initialNavigation?Xo(2,[{provide:Sa,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:R=>{const b=R.get(Ge.V_,Promise.resolve());return()=>b.then(()=>new Promise(M=>{const B=R.get(Cn),X=R.get(Mn);ci(B,()=>{M(!0)}),R.get(qt).afterPreactivation=()=>(M(!0),X.closed?(0,se.of)(void 0):X),B.initialNavigation()}))}}]).\u0275providers:[]]}const Ul=new l.OlP("")},3106:(Mt,je,V)=>{V.d(je,{Z:()=>Le});var l=V(9058),G=V(4537),ee=V(534),he=V(7879);class ge{constructor(ot,nt){this._delegate=ot,this.firebase=nt,(0,ee._addComponent)(ot,new G.wA("app-compat",()=>this,"PUBLIC")),this.container=ot.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ot){this._delegate.automaticDataCollectionEnabled=ot}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ot=>{this._delegate.checkDestroyed(),ot()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,ee.deleteApp)(this._delegate)))}_getService(ot,nt=ee._DEFAULT_ENTRY_NAME){var St;this._delegate.checkDestroyed();const Ct=this._delegate.container.getProvider(ot);return!Ct.isInitialized()&&"EXPLICIT"===(null===(St=Ct.getComponent())||void 0===St?void 0:St.instantiationMode)&&Ct.initialize(),Ct.getImmediate({identifier:nt})}_removeServiceInstance(ot,nt=ee._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ot).clearInstance(nt)}_addComponent(ot){(0,ee._addComponent)(this._delegate,ot)}_addOrOverwriteComponent(ot){(0,ee._addOrOverwriteComponent)(this._delegate,ot)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Te=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),re=function Oe(){const Xe=function Ve(Xe){const ot={},nt={__esModule:!0,initializeApp:function me(Ce,Ae={}){const at=ee.initializeApp(Ce,Ae);if((0,l.r3)(ot,at.name))return ot[at.name];const gt=new Xe(at,nt);return ot[at.name]=gt,gt},app:Ct,registerVersion:ee.registerVersion,setLogLevel:ee.setLogLevel,onLog:ee.onLog,apps:null,SDK_VERSION:ee.SDK_VERSION,INTERNAL:{registerComponent:function _e(Ce){const Ae=Ce.name,at=Ae.replace("-compat","");if(ee._registerComponent(Ce)&&"PUBLIC"===Ce.type){const gt=(Jt=Ct())=>{if("function"!=typeof Jt[at])throw Te.create("invalid-app-argument",{appName:Ae});return Jt[at]()};void 0!==Ce.serviceProps&&(0,l.ZB)(gt,Ce.serviceProps),nt[at]=gt,Xe.prototype[at]=function(...Jt){return this._getService.bind(this,Ae).apply(this,Ce.multipleInstances?Jt:[])}}return"PUBLIC"===Ce.type?nt[at]:null},removeApp:function St(Ce){delete ot[Ce]},useAsService:function Ke(Ce,Ae){return"serverAuth"===Ae?null:Ae},modularAPIs:ee}};function Ct(Ce){if(!(0,l.r3)(ot,Ce=Ce||ee._DEFAULT_ENTRY_NAME))throw Te.create("no-app",{appName:Ce});return ot[Ce]}return nt.default=nt,Object.defineProperty(nt,"apps",{get:function Ge(){return Object.keys(ot).map(Ce=>ot[Ce])}}),Ct.App=Xe,nt}(ge);return Xe.INTERNAL=Object.assign(Object.assign({},Xe.INTERNAL),{createFirebaseNamespace:Oe,extendNamespace:function ot(nt){(0,l.ZB)(Xe,nt)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),Xe}(),ue=new he.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){ue.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Xe=self.firebase.SDK_VERSION;Xe&&Xe.indexOf("LITE")>=0&&ue.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Le=re;!function Ue(Xe){(0,ee.registerVersion)("@firebase/app-compat","0.2.22",Xe)}()},534:(Mt,je,V)=>{V.r(je),V.d(je,{FirebaseError:()=>he.ZR,SDK_VERSION:()=>Jr,_DEFAULT_ENTRY_NAME:()=>Rt,_addComponent:()=>wn,_addOrOverwriteComponent:()=>br,_apps:()=>cn,_clearComponents:()=>Pt,_components:()=>jn,_getProvider:()=>Yn,_registerComponent:()=>Nt,_removeServiceInstance:()=>or,deleteApp:()=>Pr,getApp:()=>Mr,getApps:()=>Or,initializeApp:()=>ri,onLog:()=>Fn,registerVersion:()=>Zn,setLogLevel:()=>Un});var l=V(5861),G=V(4537),ee=V(7879),he=V(9058);const ge=(it,Fe)=>Fe.some(_t=>it instanceof _t);let se,Te;const re=new WeakMap,ue=new WeakMap,ye=new WeakMap,be=new WeakMap,Ue=new WeakMap;let ot={get(it,Fe,_t){if(it instanceof IDBTransaction){if("done"===Fe)return ue.get(it);if("objectStoreNames"===Fe)return it.objectStoreNames||ye.get(it);if("store"===Fe)return _t.objectStoreNames[1]?void 0:_t.objectStore(_t.objectStoreNames[0])}return me(it[Fe])},set:(it,Fe,_t)=>(it[Fe]=_t,!0),has:(it,Fe)=>it instanceof IDBTransaction&&("done"===Fe||"store"===Fe)||Fe in it};function Ct(it){return"function"==typeof it?function St(it){return it!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Oe(){return Te||(Te=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(it)?function(...Fe){return it.apply(Ge(this),Fe),me(re.get(this))}:function(...Fe){return me(it.apply(Ge(this),Fe))}:function(Fe,..._t){const Yt=it.call(Ge(this),Fe,..._t);return ye.set(Yt,Fe.sort?Fe.sort():[Fe]),me(Yt)}}(it):(it instanceof IDBTransaction&&function Xe(it){if(ue.has(it))return;const Fe=new Promise((_t,Yt)=>{const gn=()=>{it.removeEventListener("complete",zt),it.removeEventListener("error",Wn),it.removeEventListener("abort",Wn)},zt=()=>{_t(),gn()},Wn=()=>{Yt(it.error||new DOMException("AbortError","AbortError")),gn()};it.addEventListener("complete",zt),it.addEventListener("error",Wn),it.addEventListener("abort",Wn)});ue.set(it,Fe)}(it),ge(it,function Ve(){return se||(se=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(it,ot):it)}function me(it){if(it instanceof IDBRequest)return function Le(it){const Fe=new Promise((_t,Yt)=>{const gn=()=>{it.removeEventListener("success",zt),it.removeEventListener("error",Wn)},zt=()=>{_t(me(it.result)),gn()},Wn=()=>{Yt(it.error),gn()};it.addEventListener("success",zt),it.addEventListener("error",Wn)});return Fe.then(_t=>{_t instanceof IDBCursor&&re.set(_t,it)}).catch(()=>{}),Ue.set(Fe,it),Fe}(it);if(be.has(it))return be.get(it);const Fe=Ct(it);return Fe!==it&&(be.set(it,Fe),Ue.set(Fe,it)),Fe}const Ge=it=>Ue.get(it),Ce=["get","getKey","getAll","getAllKeys","count"],Ae=["put","add","delete","clear"],at=new Map;function gt(it,Fe){if(!(it instanceof IDBDatabase)||Fe in it||"string"!=typeof Fe)return;if(at.get(Fe))return at.get(Fe);const _t=Fe.replace(/FromIndex$/,""),Yt=Fe!==_t,gn=Ae.includes(_t);if(!(_t in(Yt?IDBIndex:IDBObjectStore).prototype)||!gn&&!Ce.includes(_t))return;const zt=function(){var Wn=(0,l.Z)(function*(xr,...gr){const Ai=this.transaction(xr,gn?"readwrite":"readonly");let yi=Ai.store;return Yt&&(yi=yi.index(gr.shift())),(yield Promise.all([yi[_t](...gr),gn&&Ai.done]))[0]});return function(gr){return Wn.apply(this,arguments)}}();return at.set(Fe,zt),zt}!function nt(it){ot=it(ot)}(it=>({...it,get:(Fe,_t,Yt)=>gt(Fe,_t)||it.get(Fe,_t,Yt),has:(Fe,_t)=>!!gt(Fe,_t)||it.has(Fe,_t)}));class Jt{constructor(Fe){this.container=Fe}getPlatformInfoString(){return this.container.getProviders().map(_t=>{if(function er(it){const Fe=it.getComponent();return"VERSION"===Fe?.type}(_t)){const Yt=_t.getImmediate();return`${Yt.library}/${Yt.version}`}return null}).filter(_t=>_t).join(" ")}}const _n="@firebase/app",It=new ee.Yd("@firebase/app"),Rt="[DEFAULT]",tn={[_n]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},cn=new Map,jn=new Map;function wn(it,Fe){try{it.container.addComponent(Fe)}catch(_t){It.debug(`Component ${Fe.name} failed to register with FirebaseApp ${it.name}`,_t)}}function br(it,Fe){it.container.addOrOverwriteComponent(Fe)}function Nt(it){const Fe=it.name;if(jn.has(Fe))return It.debug(`There were multiple attempts to register component ${Fe}.`),!1;jn.set(Fe,it);for(const _t of cn.values())wn(_t,it);return!0}function Yn(it,Fe){const _t=it.container.getProvider("heartbeat").getImmediate({optional:!0});return _t&&_t.triggerHeartbeat(),it.container.getProvider(Fe)}function or(it,Fe,_t=Rt){Yn(it,Fe).clearInstance(_t)}function Pt(){jn.clear()}const an=new he.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class hr{constructor(Fe,_t,Yt){this._isDeleted=!1,this._options=Object.assign({},Fe),this._config=Object.assign({},_t),this._name=_t.name,this._automaticDataCollectionEnabled=_t.automaticDataCollectionEnabled,this._container=Yt,this.container.addComponent(new G.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Fe){this.checkDestroyed(),this._automaticDataCollectionEnabled=Fe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Fe){this._isDeleted=Fe}checkDestroyed(){if(this.isDeleted)throw an.create("app-deleted",{appName:this._name})}}const Jr="10.5.2";function ri(it,Fe={}){let _t=it;"object"!=typeof Fe&&(Fe={name:Fe});const Yt=Object.assign({name:Rt,automaticDataCollectionEnabled:!1},Fe),gn=Yt.name;if("string"!=typeof gn||!gn)throw an.create("bad-app-name",{appName:String(gn)});if(_t||(_t=(0,he.aH)()),!_t)throw an.create("no-options");const zt=cn.get(gn);if(zt){if((0,he.vZ)(_t,zt.options)&&(0,he.vZ)(Yt,zt.config))return zt;throw an.create("duplicate-app",{appName:gn})}const Wn=new G.H0(gn);for(const gr of jn.values())Wn.addComponent(gr);const xr=new hr(_t,Yt,Wn);return cn.set(gn,xr),xr}function Mr(it=Rt){const Fe=cn.get(it);if(!Fe&&it===Rt&&(0,he.aH)())return ri();if(!Fe)throw an.create("no-app",{appName:it});return Fe}function Or(){return Array.from(cn.values())}function Pr(it){return ur.apply(this,arguments)}function ur(){return(ur=(0,l.Z)(function*(it){const Fe=it.name;cn.has(Fe)&&(cn.delete(Fe),yield Promise.all(it.container.getProviders().map(_t=>_t.delete())),it.isDeleted=!0)})).apply(this,arguments)}function Zn(it,Fe,_t){var Yt;let gn=null!==(Yt=tn[it])&&void 0!==Yt?Yt:it;_t&&(gn+=`-${_t}`);const zt=gn.match(/\s|\//),Wn=Fe.match(/\s|\//);if(zt||Wn){const xr=[`Unable to register library "${gn}" with version "${Fe}":`];return zt&&xr.push(`library name "${gn}" contains illegal characters (whitespace or "/")`),zt&&Wn&&xr.push("and"),Wn&&xr.push(`version name "${Fe}" contains illegal characters (whitespace or "/")`),void It.warn(xr.join(" "))}Nt(new G.wA(`${gn}-version`,()=>({library:gn,version:Fe}),"VERSION"))}function Fn(it,Fe){if(null!==it&&"function"!=typeof it)throw an.create("invalid-log-argument");(0,ee.Am)(it,Fe)}function Un(it){(0,ee.Ub)(it)}const xi="firebase-heartbeat-database",ki=1,fe="firebase-heartbeat-store";let J=null;function j(){return J||(J=function _e(it,Fe,{blocked:_t,upgrade:Yt,blocking:gn,terminated:zt}={}){const Wn=indexedDB.open(it,Fe),xr=me(Wn);return Yt&&Wn.addEventListener("upgradeneeded",gr=>{Yt(me(Wn.result),gr.oldVersion,gr.newVersion,me(Wn.transaction),gr)}),_t&&Wn.addEventListener("blocked",gr=>_t(gr.oldVersion,gr.newVersion,gr)),xr.then(gr=>{zt&&gr.addEventListener("close",()=>zt()),gn&&gr.addEventListener("versionchange",Ai=>gn(Ai.oldVersion,Ai.newVersion,Ai))}).catch(()=>{}),xr}(xi,ki,{upgrade:(it,Fe)=>{0===Fe&&it.createObjectStore(fe)}}).catch(it=>{throw an.create("idb-open",{originalErrorMessage:it.message})})),J}function k(){return(k=(0,l.Z)(function*(it){try{return yield(yield j()).transaction(fe).objectStore(fe).get(st(it))}catch(Fe){if(Fe instanceof he.ZR)It.warn(Fe.message);else{const _t=an.create("idb-get",{originalErrorMessage:Fe?.message});It.warn(_t.message)}}})).apply(this,arguments)}function ie(it,Fe){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,l.Z)(function*(it,Fe){try{const Yt=(yield j()).transaction(fe,"readwrite");yield Yt.objectStore(fe).put(Fe,st(it)),yield Yt.done}catch(_t){if(_t instanceof he.ZR)It.warn(_t.message);else{const Yt=an.create("idb-set",{originalErrorMessage:_t?.message});It.warn(Yt.message)}}})).apply(this,arguments)}function st(it){return`${it.name}!${it.options.appId}`}class Bt{constructor(Fe){this.container=Fe,this._heartbeatsCache=null;const _t=this.container.getProvider("app").getImmediate();this._storage=new hn(_t),this._heartbeatsCachePromise=this._storage.read().then(Yt=>(this._heartbeatsCache=Yt,Yt))}triggerHeartbeat(){var Fe=this;return(0,l.Z)(function*(){const Yt=Fe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),gn=en();if(null===Fe._heartbeatsCache&&(Fe._heartbeatsCache=yield Fe._heartbeatsCachePromise),Fe._heartbeatsCache.lastSentHeartbeatDate!==gn&&!Fe._heartbeatsCache.heartbeats.some(zt=>zt.date===gn))return Fe._heartbeatsCache.heartbeats.push({date:gn,agent:Yt}),Fe._heartbeatsCache.heartbeats=Fe._heartbeatsCache.heartbeats.filter(zt=>{const Wn=new Date(zt.date).valueOf();return Date.now()-Wn<=2592e6}),Fe._storage.overwrite(Fe._heartbeatsCache)})()}getHeartbeatsHeader(){var Fe=this;return(0,l.Z)(function*(){if(null===Fe._heartbeatsCache&&(yield Fe._heartbeatsCachePromise),null===Fe._heartbeatsCache||0===Fe._heartbeatsCache.heartbeats.length)return"";const _t=en(),{heartbeatsToSend:Yt,unsentEntries:gn}=function Ln(it,Fe=1024){const _t=[];let Yt=it.slice();for(const gn of it){const zt=_t.find(Wn=>Wn.agent===gn.agent);if(zt){if(zt.dates.push(gn.date),jr(_t)>Fe){zt.dates.pop();break}}else if(_t.push({agent:gn.agent,dates:[gn.date]}),jr(_t)>Fe){_t.pop();break}Yt=Yt.slice(1)}return{heartbeatsToSend:_t,unsentEntries:Yt}}(Fe._heartbeatsCache.heartbeats),zt=(0,he.L)(JSON.stringify({version:2,heartbeats:Yt}));return Fe._heartbeatsCache.lastSentHeartbeatDate=_t,gn.length>0?(Fe._heartbeatsCache.heartbeats=gn,yield Fe._storage.overwrite(Fe._heartbeatsCache)):(Fe._heartbeatsCache.heartbeats=[],Fe._storage.overwrite(Fe._heartbeatsCache)),zt})()}}function en(){return(new Date).toISOString().substring(0,10)}class hn{constructor(Fe){this.app=Fe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,he.hl)()&&(0,he.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Fe=this;return(0,l.Z)(function*(){return(yield Fe._canUseIndexedDBPromise)&&(yield function L(it){return k.apply(this,arguments)}(Fe.app))||{heartbeats:[]}})()}overwrite(Fe){var _t=this;return(0,l.Z)(function*(){var Yt;if(yield _t._canUseIndexedDBPromise){const zt=yield _t.read();return ie(_t.app,{lastSentHeartbeatDate:null!==(Yt=Fe.lastSentHeartbeatDate)&&void 0!==Yt?Yt:zt.lastSentHeartbeatDate,heartbeats:Fe.heartbeats})}})()}add(Fe){var _t=this;return(0,l.Z)(function*(){var Yt;if(yield _t._canUseIndexedDBPromise){const zt=yield _t.read();return ie(_t.app,{lastSentHeartbeatDate:null!==(Yt=Fe.lastSentHeartbeatDate)&&void 0!==Yt?Yt:zt.lastSentHeartbeatDate,heartbeats:[...zt.heartbeats,...Fe.heartbeats]})}})()}}function jr(it){return(0,he.L)(JSON.stringify({version:2,heartbeats:it})).length}!function qo(it){Nt(new G.wA("platform-logger",Fe=>new Jt(Fe),"PRIVATE")),Nt(new G.wA("heartbeat",Fe=>new Bt(Fe),"PRIVATE")),Zn(_n,"0.9.22",it),Zn(_n,"0.9.22","esm2017"),Zn("fire-js","")}("")},4537:(Mt,je,V)=>{V.d(je,{H0:()=>Ve,wA:()=>ee});var l=V(5861),G=V(9058);class ee{constructor(re,ue,ye){this.name=re,this.instanceFactory=ue,this.type=ye,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(re){return this.instantiationMode=re,this}setMultipleInstances(re){return this.multipleInstances=re,this}setServiceProps(re){return this.serviceProps=re,this}setInstanceCreatedCallback(re){return this.onInstanceCreated=re,this}}const he="[DEFAULT]";class ge{constructor(re,ue){this.name=re,this.container=ue,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(re){const ue=this.normalizeInstanceIdentifier(re);if(!this.instancesDeferred.has(ue)){const ye=new G.BH;if(this.instancesDeferred.set(ue,ye),this.isInitialized(ue)||this.shouldAutoInitialize())try{const be=this.getOrInitializeService({instanceIdentifier:ue});be&&ye.resolve(be)}catch{}}return this.instancesDeferred.get(ue).promise}getImmediate(re){var ue;const ye=this.normalizeInstanceIdentifier(re?.identifier),be=null!==(ue=re?.optional)&&void 0!==ue&&ue;if(!this.isInitialized(ye)&&!this.shouldAutoInitialize()){if(be)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ye})}catch(Ue){if(be)return null;throw Ue}}getComponent(){return this.component}setComponent(re){if(re.name!==this.name)throw Error(`Mismatching Component ${re.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=re,this.shouldAutoInitialize()){if(function Te(Oe){return"EAGER"===Oe.instantiationMode}(re))try{this.getOrInitializeService({instanceIdentifier:he})}catch{}for(const[ue,ye]of this.instancesDeferred.entries()){const be=this.normalizeInstanceIdentifier(ue);try{const Ue=this.getOrInitializeService({instanceIdentifier:be});ye.resolve(Ue)}catch{}}}}clearInstance(re=he){this.instancesDeferred.delete(re),this.instancesOptions.delete(re),this.instances.delete(re)}delete(){var re=this;return(0,l.Z)(function*(){const ue=Array.from(re.instances.values());yield Promise.all([...ue.filter(ye=>"INTERNAL"in ye).map(ye=>ye.INTERNAL.delete()),...ue.filter(ye=>"_delete"in ye).map(ye=>ye._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(re=he){return this.instances.has(re)}getOptions(re=he){return this.instancesOptions.get(re)||{}}initialize(re={}){const{options:ue={}}=re,ye=this.normalizeInstanceIdentifier(re.instanceIdentifier);if(this.isInitialized(ye))throw Error(`${this.name}(${ye}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const be=this.getOrInitializeService({instanceIdentifier:ye,options:ue});for(const[Ue,Le]of this.instancesDeferred.entries())ye===this.normalizeInstanceIdentifier(Ue)&&Le.resolve(be);return be}onInit(re,ue){var ye;const be=this.normalizeInstanceIdentifier(ue),Ue=null!==(ye=this.onInitCallbacks.get(be))&&void 0!==ye?ye:new Set;Ue.add(re),this.onInitCallbacks.set(be,Ue);const Le=this.instances.get(be);return Le&&re(Le,be),()=>{Ue.delete(re)}}invokeOnInitCallbacks(re,ue){const ye=this.onInitCallbacks.get(ue);if(ye)for(const be of ye)try{be(re,ue)}catch{}}getOrInitializeService({instanceIdentifier:re,options:ue={}}){let ye=this.instances.get(re);if(!ye&&this.component&&(ye=this.component.instanceFactory(this.container,{instanceIdentifier:(Oe=re,Oe===he?void 0:Oe),options:ue}),this.instances.set(re,ye),this.instancesOptions.set(re,ue),this.invokeOnInitCallbacks(ye,re),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,re,ye)}catch{}var Oe;return ye||null}normalizeInstanceIdentifier(re=he){return this.component?this.component.multipleInstances?re:he:re}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ve{constructor(re){this.name=re,this.providers=new Map}addComponent(re){const ue=this.getProvider(re.name);if(ue.isComponentSet())throw new Error(`Component ${re.name} has already been registered with ${this.name}`);ue.setComponent(re)}addOrOverwriteComponent(re){this.getProvider(re.name).isComponentSet()&&this.providers.delete(re.name),this.addComponent(re)}getProvider(re){if(this.providers.has(re))return this.providers.get(re);const ue=new ge(re,this);return this.providers.set(re,ue),ue}getProviders(){return Array.from(this.providers.values())}}},7879:(Mt,je,V)=>{V.d(je,{Am:()=>Oe,Ub:()=>Ve,Yd:()=>Te,in:()=>G});const l=[];var G=function(re){return re[re.DEBUG=0]="DEBUG",re[re.VERBOSE=1]="VERBOSE",re[re.INFO=2]="INFO",re[re.WARN=3]="WARN",re[re.ERROR=4]="ERROR",re[re.SILENT=5]="SILENT",re}(G||{});const ee={debug:G.DEBUG,verbose:G.VERBOSE,info:G.INFO,warn:G.WARN,error:G.ERROR,silent:G.SILENT},he=G.INFO,ge={[G.DEBUG]:"log",[G.VERBOSE]:"log",[G.INFO]:"info",[G.WARN]:"warn",[G.ERROR]:"error"},se=(re,ue,...ye)=>{if(ue<re.logLevel)return;const be=(new Date).toISOString(),Ue=ge[ue];if(!Ue)throw new Error(`Attempted to log a message with an invalid logType (value: ${ue})`);console[Ue](`[${be}]  ${re.name}:`,...ye)};class Te{constructor(ue){this.name=ue,this._logLevel=he,this._logHandler=se,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(ue){if(!(ue in G))throw new TypeError(`Invalid value "${ue}" assigned to \`logLevel\``);this._logLevel=ue}setLogLevel(ue){this._logLevel="string"==typeof ue?ee[ue]:ue}get logHandler(){return this._logHandler}set logHandler(ue){if("function"!=typeof ue)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ue}get userLogHandler(){return this._userLogHandler}set userLogHandler(ue){this._userLogHandler=ue}debug(...ue){this._userLogHandler&&this._userLogHandler(this,G.DEBUG,...ue),this._logHandler(this,G.DEBUG,...ue)}log(...ue){this._userLogHandler&&this._userLogHandler(this,G.VERBOSE,...ue),this._logHandler(this,G.VERBOSE,...ue)}info(...ue){this._userLogHandler&&this._userLogHandler(this,G.INFO,...ue),this._logHandler(this,G.INFO,...ue)}warn(...ue){this._userLogHandler&&this._userLogHandler(this,G.WARN,...ue),this._logHandler(this,G.WARN,...ue)}error(...ue){this._userLogHandler&&this._userLogHandler(this,G.ERROR,...ue),this._logHandler(this,G.ERROR,...ue)}}function Ve(re){l.forEach(ue=>{ue.setLogLevel(re)})}function Oe(re,ue){for(const ye of l){let be=null;ue&&ue.level&&(be=ee[ue.level]),ye.userLogHandler=null===re?null:(Ue,Le,...Xe)=>{const ot=Xe.map(nt=>{if(null==nt)return null;if("string"==typeof nt)return nt;if("number"==typeof nt||"boolean"==typeof nt)return nt.toString();if(nt instanceof Error)return nt.message;try{return JSON.stringify(nt)}catch{return null}}).filter(nt=>nt).join(" ");Le>=(be??Ue.logLevel)&&re({level:G[Le].toLowerCase(),message:ot,args:Xe,type:Ue.name})}}}},4165:(Mt,je,V)=>{V.d(je,{IJ:()=>Bg});var l=V(5879),G=V(5592),ee=V(6232),he=V(2096),ge=V(8645),se=V(4829),Te=V(1631),Ve=V(4266),Oe=V(4674),re=V(7400);const ue=["addListener","removeListener"],ye=["addEventListener","removeEventListener"],be=["on","off"];function Ue(h,I,c,p){if((0,Oe.m)(c)&&(p=c,c=void 0),p)return Ue(h,I,c).pipe((0,re.Z)(p));const[E,F]=function nt(h){return(0,Oe.m)(h.addEventListener)&&(0,Oe.m)(h.removeEventListener)}(h)?ye.map(K=>pe=>h[K](I,pe,c)):function Xe(h){return(0,Oe.m)(h.addListener)&&(0,Oe.m)(h.removeListener)}(h)?ue.map(Le(h,I)):function ot(h){return(0,Oe.m)(h.on)&&(0,Oe.m)(h.off)}(h)?be.map(Le(h,I)):[];if(!E&&(0,Ve.z)(h))return(0,Te.z)(K=>Ue(K,I,c))((0,se.Xf)(h));if(!E)throw new TypeError("Invalid event target");return new G.y(K=>{const pe=(...Me)=>K.next(1<Me.length?Me:Me[0]);return E(pe),()=>F(pe)})}function Le(h,I){return c=>p=>h[c](I,p)}var St=V(6321),Ct=V(671);const{isArray:_e}=Array;function Ke(h){return 1===h.length&&_e(h[0])?h[0]:h}var Ce=V(8251);V(3019);var Jt=V(9940);function er(...h){const I=(0,Jt.jO)(h),c=Ke(h);return c.length?new G.y(p=>{let E=c.map(()=>[]),F=c.map(()=>!1);p.add(()=>{E=F=null});for(let K=0;!p.closed&&K<c.length;K++)(0,se.Xf)(c[K]).subscribe((0,Ce.x)(p,pe=>{if(E[K].push(pe),E.every(Me=>Me.length)){const Me=E.map(Je=>Je.shift());p.next(I?I(...Me):Me),E.some((Je,qe)=>!Je.length&&F[qe])&&p.complete()}},()=>{F[K]=!0,!E[K].length&&p.complete()}));return()=>{E=F=null}}):ee.E}var _n=V(5211),It=V(9773),Zt=V(2181),Lt=V(8180),xe=V(9397),Se=V(7398),Be=V(9360),Ee=V(2737),ke=V(2420);function tt(...h){const I=(0,Jt.jO)(h);return(0,Be.e)((c,p)=>{const E=h.length,F=new Array(E);let K=h.map(()=>!1),pe=!1;for(let Me=0;Me<E;Me++)(0,se.Xf)(h[Me]).subscribe((0,Ce.x)(p,Je=>{F[Me]=Je,!pe&&!K[Me]&&(K[Me]=!0,(pe=K.every(Ee.y))&&(K=null))},ke.Z));c.subscribe((0,Ce.x)(p,Me=>{if(pe){const Je=[Me,...F];p.next(I?I(...Je):Je)}}))})}V(975);var pn=V(4664);V(7921),V(3997);var Qt=V(6814);V(6223),Math,Math,Math;const fs=["*"],Dr=["dialog"];function zo(h){return"string"==typeof h}function b(h){return null!=h}function ze(h){return(h||document.body).getBoundingClientRect()}const Tn={animation:!0,transitionTimerDelayMs:5},Os=()=>{},{transitionTimerDelayMs:Ra}=Tn,Mi=new Map,co=(h,I,c,p)=>{let E=p.context||{};const F=Mi.get(I);if(F)switch(p.runningTransition){case"continue":return ee.E;case"stop":h.run(()=>F.transition$.complete()),E=Object.assign(F.context,E),Mi.delete(I)}const K=c(I,p.animation,E)||Os;if(!p.animation||"none"===window.getComputedStyle(I).transitionProperty)return h.run(()=>K()),(0,he.of)(void 0).pipe(function He(h){return I=>new G.y(c=>I.subscribe({next:K=>h.run(()=>c.next(K)),error:K=>h.run(()=>c.error(K)),complete:()=>h.run(()=>c.complete())}))}(h));const pe=new ge.x,Me=new ge.x,Je=pe.pipe(function pr(...h){return I=>(0,_n.z)(I,(0,he.of)(...h))}(!0));Mi.set(I,{transition$:pe,complete:()=>{Me.next(),Me.complete()},context:E});const qe=function Rr(h){const{transitionDelay:I,transitionDuration:c}=window.getComputedStyle(h);return 1e3*(parseFloat(I)+parseFloat(c))}(I);return h.runOutsideAngular(()=>{const xt=Ue(I,"transitionend").pipe((0,It.R)(Je),(0,Zt.h)(({target:Ot})=>Ot===I));(function Ae(...h){return 1===(h=Ke(h)).length?(0,se.Xf)(h[0]):new G.y(function at(h){return I=>{let c=[];for(let p=0;c&&!I.closed&&p<h.length;p++)c.push((0,se.Xf)(h[p]).subscribe((0,Ce.x)(I,E=>{if(c){for(let F=0;F<c.length;F++)F!==p&&c[F].unsubscribe();c=null}I.next(E)})))}}(h))})(function Ge(h=0,I,c=St.P){let p=-1;return null!=I&&((0,Ct.K)(I)?c=I:p=I),new G.y(E=>{let F=function me(h){return h instanceof Date&&!isNaN(h)}(h)?+h-c.now():h;F<0&&(F=0);let K=0;return c.schedule(function(){E.closed||(E.next(K++),0<=p?this.schedule(void 0,p):E.complete())},F)})}(qe+Ra).pipe((0,It.R)(Je)),xt,Me).pipe((0,It.R)(Je)).subscribe(()=>{Mi.delete(I),h.run(()=>{K(),pe.next(),pe.complete()})})}),pe.asObservable()};let ti=(()=>{class h{constructor(){this.animation=Tn.animation}static#e=this.\u0275fac=function(p){return new(p||h)};static#t=this.\u0275prov=l.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"})}return h})(),Nu=(()=>{class h{static#e=this.\u0275fac=function(p){return new(p||h)};static#t=this.\u0275mod=l.oAB({type:h});static#n=this.\u0275inj=l.cJS({})}return h})(),mc=(()=>{class h{static#e=this.\u0275fac=function(p){return new(p||h)};static#t=this.\u0275mod=l.oAB({type:h});static#n=this.\u0275inj=l.cJS({})}return h})(),to=(()=>{class h{static#e=this.\u0275fac=function(p){return new(p||h)};static#t=this.\u0275mod=l.oAB({type:h});static#n=this.\u0275inj=l.cJS({})}return h})(),zl=(()=>{class h{static#e=this.\u0275fac=function(p){return new(p||h)};static#t=this.\u0275mod=l.oAB({type:h});static#n=this.\u0275inj=l.cJS({})}return h})();var wr=function(h){return h[h.Tab=9]="Tab",h[h.Enter=13]="Enter",h[h.Escape=27]="Escape",h[h.Space=32]="Space",h[h.PageUp=33]="PageUp",h[h.PageDown=34]="PageDown",h[h.End=35]="End",h[h.Home=36]="Home",h[h.ArrowLeft=37]="ArrowLeft",h[h.ArrowUp=38]="ArrowUp",h[h.ArrowRight=39]="ArrowRight",h[h.ArrowDown=40]="ArrowDown",h}(wr||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const Ic=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function $i(h){const I=Array.from(h.querySelectorAll(Ic)).filter(c=>-1!==c.tabIndex);return[I[0],I[I.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let yh=(()=>{class h{static#e=this.\u0275fac=function(p){return new(p||h)};static#t=this.\u0275mod=l.oAB({type:h});static#n=this.\u0275inj=l.cJS({})}return h})(),yo=(()=>{class h{static#e=this.\u0275fac=function(p){return new(p||h)};static#t=this.\u0275mod=l.oAB({type:h});static#n=this.\u0275inj=l.cJS({})}return h})();class ya{constructor(I,c,p){this.nodes=I,this.viewRef=c,this.componentRef=p}}let gf=(()=>{class h{constructor(c,p){this._el=c,this._zone=p}ngOnInit(){this._zone.onStable.asObservable().pipe((0,Lt.q)(1)).subscribe(()=>{co(this._zone,this._el.nativeElement,(c,p)=>{p&&ze(c),c.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return co(this._zone,this._el.nativeElement,({classList:c})=>c.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(p){return new(p||h)(l.Y36(l.SBq),l.Y36(l.R0b))};static#t=this.\u0275cmp=l.Xpm({type:h,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(p,E){2&p&&(l.Tol("modal-backdrop"+(E.backdropClass?" "+E.backdropClass:"")),l.ekj("show",!E.animation)("fade",E.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[l.jDz],decls:0,vars:0,template:function(p,E){},encapsulation:2})}return h})();class mf{update(I){}close(I){}dismiss(I){}}const Eh=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],Td=["animation","backdropClass"];class Rc{_applyWindowOptions(I,c){Eh.forEach(p=>{b(c[p])&&(I[p]=c[p])})}_applyBackdropOptions(I,c){Td.forEach(p=>{b(c[p])&&(I[p]=c[p])})}update(I){this._applyWindowOptions(this._windowCmptRef.instance,I),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,I)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,It.R)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,It.R)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(I,c,p,E){this._windowCmptRef=I,this._contentRef=c,this._backdropCmptRef=p,this._beforeDismiss=E,this._closed=new ge.x,this._dismissed=new ge.x,this._hidden=new ge.x,I.instance.dismissEvent.subscribe(F=>{this.dismiss(F)}),this.result=new Promise((F,K)=>{this._resolve=F,this._reject=K}),this.result.then(null,()=>{})}close(I){this._windowCmptRef&&(this._closed.next(I),this._resolve(I),this._removeModalElements())}_dismiss(I){this._dismissed.next(I),this._reject(I),this._removeModalElements()}dismiss(I){if(this._windowCmptRef)if(this._beforeDismiss){const c=this._beforeDismiss();!function M(h){return h&&h.then}(c)?!1!==c&&this._dismiss(I):c.then(p=>{!1!==p&&this._dismiss(I)},()=>{})}else this._dismiss(I)}_removeModalElements(){const I=this._windowCmptRef.instance.hide(),c=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,he.of)(void 0);I.subscribe(()=>{const{nativeElement:p}=this._windowCmptRef.location;p.parentNode.removeChild(p),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),c.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:p}=this._backdropCmptRef.location;p.parentNode.removeChild(p),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),er(I,c).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Bu=function(h){return h[h.BACKDROP_CLICK=0]="BACKDROP_CLICK",h[h.ESC=1]="ESC",h}(Bu||{});let wd=(()=>{class h{constructor(c,p,E){this._document=c,this._elRef=p,this._zone=E,this._closed$=new ge.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new l.vpe,this.shown=new ge.x,this.hidden=new ge.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":zo(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(c){this.dismissEvent.emit(c)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,Lt.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:c}=this._elRef,p={animation:this.animation,runningTransition:"stop"},K=er(co(this._zone,c,()=>c.classList.remove("show"),p),co(this._zone,this._dialogEl.nativeElement,()=>{},p));return K.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),K}_show(){const c={animation:this.animation,runningTransition:"continue"};er(co(this._zone,this._elRef.nativeElement,(F,K)=>{K&&ze(F),F.classList.add("show")},c),co(this._zone,this._dialogEl.nativeElement,()=>{},c)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:c}=this._elRef;this._zone.runOutsideAngular(()=>{Ue(c,"keydown").pipe((0,It.R)(this._closed$),(0,Zt.h)(E=>E.which===wr.Escape)).subscribe(E=>{this.keyboard?requestAnimationFrame(()=>{E.defaultPrevented||this._zone.run(()=>this.dismiss(Bu.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let p=!1;Ue(this._dialogEl.nativeElement,"mousedown").pipe((0,It.R)(this._closed$),(0,xe.b)(()=>p=!1),(0,pn.w)(()=>Ue(c,"mouseup").pipe((0,It.R)(this._closed$),(0,Lt.q)(1))),(0,Zt.h)(({target:E})=>c===E)).subscribe(()=>{p=!0}),Ue(c,"click").pipe((0,It.R)(this._closed$)).subscribe(({target:E})=>{c===E&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!p&&this._zone.run(()=>this.dismiss(Bu.BACKDROP_CLICK))),p=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:c}=this._elRef;if(!c.contains(document.activeElement)){const p=c.querySelector("[ngbAutofocus]"),E=$i(c)[0];(p||E||c).focus()}}_restoreFocus(){const c=this._document.body,p=this._elWithFocus;let E;E=p&&p.focus&&c.contains(p)?p:c,this._zone.runOutsideAngular(()=>{setTimeout(()=>E.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&co(this._zone,this._elRef.nativeElement,({classList:c})=>(c.add("modal-static"),()=>c.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(p){return new(p||h)(l.Y36(Qt.K0),l.Y36(l.SBq),l.Y36(l.R0b))};static#t=this.\u0275cmp=l.Xpm({type:h,selectors:[["ngb-modal-window"]],viewQuery:function(p,E){if(1&p&&l.Gf(Dr,7),2&p){let F;l.iGM(F=l.CRH())&&(E._dialogEl=F.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(p,E){2&p&&(l.uIk("aria-modal",!0)("aria-labelledby",E.ariaLabelledBy)("aria-describedby",E.ariaDescribedBy),l.Tol("modal d-block"+(E.windowClass?" "+E.windowClass:"")),l.ekj("fade",E.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[l.jDz],ngContentSelectors:fs,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(p,E){1&p&&(l.F$t(),l.TgZ(0,"div",0,1)(2,"div",2),l.Hsn(3),l.qZA()()),2&p&&l.Tol("modal-dialog"+(E.size?" modal-"+E.size:"")+(E.centered?" modal-dialog-centered":"")+E.fullscreenClass+(E.scrollable?" modal-dialog-scrollable":"")+(E.modalDialogClass?" "+E.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return h})(),fp=(()=>{class h{constructor(c){this._document=c}hide(){const c=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),p=this._document.body,E=p.style,{overflow:F,paddingRight:K}=E;if(c>0){const pe=parseFloat(window.getComputedStyle(p).paddingRight);E.paddingRight=`${pe+c}px`}return E.overflow="hidden",()=>{c>0&&(E.paddingRight=K),E.overflow=F}}static#e=this.\u0275fac=function(p){return new(p||h)(l.LFG(Qt.K0))};static#t=this.\u0275prov=l.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"})}return h})(),pp=(()=>{class h{constructor(c,p,E,F,K,pe,Me){this._applicationRef=c,this._injector=p,this._environmentInjector=E,this._document=F,this._scrollBar=K,this._rendererFactory=pe,this._ngZone=Me,this._activeWindowCmptHasChanged=new ge.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new l.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const Je=this._windowCmpts[this._windowCmpts.length-1];((h,I,c,p=!1)=>{h.runOutsideAngular(()=>{const E=Ue(I,"focusin").pipe((0,It.R)(c),(0,Se.U)(F=>F.target));Ue(I,"keydown").pipe((0,It.R)(c),(0,Zt.h)(F=>F.which===wr.Tab),tt(E)).subscribe(([F,K])=>{const[pe,Me]=$i(I);(K===pe||K===I)&&F.shiftKey&&(Me.focus(),F.preventDefault()),K===Me&&!F.shiftKey&&(pe.focus(),F.preventDefault())}),p&&Ue(I,"click").pipe((0,It.R)(c),tt(E),(0,Se.U)(F=>F[1])).subscribe(F=>F.focus())})})(this._ngZone,Je.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(Je.location.nativeElement)}})}_restoreScrollBar(){const c=this._scrollBarRestoreFn;c&&(this._scrollBarRestoreFn=null,c())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(c,p,E){const F=E.container instanceof HTMLElement?E.container:b(E.container)?this._document.querySelector(E.container):this._document.body,K=this._rendererFactory.createRenderer(null,null);if(!F)throw new Error(`The specified modal container "${E.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const pe=new mf,Me=(c=E.injector||c).get(l.lqb,null)||this._environmentInjector,Je=this._getContentRef(c,Me,p,pe,E);let qe=!1!==E.backdrop?this._attachBackdrop(F):void 0,xt=this._attachWindowComponent(F,Je.nodes),Tt=new Rc(xt,Je,qe,E.beforeDismiss);return this._registerModalRef(Tt),this._registerWindowCmpt(xt),Tt.hidden.pipe((0,Lt.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(K.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),pe.close=Ot=>{Tt.close(Ot)},pe.dismiss=Ot=>{Tt.dismiss(Ot)},pe.update=Ot=>{Tt.update(Ot)},Tt.update(E),1===this._modalRefs.length&&K.addClass(this._document.body,"modal-open"),qe&&qe.instance&&qe.changeDetectorRef.detectChanges(),xt.changeDetectorRef.detectChanges(),Tt}get activeInstances(){return this._activeInstances}dismissAll(c){this._modalRefs.forEach(p=>p.dismiss(c))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(c){let p=(0,l.LMc)(gf,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(p.hostView),c.appendChild(p.location.nativeElement),p}_attachWindowComponent(c,p){let E=(0,l.LMc)(wd,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:p});return this._applicationRef.attachView(E.hostView),c.appendChild(E.location.nativeElement),E}_getContentRef(c,p,E,F,K){return E?E instanceof l.Rgc?this._createFromTemplateRef(E,F):zo(E)?this._createFromString(E):this._createFromComponent(c,p,E,F,K):new ya([])}_createFromTemplateRef(c,p){const F=c.createEmbeddedView({$implicit:p,close(K){p.close(K)},dismiss(K){p.dismiss(K)}});return this._applicationRef.attachView(F),new ya([F.rootNodes],F)}_createFromString(c){const p=this._document.createTextNode(`${c}`);return new ya([[p]])}_createFromComponent(c,p,E,F,K){const pe=l.zs3.create({providers:[{provide:mf,useValue:F}],parent:c}),Me=(0,l.LMc)(E,{environmentInjector:p,elementInjector:pe}),Je=Me.location.nativeElement;return K.scrollable&&Je.classList.add("component-host-scrollable"),this._applicationRef.attachView(Me.hostView),new ya([[Je]],Me.hostView,Me)}_setAriaHidden(c){const p=c.parentElement;p&&c!==this._document.body&&(Array.from(p.children).forEach(E=>{E!==c&&"SCRIPT"!==E.nodeName&&(this._ariaHiddenValues.set(E,E.getAttribute("aria-hidden")),E.setAttribute("aria-hidden","true"))}),this._setAriaHidden(p))}_revertAriaHidden(){this._ariaHiddenValues.forEach((c,p)=>{c?p.setAttribute("aria-hidden",c):p.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(c){const p=()=>{const E=this._modalRefs.indexOf(c);E>-1&&(this._modalRefs.splice(E,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(c),this._activeInstances.emit(this._modalRefs),c.result.then(p,p)}_registerWindowCmpt(c){this._windowCmpts.push(c),this._activeWindowCmptHasChanged.next(),c.onDestroy(()=>{const p=this._windowCmpts.indexOf(c);p>-1&&(this._windowCmpts.splice(p,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(p){return new(p||h)(l.LFG(l.z2F),l.LFG(l.zs3),l.LFG(l.lqb),l.LFG(Qt.K0),l.LFG(fp),l.LFG(l.FYo),l.LFG(l.R0b))};static#t=this.\u0275prov=l.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"})}return h})(),Ih=(()=>{class h{constructor(c){this._ngbConfig=c,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(c){this._animation=c}static#e=this.\u0275fac=function(p){return new(p||h)(l.LFG(ti))};static#t=this.\u0275prov=l.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"})}return h})(),_f=(()=>{class h{constructor(c,p,E){this._injector=c,this._modalStack=p,this._config=E}open(c,p={}){const E={...this._config,animation:this._config.animation,...p};return this._modalStack.open(this._injector,c,E)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(c){this._modalStack.dismissAll(c)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(p){return new(p||h)(l.LFG(l.zs3),l.LFG(pp),l.LFG(Ih))};static#t=this.\u0275prov=l.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"})}return h})(),vf=(()=>{class h{static#e=this.\u0275fac=function(p){return new(p||h)};static#t=this.\u0275mod=l.oAB({type:h});static#n=this.\u0275inj=l.cJS({providers:[_f]})}return h})(),Ef=(()=>{class h{static#e=this.\u0275fac=function(p){return new(p||h)};static#t=this.\u0275mod=l.oAB({type:h});static#n=this.\u0275inj=l.cJS({})}return h})(),Sd=(()=>{class h{static#e=this.\u0275fac=function(p){return new(p||h)};static#t=this.\u0275mod=l.oAB({type:h});static#n=this.\u0275inj=l.cJS({})}return h})(),lu=(()=>{class h{static#e=this.\u0275fac=function(p){return new(p||h)};static#t=this.\u0275mod=l.oAB({type:h});static#n=this.\u0275inj=l.cJS({})}return h})(),kc=(()=>{class h{static#e=this.\u0275fac=function(p){return new(p||h)};static#t=this.\u0275mod=l.oAB({type:h});static#n=this.\u0275inj=l.cJS({})}return h})(),Th=(()=>{class h{static#e=this.\u0275fac=function(p){return new(p||h)};static#t=this.\u0275mod=l.oAB({type:h});static#n=this.\u0275inj=l.cJS({})}return h})(),wh=(()=>{class h{static#e=this.\u0275fac=function(p){return new(p||h)};static#t=this.\u0275mod=l.oAB({type:h});static#n=this.\u0275inj=l.cJS({})}return h})(),kd=(()=>{class h{static#e=this.\u0275fac=function(p){return new(p||h)};static#t=this.\u0275mod=l.oAB({type:h});static#n=this.\u0275inj=l.cJS({})}return h})(),Af=(()=>{class h{static#e=this.\u0275fac=function(p){return new(p||h)};static#t=this.\u0275mod=l.oAB({type:h});static#n=this.\u0275inj=l.cJS({})}return h})(),La=(()=>{class h{static#e=this.\u0275fac=function(p){return new(p||h)};static#t=this.\u0275mod=l.oAB({type:h});static#n=this.\u0275inj=l.cJS({})}return h})();new l.OlP("live announcer delay",{providedIn:"root",factory:function Np(){return 100}});let Uc=(()=>{class h{static#e=this.\u0275fac=function(p){return new(p||h)};static#t=this.\u0275mod=l.oAB({type:h});static#n=this.\u0275inj=l.cJS({})}return h})(),du=(()=>{class h{static#e=this.\u0275fac=function(p){return new(p||h)};static#t=this.\u0275mod=l.oAB({type:h});static#n=this.\u0275inj=l.cJS({})}return h})();const Bd=[Nu,mc,to,zl,yh,yo,vf,Ef,du,Sd,lu,kc,Th,wh,kd,Af,La,Uc];let Bg=(()=>{class h{static#e=this.\u0275fac=function(p){return new(p||h)};static#t=this.\u0275mod=l.oAB({type:h});static#n=this.\u0275inj=l.cJS({imports:[Bd,Nu,mc,to,zl,yh,yo,vf,Ef,du,Sd,lu,kc,Th,wh,kd,Af,La,Uc]})}return h})()},3182:(Mt,je,V)=>{V.d(je,{C6:()=>l.getApps,KN:()=>l.registerVersion,Mq:()=>l.getApp,ZF:()=>l.initializeApp});var l=V(534);(0,l.registerVersion)("firebase","10.5.2","app")},7142:(Mt,je,V)=>{V.d(je,{Z:()=>l.Z});var l=V(3106);l.Z.registerVersion("firebase","10.5.2","app-compat")},6365:(Mt,je,V)=>{V.r(je);var l=V(5861),G=V(3106),ee=V(3560),he=V(9058),Te=(V(534),V(7879),V(4537));function Ve(){return window}function ue(){return ue=(0,l.Z)(function*(j,L,k){var ie;const{BuildInfo:Ne}=Ve();(0,ee.at)(L.sessionId,"AuthEvent did not contain a session ID");const st=yield function nt(j){return St.apply(this,arguments)}(L.sessionId),bt={};return(0,ee.au)()?bt.ibi=Ne.packageName:(0,ee.av)()?bt.apn=Ne.packageName:(0,ee.aw)(j,"operation-not-supported-in-this-environment"),Ne.displayName&&(bt.appDisplayName=Ne.displayName),bt.sessionId=st,(0,ee.ax)(j,k,L.type,void 0,null!==(ie=L.eventId)&&void 0!==ie?ie:void 0,bt)}),ue.apply(this,arguments)}function be(){return(be=(0,l.Z)(function*(j){const{BuildInfo:L}=Ve(),k={};(0,ee.au)()?k.iosBundleId=L.packageName:(0,ee.av)()?k.androidPackageName=L.packageName:(0,ee.aw)(j,"operation-not-supported-in-this-environment"),yield(0,ee.ay)(j,k)})).apply(this,arguments)}function Xe(){return(Xe=(0,l.Z)(function*(j,L,k){const{cordova:ie}=Ve();let Ne=()=>{};try{yield new Promise((st,bt)=>{let Vt=null;function Bt(){var hn;st();const jr=null===(hn=ie.plugins.browsertab)||void 0===hn?void 0:hn.close;"function"==typeof jr&&jr(),"function"==typeof k?.close&&k.close()}function en(){Vt||(Vt=window.setTimeout(()=>{bt((0,ee.aA)(j,"redirect-cancelled-by-user"))},2e3))}function Ln(){"visible"===document?.visibilityState&&en()}L.addPassiveListener(Bt),document.addEventListener("resume",en,!1),(0,ee.av)()&&document.addEventListener("visibilitychange",Ln,!1),Ne=()=>{L.removePassiveListener(Bt),document.removeEventListener("resume",en,!1),document.removeEventListener("visibilitychange",Ln,!1),Vt&&window.clearTimeout(Vt)}})}finally{Ne()}})).apply(this,arguments)}function St(){return(St=(0,l.Z)(function*(j){const L=function Ct(j){if((0,ee.at)(/[0-9a-zA-Z]+/.test(j),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(j);const L=new ArrayBuffer(j.length),k=new Uint8Array(L);for(let ie=0;ie<j.length;ie++)k[ie]=j.charCodeAt(ie);return k}(j),k=yield crypto.subtle.digest("SHA-256",L);return Array.from(new Uint8Array(k)).map(Ne=>Ne.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Ge extends ee.aC{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(L=>{this.resolveInialized=L})}addPassiveListener(L){this.passiveListeners.add(L)}removePassiveListener(L){this.passiveListeners.delete(L)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(L){return this.resolveInialized(),this.passiveListeners.forEach(k=>k(L)),super.onEvent(L)}initialized(){var L=this;return(0,l.Z)(function*(){yield L.initPromise})()}}function Ce(j){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,l.Z)(function*(j){const L=yield Jt()._get(er(j));return L&&(yield Jt()._remove(er(j))),L})).apply(this,arguments)}function gt(){const j=[];for(let k=0;k<20;k++){const ie=Math.floor(62*Math.random());j.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(ie))}return j.join("")}function Jt(){return(0,ee.aD)(ee.b)}function er(j){return(0,ee.aE)("authEvent",j.config.apiKey,j.name)}function It(j){if(!j?.includes("?"))return{};const[L,...k]=j.split("?");return(0,he.zd)(k.join("?"))}const xe=class Lt{constructor(){this._redirectPersistence=ee.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ee.aF,this._overrideRedirectResult=ee.aG}_initialize(L){var k=this;return(0,l.Z)(function*(){const ie=L._key();let Ne=k.eventManagers.get(ie);return Ne||(Ne=new Ge(L),k.eventManagers.set(ie,Ne),k.attachCallbackListeners(L,Ne)),Ne})()}_openPopup(L){(0,ee.aw)(L,"operation-not-supported-in-this-environment")}_openRedirect(L,k,ie,Ne){var st=this;return(0,l.Z)(function*(){!function ot(j){var L,k,ie,Ne,st,bt,Vt,Bt,en,Ln;const hn=Ve();(0,ee.aB)("function"==typeof(null===(L=hn?.universalLinks)||void 0===L?void 0:L.subscribe),j,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,ee.aB)(typeof(null===(k=hn?.BuildInfo)||void 0===k?void 0:k.packageName)<"u",j,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,ee.aB)("function"==typeof(null===(st=null===(Ne=null===(ie=hn?.cordova)||void 0===ie?void 0:ie.plugins)||void 0===Ne?void 0:Ne.browsertab)||void 0===st?void 0:st.openUrl),j,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,ee.aB)("function"==typeof(null===(Bt=null===(Vt=null===(bt=hn?.cordova)||void 0===bt?void 0:bt.plugins)||void 0===Vt?void 0:Vt.browsertab)||void 0===Bt?void 0:Bt.isAvailable),j,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,ee.aB)("function"==typeof(null===(Ln=null===(en=hn?.cordova)||void 0===en?void 0:en.InAppBrowser)||void 0===Ln?void 0:Ln.open),j,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(L);const bt=yield st._initialize(L);yield bt.initialized(),bt.resetRedirect(),(0,ee.aH)(),yield st._originValidation(L);const Vt=function _e(j,L,k=null){return{type:L,eventId:k,urlResponse:null,sessionId:gt(),postBody:null,tenantId:j.tenantId,error:(0,ee.aA)(j,"no-auth-event")}}(L,ie,Ne);yield function Ke(j,L){return Jt()._set(er(j),L)}(L,Vt);const Bt=yield function re(j,L,k){return ue.apply(this,arguments)}(L,Vt,k),en=yield function Ue(j){const{cordova:L}=Ve();return new Promise(k=>{L.plugins.browsertab.isAvailable(ie=>{let Ne=null;ie?L.plugins.browsertab.openUrl(j):Ne=L.InAppBrowser.open(j,(0,ee.az)()?"_blank":"_system","location=yes"),k(Ne)})})}(Bt);return function Le(j,L,k){return Xe.apply(this,arguments)}(L,bt,en)})()}_isIframeWebStorageSupported(L,k){throw new Error("Method not implemented.")}_originValidation(L){const k=L._key();return this.originValidationPromises[k]||(this.originValidationPromises[k]=function ye(j){return be.apply(this,arguments)}(L)),this.originValidationPromises[k]}attachCallbackListeners(L,k){const{universalLinks:ie,handleOpenURL:Ne,BuildInfo:st}=Ve(),bt=setTimeout((0,l.Z)(function*(){yield Ce(L),k.onEvent(Se())}),500),Vt=function(){var Ln=(0,l.Z)(function*(hn){clearTimeout(bt);const jr=yield Ce(L);let qo=null;jr&&hn?.url&&(qo=function at(j,L){var k,ie;const Ne=function pr(j){const L=It(j),k=L.link?decodeURIComponent(L.link):void 0,ie=It(k).link,Ne=L.deep_link_id?decodeURIComponent(L.deep_link_id):void 0;return It(Ne).link||Ne||ie||k||j}(L);if(Ne.includes("/__/auth/callback")){const st=It(Ne),bt=st.firebaseError?function _n(j){try{return JSON.parse(j)}catch{return null}}(decodeURIComponent(st.firebaseError)):null,Vt=null===(ie=null===(k=bt?.code)||void 0===k?void 0:k.split("auth/"))||void 0===ie?void 0:ie[1],Bt=Vt?(0,ee.aA)(Vt):null;return Bt?{type:j.type,eventId:j.eventId,tenantId:j.tenantId,error:Bt,urlResponse:null,sessionId:null,postBody:null}:{type:j.type,eventId:j.eventId,tenantId:j.tenantId,sessionId:j.sessionId,urlResponse:Ne,postBody:null}}return null}(jr,hn.url)),k.onEvent(qo||Se())});return function(jr){return Ln.apply(this,arguments)}}();typeof ie<"u"&&"function"==typeof ie.subscribe&&ie.subscribe(null,Vt);const Bt=Ne,en=`${st.packageName.toLowerCase()}://`;Ve().handleOpenURL=function(){var Ln=(0,l.Z)(function*(hn){if(hn.toLowerCase().startsWith(en)&&Vt({url:hn}),"function"==typeof Bt)try{Bt(hn)}catch(jr){console.error(jr)}});return function(hn){return Ln.apply(this,arguments)}}()}};function Se(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,ee.aA)("no-auth-event")}}function vt(){var j;return(null===(j=self?.location)||void 0===j?void 0:j.protocol)||null}function fn(j=(0,he.z$)()){return!("file:"!==vt()&&"ionic:"!==vt()&&"capacitor:"!==vt()||!j.toLowerCase().match(/iphone|ipad|ipod|android/))}function An(){try{const j=self.localStorage,L=ee.aM();if(j)return j.setItem(L,"1"),j.removeItem(L),!function sn(j=(0,he.z$)()){return function pn(){return(0,he.w1)()&&11===document?.documentMode}()||function on(j=(0,he.z$)()){return/Edge\/\d+/.test(j)}(j)}()||(0,he.hl)()}catch{return Qt()&&(0,he.hl)()}return!1}function Qt(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ie(){return(function lt(){return"http:"===vt()||"https:"===vt()}()||(0,he.ru)()||fn())&&!function ut(){return(0,he.b$)()||(0,he.UG)()}()&&An()&&!Qt()}function De(){return fn()&&typeof document<"u"}function rt(){return(rt=(0,l.Z)(function*(){return!!De()&&new Promise(j=>{const L=setTimeout(()=>{j(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(L),j(!0)})})})).apply(this,arguments)}const ht={LOCAL:"local",NONE:"none",SESSION:"session"},ln=ee.aB,un="persistence";function tn(j){return cn.apply(this,arguments)}function cn(){return(cn=(0,l.Z)(function*(j){yield j._initializationPromise;const L=wn(),k=ee.aE(un,j.config.apiKey,j.name);L&&L.setItem(k,j._getPersistence())})).apply(this,arguments)}function wn(){var j;try{return(null===(j=function Dt(){return typeof window<"u"?window:null}())||void 0===j?void 0:j.sessionStorage)||null}catch{return null}}const br=ee.aB;class Nt{constructor(){this.browserResolver=ee.aD(ee.k),this.cordovaResolver=ee.aD(xe),this.underlyingResolver=null,this._redirectPersistence=ee.a,this._completeRedirectFn=ee.aF,this._overrideRedirectResult=ee.aG}_initialize(L){var k=this;return(0,l.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._initialize(L)})()}_openPopup(L,k,ie,Ne){var st=this;return(0,l.Z)(function*(){return yield st.selectUnderlyingResolver(),st.assertedUnderlyingResolver._openPopup(L,k,ie,Ne)})()}_openRedirect(L,k,ie,Ne){var st=this;return(0,l.Z)(function*(){return yield st.selectUnderlyingResolver(),st.assertedUnderlyingResolver._openRedirect(L,k,ie,Ne)})()}_isIframeWebStorageSupported(L,k){this.assertedUnderlyingResolver._isIframeWebStorageSupported(L,k)}_originValidation(L){return this.assertedUnderlyingResolver._originValidation(L)}get _shouldInitProactively(){return De()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return br(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var L=this;return(0,l.Z)(function*(){if(L.underlyingResolver)return;const k=yield function We(){return rt.apply(this,arguments)}();L.underlyingResolver=k?L.cordovaResolver:L.browserResolver})()}}function Yn(j){return j.unwrap()}function Pt(j){return an(j)}function an(j){const{_tokenResponse:L}=j instanceof he.ZR?j.customData:j;if(!L)return null;if(!(j instanceof he.ZR)&&"temporaryProof"in L&&"phoneNumber"in L)return ee.P.credentialFromResult(j);const k=L.providerId;if(!k||k===ee.p.PASSWORD)return null;let ie;switch(k){case ee.p.GOOGLE:ie=ee.W;break;case ee.p.FACEBOOK:ie=ee.V;break;case ee.p.GITHUB:ie=ee.X;break;case ee.p.TWITTER:ie=ee._;break;default:const{oauthIdToken:Ne,oauthAccessToken:st,oauthTokenSecret:bt,pendingToken:Vt,nonce:Bt}=L;return st||bt||Ne||Vt?Vt?k.startsWith("saml.")?ee.aP._create(k,Vt):ee.M._fromParams({providerId:k,signInMethod:k,pendingToken:Vt,idToken:Ne,accessToken:st}):new ee.Y(k).credential({idToken:Ne,accessToken:st,rawNonce:Bt}):null}return j instanceof he.ZR?ie.credentialFromError(j):ie.credentialFromResult(j)}function hr(j,L){return L.catch(k=>{throw k instanceof he.ZR&&function io(j,L){var k;const ie=null===(k=L.customData)||void 0===k?void 0:k._tokenResponse;if("auth/multi-factor-auth-required"===L?.code)L.resolver=new Mr(j,ee.ar(j,L));else if(ie){const Ne=an(L),st=L;Ne&&(st.credential=Ne,st.tenantId=ie.tenantId||void 0,st.email=ie.email||void 0,st.phoneNumber=ie.phoneNumber||void 0)}}(j,k),k}).then(k=>{const Ne=k.user;return{operationType:k.operationType,credential:Pt(k),additionalUserInfo:ee.ap(k),user:Or.getOrCreate(Ne)}})}function Jr(j,L){return ri.apply(this,arguments)}function ri(){return(ri=(0,l.Z)(function*(j,L){const k=yield L;return{verificationId:k.verificationId,confirm:ie=>hr(j,k.confirm(ie))}})).apply(this,arguments)}class Mr{constructor(L,k){this.resolver=k,this.auth=function or(j){return j.wrapped()}(L)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(L){return hr(Yn(this.auth),this.resolver.resolveSignIn(L))}}class Or{constructor(L){this._delegate=L,this.multiFactor=ee.as(L)}static getOrCreate(L){return Or.USER_MAP.has(L)||Or.USER_MAP.set(L,new Or(L)),Or.USER_MAP.get(L)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(L){return this._delegate.getIdTokenResult(L)}getIdToken(L){return this._delegate.getIdToken(L)}linkAndRetrieveDataWithCredential(L){return this.linkWithCredential(L)}linkWithCredential(L){var k=this;return(0,l.Z)(function*(){return hr(k.auth,ee.a1(k._delegate,L))})()}linkWithPhoneNumber(L,k){var ie=this;return(0,l.Z)(function*(){return Jr(ie.auth,ee.l(ie._delegate,L,k))})()}linkWithPopup(L){var k=this;return(0,l.Z)(function*(){return hr(k.auth,ee.d(k._delegate,L,Nt))})()}linkWithRedirect(L){var k=this;return(0,l.Z)(function*(){return yield tn(ee.aI(k.auth)),ee.g(k._delegate,L,Nt)})()}reauthenticateAndRetrieveDataWithCredential(L){return this.reauthenticateWithCredential(L)}reauthenticateWithCredential(L){var k=this;return(0,l.Z)(function*(){return hr(k.auth,ee.a2(k._delegate,L))})()}reauthenticateWithPhoneNumber(L,k){return Jr(this.auth,ee.r(this._delegate,L,k))}reauthenticateWithPopup(L){return hr(this.auth,ee.e(this._delegate,L,Nt))}reauthenticateWithRedirect(L){var k=this;return(0,l.Z)(function*(){return yield tn(ee.aI(k.auth)),ee.h(k._delegate,L,Nt)})()}sendEmailVerification(L){return ee.af(this._delegate,L)}unlink(L){var k=this;return(0,l.Z)(function*(){return yield ee.ao(k._delegate,L),k})()}updateEmail(L){return ee.ak(this._delegate,L)}updatePassword(L){return ee.al(this._delegate,L)}updatePhoneNumber(L){return ee.u(this._delegate,L)}updateProfile(L){return ee.aj(this._delegate,L)}verifyBeforeUpdateEmail(L,k){return ee.ag(this._delegate,L,k)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Or.USER_MAP=new WeakMap;const Pr=ee.aB;let ur=(()=>{class j{constructor(k,ie){if(this.app=k,ie.isInitialized())return this._delegate=ie.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ne}=k.options;Pr(Ne,"invalid-api-key",{appName:k.name}),Pr(Ne,"invalid-api-key",{appName:k.name});const st=typeof window<"u"?Nt:void 0;this._delegate=ie.initialize({options:{persistence:Fn(Ne,k.name),popupRedirectResolver:st}}),this._delegate._updateErrorMap(ee.E),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Or.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(k){this._delegate.languageCode=k}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(k){this._delegate.tenantId=k}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(k,ie){ee.J(this._delegate,k,ie)}applyActionCode(k){return ee.a6(this._delegate,k)}checkActionCode(k){return ee.a7(this._delegate,k)}confirmPasswordReset(k,ie){return ee.a5(this._delegate,k,ie)}createUserWithEmailAndPassword(k,ie){var Ne=this;return(0,l.Z)(function*(){return hr(Ne._delegate,ee.a9(Ne._delegate,k,ie))})()}fetchProvidersForEmail(k){return this.fetchSignInMethodsForEmail(k)}fetchSignInMethodsForEmail(k){return ee.ae(this._delegate,k)}isSignInWithEmailLink(k){return ee.ac(this._delegate,k)}getRedirectResult(){var k=this;return(0,l.Z)(function*(){Pr(Ie(),k._delegate,"operation-not-supported-in-this-environment");const ie=yield ee.j(k._delegate,Nt);return ie?hr(k._delegate,Promise.resolve(ie)):{credential:null,user:null}})()}addFrameworkForLogging(k){!function Be(j,L){(0,ee.aI)(j)._logFramework(L)}(this._delegate,k)}onAuthStateChanged(k,ie,Ne){const{next:st,error:bt,complete:Vt}=Zn(k,ie,Ne);return this._delegate.onAuthStateChanged(st,bt,Vt)}onIdTokenChanged(k,ie,Ne){const{next:st,error:bt,complete:Vt}=Zn(k,ie,Ne);return this._delegate.onIdTokenChanged(st,bt,Vt)}sendSignInLinkToEmail(k,ie){return ee.ab(this._delegate,k,ie)}sendPasswordResetEmail(k,ie){return ee.a4(this._delegate,k,ie||void 0)}setPersistence(k){var ie=this;return(0,l.Z)(function*(){let Ne;switch(function Rt(j,L){ln(Object.values(ht).includes(L),j,"invalid-persistence-type"),(0,he.b$)()?ln(L!==ht.SESSION,j,"unsupported-persistence-type"):(0,he.UG)()?ln(L===ht.NONE,j,"unsupported-persistence-type"):Qt()?ln(L===ht.NONE||L===ht.LOCAL&&(0,he.hl)(),j,"unsupported-persistence-type"):ln(L===ht.NONE||An(),j,"unsupported-persistence-type")}(ie._delegate,k),k){case ht.SESSION:Ne=ee.a;break;case ht.LOCAL:Ne=(yield ee.aD(ee.i)._isAvailable())?ee.i:ee.b;break;case ht.NONE:Ne=ee.Q;break;default:return ee.aw("argument-error",{appName:ie._delegate.name})}return ie._delegate.setPersistence(Ne)})()}signInAndRetrieveDataWithCredential(k){return this.signInWithCredential(k)}signInAnonymously(){return hr(this._delegate,ee.$(this._delegate))}signInWithCredential(k){return hr(this._delegate,ee.a0(this._delegate,k))}signInWithCustomToken(k){return hr(this._delegate,ee.a3(this._delegate,k))}signInWithEmailAndPassword(k,ie){return hr(this._delegate,ee.aa(this._delegate,k,ie))}signInWithEmailLink(k,ie){return hr(this._delegate,ee.ad(this._delegate,k,ie))}signInWithPhoneNumber(k,ie){return Jr(this._delegate,ee.s(this._delegate,k,ie))}signInWithPopup(k){var ie=this;return(0,l.Z)(function*(){return Pr(Ie(),ie._delegate,"operation-not-supported-in-this-environment"),hr(ie._delegate,ee.c(ie._delegate,k,Nt))})()}signInWithRedirect(k){var ie=this;return(0,l.Z)(function*(){return Pr(Ie(),ie._delegate,"operation-not-supported-in-this-environment"),yield tn(ie._delegate),ee.f(ie._delegate,k,Nt)})()}updateCurrentUser(k){return this._delegate.updateCurrentUser(k)}verifyPasswordResetCode(k){return ee.a8(this._delegate,k)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return j.Persistence=ht,j})();function Zn(j,L,k){let ie=j;"function"!=typeof j&&({next:ie,error:L,complete:k}=j);const Ne=ie;return{next:bt=>Ne(bt&&Or.getOrCreate(bt)),error:L,complete:k}}function Fn(j,L){const k=function jn(j,L){const k=wn();if(!k)return[];const ie=ee.aE(un,j,L);switch(k.getItem(ie)){case ht.NONE:return[ee.Q];case ht.LOCAL:return[ee.i,ee.a];case ht.SESSION:return[ee.a];default:return[]}}(j,L);if(typeof self<"u"&&!k.includes(ee.i)&&k.push(ee.i),typeof window<"u")for(const ie of[ee.b,ee.a])k.includes(ie)||k.push(ie);return k.includes(ee.Q)||k.push(ee.Q),k}class Un{constructor(){this.providerId="phone",this._delegate=new ee.P(Yn(G.Z.auth()))}static credential(L,k){return ee.P.credential(L,k)}verifyPhoneNumber(L,k){return this._delegate.verifyPhoneNumber(L,k)}unwrap(){return this._delegate}}Un.PHONE_SIGN_IN_METHOD=ee.P.PHONE_SIGN_IN_METHOD,Un.PROVIDER_ID=ee.P.PROVIDER_ID;const xi=ee.aB;class ki{constructor(L,k,ie=G.Z.app()){var Ne;xi(null===(Ne=ie.options)||void 0===Ne?void 0:Ne.apiKey,"invalid-api-key",{appName:ie.name}),this._delegate=new ee.R(ie.auth(),L,k),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function J(j){j.INTERNAL.registerComponent(new Te.wA("auth-compat",L=>{const k=L.getProvider("app-compat").getImmediate(),ie=L.getProvider("auth");return new ur(k,ie)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ee.A.EMAIL_SIGNIN,PASSWORD_RESET:ee.A.PASSWORD_RESET,RECOVER_EMAIL:ee.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:ee.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:ee.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:ee.A.VERIFY_EMAIL}},EmailAuthProvider:ee.U,FacebookAuthProvider:ee.V,GithubAuthProvider:ee.X,GoogleAuthProvider:ee.W,OAuthProvider:ee.Y,SAMLAuthProvider:ee.Z,PhoneAuthProvider:Un,PhoneMultiFactorGenerator:ee.m,RecaptchaVerifier:ki,TwitterAuthProvider:ee._,Auth:ur,AuthCredential:ee.K,Error:he.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),j.registerVersion("@firebase/auth-compat","0.4.8")}(G.Z)},5861:(Mt,je,V)=>{function l(ee,he,ge,se,Te,Ve,Oe){try{var re=ee[Ve](Oe),ue=re.value}catch(ye){return void ge(ye)}re.done?he(ue):Promise.resolve(ue).then(se,Te)}function G(ee){return function(){var he=this,ge=arguments;return new Promise(function(se,Te){var Ve=ee.apply(he,ge);function Oe(ue){l(Ve,se,Te,Oe,re,"next",ue)}function re(ue){l(Ve,se,Te,Oe,re,"throw",ue)}Oe(void 0)})}}V.d(je,{Z:()=>G})},7582:(Mt,je,V)=>{function he(xe,Se){var Be={};for(var Ee in xe)Object.prototype.hasOwnProperty.call(xe,Ee)&&Se.indexOf(Ee)<0&&(Be[Ee]=xe[Ee]);if(null!=xe&&"function"==typeof Object.getOwnPropertySymbols){var ke=0;for(Ee=Object.getOwnPropertySymbols(xe);ke<Ee.length;ke++)Se.indexOf(Ee[ke])<0&&Object.prototype.propertyIsEnumerable.call(xe,Ee[ke])&&(Be[Ee[ke]]=xe[Ee[ke]])}return Be}function ye(xe,Se,Be,Ee){return new(Be||(Be=Promise))(function(tt,vt){function lt(pn){try{ut(Ee.next(pn))}catch(on){vt(on)}}function fn(pn){try{ut(Ee.throw(pn))}catch(on){vt(on)}}function ut(pn){pn.done?tt(pn.value):function ke(tt){return tt instanceof Be?tt:new Be(function(vt){vt(tt)})}(pn.value).then(lt,fn)}ut((Ee=Ee.apply(xe,Se||[])).next())})}function me(xe){return this instanceof me?(this.v=xe,this):new me(xe)}function Ge(xe,Se,Be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ke,Ee=Be.apply(xe,Se||[]),tt=[];return ke={},vt("next"),vt("throw"),vt("return"),ke[Symbol.asyncIterator]=function(){return this},ke;function vt(sn){Ee[sn]&&(ke[sn]=function(An){return new Promise(function(Qt,Ie){tt.push([sn,An,Qt,Ie])>1||lt(sn,An)})})}function lt(sn,An){try{!function fn(sn){sn.value instanceof me?Promise.resolve(sn.value.v).then(ut,pn):on(tt[0][2],sn)}(Ee[sn](An))}catch(Qt){on(tt[0][3],Qt)}}function ut(sn){lt("next",sn)}function pn(sn){lt("throw",sn)}function on(sn,An){sn(An),tt.shift(),tt.length&&lt(tt[0][0],tt[0][1])}}function Ke(xe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Be,Se=xe[Symbol.asyncIterator];return Se?Se.call(xe):(xe=function Xe(xe){var Se="function"==typeof Symbol&&Symbol.iterator,Be=Se&&xe[Se],Ee=0;if(Be)return Be.call(xe);if(xe&&"number"==typeof xe.length)return{next:function(){return xe&&Ee>=xe.length&&(xe=void 0),{value:xe&&xe[Ee++],done:!xe}}};throw new TypeError(Se?"Object is not iterable.":"Symbol.iterator is not defined.")}(xe),Be={},Ee("next"),Ee("throw"),Ee("return"),Be[Symbol.asyncIterator]=function(){return this},Be);function Ee(tt){Be[tt]=xe[tt]&&function(vt){return new Promise(function(lt,fn){!function ke(tt,vt,lt,fn){Promise.resolve(fn).then(function(ut){tt({value:ut,done:lt})},vt)}(lt,fn,(vt=xe[tt](vt)).done,vt.value)})}}}V.d(je,{FC:()=>Ge,KL:()=>Ke,_T:()=>he,mG:()=>ye,qq:()=>me}),"function"==typeof SuppressedError&&SuppressedError}},Mt=>{var je=l=>Mt(Mt.s=l);je(2614),je(8369)}]);