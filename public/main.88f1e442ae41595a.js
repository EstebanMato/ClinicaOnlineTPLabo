"use strict";(self.webpackChunkclinica_online=self.webpackChunkclinica_online||[]).push([[179],{3560:($t,qe,B)=>{B.d(qe,{$:()=>cr,A:()=>ye,E:()=>Ye,J:()=>Uo,K:()=>li,M:()=>ji,P:()=>mc,Q:()=>Fe,R:()=>Za,U:()=>eo,V:()=>Do,W:()=>ui,X:()=>ha,Y:()=>Ts,Z:()=>$o,_:()=>ki,a:()=>Mu,a0:()=>_s,a1:()=>fa,a2:()=>Ka,a3:()=>Aa,a4:()=>fl,a5:()=>pl,a6:()=>gl,a7:()=>na,a8:()=>Ra,a9:()=>ra,aA:()=>$e,aB:()=>Oe,aC:()=>ka,aD:()=>V,aE:()=>yt,aF:()=>Ea,aG:()=>Xi,aH:()=>yl,aI:()=>qn,aM:()=>mo,aP:()=>Ls,aa:()=>ws,ab:()=>ia,ac:()=>Z,ad:()=>b,ae:()=>le,af:()=>we,ag:()=>pt,aj:()=>A,ak:()=>k,al:()=>q,ao:()=>ta,ap:()=>wr,ar:()=>qt,as:()=>uc,at:()=>Xt,au:()=>Ge,av:()=>ei,aw:()=>ue,ax:()=>md,ay:()=>Yo,az:()=>Ct,b:()=>Jn,c:()=>xu,d:()=>_c,e:()=>sf,f:()=>Ui,g:()=>ya,h:()=>Oa,i:()=>M,j:()=>Xa,k:()=>tl,l:()=>sh,m:()=>_d,o:()=>su,p:()=>We,r:()=>fc,s:()=>rf,u:()=>gc});var l=B(5861),j=B(9058),se=B(534),ve=B(7879),De=B(7582),fe=B(4537);const We={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ye={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ye=function Ae(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},ze=function Ne(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},lt=new j.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ht=new ve.Yd("@firebase/auth");function bt(D,...m){ht.logLevel<=ve.in.ERROR&&ht.error(`Auth (${se.SDK_VERSION}): ${D}`,...m)}function ue(D,...m){throw ut(D,...m)}function $e(D,...m){return ut(D,...m)}function Ee(D,m,y){const R=Object.assign(Object.assign({},ze()),{[m]:y});return new j.LL("auth","Firebase",R).create(m,{appName:D.name})}function rt(D,m,y){if(!(m instanceof y))throw y.name!==m.constructor.name&&ue(D,"argument-error"),Ee(D,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ut(D,...m){if("string"!=typeof D){const y=m[0],R=[...m.slice(1)];return R[0]&&(R[0].appName=D.name),D._errorFactory.create(y,...R)}return lt.create(D,...m)}function Oe(D,m,...y){if(!D)throw ut(m,...y)}function Yt(D){const m="INTERNAL ASSERTION FAILED: "+D;throw bt(m),new Error(m)}function Xt(D,m){D||Yt(m)}function In(){var D;return typeof self<"u"&&(null===(D=self.location)||void 0===D?void 0:D.href)||""}function Cn(){return"http:"===On()||"https:"===On()}function On(){var D;return typeof self<"u"&&(null===(D=self.location)||void 0===D?void 0:D.protocol)||null}class dn{constructor(m,y){this.shortDelay=m,this.longDelay=y,Xt(y>m,"Short delay should be less than long delay!"),this.isMobile=(0,j.uI)()||(0,j.b$)()}get(){return function Vr(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Cn()||(0,j.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Qt(D,m){Xt(D.emulator,"Emulator should always be set here");const{url:y}=D.emulator;return m?`${y}${m.startsWith("/")?m.slice(1):m}`:y}class Ue{static initialize(m,y,R){this.fetchImpl=m,y&&(this.headersImpl=y),R&&(this.responseImpl=R)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Yt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Yt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Yt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ke={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ke=new dn(3e4,6e4);function Ce(D,m){return D.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:D.tenantId}):m}function He(D,m,y,R){return ct.apply(this,arguments)}function ct(){return(ct=(0,l.Z)(function*(D,m,y,R,Q={}){return St(D,Q,(0,l.Z)(function*(){let ae={},Se={};R&&("GET"===m?Se=R:ae={body:JSON.stringify(R)});const dt=(0,j.xO)(Object.assign({key:D.config.apiKey},Se)).slice(1),Nt=yield D._getAdditionalHeaders();return Nt["Content-Type"]="application/json",D.languageCode&&(Nt["X-Firebase-Locale"]=D.languageCode),Ue.fetch()(Mn(D,D.config.apiHost,y,dt),Object.assign({method:m,headers:Nt,referrerPolicy:"no-referrer"},ae))}))})).apply(this,arguments)}function St(D,m,y){return Et.apply(this,arguments)}function Et(){return(Et=(0,l.Z)(function*(D,m,y){D._canInitEmulator=!1;const R=Object.assign(Object.assign({},ke),m);try{const Q=new bn(D),ae=yield Promise.race([y(),Q.promise]);Q.clearNetworkTimeout();const Se=yield ae.json();if("needConfirmation"in Se)throw zn(D,"account-exists-with-different-credential",Se);if(ae.ok&&!("errorMessage"in Se))return Se;{const dt=ae.ok?Se.errorMessage:Se.error.message,[Nt,vn]=dt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Nt)throw zn(D,"credential-already-in-use",Se);if("EMAIL_EXISTS"===Nt)throw zn(D,"email-already-in-use",Se);if("USER_DISABLED"===Nt)throw zn(D,"user-disabled",Se);const Nn=R[Nt]||Nt.toLowerCase().replace(/[_\s]+/g,"-");if(vn)throw Ee(D,Nn,vn);ue(D,Nn)}}catch(Q){if(Q instanceof j.ZR)throw Q;ue(D,"network-request-failed",{message:String(Q)})}})).apply(this,arguments)}function An(D,m,y,R){return It.apply(this,arguments)}function It(){return(It=(0,l.Z)(function*(D,m,y,R,Q={}){const ae=yield He(D,m,y,R,Q);return"mfaPendingCredential"in ae&&ue(D,"multi-factor-auth-required",{_serverResponse:ae}),ae})).apply(this,arguments)}function Mn(D,m,y,R){const Q=`${m}${y}?${R}`;return D.config.emulator?Qt(D.config,Q):`${D.config.apiScheme}://${Q}`}function yn(D){switch(D){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class bn{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((y,R)=>{this.timer=setTimeout(()=>R($e(this.auth,"network-request-failed")),Ke.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function zn(D,m,y){const R={appName:D.name};y.email&&(R.email=y.email),y.phoneNumber&&(R.phoneNumber=y.phoneNumber);const Q=$e(D,m,R);return Q.customData._tokenResponse=y,Q}function hn(D){return void 0!==D&&void 0!==D.getResponse}function Re(D){return void 0!==D&&void 0!==D.enterprise}class Me{constructor(m){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===m.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=m.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=m.recaptchaEnforcementState}getProviderEnforcementState(m){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const y of this.recaptchaEnforcementState)if(y.provider&&y.provider===m)return yn(y.enforcementState);return null}isProviderEnabled(m){return"ENFORCE"===this.getProviderEnforcementState(m)||"AUDIT"===this.getProviderEnforcementState(m)}}function gt(){return(gt=(0,l.Z)(function*(D){return(yield He(D,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Pt(D,m){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,l.Z)(function*(D,m){return He(D,"GET","/v2/recaptchaConfig",Ce(D,m))})).apply(this,arguments)}function Dn(){return(Dn=(0,l.Z)(function*(D,m){return He(D,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function gn(){return(gn=(0,l.Z)(function*(D,m){return He(D,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function sr(){return(sr=(0,l.Z)(function*(D,m){return He(D,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function Un(D){if(D)try{const m=new Date(Number(D));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function yr(){return(yr=(0,l.Z)(function*(D,m=!1){const y=(0,j.m9)(D),R=yield y.getIdToken(m),Q=Wt(R);Oe(Q&&Q.exp&&Q.auth_time&&Q.iat,y.auth,"internal-error");const ae="object"==typeof Q.firebase?Q.firebase:void 0,Se=ae?.sign_in_provider;return{claims:Q,token:R,authTime:Un(Ar(Q.auth_time)),issuedAtTime:Un(Ar(Q.iat)),expirationTime:Un(Ar(Q.exp)),signInProvider:Se||null,signInSecondFactor:ae?.sign_in_second_factor||null}})).apply(this,arguments)}function Ar(D){return 1e3*Number(D)}function Wt(D){const[m,y,R]=D.split(".");if(void 0===m||void 0===y||void 0===R)return bt("JWT malformed, contained fewer than 3 sections"),null;try{const Q=(0,j.tV)(y);return Q?JSON.parse(Q):(bt("Failed to decode base64 JWT payload"),null)}catch(Q){return bt("Caught error parsing JWT payload as JSON",Q?.toString()),null}}function En(D,m){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,l.Z)(function*(D,m,y=!1){if(y)return m;try{return yield m}catch(R){throw R instanceof j.ZR&&function hi({code:D}){return"auth/user-disabled"===D||"auth/user-token-expired"===D}(R)&&D.auth.currentUser===D&&(yield D.auth.signOut()),R}})).apply(this,arguments)}class yi{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var y;if(m){const R=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),R}{this.errorBackoff=3e4;const Q=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,Q)}}schedule(m=!1){var y=this;if(!this.isRunning)return;const R=this.getInterval(m);this.timerId=setTimeout((0,l.Z)(function*(){yield y.iteration()}),R)}iteration(){var m=this;return(0,l.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(y){return void("auth/network-request-failed"===y?.code&&m.schedule(!0))}m.schedule()})()}}class or{constructor(m,y){this.createdAt=m,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=Un(this.lastLoginAt),this.creationTime=Un(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function zr(D){return Zr.apply(this,arguments)}function Zr(){return Zr=(0,l.Z)(function*(D){var m;const y=D.auth,R=yield D.getIdToken(),Q=yield En(D,function wn(D,m){return sr.apply(this,arguments)}(y,{idToken:R}));Oe(Q?.users.length,y,"internal-error");const ae=Q.users[0];D._notifyReloadListener(ae);const Se=null!==(m=ae.providerUserInfo)&&void 0!==m&&m.length?function nr(D){return D.map(m=>{var{providerId:y}=m,R=(0,De._T)(m,["providerId"]);return{providerId:y,uid:R.rawId||"",displayName:R.displayName||null,email:R.email||null,phoneNumber:R.phoneNumber||null,photoURL:R.photoUrl||null}})}(ae.providerUserInfo):[],dt=function jn(D,m){return[...D.filter(R=>!m.some(Q=>Q.providerId===R.providerId)),...m]}(D.providerData,Se),Nn=!!D.isAnonymous&&!(D.email&&ae.passwordHash||dt?.length),lr={uid:ae.localId,displayName:ae.displayName||null,photoURL:ae.photoUrl||null,email:ae.email||null,emailVerified:ae.emailVerified||!1,phoneNumber:ae.phoneNumber||null,tenantId:ae.tenantId||null,providerData:dt,metadata:new or(ae.createdAt,ae.lastLoginAt),isAnonymous:Nn};Object.assign(D,lr)}),Zr.apply(this,arguments)}function pr(){return(pr=(0,l.Z)(function*(D){const m=(0,j.m9)(D);yield zr(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function rs(){return(rs=(0,l.Z)(function*(D,m){const y=yield St(D,{},(0,l.Z)(function*(){const R=(0,j.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:Q,apiKey:ae}=D.config,Se=Mn(D,Q,"/v1/token",`key=${ae}`),dt=yield D._getAdditionalHeaders();return dt["Content-Type"]="application/x-www-form-urlencoded",Ue.fetch()(Se,{method:"POST",headers:dt,body:R})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class Ie{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){Oe(m.idToken,"internal-error"),Oe(typeof m.idToken<"u","internal-error"),Oe(typeof m.refreshToken<"u","internal-error");const y="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):function Ei(D){const m=Wt(D);return Oe(m,"internal-error"),Oe(typeof m.exp<"u","internal-error"),Oe(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,y)}getToken(m,y=!1){var R=this;return(0,l.Z)(function*(){return Oe(!R.accessToken||R.refreshToken,m,"user-token-expired"),y||!R.accessToken||R.isExpired?R.refreshToken?(yield R.refresh(m,R.refreshToken),R.accessToken):null:R.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,y){var R=this;return(0,l.Z)(function*(){const{accessToken:Q,refreshToken:ae,expiresIn:Se}=yield function Ki(D,m){return rs.apply(this,arguments)}(m,y);R.updateTokensAndExpiration(Q,ae,Number(Se))})()}updateTokensAndExpiration(m,y,R){this.refreshToken=y||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*R}static fromJSON(m,y){const{refreshToken:R,accessToken:Q,expirationTime:ae}=y,Se=new Ie;return R&&(Oe("string"==typeof R,"internal-error",{appName:m}),Se.refreshToken=R),Q&&(Oe("string"==typeof Q,"internal-error",{appName:m}),Se.accessToken=Q),ae&&(Oe("number"==typeof ae,"internal-error",{appName:m}),Se.expirationTime=ae),Se}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new Ie,this.toJSON())}_performRefresh(){return Yt("not implemented")}}function re(D,m){Oe("string"==typeof D||typeof D>"u","internal-error",{appName:m})}class z{constructor(m){var{uid:y,auth:R,stsTokenManager:Q}=m,ae=(0,De._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new yi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=R,this.stsTokenManager=Q,this.accessToken=Q.accessToken,this.displayName=ae.displayName||null,this.email=ae.email||null,this.emailVerified=ae.emailVerified||!1,this.phoneNumber=ae.phoneNumber||null,this.photoURL=ae.photoURL||null,this.isAnonymous=ae.isAnonymous||!1,this.tenantId=ae.tenantId||null,this.providerData=ae.providerData?[...ae.providerData]:[],this.metadata=new or(ae.createdAt||void 0,ae.lastLoginAt||void 0)}getIdToken(m){var y=this;return(0,l.Z)(function*(){const R=yield En(y,y.stsTokenManager.getToken(y.auth,m));return Oe(R,y.auth,"internal-error"),y.accessToken!==R&&(y.accessToken=R,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),R})()}getIdTokenResult(m){return function Vt(D){return yr.apply(this,arguments)}(this,m)}reload(){return function br(D){return pr.apply(this,arguments)}(this)}_assign(m){this!==m&&(Oe(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(y=>Object.assign({},y)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){const y=new z(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}));return y.metadata._copy(this.metadata),y}_onReload(m){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,y=!1){var R=this;return(0,l.Z)(function*(){let Q=!1;m.idToken&&m.idToken!==R.stsTokenManager.accessToken&&(R.stsTokenManager.updateFromServerResponse(m),Q=!0),y&&(yield zr(R)),yield R.auth._persistUserIfCurrent(R),Q&&R.auth._notifyListenersIfCurrent(R)})()}delete(){var m=this;return(0,l.Z)(function*(){const y=yield m.getIdToken();return yield En(m,function Tn(D,m){return Dn.apply(this,arguments)}(m.auth,{idToken:y})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,y){var R,Q,ae,Se,dt,Nt,vn,Nn;const lr=null!==(R=y.displayName)&&void 0!==R?R:void 0,Er=null!==(Q=y.email)&&void 0!==Q?Q:void 0,Ba=null!==(ae=y.phoneNumber)&&void 0!==ae?ae:void 0,ju=null!==(Se=y.photoURL)&&void 0!==Se?Se:void 0,Xn=null!==(dt=y.tenantId)&&void 0!==dt?dt:void 0,Dc=null!==(Nt=y._redirectEventId)&&void 0!==Nt?Nt:void 0,wc=null!==(vn=y.createdAt)&&void 0!==vn?vn:void 0,ou=null!==(Nn=y.lastLoginAt)&&void 0!==Nn?Nn:void 0,{uid:fh,emailVerified:bl,isAnonymous:Ll,providerData:Cc,stsTokenManager:ph}=y;Oe(fh&&ph,m,"internal-error");const Sc=Ie.fromJSON(this.name,ph);Oe("string"==typeof fh,m,"internal-error"),re(lr,m.name),re(Er,m.name),Oe("boolean"==typeof bl,m,"internal-error"),Oe("boolean"==typeof Ll,m,"internal-error"),re(Ba,m.name),re(ju,m.name),re(Xn,m.name),re(Dc,m.name),re(wc,m.name),re(ou,m.name);const Vl=new z({uid:fh,auth:m,email:Er,emailVerified:bl,displayName:lr,isAnonymous:Ll,photoURL:ju,phoneNumber:Ba,tenantId:Xn,stsTokenManager:Sc,createdAt:wc,lastLoginAt:ou});return Cc&&Array.isArray(Cc)&&(Vl.providerData=Cc.map(au=>Object.assign({},au))),Dc&&(Vl._redirectEventId=Dc),Vl}static _fromIdTokenResponse(m,y,R=!1){return(0,l.Z)(function*(){const Q=new Ie;Q.updateFromServerResponse(y);const ae=new z({uid:y.localId,auth:m,stsTokenManager:Q,isAnonymous:R});return yield zr(ae),ae})()}}const $=new Map;function V(D){Xt(D instanceof Function,"Expected a class definition");let m=$.get(D);return m?(Xt(m instanceof D,"Instance stored in cache mismatched with class"),m):(m=new D,$.set(D,m),m)}const Fe=(()=>{class D{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(y,R){var Q=this;return(0,l.Z)(function*(){Q.storage[y]=R})()}_get(y){var R=this;return(0,l.Z)(function*(){const Q=R.storage[y];return void 0===Q?null:Q})()}_remove(y){var R=this;return(0,l.Z)(function*(){delete R.storage[y]})()}_addListener(y,R){}_removeListener(y,R){}}return D.type="NONE",D})();function yt(D,m,y){return`firebase:${D}:${m}:${y}`}class Rt{constructor(m,y,R){this.persistence=m,this.auth=y,this.userKey=R;const{config:Q,name:ae}=this.auth;this.fullUserKey=yt(this.userKey,Q.apiKey,ae),this.fullPersistenceKey=yt("persistence",Q.apiKey,ae),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,l.Z)(function*(){const y=yield m.persistence._get(m.fullUserKey);return y?z._fromJSON(m.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var y=this;return(0,l.Z)(function*(){if(y.persistence===m)return;const R=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=m,R?y.setCurrentUser(R):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,y,R="authUser"){return(0,l.Z)(function*(){if(!y.length)return new Rt(V(Fe),m,R);const Q=(yield Promise.all(y.map(function(){var vn=(0,l.Z)(function*(Nn){if(yield Nn._isAvailable())return Nn});return function(Nn){return vn.apply(this,arguments)}}()))).filter(vn=>vn);let ae=Q[0]||V(Fe);const Se=yt(R,m.config.apiKey,m.name);let dt=null;for(const vn of y)try{const Nn=yield vn._get(Se);if(Nn){const lr=z._fromJSON(m,Nn);vn!==ae&&(dt=lr),ae=vn;break}}catch{}const Nt=Q.filter(vn=>vn._shouldAllowMigration);return ae._shouldAllowMigration&&Nt.length?(ae=Nt[0],dt&&(yield ae._set(Se,dt.toJSON())),yield Promise.all(y.map(function(){var vn=(0,l.Z)(function*(Nn){if(Nn!==ae)try{yield Nn._remove(Se)}catch{}});return function(Nn){return vn.apply(this,arguments)}}())),new Rt(ae,m,R)):new Rt(ae,m,R)})()}}function Kt(D){const m=D.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(Sn(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(Ht(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(Vi(m))return"Blackberry";if(ft(m))return"Webos";if(fn(m))return"Safari";if((m.includes("chrome/")||Wn(m))&&!m.includes("edge/"))return"Chrome";if(ei(m))return"Android";{const R=D.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===R?.length)return R[1]}return"Other"}function Ht(D=(0,j.z$)()){return/firefox\//i.test(D)}function fn(D=(0,j.z$)()){const m=D.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function Wn(D=(0,j.z$)()){return/crios\//i.test(D)}function Sn(D=(0,j.z$)()){return/iemobile/i.test(D)}function ei(D=(0,j.z$)()){return/android/i.test(D)}function Vi(D=(0,j.z$)()){return/blackberry/i.test(D)}function ft(D=(0,j.z$)()){return/webos/i.test(D)}function Ge(D=(0,j.z$)()){return/iphone|ipad|ipod/i.test(D)||/macintosh/i.test(D)&&/mobile/i.test(D)}function Ct(D=(0,j.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(D)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(D)}function en(D=(0,j.z$)()){return Ge(D)||ei(D)||ft(D)||Vi(D)||/windows phone/i.test(D)||Sn(D)}function Tr(D,m=[]){let y;switch(D){case"Browser":y=Kt((0,j.z$)());break;case"Worker":y=`${Kt((0,j.z$)())}-${D}`;break;default:y=D}const R=m.length?m.join(","):"FirebaseCore-web";return`${y}/JsCore/${se.SDK_VERSION}/${R}`}class ar{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,y){const R=ae=>new Promise((Se,dt)=>{try{Se(m(ae))}catch(Nt){dt(Nt)}});R.onAbort=y,this.queue.push(R);const Q=this.queue.length-1;return()=>{this.queue[Q]=()=>Promise.resolve()}}runMiddleware(m){var y=this;return(0,l.Z)(function*(){if(y.auth.currentUser===m)return;const R=[];try{for(const Q of y.queue)yield Q(m),Q.onAbort&&R.push(Q.onAbort)}catch(Q){R.reverse();for(const ae of R)try{ae()}catch{}throw y.auth._errorFactory.create("login-blocked",{originalMessage:Q?.message})}})()}}function vi(){return(vi=(0,l.Z)(function*(D,m={}){return He(D,"GET","/v2/passwordPolicy",Ce(D,m))})).apply(this,arguments)}class ai{constructor(m){var y,R,Q,ae;const Se=m.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(y=Se.minPasswordLength)&&void 0!==y?y:6,Se.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Se.maxPasswordLength),void 0!==Se.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Se.containsLowercaseCharacter),void 0!==Se.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Se.containsUppercaseCharacter),void 0!==Se.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Se.containsNumericCharacter),void 0!==Se.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Se.containsNonAlphanumericCharacter),this.enforcementState=m.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(Q=null===(R=m.allowedNonAlphanumericCharacters)||void 0===R?void 0:R.join(""))&&void 0!==Q?Q:"",this.forceUpgradeOnSignin=null!==(ae=m.forceUpgradeOnSignin)&&void 0!==ae&&ae,this.schemaVersion=m.schemaVersion}validatePassword(m){var y,R,Q,ae,Se,dt;const Nt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(m,Nt),this.validatePasswordCharacterOptions(m,Nt),Nt.isValid&&(Nt.isValid=null===(y=Nt.meetsMinPasswordLength)||void 0===y||y),Nt.isValid&&(Nt.isValid=null===(R=Nt.meetsMaxPasswordLength)||void 0===R||R),Nt.isValid&&(Nt.isValid=null===(Q=Nt.containsLowercaseLetter)||void 0===Q||Q),Nt.isValid&&(Nt.isValid=null===(ae=Nt.containsUppercaseLetter)||void 0===ae||ae),Nt.isValid&&(Nt.isValid=null===(Se=Nt.containsNumericCharacter)||void 0===Se||Se),Nt.isValid&&(Nt.isValid=null===(dt=Nt.containsNonAlphanumericCharacter)||void 0===dt||dt),Nt}validatePasswordLengthOptions(m,y){const R=this.customStrengthOptions.minPasswordLength,Q=this.customStrengthOptions.maxPasswordLength;R&&(y.meetsMinPasswordLength=m.length>=R),Q&&(y.meetsMaxPasswordLength=m.length<=Q)}validatePasswordCharacterOptions(m,y){let R;this.updatePasswordCharacterOptionsStatuses(y,!1,!1,!1,!1);for(let Q=0;Q<m.length;Q++)R=m.charAt(Q),this.updatePasswordCharacterOptionsStatuses(y,R>="a"&&R<="z",R>="A"&&R<="Z",R>="0"&&R<="9",this.allowedNonAlphanumericCharacters.includes(R))}updatePasswordCharacterOptionsStatuses(m,y,R,Q,ae){this.customStrengthOptions.containsLowercaseLetter&&(m.containsLowercaseLetter||(m.containsLowercaseLetter=y)),this.customStrengthOptions.containsUppercaseLetter&&(m.containsUppercaseLetter||(m.containsUppercaseLetter=R)),this.customStrengthOptions.containsNumericCharacter&&(m.containsNumericCharacter||(m.containsNumericCharacter=Q)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(m.containsNonAlphanumericCharacter||(m.containsNonAlphanumericCharacter=ae))}}class wi{constructor(m,y,R,Q){this.app=m,this.heartbeatServiceProvider=y,this.appCheckServiceProvider=R,this.config=Q,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pi(this),this.idTokenSubscription=new pi(this),this.beforeStateQueue=new ar(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=Q.sdkClientVersion}_initializeWithPersistence(m,y){var R=this;return y&&(this._popupRedirectResolver=V(y)),this._initializationPromise=this.queue((0,l.Z)(function*(){var Q,ae;if(!R._deleted&&(R.persistenceManager=yield Rt.create(R,m),!R._deleted)){if(null!==(Q=R._popupRedirectResolver)&&void 0!==Q&&Q._shouldInitProactively)try{yield R._popupRedirectResolver._initialize(R)}catch{}yield R.initializeCurrentUser(y),R.lastNotifiedUid=(null===(ae=R.currentUser)||void 0===ae?void 0:ae.uid)||null,!R._deleted&&(R._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,l.Z)(function*(){if(m._deleted)return;const y=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||y){if(m.currentUser&&y&&m.currentUser.uid===y.uid)return m._currentUser._assign(y),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(y,!0)}})()}initializeCurrentUser(m){var y=this;return(0,l.Z)(function*(){var R;const Q=yield y.assertedPersistence.getCurrentUser();let ae=Q,Se=!1;if(m&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const dt=null===(R=y.redirectUser)||void 0===R?void 0:R._redirectEventId,Nt=ae?._redirectEventId,vn=yield y.tryRedirectSignIn(m);(!dt||dt===Nt)&&vn?.user&&(ae=vn.user,Se=!0)}if(!ae)return y.directlySetCurrentUser(null);if(!ae._redirectEventId){if(Se)try{yield y.beforeStateQueue.runMiddleware(ae)}catch(dt){ae=Q,y._popupRedirectResolver._overrideRedirectResult(y,()=>Promise.reject(dt))}return ae?y.reloadAndSetCurrentUserOrClear(ae):y.directlySetCurrentUser(null)}return Oe(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===ae._redirectEventId?y.directlySetCurrentUser(ae):y.reloadAndSetCurrentUserOrClear(ae)})()}tryRedirectSignIn(m){var y=this;return(0,l.Z)(function*(){let R=null;try{R=yield y._popupRedirectResolver._completeRedirectFn(y,m,!0)}catch{yield y._setRedirectUser(null)}return R})()}reloadAndSetCurrentUserOrClear(m){var y=this;return(0,l.Z)(function*(){try{yield zr(m)}catch(R){if("auth/network-request-failed"!==R?.code)return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function At(){if(typeof navigator>"u")return null;const D=navigator;return D.languages&&D.languages[0]||D.language||null}()}_delete(){var m=this;return(0,l.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var y=this;return(0,l.Z)(function*(){const R=m?(0,j.m9)(m):null;return R&&Oe(R.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(R&&R._clone(y))})()}_updateCurrentUser(m,y=!1){var R=this;return(0,l.Z)(function*(){if(!R._deleted)return m&&Oe(R.tenantId===m.tenantId,R,"tenant-id-mismatch"),y||(yield R.beforeStateQueue.runMiddleware(m)),R.queue((0,l.Z)(function*(){yield R.directlySetCurrentUser(m),R.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,l.Z)(function*(){return yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0)})()}setPersistence(m){var y=this;return this.queue((0,l.Z)(function*(){yield y.assertedPersistence.setPersistence(V(m))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(m){var y=this;return(0,l.Z)(function*(){y._getPasswordPolicyInternal()||(yield y._updatePasswordPolicy());const R=y._getPasswordPolicyInternal();return R.schemaVersion!==y.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(y._errorFactory.create("unsupported-password-policy-schema-version",{})):R.validatePassword(m)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var m=this;return(0,l.Z)(function*(){const y=yield function fi(D){return vi.apply(this,arguments)}(m),R=new ai(y);null===m.tenantId?m._projectPasswordPolicy=R:m._tenantPasswordPolicies[m.tenantId]=R})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new j.LL("auth","Firebase",m())}onAuthStateChanged(m,y,R){return this.registerStateListener(this.authStateSubscription,m,y,R)}beforeAuthStateChanged(m,y){return this.beforeStateQueue.pushCallback(m,y)}onIdTokenChanged(m,y,R){return this.registerStateListener(this.idTokenSubscription,m,y,R)}authStateReady(){return new Promise((m,y)=>{if(this.currentUser)m();else{const R=this.onAuthStateChanged(()=>{R(),m()},y)}})}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,y){var R=this;return(0,l.Z)(function*(){const Q=yield R.getOrInitRedirectPersistenceManager(y);return null===m?Q.removeCurrentUser():Q.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var y=this;return(0,l.Z)(function*(){if(!y.redirectPersistenceManager){const R=m&&V(m)||y._popupRedirectResolver;Oe(R,y,"argument-error"),y.redirectPersistenceManager=yield Rt.create(y,[V(R._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(m){var y=this;return(0,l.Z)(function*(){var R,Q;return y._isInitialized&&(yield y.queue((0,l.Z)(function*(){}))),(null===(R=y._currentUser)||void 0===R?void 0:R._redirectEventId)===m?y._currentUser:(null===(Q=y.redirectUser)||void 0===Q?void 0:Q._redirectEventId)===m?y.redirectUser:null})()}_persistUserIfCurrent(m){var y=this;return(0,l.Z)(function*(){if(m===y.currentUser)return y.queue((0,l.Z)(function*(){return y.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const R=null!==(y=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==R&&(this.lastNotifiedUid=R,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,y,R,Q){if(this._deleted)return()=>{};const ae="function"==typeof y?y:y.next.bind(y);let Se=!1;const dt=this._isInitialized?Promise.resolve():this._initializationPromise;if(Oe(dt,this,"internal-error"),dt.then(()=>{Se||ae(this.currentUser)}),"function"==typeof y){const Nt=m.addObserver(y,R,Q);return()=>{Se=!0,Nt()}}{const Nt=m.addObserver(y);return()=>{Se=!0,Nt()}}}directlySetCurrentUser(m){var y=this;return(0,l.Z)(function*(){y.currentUser&&y.currentUser!==m&&y._currentUser._stopProactiveRefresh(),m&&y.isProactiveRefreshEnabled&&m._startProactiveRefresh(),y.currentUser=m,m?yield y.assertedPersistence.setCurrentUser(m):yield y.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=Tr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,l.Z)(function*(){var y;const R={"X-Client-Version":m.clientVersion};m.app.options.appId&&(R["X-Firebase-gmpid"]=m.app.options.appId);const Q=yield null===(y=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();Q&&(R["X-Firebase-Client"]=Q);const ae=yield m._getAppCheckToken();return ae&&(R["X-Firebase-AppCheck"]=ae),R})()}_getAppCheckToken(){var m=this;return(0,l.Z)(function*(){var y;const R=yield null===(y=m.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getToken();return R?.error&&function jt(D,...m){ht.logLevel<=ve.in.WARN&&ht.warn(`Auth (${se.SDK_VERSION}): ${D}`,...m)}(`Error while retrieving App Check token: ${R.error}`),R?.token})()}}function qn(D){return(0,j.m9)(D)}class pi{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,j.ne)(y=>this.observer=y)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function gr(D){return new Promise((m,y)=>{const R=document.createElement("script");R.setAttribute("src",D),R.onload=m,R.onerror=Q=>{const ae=$e("internal-error");ae.customData=Q,y(ae)},R.type="text/javascript",R.charset="UTF-8",function So(){var D,m;return null!==(m=null===(D=document.getElementsByTagName("head"))||void 0===D?void 0:D[0])&&void 0!==m?m:document}().appendChild(R)})}function Yi(D){return`__${D}${Math.floor(1e6*Math.random())}`}class gs{constructor(m){this.type="recaptcha-enterprise",this.auth=qn(m)}verify(m="verify",y=!1){var R=this;return(0,l.Z)(function*(){function ae(){return ae=(0,l.Z)(function*(dt){if(!y){if(null==dt.tenantId&&null!=dt._agentRecaptchaConfig)return dt._agentRecaptchaConfig.siteKey;if(null!=dt.tenantId&&void 0!==dt._tenantRecaptchaConfigs[dt.tenantId])return dt._tenantRecaptchaConfigs[dt.tenantId].siteKey}return new Promise(function(){var Nt=(0,l.Z)(function*(vn,Nn){Pt(dt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(lr=>{if(void 0!==lr.recaptchaKey){const Er=new Me(lr);return null==dt.tenantId?dt._agentRecaptchaConfig=Er:dt._tenantRecaptchaConfigs[dt.tenantId]=Er,vn(Er.siteKey)}Nn(new Error("recaptcha Enterprise site key undefined"))}).catch(lr=>{Nn(lr)})});return function(vn,Nn){return Nt.apply(this,arguments)}}())}),ae.apply(this,arguments)}function Se(dt,Nt,vn){const Nn=window.grecaptcha;Re(Nn)?Nn.enterprise.ready(()=>{Nn.enterprise.execute(dt,{action:m}).then(lr=>{Nt(lr)}).catch(()=>{Nt("NO_RECAPTCHA")})}):vn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((dt,Nt)=>{(function Q(dt){return ae.apply(this,arguments)})(R.auth).then(vn=>{if(!y&&Re(window.grecaptcha))Se(vn,dt,Nt);else{if(typeof window>"u")return void Nt(new Error("RecaptchaVerifier is only supported in browser"));gr("https://www.google.com/recaptcha/enterprise.js?render="+vn).then(()=>{Se(vn,dt,Nt)}).catch(Nn=>{Nt(Nn)})}}).catch(vn=>{Nt(vn)})})})()}}function Qs(D,m,y){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,l.Z)(function*(D,m,y,R=!1){const Q=new gs(D);let ae;try{ae=yield Q.verify(y)}catch{ae=yield Q.verify(y,!0)}const Se=Object.assign({},m);return Object.assign(Se,R?{captchaResp:ae}:{captchaResponse:ae}),Object.assign(Se,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Se,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Se})).apply(this,arguments)}function po(D,m,y,R){return Jo.apply(this,arguments)}function Jo(){return Jo=(0,l.Z)(function*(D,m,y,R){var Q;if(null!==(Q=D._getRecaptchaConfig())&&void 0!==Q&&Q.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const ae=yield Qs(D,m,y,"getOobCode"===y);return R(D,ae)}return R(D,m).catch(function(){var ae=(0,l.Z)(function*(Se){if("auth/missing-recaptcha-token"===Se.code){console.log(`${y} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const dt=yield Qs(D,m,y,"getOobCode"===y);return R(D,dt)}return Promise.reject(Se)});return function(Se){return ae.apply(this,arguments)}}())}),Jo.apply(this,arguments)}function Uo(D,m,y){const R=qn(D);Oe(R._canInitEmulator,R,"emulator-config-failed"),Oe(/^https?:\/\//.test(m),R,"invalid-emulator-scheme");const Q=!!y?.disableWarnings,ae=Ca(m),{host:Se,port:dt}=function Oi(D){const m=Ca(D),y=/(\/\/)?([^?#/]+)/.exec(D.substr(m.length));if(!y)return{host:"",port:null};const R=y[2].split("@").pop()||"",Q=/^(\[[^\]]+\])(:|$)/.exec(R);if(Q){const ae=Q[1];return{host:ae,port:Js(R.substr(ae.length+1))}}{const[ae,Se]=R.split(":");return{host:ae,port:Js(Se)}}}(m);R.config.emulator={url:`${ae}//${Se}${null===dt?"":`:${dt}`}/`},R.settings.appVerificationDisabledForTesting=!0,R.emulatorConfig=Object.freeze({host:Se,port:dt,protocol:ae.replace(":",""),options:Object.freeze({disableWarnings:Q})}),Q||function jo(){function D(){const m=document.createElement("p"),y=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",D):D())}()}function Ca(D){const m=D.indexOf(":");return m<0?"":D.substr(0,m+1)}function Js(D){if(!D)return null;const m=Number(D);return isNaN(m)?null:m}class li{constructor(m,y){this.providerId=m,this.signInMethod=y}toJSON(){return Yt("not implemented")}_getIdTokenResponse(m){return Yt("not implemented")}_linkToIdToken(m,y){return Yt("not implemented")}_getReauthenticationResolver(m){return Yt("not implemented")}}function Ms(D,m){return xi.apply(this,arguments)}function xi(){return(xi=(0,l.Z)(function*(D,m){return He(D,"POST","/v1/accounts:resetPassword",Ce(D,m))})).apply(this,arguments)}function Eo(D,m){return is.apply(this,arguments)}function is(){return(is=(0,l.Z)(function*(D,m){return He(D,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Ps(){return(Ps=(0,l.Z)(function*(D,m){return He(D,"POST","/v1/accounts:update",Ce(D,m))})).apply(this,arguments)}function ss(D,m){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,l.Z)(function*(D,m){return An(D,"POST","/v1/accounts:signInWithPassword",Ce(D,m))})).apply(this,arguments)}function Nr(D,m){return mr.apply(this,arguments)}function mr(){return(mr=(0,l.Z)(function*(D,m){return He(D,"POST","/v1/accounts:sendOobCode",Ce(D,m))})).apply(this,arguments)}function ti(){return(ti=(0,l.Z)(function*(D,m){return Nr(D,m)})).apply(this,arguments)}function Ro(D,m){return Si.apply(this,arguments)}function Si(){return(Si=(0,l.Z)(function*(D,m){return Nr(D,m)})).apply(this,arguments)}function xs(D,m){return gi.apply(this,arguments)}function gi(){return(gi=(0,l.Z)(function*(D,m){return Nr(D,m)})).apply(this,arguments)}function Or(){return(Or=(0,l.Z)(function*(D,m){return Nr(D,m)})).apply(this,arguments)}function tn(){return(tn=(0,l.Z)(function*(D,m){return An(D,"POST","/v1/accounts:signInWithEmailLink",Ce(D,m))})).apply(this,arguments)}function ni(){return(ni=(0,l.Z)(function*(D,m){return An(D,"POST","/v1/accounts:signInWithEmailLink",Ce(D,m))})).apply(this,arguments)}class bi extends li{constructor(m,y,R,Q=null){super("password",R),this._email=m,this._password=y,this._tenantId=Q}static _fromEmailAndPassword(m,y){return new bi(m,y,"password")}static _fromEmailAndCode(m,y,R=null){return new bi(m,y,"emailLink",R)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const y="string"==typeof m?JSON.parse(m):m;if(y?.email&&y?.password){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(m){var y=this;return(0,l.Z)(function*(){switch(y.signInMethod){case"password":return po(m,{returnSecureToken:!0,email:y._email,password:y._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",ss);case"emailLink":return function Gt(D,m){return tn.apply(this,arguments)}(m,{email:y._email,oobCode:y._password});default:ue(m,"internal-error")}})()}_linkToIdToken(m,y){var R=this;return(0,l.Z)(function*(){switch(R.signInMethod){case"password":return Eo(m,{idToken:y,returnSecureToken:!0,email:R._email,password:R._password});case"emailLink":return function dr(D,m){return ni.apply(this,arguments)}(m,{idToken:y,email:R._email,oobCode:R._password});default:ue(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function jr(D,m){return os.apply(this,arguments)}function os(){return(os=(0,l.Z)(function*(D,m){return An(D,"POST","/v1/accounts:signInWithIdp",Ce(D,m))})).apply(this,arguments)}class ji extends li{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const y=new ji(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(y.idToken=m.idToken),m.accessToken&&(y.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(y.nonce=m.nonce),m.pendingToken&&(y.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(y.accessToken=m.oauthToken,y.secret=m.oauthTokenSecret):ue("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const y="string"==typeof m?JSON.parse(m):m,{providerId:R,signInMethod:Q}=y,ae=(0,De._T)(y,["providerId","signInMethod"]);if(!R||!Q)return null;const Se=new ji(R,Q);return Se.idToken=ae.idToken||void 0,Se.accessToken=ae.accessToken||void 0,Se.secret=ae.secret,Se.nonce=ae.nonce,Se.pendingToken=ae.pendingToken||null,Se}_getIdTokenResponse(m){return jr(m,this.buildRequest())}_linkToIdToken(m,y){const R=this.buildRequest();return R.idToken=y,jr(m,R)}_getReauthenticationResolver(m){const y=this.buildRequest();return y.autoCreate=!1,jr(m,y)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),m.postBody=(0,j.xO)(y)}return m}}function kn(){return(kn=(0,l.Z)(function*(D,m){return He(D,"POST","/v1/accounts:sendVerificationCode",Ce(D,m))})).apply(this,arguments)}function Ai(){return(Ai=(0,l.Z)(function*(D,m){return An(D,"POST","/v1/accounts:signInWithPhoneNumber",Ce(D,m))})).apply(this,arguments)}function vr(){return(vr=(0,l.Z)(function*(D,m){const y=yield An(D,"POST","/v1/accounts:signInWithPhoneNumber",Ce(D,m));if(y.temporaryProof)throw zn(D,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const Io={USER_NOT_FOUND:"user-not-found"};function as(){return(as=(0,l.Z)(function*(D,m){return An(D,"POST","/v1/accounts:signInWithPhoneNumber",Ce(D,Object.assign(Object.assign({},m),{operation:"REAUTH"})),Io)})).apply(this,arguments)}class ls extends li{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,y){return new ls({verificationId:m,verificationCode:y})}static _fromTokenResponse(m,y){return new ls({phoneNumber:m,temporaryProof:y})}_getIdTokenResponse(m){return function Xs(D,m){return Ai.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,y){return function ks(D,m){return vr.apply(this,arguments)}(m,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function ms(D,m){return as.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:y,verificationId:R,verificationCode:Q}=this.params;return m&&y?{temporaryProof:m,phoneNumber:y}:{sessionInfo:R,code:Q}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:y,verificationCode:R,phoneNumber:Q,temporaryProof:ae}=m;return R||y||Q||ae?new ls({verificationId:y,verificationCode:R,phoneNumber:Q,temporaryProof:ae}):null}}class us{constructor(m){var y,R,Q,ae,Se,dt;const Nt=(0,j.zd)((0,j.pd)(m)),vn=null!==(y=Nt.apiKey)&&void 0!==y?y:null,Nn=null!==(R=Nt.oobCode)&&void 0!==R?R:null,lr=function za(D){switch(D){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Q=Nt.mode)&&void 0!==Q?Q:null);Oe(vn&&Nn&&lr,"argument-error"),this.apiKey=vn,this.operation=lr,this.code=Nn,this.continueUrl=null!==(ae=Nt.continueUrl)&&void 0!==ae?ae:null,this.languageCode=null!==(Se=Nt.languageCode)&&void 0!==Se?Se:null,this.tenantId=null!==(dt=Nt.tenantId)&&void 0!==dt?dt:null}static parseLink(m){const y=function bo(D){const m=(0,j.zd)((0,j.pd)(D)).link,y=m?(0,j.zd)((0,j.pd)(m)).deep_link_id:null,R=(0,j.zd)((0,j.pd)(D)).deep_link_id;return(R?(0,j.zd)((0,j.pd)(R)).link:null)||R||y||m||D}(m);try{return new us(y)}catch{return null}}}let eo=(()=>{class D{constructor(){this.providerId=D.PROVIDER_ID}static credential(y,R){return bi._fromEmailAndPassword(y,R)}static credentialWithLink(y,R){const Q=us.parseLink(R);return Oe(Q,"argument-error"),bi._fromEmailAndCode(y,Q.code,Q.tenantId)}}return D.PROVIDER_ID="password",D.EMAIL_PASSWORD_SIGN_IN_METHOD="password",D.EMAIL_LINK_SIGN_IN_METHOD="emailLink",D})();class xn{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class No extends xn{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class Ts extends No{static credentialFromJSON(m){const y="string"==typeof m?JSON.parse(m):m;return Oe("providerId"in y&&"signInMethod"in y,"argument-error"),ji._fromParams(y)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return Oe(m.idToken||m.accessToken,"argument-error"),ji._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return Ts.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return Ts.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:y,oauthAccessToken:R,oauthTokenSecret:Q,pendingToken:ae,nonce:Se,providerId:dt}=m;if(!R&&!Q&&!y&&!ae||!dt)return null;try{return new Ts(dt)._credential({idToken:y,accessToken:R,nonce:Se,pendingToken:ae})}catch{return null}}}let Do=(()=>{class D extends No{constructor(){super("facebook.com")}static credential(y){return ji._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return D.credentialFromTaggedObject(y)}static credentialFromError(y){return D.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return D.credential(y.oauthAccessToken)}catch{return null}}}return D.FACEBOOK_SIGN_IN_METHOD="facebook.com",D.PROVIDER_ID="facebook.com",D})(),ui=(()=>{class D extends No{constructor(){super("google.com"),this.addScope("profile")}static credential(y,R){return ji._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:R})}static credentialFromResult(y){return D.credentialFromTaggedObject(y)}static credentialFromError(y){return D.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:R,oauthAccessToken:Q}=y;if(!R&&!Q)return null;try{return D.credential(R,Q)}catch{return null}}}return D.GOOGLE_SIGN_IN_METHOD="google.com",D.PROVIDER_ID="google.com",D})(),ha=(()=>{class D extends No{constructor(){super("github.com")}static credential(y){return ji._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return D.credentialFromTaggedObject(y)}static credentialFromError(y){return D.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return D.credential(y.oauthAccessToken)}catch{return null}}}return D.GITHUB_SIGN_IN_METHOD="github.com",D.PROVIDER_ID="github.com",D})();class Ls extends li{constructor(m,y){super(m,m),this.pendingToken=y}_getIdTokenResponse(m){return jr(m,this.buildRequest())}_linkToIdToken(m,y){const R=this.buildRequest();return R.idToken=y,jr(m,R)}_getReauthenticationResolver(m){const y=this.buildRequest();return y.autoCreate=!1,jr(m,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const y="string"==typeof m?JSON.parse(m):m,{providerId:R,signInMethod:Q,pendingToken:ae}=y;return R&&Q&&ae&&R===Q?new Ls(R,ae):null}static _create(m,y){return new Ls(m,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class $o extends xn{constructor(m){Oe(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return $o.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return $o.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const y=Ls.fromJSON(m);return Oe(y,"argument-error"),y}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:y,providerId:R}=m;if(!y||!R)return null;try{return Ls._create(R,y)}catch{return null}}}let ki=(()=>{class D extends No{constructor(){super("twitter.com")}static credential(y,R){return ji._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:R})}static credentialFromResult(y){return D.credentialFromTaggedObject(y)}static credentialFromError(y){return D.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:R,oauthTokenSecret:Q}=y;if(!R||!Q)return null;try{return D.credential(R,Q)}catch{return null}}}return D.TWITTER_SIGN_IN_METHOD="twitter.com",D.PROVIDER_ID="twitter.com",D})();function Mr(D,m){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,l.Z)(function*(D,m){return An(D,"POST","/v1/accounts:signUp",Ce(D,m))})).apply(this,arguments)}class ri{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,y,R,Q=!1){return(0,l.Z)(function*(){const ae=yield z._fromIdTokenResponse(m,R,Q),Se=Ds(R);return new ri({user:ae,providerId:Se,_tokenResponse:R,operationType:y})})()}static _forOperation(m,y,R){return(0,l.Z)(function*(){yield m._updateTokensIfNecessary(R,!0);const Q=Ds(R);return new ri({user:m,providerId:Q,_tokenResponse:R,operationType:y})})()}}function Ds(D){return D.providerId?D.providerId:"phoneNumber"in D?"phone":null}function cr(D){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,l.Z)(function*(D){var m;const y=qn(D);if(yield y._initializationPromise,null!==(m=y.currentUser)&&void 0!==m&&m.isAnonymous)return new ri({user:y.currentUser,providerId:null,operationType:"signIn"});const R=yield Mr(y,{returnSecureToken:!0}),Q=yield ri._fromIdTokenResponse(y,"signIn",R,!0);return yield y._updateCurrentUser(Q.user),Q})).apply(this,arguments)}class Mo extends j.ZR{constructor(m,y,R,Q){var ae;super(y.code,y.message),this.operationType=R,this.user=Q,Object.setPrototypeOf(this,Mo.prototype),this.customData={appName:m.name,tenantId:null!==(ae=m.tenantId)&&void 0!==ae?ae:void 0,_serverResponse:y.customData._serverResponse,operationType:R}}static _fromErrorAndOperation(m,y,R,Q){return new Mo(m,y,R,Q)}}function Go(D,m,y,R){return("reauthenticate"===m?y._getReauthenticationResolver(D):y._getIdTokenResponse(D)).catch(ae=>{throw"auth/multi-factor-auth-required"===ae.code?Mo._fromErrorAndOperation(D,ae,m,R):ae})}function ea(D){return new Set(D.map(({providerId:m})=>m).filter(m=>!!m))}function ta(D,m){return K.apply(this,arguments)}function K(){return K=(0,l.Z)(function*(D,m){const y=(0,j.m9)(D);yield oe(!0,y,m);const{providerUserInfo:R}=yield function Lt(D,m){return gn.apply(this,arguments)}(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[m]}),Q=ea(R||[]);return y.providerData=y.providerData.filter(ae=>Q.has(ae.providerId)),Q.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y}),K.apply(this,arguments)}function J(D,m){return F.apply(this,arguments)}function F(){return(F=(0,l.Z)(function*(D,m,y=!1){const R=yield En(D,m._linkToIdToken(D.auth,yield D.getIdToken()),y);return ri._forOperation(D,"link",R)})).apply(this,arguments)}function oe(D,m,y){return me.apply(this,arguments)}function me(){return(me=(0,l.Z)(function*(D,m,y){yield zr(m);const Q=!1===D?"provider-already-linked":"no-such-provider";Oe(ea(m.providerData).has(y)===D,m.auth,Q)})).apply(this,arguments)}function cn(D,m){return rr.apply(this,arguments)}function rr(){return(rr=(0,l.Z)(function*(D,m,y=!1){const{auth:R}=D,Q="reauthenticate";try{const ae=yield En(D,Go(R,Q,m,D),y);Oe(ae.idToken,R,"internal-error");const Se=Wt(ae.idToken);Oe(Se,R,"internal-error");const{sub:dt}=Se;return Oe(D.uid===dt,R,"user-mismatch"),ri._forOperation(D,Q,ae)}catch(ae){throw"auth/user-not-found"===ae?.code&&ue(R,"user-mismatch"),ae}})).apply(this,arguments)}function Vs(D,m){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,l.Z)(function*(D,m,y=!1){const R="signIn",Q=yield Go(D,R,m),ae=yield ri._fromIdTokenResponse(D,R,Q);return y||(yield D._updateCurrentUser(ae.user)),ae})).apply(this,arguments)}function _s(D,m){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,l.Z)(function*(D,m){return Vs(qn(D),m)})).apply(this,arguments)}function fa(D,m){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,l.Z)(function*(D,m){const y=(0,j.m9)(D);return yield oe(!1,y,m.providerId),J(y,m)})).apply(this,arguments)}function Ka(D,m){return Po.apply(this,arguments)}function Po(){return(Po=(0,l.Z)(function*(D,m){return cn((0,j.m9)(D),m)})).apply(this,arguments)}function pa(){return(pa=(0,l.Z)(function*(D,m){return An(D,"POST","/v1/accounts:signInWithCustomToken",Ce(D,m))})).apply(this,arguments)}function Aa(D,m){return go.apply(this,arguments)}function go(){return go=(0,l.Z)(function*(D,m){const y=qn(D),R=yield function Ru(D,m){return pa.apply(this,arguments)}(y,{token:m,returnSecureToken:!0}),Q=yield ri._fromIdTokenResponse(y,"signIn",R);return yield y._updateCurrentUser(Q.user),Q}),go.apply(this,arguments)}class cs{constructor(m,y){this.factorId=m,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(m,y){return"phoneInfo"in y?Oo._fromServerResponse(m,y):"totpInfo"in y?zo._fromServerResponse(m,y):ue(m,"internal-error")}}class Oo extends cs{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,y){return new Oo(y)}}class zo extends cs{constructor(m){super("totp",m)}static _fromServerResponse(m,y){return new zo(y)}}function mi(D,m,y){var R;Oe((null===(R=y.url)||void 0===R?void 0:R.length)>0,D,"invalid-continue-uri"),Oe(typeof y.dynamicLinkDomain>"u"||y.dynamicLinkDomain.length>0,D,"invalid-dynamic-link-domain"),m.continueUrl=y.url,m.dynamicLinkDomain=y.dynamicLinkDomain,m.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(Oe(y.iOS.bundleId.length>0,D,"missing-ios-bundle-id"),m.iOSBundleId=y.iOS.bundleId),y.android&&(Oe(y.android.packageName.length>0,D,"missing-android-pkg-name"),m.androidInstallApp=y.android.installApp,m.androidMinimumVersionCode=y.android.minimumVersion,m.androidPackageName=y.android.packageName)}function ds(D){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,l.Z)(function*(D){const m=qn(D);m._getPasswordPolicyInternal()&&(yield m._updatePasswordPolicy())})).apply(this,arguments)}function fl(D,m,y){return wo.apply(this,arguments)}function wo(){return(wo=(0,l.Z)(function*(D,m,y){const R=qn(D),Q={requestType:"PASSWORD_RESET",email:m,clientType:"CLIENT_TYPE_WEB"};y&&mi(R,Q,y),yield po(R,Q,"getOobCode",Ro)})).apply(this,arguments)}function pl(D,m,y){return xo.apply(this,arguments)}function xo(){return xo=(0,l.Z)(function*(D,m,y){yield Ms((0,j.m9)(D),{oobCode:m,newPassword:y}).catch(function(){var R=(0,l.Z)(function*(Q){throw"auth/password-does-not-meet-requirements"===Q.code&&ds(D),Q});return function(Q){return R.apply(this,arguments)}}())}),xo.apply(this,arguments)}function gl(D,m){return ga.apply(this,arguments)}function ga(){return ga=(0,l.Z)(function*(D,m){yield function Zi(D,m){return Ps.apply(this,arguments)}((0,j.m9)(D),{oobCode:m})}),ga.apply(this,arguments)}function na(D,m){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,l.Z)(function*(D,m){const y=(0,j.m9)(D),R=yield Ms(y,{oobCode:m}),Q=R.requestType;switch(Oe(Q,y,"internal-error"),Q){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Oe(R.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Oe(R.mfaInfo,y,"internal-error");default:Oe(R.email,y,"internal-error")}let ae=null;return R.mfaInfo&&(ae=cs._fromServerResponse(qn(y),R.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===R.requestType?R.newEmail:R.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===R.requestType?R.email:R.newEmail)||null,multiFactorInfo:ae},operation:Q}})).apply(this,arguments)}function Ra(D,m){return ma.apply(this,arguments)}function ma(){return(ma=(0,l.Z)(function*(D,m){const{data:y}=yield na((0,j.m9)(D),m);return y.email})).apply(this,arguments)}function ra(D,m,y){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,l.Z)(function*(D,m,y){const R=qn(D),Se=yield po(R,{returnSecureToken:!0,email:m,password:y,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Mr).catch(Nt=>{throw"auth/password-does-not-meet-requirements"===Nt.code&&ds(D),Nt}),dt=yield ri._fromIdTokenResponse(R,"signIn",Se);return yield R._updateCurrentUser(dt.user),dt})).apply(this,arguments)}function ws(D,m,y){return _s((0,j.m9)(D),eo.credential(m,y)).catch(function(){var R=(0,l.Z)(function*(Q){throw"auth/password-does-not-meet-requirements"===Q.code&&ds(D),Q});return function(Q){return R.apply(this,arguments)}}())}function ia(D,m,y){return xr.apply(this,arguments)}function xr(){return(xr=(0,l.Z)(function*(D,m,y){const R=qn(D),Q={requestType:"EMAIL_SIGNIN",email:m,clientType:"CLIENT_TYPE_WEB"};(function ae(Se,dt){Oe(dt.handleCodeInApp,R,"argument-error"),dt&&mi(R,Se,dt)})(Q,y),yield po(R,Q,"getOobCode",xs)})).apply(this,arguments)}function Z(D,m){const y=us.parseLink(m);return"EMAIL_SIGNIN"===y?.operation}function b(D,m,y){return w.apply(this,arguments)}function w(){return(w=(0,l.Z)(function*(D,m,y){const R=(0,j.m9)(D),Q=eo.credentialWithLink(m,y||In());return Oe(Q._tenantId===(R.tenantId||null),R,"tenant-id-mismatch"),_s(R,Q)})).apply(this,arguments)}function ee(){return(ee=(0,l.Z)(function*(D,m){return He(D,"POST","/v1/accounts:createAuthUri",Ce(D,m))})).apply(this,arguments)}function le(D,m){return be.apply(this,arguments)}function be(){return be=(0,l.Z)(function*(D,m){const R={identifier:m,continueUri:Cn()?In():"http://localhost"},{signinMethods:Q}=yield function L(D,m){return ee.apply(this,arguments)}((0,j.m9)(D),R);return Q||[]}),be.apply(this,arguments)}function we(D,m){return Je.apply(this,arguments)}function Je(){return Je=(0,l.Z)(function*(D,m){const y=(0,j.m9)(D),Q={requestType:"VERIFY_EMAIL",idToken:yield D.getIdToken()};m&&mi(y.auth,Q,m);const{email:ae}=yield function Os(D,m){return ti.apply(this,arguments)}(y.auth,Q);ae!==D.email&&(yield D.reload())}),Je.apply(this,arguments)}function pt(D,m,y){return xt.apply(this,arguments)}function xt(){return xt=(0,l.Z)(function*(D,m,y){const R=(0,j.m9)(D),ae={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield D.getIdToken(),newEmail:m};y&&mi(R.auth,ae,y);const{email:Se}=yield function Is(D,m){return Or.apply(this,arguments)}(R.auth,ae);Se!==D.email&&(yield D.reload())}),xt.apply(this,arguments)}function ir(){return(ir=(0,l.Z)(function*(D,m){return He(D,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function A(D,m){return Y.apply(this,arguments)}function Y(){return Y=(0,l.Z)(function*(D,{displayName:m,photoURL:y}){if(void 0===m&&void 0===y)return;const R=(0,j.m9)(D),ae={idToken:yield R.getIdToken(),displayName:m,photoUrl:y,returnSecureToken:!0},Se=yield En(R,function ln(D,m){return ir.apply(this,arguments)}(R.auth,ae));R.displayName=Se.displayName||null,R.photoURL=Se.photoUrl||null;const dt=R.providerData.find(({providerId:Nt})=>"password"===Nt);dt&&(dt.displayName=R.displayName,dt.photoURL=R.photoURL),yield R._updateTokensIfNecessary(Se)}),Y.apply(this,arguments)}function k(D,m){return pe((0,j.m9)(D),m,null)}function q(D,m){return pe((0,j.m9)(D),null,m)}function pe(D,m,y){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,l.Z)(function*(D,m,y){const{auth:R}=D,ae={idToken:yield D.getIdToken(),returnSecureToken:!0};m&&(ae.email=m),y&&(ae.password=y);const Se=yield En(D,Eo(R,ae));yield D._updateTokensIfNecessary(Se,!0)})).apply(this,arguments)}class Bt{constructor(m,y,R={}){this.isNewUser=m,this.providerId=y,this.profile=R}}class Dr extends Bt{constructor(m,y,R,Q){super(m,y,R),this.username=Q}}class hr extends Bt{constructor(m,y){super(m,"facebook.com",y)}}class Kn extends Dr{constructor(m,y){super(m,"github.com",y,"string"==typeof y?.login?y?.login:null)}}class Fn extends Bt{constructor(m,y){super(m,"google.com",y)}}class $r extends Dr{constructor(m,y,R){super(m,"twitter.com",y,R)}}function wr(D){const{user:m,_tokenResponse:y}=D;return m.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function _t(D){var m,y;if(!D)return null;const{providerId:R}=D,Q=D.rawUserInfo?JSON.parse(D.rawUserInfo):{},ae=D.isNewUser||"identitytoolkit#SignupNewUserResponse"===D.kind;if(!R&&D?.idToken){const Se=null===(y=null===(m=Wt(D.idToken))||void 0===m?void 0:m.firebase)||void 0===y?void 0:y.sign_in_provider;if(Se)return new Bt(ae,"anonymous"!==Se&&"custom"!==Se?Se:null)}if(!R)return null;switch(R){case"facebook.com":return new hr(ae,Q);case"github.com":return new Kn(ae,Q);case"google.com":return new Fn(ae,Q);case"twitter.com":return new $r(ae,Q,D.screenName||null);case"custom":case"anonymous":return new Bt(ae,null);default:return new Bt(ae,R,Q)}}(y)}class Ut{constructor(m,y,R){this.type=m,this.credential=y,this.user=R}static _fromIdtoken(m,y){return new Ut("enroll",m,y)}static _fromMfaPendingCredential(m){return new Ut("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var y,R;if(m?.multiFactorSession){if(null!==(y=m.multiFactorSession)&&void 0!==y&&y.pendingCredential)return Ut._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(R=m.multiFactorSession)&&void 0!==R&&R.idToken)return Ut._fromIdtoken(m.multiFactorSession.idToken)}return null}}class Di{constructor(m,y,R){this.session=m,this.hints=y,this.signInResolver=R}static _fromError(m,y){const R=qn(m),Q=y.customData._serverResponse,ae=(Q.mfaInfo||[]).map(dt=>cs._fromServerResponse(R,dt));Oe(Q.mfaPendingCredential,R,"internal-error");const Se=Ut._fromMfaPendingCredential(Q.mfaPendingCredential);return new Di(Se,ae,function(){var dt=(0,l.Z)(function*(Nt){const vn=yield Nt._process(R,Se);delete Q.mfaInfo,delete Q.mfaPendingCredential;const Nn=Object.assign(Object.assign({},Q),{idToken:vn.idToken,refreshToken:vn.refreshToken});switch(y.operationType){case"signIn":const lr=yield ri._fromIdTokenResponse(R,y.operationType,Nn);return yield R._updateCurrentUser(lr.user),lr;case"reauthenticate":return Oe(y.user,R,"internal-error"),ri._forOperation(y.user,y.operationType,Nn);default:ue(R,"internal-error")}});return function(Nt){return dt.apply(this,arguments)}}())}resolveSignIn(m){var y=this;return(0,l.Z)(function*(){return y.signInResolver(m)})()}}function qt(D,m){var y;const R=(0,j.m9)(D),Q=m;return Oe(m.customData.operationType,R,"argument-error"),Oe(null===(y=Q.customData._serverResponse)||void 0===y?void 0:y.mfaPendingCredential,R,"argument-error"),Di._fromError(R,Q)}class ro{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(R=>cs._fromServerResponse(m.auth,R)))})}static _fromUser(m){return new ro(m)}getSession(){var m=this;return(0,l.Z)(function*(){return Ut._fromIdtoken(yield m.user.getIdToken(),m.user)})()}enroll(m,y){var R=this;return(0,l.Z)(function*(){const Q=m,ae=yield R.getSession(),Se=yield En(R.user,Q._process(R.user.auth,ae,y));return yield R.user._updateTokensIfNecessary(Se),R.user.reload()})()}unenroll(m){var y=this;return(0,l.Z)(function*(){const R="string"==typeof m?m:m.uid,Q=yield y.user.getIdToken();try{const ae=yield En(y.user,function Na(D,m){return He(D,"POST","/v2/accounts/mfaEnrollment:withdraw",Ce(D,m))}(y.user.auth,{idToken:Q,mfaEnrollmentId:R}));y.enrolledFactors=y.enrolledFactors.filter(({uid:Se})=>Se!==R),yield y.user._updateTokensIfNecessary(ae),yield y.user.reload()}catch(ae){throw ae}})()}}const Nu=new WeakMap;function uc(D){const m=(0,j.m9)(D);return Nu.has(m)||Nu.set(m,ro._fromUser(m)),Nu.get(m)}const Co="__sak";class Gl{constructor(m,y){this.storageRetriever=m,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(Co,"1"),this.storage.removeItem(Co),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,y){return this.storage.setItem(m,JSON.stringify(y)),Promise.resolve()}_get(m){const y=this.storage.getItem(m);return Promise.resolve(y?JSON.parse(y):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const Jn=(()=>{class D extends Gl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,R)=>this.onStorageEvent(y,R),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function od(){const D=(0,j.z$)();return fn(D)||Ge(D)}()&&function ur(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=en(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const R of Object.keys(this.listeners)){const Q=this.storage.getItem(R),ae=this.localCache[R];Q!==ae&&y(R,ae,Q)}}onStorageEvent(y,R=!1){if(!y.key)return void this.forAllChangedKeys((dt,Nt,vn)=>{this.notifyListeners(dt,vn)});const Q=y.key;if(R?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const dt=this.storage.getItem(Q);if(y.newValue!==dt)null!==y.newValue?this.storage.setItem(Q,y.newValue):this.storage.removeItem(Q);else if(this.localCache[Q]===y.newValue&&!R)return}const ae=()=>{const dt=this.storage.getItem(Q);!R&&this.localCache[Q]===dt||this.notifyListeners(Q,dt)},Se=this.storage.getItem(Q);!function Rn(){return(0,j.w1)()&&10===document.documentMode}()||Se===y.newValue||y.newValue===y.oldValue?ae():setTimeout(ae,10)}notifyListeners(y,R){this.localCache[y]=R;const Q=this.listeners[y];if(Q)for(const ae of Array.from(Q))ae(R&&JSON.parse(R))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,R,Q)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:R,newValue:Q}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,R){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(R)}_removeListener(y,R){this.listeners[y]&&(this.listeners[y].delete(R),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,R){var Q=()=>super._set,ae=this;return(0,l.Z)(function*(){yield Q().call(ae,y,R),ae.localCache[y]=JSON.stringify(R)})()}_get(y){var R=()=>super._get,Q=this;return(0,l.Z)(function*(){const ae=yield R().call(Q,y);return Q.localCache[y]=JSON.stringify(ae),ae})()}_remove(y){var R=()=>super._remove,Q=this;return(0,l.Z)(function*(){yield R().call(Q,y),delete Q.localCache[y]})()}}return D.type="LOCAL",D})(),Mu=(()=>{class D extends Gl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,R){}_removeListener(y,R){}}return D.type="SESSION",D})();let Pn=(()=>{class D{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const R=this.receivers.find(ae=>ae.isListeningto(y));if(R)return R;const Q=new D(y);return this.receivers.push(Q),Q}isListeningto(y){return this.eventTarget===y}handleEvent(y){var R=this;return(0,l.Z)(function*(){const Q=y,{eventId:ae,eventType:Se,data:dt}=Q.data,Nt=R.handlersMap[Se];if(!Nt?.size)return;Q.ports[0].postMessage({status:"ack",eventId:ae,eventType:Se});const vn=Array.from(Nt).map(function(){var lr=(0,l.Z)(function*(Er){return Er(Q.origin,dt)});return function(Er){return lr.apply(this,arguments)}}()),Nn=yield function Hi(D){return Promise.all(D.map(function(){var m=(0,l.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(R){return{fulfilled:!1,reason:R}}});return function(y){return m.apply(this,arguments)}}()))}(vn);Q.ports[0].postMessage({status:"done",eventId:ae,eventType:Se,response:Nn})})()}_subscribe(y,R){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(R)}_unsubscribe(y,R){this.handlersMap[y]&&R&&this.handlersMap[y].delete(R),(!R||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return D.receivers=[],D})();function mo(D="",m=10){let y="";for(let R=0;R<m;R++)y+=Math.floor(10*Math.random());return D+y}class Gr{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,y,R=50){var Q=this;return(0,l.Z)(function*(){const ae=typeof MessageChannel<"u"?new MessageChannel:null;if(!ae)throw new Error("connection_unavailable");let Se,dt;return new Promise((Nt,vn)=>{const Nn=mo("",20);ae.port1.start();const lr=setTimeout(()=>{vn(new Error("unsupported_event"))},R);dt={messageChannel:ae,onMessage(Er){const Ba=Er;if(Ba.data.eventId===Nn)switch(Ba.data.status){case"ack":clearTimeout(lr),Se=setTimeout(()=>{vn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Se),Nt(Ba.data.response);break;default:clearTimeout(lr),clearTimeout(Se),vn(new Error("invalid_response"))}}},Q.handlers.add(dt),ae.port1.addEventListener("message",dt.onMessage),Q.target.postMessage({eventType:m,eventId:Nn,data:y},[ae.port2])}).finally(()=>{dt&&Q.removeMessageHandler(dt)})})()}}function Cs(){return window}function rn(){return typeof Cs().WorkerGlobalScope<"u"&&"function"==typeof Cs().importScripts}function wt(){return(wt=(0,l.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ma="firebaseLocalStorageDb",sa="firebaseLocalStorage",ml="fbase_key";class io{constructor(m){this.request=m}toPromise(){return new Promise((m,y)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function Ss(D,m){return D.transaction([sa],m?"readwrite":"readonly").objectStore(sa)}function Wl(){const D=indexedDB.open(Ma,1);return new Promise((m,y)=>{D.addEventListener("error",()=>{y(D.error)}),D.addEventListener("upgradeneeded",()=>{const R=D.result;try{R.createObjectStore(sa,{keyPath:ml})}catch(Q){y(Q)}}),D.addEventListener("success",(0,l.Z)(function*(){const R=D.result;R.objectStoreNames.contains(sa)?m(R):(R.close(),yield function zl(){const D=indexedDB.deleteDatabase(Ma);return new io(D).toPromise()}(),m(yield Wl()))}))})}function ad(D,m,y){return oa.apply(this,arguments)}function oa(){return(oa=(0,l.Z)(function*(D,m,y){const R=Ss(D,!0).put({[ml]:m,value:y});return new io(R).toPromise()})).apply(this,arguments)}function je(){return(je=(0,l.Z)(function*(D,m){const y=Ss(D,!1).get(m),R=yield new io(y).toPromise();return void 0===R?null:R.value})).apply(this,arguments)}function Kl(D,m){const y=Ss(D,!0).delete(m);return new io(y).toPromise()}const M=(()=>{class D{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,l.Z)(function*(){return y.db||(y.db=yield Wl()),y.db})()}_withRetries(y){var R=this;return(0,l.Z)(function*(){let Q=0;for(;;)try{const ae=yield R._openDb();return yield y(ae)}catch(ae){if(Q++>3)throw ae;R.db&&(R.db.close(),R.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,l.Z)(function*(){return rn()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,l.Z)(function*(){y.receiver=Pn._getInstance(function dc(){return rn()?self:null}()),y.receiver._subscribe("keyChanged",function(){var R=(0,l.Z)(function*(Q,ae){return{keyProcessed:(yield y._poll()).includes(ae.key)}});return function(Q,ae){return R.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var R=(0,l.Z)(function*(Q,ae){return["keyChanged"]});return function(Q,ae){return R.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,l.Z)(function*(){var R,Q;if(y.activeServiceWorker=yield function Pl(){return wt.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new Gr(y.activeServiceWorker);const ae=yield y.sender._send("ping",{},800);ae&&null!==(R=ae[0])&&void 0!==R&&R.fulfilled&&null!==(Q=ae[0])&&void 0!==Q&&Q.value.includes("keyChanged")&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var R=this;return(0,l.Z)(function*(){if(R.sender&&R.activeServiceWorker&&function fr(){var D;return(null===(D=navigator?.serviceWorker)||void 0===D?void 0:D.controller)||null}()===R.activeServiceWorker)try{yield R.sender._send("keyChanged",{key:y},R.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const y=yield Wl();return yield ad(y,Co,"1"),yield Kl(y,Co),!0}catch{}return!1})()}_withPendingWrite(y){var R=this;return(0,l.Z)(function*(){R.pendingWrites++;try{yield y()}finally{R.pendingWrites--}})()}_set(y,R){var Q=this;return(0,l.Z)(function*(){return Q._withPendingWrite((0,l.Z)(function*(){return yield Q._withRetries(ae=>ad(ae,y,R)),Q.localCache[y]=R,Q.notifyServiceWorker(y)}))})()}_get(y){var R=this;return(0,l.Z)(function*(){const Q=yield R._withRetries(ae=>function so(D,m){return je.apply(this,arguments)}(ae,y));return R.localCache[y]=Q,Q})()}_remove(y){var R=this;return(0,l.Z)(function*(){return R._withPendingWrite((0,l.Z)(function*(){return yield R._withRetries(Q=>Kl(Q,y)),delete R.localCache[y],R.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,l.Z)(function*(){const R=yield y._withRetries(Se=>{const dt=Ss(Se,!1).getAll();return new io(dt).toPromise()});if(!R)return[];if(0!==y.pendingWrites)return[];const Q=[],ae=new Set;for(const{fbase_key:Se,value:dt}of R)ae.add(Se),JSON.stringify(y.localCache[Se])!==JSON.stringify(dt)&&(y.notifyListeners(Se,dt),Q.push(Se));for(const Se of Object.keys(y.localCache))y.localCache[Se]&&!ae.has(Se)&&(y.notifyListeners(Se,null),Q.push(Se));return Q})()}notifyListeners(y,R){this.localCache[y]=R;const Q=this.listeners[y];if(Q)for(const ae of Array.from(Q))ae(R)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,R){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(R)}_removeListener(y,R){this.listeners[y]&&(this.listeners[y].delete(R),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return D.type="LOCAL",D})(),nt=1e12;class Xe{constructor(m){this.auth=m,this.counter=nt,this._widgets=new Map}render(m,y){const R=this.counter;return this._widgets.set(R,new sn(m,this.auth.name,y||{})),this.counter++,R}reset(m){var y;const R=m||nt;null===(y=this._widgets.get(R))||void 0===y||y.delete(),this._widgets.delete(R)}getResponse(m){var y;return(null===(y=this._widgets.get(m||nt))||void 0===y?void 0:y.getResponse())||""}execute(m){var y=this;return(0,l.Z)(function*(){var R;return null===(R=y._widgets.get(m||nt))||void 0===R||R.execute(),""})()}}class sn{constructor(m,y,R){this.params=R,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Q="string"==typeof m?document.getElementById(m):m;Oe(Q,"argument-error",{appName:y}),this.container=Q,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Hn(D){const m=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let R=0;R<D;R++)m.push(y.charAt(Math.floor(62*Math.random())));return m.join("")}(50);const{callback:m,"expired-callback":y}=this.params;if(m)try{m(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const si=Yi("rcb"),Gn=new dn(3e4,6e4);class Ya{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(m=Cs().grecaptcha)||void 0===m||!m.render)}load(m,y=""){return Oe(function hs(D){return D.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(D)}(y),m,"argument-error"),this.shouldResolveImmediately(y)&&hn(Cs().grecaptcha)?Promise.resolve(Cs().grecaptcha):new Promise((R,Q)=>{const ae=Cs().setTimeout(()=>{Q($e(m,"network-request-failed"))},Gn.get());Cs()[si]=()=>{Cs().clearTimeout(ae),delete Cs()[si];const dt=Cs().grecaptcha;if(!dt||!hn(dt))return void Q($e(m,"internal-error"));const Nt=dt.render;dt.render=(vn,Nn)=>{const lr=Nt(vn,Nn);return this.counter++,lr},this.hostLanguage=y,R(dt)},gr(`https://www.google.com/recaptcha/api.js??${(0,j.xO)({onload:si,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(ae),Q($e(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var y;return!(null===(y=Cs().grecaptcha)||void 0===y||!y.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Us{load(m){return(0,l.Z)(function*(){return new Xe(m)})()}clearedOneInstance(){}}const _a="recaptcha",Ws={theme:"light",type:"image"};class Za{constructor(m,y,R=Object.assign({},Ws)){this.parameters=R,this.type=_a,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=qn(m),this.isInvisible="invisible"===this.parameters.size,Oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const Q="string"==typeof y?document.getElementById(y):y;Oe(Q,this.auth,"argument-error"),this.container=Q,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Us:new Ya,this.validateStartingState()}verify(){var m=this;return(0,l.Z)(function*(){m.assertNotDestroyed();const y=yield m.render(),R=m.getAssertedRecaptcha();return R.getResponse(y)||new Promise(ae=>{const Se=dt=>{dt&&(m.tokenChangeListeners.delete(Se),ae(dt))};m.tokenChangeListeners.add(Se),m.isInvisible&&R.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){Oe(!this.parameters.sitekey,this.auth,"argument-error"),Oe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return y=>{if(this.tokenChangeListeners.forEach(R=>R(y)),"function"==typeof m)m(y);else if("string"==typeof m){const R=Cs()[m];"function"==typeof R&&R(y)}}}assertNotDestroyed(){Oe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,l.Z)(function*(){if(yield m.init(),!m.widgetId){let y=m.container;if(!m.isInvisible){const R=document.createElement("div");y.appendChild(R),y=R}m.widgetId=m.getAssertedRecaptcha().render(y,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,l.Z)(function*(){Oe(Cn()&&!rn(),m.auth,"internal-error"),yield function Fi(){let D=null;return new Promise(m=>{"complete"!==document.readyState?(D=()=>m(),window.addEventListener("load",D)):m()}).catch(m=>{throw D&&window.removeEventListener("load",D),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const y=yield function tt(D){return gt.apply(this,arguments)}(m.auth);Oe(y,m.auth,"internal-error"),m.parameters.sitekey=y})()}getAssertedRecaptcha(){return Oe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class hc{constructor(m,y){this.verificationId=m,this.onConfirmation=y}confirm(m){const y=ls._fromVerification(this.verificationId,m);return this.onConfirmation(y)}}function rf(D,m,y){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,l.Z)(function*(D,m,y){const R=qn(D),Q=yield la(R,m,(0,j.m9)(y));return new hc(Q,ae=>_s(R,ae))})).apply(this,arguments)}function sh(D,m,y){return Ou.apply(this,arguments)}function Ou(){return(Ou=(0,l.Z)(function*(D,m,y){const R=(0,j.m9)(D);yield oe(!1,R,"phone");const Q=yield la(R.auth,m,(0,j.m9)(y));return new hc(Q,ae=>fa(R,ae))})).apply(this,arguments)}function fc(D,m,y){return ql.apply(this,arguments)}function ql(){return(ql=(0,l.Z)(function*(D,m,y){const R=(0,j.m9)(D),Q=yield la(R.auth,m,(0,j.m9)(y));return new hc(Q,ae=>Ka(R,ae))})).apply(this,arguments)}function la(D,m,y){return pc.apply(this,arguments)}function pc(){return pc=(0,l.Z)(function*(D,m,y){var R;const Q=yield y.verify();try{let ae;if(Oe("string"==typeof Q,D,"argument-error"),Oe(y.type===_a,D,"argument-error"),ae="string"==typeof m?{phoneNumber:m}:m,"session"in ae){const Se=ae.session;if("phoneNumber"in ae)return Oe("enroll"===Se.type,D,"internal-error"),(yield function st(D,m){return He(D,"POST","/v2/accounts/mfaEnrollment:start",Ce(D,m))}(D,{idToken:Se.credential,phoneEnrollmentInfo:{phoneNumber:ae.phoneNumber,recaptchaToken:Q}})).phoneSessionInfo.sessionInfo;{Oe("signin"===Se.type,D,"internal-error");const dt=(null===(R=ae.multiFactorHint)||void 0===R?void 0:R.uid)||ae.multiFactorUid;return Oe(dt,D,"missing-multi-factor-info"),(yield function T(D,m){return He(D,"POST","/v2/accounts/mfaSignIn:start",Ce(D,m))}(D,{mfaPendingCredential:Se.credential,mfaEnrollmentId:dt,phoneSignInInfo:{recaptchaToken:Q}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Se}=yield function bs(D,m){return kn.apply(this,arguments)}(D,{phoneNumber:ae.phoneNumber,recaptchaToken:Q});return Se}}finally{y._reset()}}),pc.apply(this,arguments)}function gc(D,m){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,l.Z)(function*(D,m){yield J((0,j.m9)(D),m)})).apply(this,arguments)}let mc=(()=>{class D{constructor(y){this.providerId=D.PROVIDER_ID,this.auth=qn(y)}verifyPhoneNumber(y,R){return la(this.auth,y,(0,j.m9)(R))}static credential(y,R){return ls._fromVerification(y,R)}static credentialFromResult(y){return D.credentialFromTaggedObject(y)}static credentialFromError(y){return D.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:R,temporaryProof:Q}=y;return R&&Q?ls._fromTokenResponse(R,Q):null}}return D.PROVIDER_ID="phone",D.PHONE_SIGN_IN_METHOD="phone",D})();function Qa(D,m){return m?V(m):(Oe(D._popupRedirectResolver,D,"argument-error"),D._popupRedirectResolver)}class Yl extends li{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return jr(m,this._buildIdpRequest())}_linkToIdToken(m,y){return jr(m,this._buildIdpRequest(y))}_getReauthenticationResolver(m){return jr(m,this._buildIdpRequest())}_buildIdpRequest(m){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(y.idToken=m),y}}function ld(D){return Vs(D.auth,new Yl(D),D.bypassAuthState)}function oh(D){const{auth:m,user:y}=D;return Oe(y,m,"internal-error"),cn(y,new Yl(D),D.bypassAuthState)}function xl(D){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,l.Z)(function*(D){const{auth:m,user:y}=D;return Oe(y,m,"internal-error"),J(y,new Yl(D),D.bypassAuthState)})).apply(this,arguments)}class Zl{constructor(m,y,R,Q,ae=!1){this.auth=m,this.resolver=R,this.user=Q,this.bypassAuthState=ae,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var m=this;return new Promise(function(){var y=(0,l.Z)(function*(R,Q){m.pendingPromise={resolve:R,reject:Q};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(ae){m.reject(ae)}});return function(R,Q){return y.apply(this,arguments)}}())}onAuthEvent(m){var y=this;return(0,l.Z)(function*(){const{urlResponse:R,sessionId:Q,postBody:ae,tenantId:Se,error:dt,type:Nt}=m;if(dt)return void y.reject(dt);const vn={auth:y.auth,requestUri:R,sessionId:Q,tenantId:Se||void 0,postBody:ae||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(Nt)(vn))}catch(Nn){y.reject(Nn)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return ld;case"linkViaPopup":case"linkViaRedirect":return xl;case"reauthViaPopup":case"reauthViaRedirect":return oh;default:ue(this.auth,"internal-error")}}resolve(m){Xt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){Xt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const yo=new dn(2e3,1e4);function xu(D,m,y){return _l.apply(this,arguments)}function _l(){return(_l=(0,l.Z)(function*(D,m,y){const R=qn(D);rt(D,m,xn);const Q=Qa(R,y);return new Qr(R,"signInViaPopup",m,Q).executeNotNull()})).apply(this,arguments)}function sf(D,m,y){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,l.Z)(function*(D,m,y){const R=(0,j.m9)(D);rt(R.auth,m,xn);const Q=Qa(R.auth,y);return new Qr(R.auth,"reauthViaPopup",m,Q,R).executeNotNull()})).apply(this,arguments)}function _c(D,m,y){return js.apply(this,arguments)}function js(){return(js=(0,l.Z)(function*(D,m,y){const R=(0,j.m9)(D);rt(R.auth,m,xn);const Q=Qa(R.auth,y);return new Qr(R.auth,"linkViaPopup",m,Q,R).executeNotNull()})).apply(this,arguments)}let Qr=(()=>{class D extends Zl{constructor(y,R,Q,ae,Se){super(y,R,ae,Se),this.provider=Q,this.authWindow=null,this.pollId=null,D.currentPopupAction&&D.currentPopupAction.cancel(),D.currentPopupAction=this}executeNotNull(){var y=this;return(0,l.Z)(function*(){const R=yield y.execute();return Oe(R,y.auth,"internal-error"),R})()}onExecution(){var y=this;return(0,l.Z)(function*(){Xt(1===y.filter.length,"Popup operations only handle one event");const R=mo();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],R),y.authWindow.associatedEvent=R,y.resolver._originValidation(y.auth).catch(Q=>{y.reject(Q)}),y.resolver._isIframeWebStorageSupported(y.auth,Q=>{Q||y.reject($e(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject($e(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,D.currentPopupAction=null}pollUserCancellation(){const y=()=>{var R,Q;this.pollId=null!==(Q=null===(R=this.authWindow)||void 0===R?void 0:R.window)&&void 0!==Q&&Q.closed?window.setTimeout(()=>{this.pollId=null,this.reject($e(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(y,yo.get())};y()}}return D.currentPopupAction=null,D})();const Pa="pendingRedirect",qo=new Map;class ao extends Zl{constructor(m,y,R=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,R),this.eventId=null}execute(){var m=()=>super.execute,y=this;return(0,l.Z)(function*(){let R=qo.get(y.auth._key());if(!R){try{const ae=(yield function ud(D,m){return yc.apply(this,arguments)}(y.resolver,y.auth))?yield m().call(y):null;R=()=>Promise.resolve(ae)}catch(Q){R=()=>Promise.reject(Q)}qo.set(y.auth._key(),R)}return y.bypassAuthState||qo.set(y.auth._key(),()=>Promise.resolve(null)),R()})()}onAuthEvent(m){var y=()=>super.onAuthEvent,R=this;return(0,l.Z)(function*(){if("signInViaRedirect"===m.type)return y().call(R,m);if("unknown"!==m.type){if(m.eventId){const Q=yield R.auth._redirectUserForId(m.eventId);if(Q)return R.user=Q,y().call(R,m);R.resolve(null)}}else R.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function yc(){return(yc=(0,l.Z)(function*(D,m){const y=Ql(m),R=As(D);if(!(yield R._isAvailable()))return!1;const Q="true"===(yield R._get(y));return yield R._remove(y),Q})).apply(this,arguments)}function $s(D,m){return cd.apply(this,arguments)}function cd(){return(cd=(0,l.Z)(function*(D,m){return As(D)._set(Ql(m),"true")})).apply(this,arguments)}function yl(){qo.clear()}function Xi(D,m){qo.set(D._key(),m)}function As(D){return V(D._redirectPersistence)}function Ql(D){return yt(Pa,D.config.apiKey,D.name)}function Ui(D,m,y){return function ua(D,m,y){return ku.apply(this,arguments)}(D,m,y)}function ku(){return(ku=(0,l.Z)(function*(D,m,y){const R=qn(D);rt(D,m,xn),yield R._initializationPromise;const Q=Qa(R,y);return yield $s(Q,R),Q._openRedirect(R,m,"signInViaRedirect")})).apply(this,arguments)}function Oa(D,m,y){return function xa(D,m,y){return Ja.apply(this,arguments)}(D,m,y)}function Ja(){return(Ja=(0,l.Z)(function*(D,m,y){const R=(0,j.m9)(D);rt(R.auth,m,xn),yield R.auth._initializationPromise;const Q=Qa(R.auth,y);yield $s(Q,R.auth);const ae=yield Fu(R);return Q._openRedirect(R.auth,m,"reauthViaRedirect",ae)})).apply(this,arguments)}function ya(D,m,y){return function va(D,m,y){return vl.apply(this,arguments)}(D,m,y)}function vl(){return(vl=(0,l.Z)(function*(D,m,y){const R=(0,j.m9)(D);rt(R.auth,m,xn),yield R.auth._initializationPromise;const Q=Qa(R.auth,y);yield oe(!1,R,m.providerId),yield $s(Q,R.auth);const ae=yield Fu(R);return Q._openRedirect(R.auth,m,"linkViaRedirect",ae)})).apply(this,arguments)}function Xa(D,m){return vc.apply(this,arguments)}function vc(){return(vc=(0,l.Z)(function*(D,m){return yield qn(D)._initializationPromise,Ea(D,m,!1)})).apply(this,arguments)}function Ea(D,m){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,l.Z)(function*(D,m,y=!1){const R=qn(D),Q=Qa(R,m),Se=yield new ao(R,Q,y).execute();return Se&&!y&&(delete Se.user._redirectEventId,yield R._persistUserIfCurrent(Se.user),yield R._setRedirectUser(null,m)),Se})).apply(this,arguments)}function Fu(D){return ba.apply(this,arguments)}function ba(){return(ba=(0,l.Z)(function*(D){const m=mo(`${D.uid}:::`);return D._redirectEventId=m,yield D.auth._setRedirectUser(D),yield D.auth._persistUserIfCurrent(D),m})).apply(this,arguments)}class ka{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let y=!1;return this.consumers.forEach(R=>{this.isEventForConsumer(m,R)&&(y=!0,this.sendToConsumer(m,R),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function Ec(D){switch(D.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lo(D);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=m,y=!0)),y}sendToConsumer(m,y){var R;if(m.error&&!lo(m)){const Q=(null===(R=m.error.code)||void 0===R?void 0:R.split("auth/")[1])||"internal-error";y.onError($e(this.auth,Q))}else y.onAuthEvent(m)}isEventForConsumer(m,y){const R=null===y.eventId||!!m.eventId&&m.eventId===y.eventId;return y.filter.includes(m.type)&&R}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Jl(m))}saveEventToCache(m){this.cachedEventUids.add(Jl(m)),this.lastProcessedEventTime=Date.now()}}function Jl(D){return[D.type,D.eventId,D.sessionId,D.tenantId].filter(m=>m).join("-")}function lo({type:D,error:m}){return"unknown"===D&&"auth/no-auth-event"===m?.code}function Yo(D){return Xl.apply(this,arguments)}function Xl(){return(Xl=(0,l.Z)(function*(D,m={}){return He(D,"GET","/v1/projects",m)})).apply(this,arguments)}const dd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Lu=/^https?/;function el(){return(el=(0,l.Z)(function*(D){if(D.config.emulator)return;const{authorizedDomains:m}=yield Yo(D);for(const y of m)try{if(fs(y))return}catch{}ue(D,"unauthorized-domain")})).apply(this,arguments)}function fs(D){const m=In(),{protocol:y,hostname:R}=new URL(m);if(D.startsWith("chrome-extension://")){const Se=new URL(D);return""===Se.hostname&&""===R?"chrome-extension:"===y&&D.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===y&&Se.hostname===R}if(!Lu.test(y))return!1;if(dd.test(D))return R===D;const Q=D.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Q+"|"+Q+")$","i").test(R)}const Jr=new dn(3e4,6e4);function Pi(){const D=Cs().___jsl;if(D?.H)for(const m of Object.keys(D.H))if(D.H[m].r=D.H[m].r||[],D.H[m].L=D.H[m].L||[],D.H[m].r=[...D.H[m].L],D.CP)for(let y=0;y<D.CP.length;y++)D.CP[y]=null}let Fa=null;const Vu=new dn(5e3,15e3),af="__/auth/iframe",ah="emulator/auth/iframe",Br={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ci=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function eu(D){const m=D.config;Oe(m.authDomain,D,"auth-domain-config-required");const y=m.emulator?Qt(m,ah):`https://${D.config.authDomain}/${af}`,R={apiKey:m.apiKey,appName:D.name,v:se.SDK_VERSION},Q=ci.get(D.config.apiHost);Q&&(R.eid=Q);const ae=D._getFrameworks();return ae.length&&(R.fw=ae.join(",")),`${y}?${(0,j.xO)(R).slice(1)}`}function La(){return La=(0,l.Z)(function*(D){const m=yield function hd(D){return Fa=Fa||function ca(D){return new Promise((m,y)=>{var R,Q,ae;function Se(){Pi(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{Pi(),y($e(D,"network-request-failed"))},timeout:Jr.get()})}if(null!==(Q=null===(R=Cs().gapi)||void 0===R?void 0:R.iframes)&&void 0!==Q&&Q.Iframe)m(gapi.iframes.getContext());else{if(null===(ae=Cs().gapi)||void 0===ae||!ae.load){const dt=Yi("iframefcb");return Cs()[dt]=()=>{gapi.load?Se():y($e(D,"network-request-failed"))},gr(`https://apis.google.com/js/api.js?onload=${dt}`).catch(Nt=>y(Nt))}Se()}}).catch(m=>{throw Fa=null,m})}(D),Fa}(D),y=Cs().gapi;return Oe(y,D,"internal-error"),m.open({where:document.body,url:eu(D),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Br,dontclear:!0},R=>new Promise(function(){var Q=(0,l.Z)(function*(ae,Se){yield R.restyle({setHideOnLeave:!1});const dt=$e(D,"network-request-failed"),Nt=Cs().setTimeout(()=>{Se(dt)},Vu.get());function vn(){Cs().clearTimeout(Nt),ae(R)}R.ping(vn).then(vn,()=>{Se(dt)})});return function(ae,Se){return Q.apply(this,arguments)}}()))}),La.apply(this,arguments)}const fd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class uh{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const gd="__/auth/handler",Tc="emulator/auth/handler",ru=encodeURIComponent("fac");function md(D,m,y,R,Q,ae){return ch.apply(this,arguments)}function ch(){return(ch=(0,l.Z)(function*(D,m,y,R,Q,ae){Oe(D.config.authDomain,D,"auth-domain-config-required"),Oe(D.config.apiKey,D,"invalid-api-key");const Se={apiKey:D.config.apiKey,appName:D.name,authType:y,redirectUrl:R,v:se.SDK_VERSION,eventId:Q};if(m instanceof xn){m.setDefaultLanguage(D.languageCode),Se.providerId=m.providerId||"",(0,j.xb)(m.getCustomParameters())||(Se.customParameters=JSON.stringify(m.getCustomParameters()));for(const[Nn,lr]of Object.entries(ae||{}))Se[Nn]=lr}if(m instanceof No){const Nn=m.getScopes().filter(lr=>""!==lr);Nn.length>0&&(Se.scopes=Nn.join(","))}D.tenantId&&(Se.tid=D.tenantId);const dt=Se;for(const Nn of Object.keys(dt))void 0===dt[Nn]&&delete dt[Nn];const Nt=yield D._getAppCheckToken(),vn=Nt?`#${ru}=${encodeURIComponent(Nt)}`:"";return`${function lf({config:D}){return D.emulator?Qt(D,Tc):`https://${D.authDomain}/${gd}`}(D)}?${(0,j.xO)(dt).slice(1)}${vn}`})).apply(this,arguments)}const Bu="webStorageSupport",tl=class Rs{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Mu,this._completeRedirectFn=Ea,this._overrideRedirectResult=Xi}_openPopup(m,y,R,Q){var ae=this;return(0,l.Z)(function*(){var Se;Xt(null===(Se=ae.eventManagers[m._key()])||void 0===Se?void 0:Se.manager,"_initialize() not called before _openPopup()");const dt=yield md(m,y,R,In(),Q);return function da(D,m,y,R=500,Q=600){const ae=Math.max((window.screen.availHeight-Q)/2,0).toString(),Se=Math.max((window.screen.availWidth-R)/2,0).toString();let dt="";const Nt=Object.assign(Object.assign({},fd),{width:R.toString(),height:Q.toString(),top:ae,left:Se}),vn=(0,j.z$)().toLowerCase();y&&(dt=Wn(vn)?"_blank":y),Ht(vn)&&(m=m||"http://localhost",Nt.scrollbars="yes");const Nn=Object.entries(Nt).reduce((Er,[Ba,ju])=>`${Er}${Ba}=${ju},`,"");if(function an(D=(0,j.z$)()){var m;return Ge(D)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(vn)&&"_self"!==dt)return function nu(D,m){const y=document.createElement("a");y.href=D,y.target=m;const R=document.createEvent("MouseEvent");R.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(R)}(m||"",dt),new uh(null);const lr=window.open(m||"",dt,Nn);Oe(lr,D,"popup-blocked");try{lr.focus()}catch{}return new uh(lr)}(m,dt,mo())})()}_openRedirect(m,y,R,Q){var ae=this;return(0,l.Z)(function*(){return yield ae._originValidation(m),function Bi(D){Cs().location.href=D}(yield md(m,y,R,In(),Q)),new Promise(()=>{})})()}_initialize(m){const y=m._key();if(this.eventManagers[y]){const{manager:Q,promise:ae}=this.eventManagers[y];return Q?Promise.resolve(Q):(Xt(ae,"If manager is not set, promise should be"),ae)}const R=this.initAndGetManager(m);return this.eventManagers[y]={promise:R},R.catch(()=>{delete this.eventManagers[y]}),R}initAndGetManager(m){var y=this;return(0,l.Z)(function*(){const R=yield function lh(D){return La.apply(this,arguments)}(m),Q=new ka(m);return R.register("authEvent",ae=>(Oe(ae?.authEvent,m,"invalid-auth-event"),{status:Q.onEvent(ae.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[m._key()]={manager:Q},y.iframes[m._key()]=R,Q})()}_isIframeWebStorageSupported(m,y){this.iframes[m._key()].send(Bu,{type:Bu},Q=>{var ae;const Se=null===(ae=Q?.[0])||void 0===ae?void 0:ae[Bu];void 0!==Se&&y(!!Se),ue(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const y=m._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function Ic(D){return el.apply(this,arguments)}(m)),this.originValidationPromises[y]}get _shouldInitProactively(){return en()||fn()||Ge()}};class Va{constructor(m){this.factorId=m}_process(m,y,R){switch(y.type){case"enroll":return this._finalizeEnroll(m,y.credential,R);case"signin":return this._finalizeSignIn(m,y.credential);default:return Yt("unexpected MultiFactorSessionType")}}}class iu extends Va{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new iu(m)}_finalizeEnroll(m,y,R){return function vt(D,m){return He(D,"POST","/v2/accounts/mfaEnrollment:finalize",Ce(D,m))}(m,{idToken:y,displayName:R,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,y){return function O(D,m){return He(D,"POST","/v2/accounts/mfaSignIn:finalize",Ce(D,m))}(m,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let _d=(()=>{class D{constructor(){}static assertion(y){return iu._fromCredential(y)}}return D.FACTOR_ID="phone",D})();var hh="@firebase/auth";class Fl{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var y=this;return(0,l.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const y=this.auth.onIdTokenChanged(R=>{m(R?.stsTokenManager.accessToken||null)});this.internalListeners.set(m,y),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const y=this.internalListeners.get(m);y&&(this.internalListeners.delete(m),y(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Ed=(0,j.Pz)("authIdTokenMaxAge")||300;let Il=null;const cf=D=>function(){var m=(0,l.Z)(function*(y){const R=y&&(yield y.getIdTokenResult()),Q=R&&((new Date).getTime()-Date.parse(R.issuedAtTime))/1e3;if(Q&&Q>Ed)return;const ae=R?.token;Il!==ae&&(Il=ae,yield fetch(D,{method:ae?"POST":"DELETE",headers:ae?{Authorization:`Bearer ${ae}`}:{}}))});return function(y){return m.apply(this,arguments)}}();function su(D=(0,se.getApp)()){const m=(0,se._getProvider)(D,"auth");if(m.isInitialized())return m.getImmediate();const y=function vo(D,m){const y=(0,se._getProvider)(D,"auth");if(y.isInitialized()){const Q=y.getImmediate(),ae=y.getOptions();if((0,j.vZ)(ae,m??{}))return Q;ue(Q,"already-initialized")}return y.initialize({options:m})}(D,{popupRedirectResolver:tl,persistence:[M,Jn,Mu]}),R=(0,j.Pz)("authTokenSyncURL");if(R){const ae=cf(R);(function un(D,m,y){(0,j.m9)(D).beforeAuthStateChanged(m,y)})(y,ae,()=>ae(y.currentUser)),function Ti(D,m,y,R){(0,j.m9)(D).onIdTokenChanged(m,y,R)}(y,Se=>ae(Se))}const Q=(0,j.q4)("auth");return Q&&Uo(y,`http://${Q}`),y}!function uf(D){(0,se._registerComponent)(new fe.wA("auth",(m,{options:y})=>{const R=m.getProvider("app").getImmediate(),Q=m.getProvider("heartbeat"),ae=m.getProvider("app-check-internal"),{apiKey:Se,authDomain:dt}=R.options;Oe(Se&&!Se.includes(":"),"invalid-api-key",{appName:R.name});const Nt={apiKey:Se,authDomain:dt,clientPlatform:D,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Tr(D)},vn=new wi(R,Q,ae,Nt);return function Ao(D,m){const y=m?.persistence||[],R=(Array.isArray(y)?y:[y]).map(V);m?.errorMap&&D._updateErrorMap(m.errorMap),D._initializeWithPersistence(R,m?.popupRedirectResolver)}(vn,y),vn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,y,R)=>{m.getProvider("auth-internal").initialize()})),(0,se._registerComponent)(new fe.wA("auth-internal",m=>{const y=qn(m.getProvider("auth").getImmediate());return new Fl(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,se.registerVersion)(hh,"1.3.2",function uo(D){switch(D){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(D)),(0,se.registerVersion)(hh,"1.3.2","esm2017")}("Browser")},9058:($t,qe,B)=>{B.d(qe,{BH:()=>Ee,L:()=>Be,LL:()=>ct,P0:()=>bt,Pz:()=>$e,Sg:()=>rt,UG:()=>Yt,ZB:()=>Ae,ZR:()=>He,aH:()=>ue,b$:()=>Cn,eu:()=>ke,hl:()=>Ue,jU:()=>Xt,m9:()=>rs,ne:()=>sr,pd:()=>gn,q4:()=>jt,r3:()=>Re,ru:()=>In,tV:()=>ce,uI:()=>Oe,vZ:()=>Pt,w1:()=>Vr,xO:()=>Dn,xb:()=>tt,z$:()=>ut,zd:()=>Lt});const ve=function(Ie){const re=[];let z=0;for(let $=0;$<Ie.length;$++){let V=Ie.charCodeAt($);V<128?re[z++]=V:V<2048?(re[z++]=V>>6|192,re[z++]=63&V|128):55296==(64512&V)&&$+1<Ie.length&&56320==(64512&Ie.charCodeAt($+1))?(V=65536+((1023&V)<<10)+(1023&Ie.charCodeAt(++$)),re[z++]=V>>18|240,re[z++]=V>>12&63|128,re[z++]=V>>6&63|128,re[z++]=63&V|128):(re[z++]=V>>12|224,re[z++]=V>>6&63|128,re[z++]=63&V|128)}return re},fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ie,re){if(!Array.isArray(Ie))throw Error("encodeByteArray takes an array as a parameter");this.init_();const z=re?this.byteToCharMapWebSafe_:this.byteToCharMap_,$=[];for(let V=0;V<Ie.length;V+=3){const de=Ie[V],Fe=V+1<Ie.length,yt=Fe?Ie[V+1]:0,Rt=V+2<Ie.length,Kt=Rt?Ie[V+2]:0;let Wn=(15&yt)<<2|Kt>>6,Sn=63&Kt;Rt||(Sn=64,Fe||(Wn=64)),$.push(z[de>>2],z[(3&de)<<4|yt>>4],z[Wn],z[Sn])}return $.join("")},encodeString(Ie,re){return this.HAS_NATIVE_SUPPORT&&!re?btoa(Ie):this.encodeByteArray(ve(Ie),re)},decodeString(Ie,re){return this.HAS_NATIVE_SUPPORT&&!re?atob(Ie):function(Ie){const re=[];let z=0,$=0;for(;z<Ie.length;){const V=Ie[z++];if(V<128)re[$++]=String.fromCharCode(V);else if(V>191&&V<224){const de=Ie[z++];re[$++]=String.fromCharCode((31&V)<<6|63&de)}else if(V>239&&V<365){const Rt=((7&V)<<18|(63&Ie[z++])<<12|(63&Ie[z++])<<6|63&Ie[z++])-65536;re[$++]=String.fromCharCode(55296+(Rt>>10)),re[$++]=String.fromCharCode(56320+(1023&Rt))}else{const de=Ie[z++],Fe=Ie[z++];re[$++]=String.fromCharCode((15&V)<<12|(63&de)<<6|63&Fe)}}return re.join("")}(this.decodeStringToByteArray(Ie,re))},decodeStringToByteArray(Ie,re){this.init_();const z=re?this.charToByteMapWebSafe_:this.charToByteMap_,$=[];for(let V=0;V<Ie.length;){const de=z[Ie.charAt(V++)],yt=V<Ie.length?z[Ie.charAt(V)]:0;++V;const Kt=V<Ie.length?z[Ie.charAt(V)]:64;++V;const fn=V<Ie.length?z[Ie.charAt(V)]:64;if(++V,null==de||null==yt||null==Kt||null==fn)throw new Pe;$.push(de<<2|yt>>4),64!==Kt&&($.push(yt<<4&240|Kt>>2),64!==fn&&$.push(Kt<<6&192|fn))}return $},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ie=0;Ie<this.ENCODED_VALS.length;Ie++)this.byteToCharMap_[Ie]=this.ENCODED_VALS.charAt(Ie),this.charToByteMap_[this.byteToCharMap_[Ie]]=Ie,this.byteToCharMapWebSafe_[Ie]=this.ENCODED_VALS_WEBSAFE.charAt(Ie),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ie]]=Ie,Ie>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ie)]=Ie,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ie)]=Ie)}}};class Pe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Be=function(Ie){return function(Ie){const re=ve(Ie);return fe.encodeByteArray(re,!0)}(Ie).replace(/\./g,"")},ce=function(Ie){try{return fe.decodeString(Ie,!0)}catch(re){console.error("base64Decode failed: ",re)}return null};function Ae(Ie,re){if(!(re instanceof Object))return re;switch(re.constructor){case Date:return new Date(re.getTime());case Object:void 0===Ie&&(Ie={});break;case Array:Ie=[];break;default:return re}for(const z in re)!re.hasOwnProperty(z)||!Ne(z)||(Ie[z]=Ae(Ie[z],re[z]));return Ie}function Ne(Ie){return"__proto__"!==Ie}const ht=()=>{try{return function Ye(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Ie=process.env.__FIREBASE_DEFAULTS__;return Ie?JSON.parse(Ie):void 0})()||(()=>{if(typeof document>"u")return;let Ie;try{Ie=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const re=Ie&&ce(Ie[1]);return re&&JSON.parse(re)})()}catch(Ie){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Ie}`)}},jt=Ie=>{var re,z;return null===(z=null===(re=ht())||void 0===re?void 0:re.emulatorHosts)||void 0===z?void 0:z[Ie]},bt=Ie=>{const re=jt(Ie);if(!re)return;const z=re.lastIndexOf(":");if(z<=0||z+1===re.length)throw new Error(`Invalid host ${re} with no separate hostname and port!`);const $=parseInt(re.substring(z+1),10);return"["===re[0]?[re.substring(1,z-1),$]:[re.substring(0,z),$]},ue=()=>{var Ie;return null===(Ie=ht())||void 0===Ie?void 0:Ie.config},$e=Ie=>{var re;return null===(re=ht())||void 0===re?void 0:re[`_${Ie}`]};class Ee{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((re,z)=>{this.resolve=re,this.reject=z})}wrapCallback(re){return(z,$)=>{z?this.reject(z):this.resolve($),"function"==typeof re&&(this.promise.catch(()=>{}),1===re.length?re(z):re(z,$))}}}function rt(Ie,re){if(Ie.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const $=re||"demo-project",V=Ie.iat||0,de=Ie.sub||Ie.user_id;if(!de)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Fe=Object.assign({iss:`https://securetoken.google.com/${$}`,aud:$,iat:V,exp:V+3600,auth_time:V,sub:de,user_id:de,firebase:{sign_in_provider:"custom",identities:{}}},Ie);return[Be(JSON.stringify({alg:"none",type:"JWT"})),Be(JSON.stringify(Fe)),""].join(".")}function ut(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Oe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ut())}function Yt(){var Ie;const re=null===(Ie=ht())||void 0===Ie?void 0:Ie.forceEnvironment;if("node"===re)return!0;if("browser"===re)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Xt(){return"object"==typeof self&&self.self===self}function In(){const Ie="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ie&&void 0!==Ie.id}function Cn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Vr(){const Ie=ut();return Ie.indexOf("MSIE ")>=0||Ie.indexOf("Trident/")>=0}function Ue(){try{return"object"==typeof indexedDB}catch{return!1}}function ke(){return new Promise((Ie,re)=>{try{let z=!0;const $="validate-browser-context-for-indexeddb-analytics-module",V=self.indexedDB.open($);V.onsuccess=()=>{V.result.close(),z||self.indexedDB.deleteDatabase($),Ie(!0)},V.onupgradeneeded=()=>{z=!1},V.onerror=()=>{var de;re((null===(de=V.error)||void 0===de?void 0:de.message)||"")}}catch(z){re(z)}})}class He extends Error{constructor(re,z,$){super(z),this.code=re,this.customData=$,this.name="FirebaseError",Object.setPrototypeOf(this,He.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ct.prototype.create)}}class ct{constructor(re,z,$){this.service=re,this.serviceName=z,this.errors=$}create(re,...z){const $=z[0]||{},V=`${this.service}/${re}`,de=this.errors[re],Fe=de?function St(Ie,re){return Ie.replace(Et,(z,$)=>{const V=re[$];return null!=V?String(V):`<${$}?>`})}(de,$):"Error";return new He(V,`${this.serviceName}: ${Fe} (${V}).`,$)}}const Et=/\{\$([^}]+)}/g;function Re(Ie,re){return Object.prototype.hasOwnProperty.call(Ie,re)}function tt(Ie){for(const re in Ie)if(Object.prototype.hasOwnProperty.call(Ie,re))return!1;return!0}function Pt(Ie,re){if(Ie===re)return!0;const z=Object.keys(Ie),$=Object.keys(re);for(const V of z){if(!$.includes(V))return!1;const de=Ie[V],Fe=re[V];if(Tt(de)&&Tt(Fe)){if(!Pt(de,Fe))return!1}else if(de!==Fe)return!1}for(const V of $)if(!z.includes(V))return!1;return!0}function Tt(Ie){return null!==Ie&&"object"==typeof Ie}function Dn(Ie){const re=[];for(const[z,$]of Object.entries(Ie))Array.isArray($)?$.forEach(V=>{re.push(encodeURIComponent(z)+"="+encodeURIComponent(V))}):re.push(encodeURIComponent(z)+"="+encodeURIComponent($));return re.length?"&"+re.join("&"):""}function Lt(Ie){const re={};return Ie.replace(/^\?/,"").split("&").forEach($=>{if($){const[V,de]=$.split("=");re[decodeURIComponent(V)]=decodeURIComponent(de)}}),re}function gn(Ie){const re=Ie.indexOf("?");if(!re)return"";const z=Ie.indexOf("#",re);return Ie.substring(re,z>0?z:void 0)}function sr(Ie,re){const z=new Un(Ie,re);return z.subscribe.bind(z)}class Un{constructor(re,z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=z,this.task.then(()=>{re(this)}).catch($=>{this.error($)})}next(re){this.forEachObserver(z=>{z.next(re)})}error(re){this.forEachObserver(z=>{z.error(re)}),this.close(re)}complete(){this.forEachObserver(re=>{re.complete()}),this.close()}subscribe(re,z,$){let V;if(void 0===re&&void 0===z&&void 0===$)throw new Error("Missing Observer.");V=function Vt(Ie,re){if("object"!=typeof Ie||null===Ie)return!1;for(const z of re)if(z in Ie&&"function"==typeof Ie[z])return!0;return!1}(re,["next","error","complete"])?re:{next:re,error:z,complete:$},void 0===V.next&&(V.next=yr),void 0===V.error&&(V.error=yr),void 0===V.complete&&(V.complete=yr);const de=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?V.error(this.finalError):V.complete()}catch{}}),this.observers.push(V),de}unsubscribeOne(re){void 0===this.observers||void 0===this.observers[re]||(delete this.observers[re],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(re){if(!this.finalized)for(let z=0;z<this.observers.length;z++)this.sendOne(z,re)}sendOne(re,z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[re])try{z(this.observers[re])}catch($){typeof console<"u"&&console.error&&console.error($)}})}close(re){this.finalized||(this.finalized=!0,void 0!==re&&(this.finalError=re),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yr(){}function rs(Ie){return Ie&&Ie._delegate?Ie._delegate:Ie}},9035:($t,qe,B)=>{B.d(qe,{_:()=>fe});var l=B(4664),j=B(2096),se=B(5879),ve=B(154),De=B(9517);let fe=(()=>{class Pe{constructor(Be,ce){this.authService=Be,this.router=ce}canActivate(Be,ce){return this.authService.getLoggedUser().pipe((0,l.w)(ye=>ye&&ye.uid?this.authService.getUsuarioPorUid(ye.uid).pipe((0,l.w)(Ae=>{const Ne=Ae[0];return Ne&&"admin"===Ne.perfil?(0,j.of)(!0):(this.router.navigate(["/login"]),(0,j.of)(!1))})):(this.router.navigate(["/login"]),(0,j.of)(!1))))}static#e=this.\u0275fac=function(ce){return new(ce||Pe)(se.LFG(ve.e),se.LFG(De.F0))};static#t=this.\u0275prov=se.Yz7({token:Pe,factory:Pe.\u0275fac,providedIn:"root"})}return Pe})()},154:($t,qe,B)=>{B.d(qe,{e:()=>Ue});var l=B(5861),j=B(5349),se=B(1374),ve=B(5879),fe=(B(6365),B(6814)),Pe=B(1920),We=B(7217),Be=B(8645),ce=B(2096),ye=B(5592),Ae=B(2459),Ne=B(3019),Ye=B(3093),ze=B(4664),lt=B(7398),mt=B(4552);class ht extends Be.x{constructor(Ke=1/0,Ce=1/0,He=mt.l){super(),this._bufferSize=Ke,this._windowTime=Ce,this._timestampProvider=He,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Ce===1/0,this._bufferSize=Math.max(1,Ke),this._windowTime=Math.max(1,Ce)}next(Ke){const{isStopped:Ce,_buffer:He,_infiniteTimeWindow:ct,_timestampProvider:St,_windowTime:Et}=this;Ce||(He.push(Ke),!ct&&He.push(St.now()+Et)),this._trimBuffer(),super.next(Ke)}_subscribe(Ke){this._throwIfClosed(),this._trimBuffer();const Ce=this._innerSubscribe(Ke),{_infiniteTimeWindow:He,_buffer:ct}=this,St=ct.slice();for(let Et=0;Et<St.length&&!Ke.closed;Et+=He?1:2)Ke.next(St[Et]);return this._checkFinalizedStatuses(Ke),Ce}_trimBuffer(){const{_bufferSize:Ke,_timestampProvider:Ce,_buffer:He,_infiniteTimeWindow:ct}=this,St=(ct?1:2)*Ke;if(Ke<1/0&&St<He.length&&He.splice(0,He.length-St),!ct){const Et=Ce.now();let An=0;for(let It=1;It<He.length&&He[It]<=Et;It+=2)An=It;An&&He.splice(0,An+1)}}}var jt=B(3020);function bt(ke,Ke,Ce){let He,ct=!1;return ke&&"object"==typeof ke?({bufferSize:He=1/0,windowTime:Ke=1/0,refCount:ct=!1,scheduler:Ce}=ke):He=ke??1/0,(0,jt.B)({connector:()=>new ht(He,Ke,Ce),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:ct})}var ue=B(4674);function $e(ke,Ke){return(0,ue.m)(Ke)?(0,ze.w)(()=>ke,Ke):(0,ze.w)(()=>ke)}var Ee=B(5137),rt=B(2181);B(7142);const Yt=new ve.OlP("angularfire2.auth.use-emulator"),Xt=new ve.OlP("angularfire2.auth.settings"),In=new ve.OlP("angularfire2.auth.tenant-id"),Cn=new ve.OlP("angularfire2.auth.langugage-code"),On=new ve.OlP("angularfire2.auth.use-device-language"),Vr=new ve.OlP("angularfire.auth.persistence");let dn=(()=>{class ke{authState;idToken;user;idTokenResult;credential;constructor(Ce,He,ct,St,Et,An,It,Mn,yn,bn,zn,hn){const Re=new Be.x,Me=(0,ce.of)(void 0).pipe((0,Ye.Q)(Et.outsideAngular),(0,ze.w)(()=>St.runOutsideAngular(()=>Promise.resolve().then(B.bind(B,6365)))),(0,lt.U)(()=>(0,We.on)(Ce,St,He)),(0,lt.U)(tt=>((ke,Ke,Ce,He,ct,St,Et,An)=>(0,We.cc)(`${ke.name}.auth`,"AngularFireAuth",ke.name,()=>{const It=Ke.runOutsideAngular(()=>ke.auth());if(Ce&&It.useEmulator(...Ce),He&&(It.tenantId=He),It.languageCode=ct,St&&It.useDeviceLanguage(),Et)for(const[Mn,yn]of Object.entries(Et))It.settings[Mn]=yn;return An&&It.setPersistence(An),It},[Ce,He,ct,St,Et,An]))(tt,St,An,Mn,yn,bn,It,zn)),bt({bufferSize:1,refCount:!1}));if((0,fe.PM)(ct))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ce.of)(null);else{Me.pipe((0,se.P)()).subscribe();const tt=Me.pipe((0,ze.w)(Tt=>Tt.getRedirectResult().then(Tn=>Tn,()=>null)),Pe.iC,bt({bufferSize:1,refCount:!1})),gt=Me.pipe((0,ze.w)(Tt=>new ye.y(Tn=>({unsubscribe:St.runOutsideAngular(()=>Tt.onAuthStateChanged(Dn=>Tn.next(Dn),Dn=>Tn.error(Dn),()=>Tn.complete()))})))),Pt=Me.pipe((0,ze.w)(Tt=>new ye.y(Tn=>({unsubscribe:St.runOutsideAngular(()=>Tt.onIdTokenChanged(Dn=>Tn.next(Dn),Dn=>Tn.error(Dn),()=>Tn.complete()))}))));this.authState=tt.pipe($e(gt),(0,Ee.R)(Et.outsideAngular),(0,Ye.Q)(Et.insideAngular)),this.user=tt.pipe($e(Pt),(0,Ee.R)(Et.outsideAngular),(0,Ye.Q)(Et.insideAngular)),this.idToken=this.user.pipe((0,ze.w)(Tt=>Tt?(0,Ae.D)(Tt.getIdToken()):(0,ce.of)(null))),this.idTokenResult=this.user.pipe((0,ze.w)(Tt=>Tt?(0,Ae.D)(Tt.getIdTokenResult()):(0,ce.of)(null))),this.credential=(0,Ne.T)(tt,Re,this.authState.pipe((0,rt.h)(Tt=>!Tt))).pipe((0,lt.U)(Tt=>Tt?.user?Tt:null),(0,Ee.R)(Et.outsideAngular),(0,Ye.Q)(Et.insideAngular))}return(0,We.pX)(this,Me,St,{spy:{apply:(tt,gt,Pt)=>{(tt.startsWith("signIn")||tt.startsWith("createUser"))&&Pt.then(Tt=>Re.next(Tt))}}})}static \u0275fac=function(He){return new(He||ke)(ve.LFG(We.Dh),ve.LFG(We.xv,8),ve.LFG(ve.Lbi),ve.LFG(ve.R0b),ve.LFG(Pe.HU),ve.LFG(Yt,8),ve.LFG(Xt,8),ve.LFG(In,8),ve.LFG(Cn,8),ve.LFG(On,8),ve.LFG(Vr,8),ve.LFG(Pe.Rf,8))};static \u0275prov=ve.Yz7({token:ke,factory:ke.\u0275fac,providedIn:"any"})}return ke})(),Ue=(()=>{class ke{constructor(Ce,He){this.afauth=Ce,this.firestore=He}registrarUsuario(Ce,He){var ct=this;return(0,l.Z)(function*(){try{return yield ct.afauth.createUserWithEmailAndPassword(Ce,He).then(Et=>(ct.enviarMail(),Et))}catch(St){throw St}})()}ingresar(Ce,He){var ct=this;return(0,l.Z)(function*(){try{return yield ct.afauth.signInWithEmailAndPassword(Ce,He)}catch(St){throw St}})()}logOut(){this.afauth.signOut()}getLoggedUser(){return this.afauth.authState}getUsuarioPorUid(Ce){const He=(0,j.hJ)(this.firestore,"usuarios"),ct=(0,j.IO)(He,(0,j.ar)("uid","==",Ce));return(0,j.BS)(ct).pipe((0,se.P)())}altaPaciente(Ce,He,ct,St,Et,An,It,Mn,yn){const bn=(0,j.hJ)(this.firestore,"usuarios");(0,j.ET)(bn,{nombre:Ce,apellido:He,dni:ct,fechaNacimiento:St,mail:Et,password:An,uid:It,obraSocial:Mn,imagen:yn,perfil:"paciente",estado:!0})}altaEspecialista(Ce,He,ct,St,Et,An,It,Mn,yn){const bn=(0,j.hJ)(this.firestore,"usuarios");(0,j.ET)(bn,{nombre:Ce,apellido:He,dni:ct,fechaNacimiento:St,mail:Et,password:An,uid:It,especialidad:Mn,imagen:yn,perfil:"especialista",estado:!1,horaInicio:"00:00",horaFin:"00:00",diasAtencion:["Lunes","Martes"]})}altaAdmin(Ce,He,ct,St,Et,An,It,Mn){const yn=(0,j.hJ)(this.firestore,"usuarios");(0,j.ET)(yn,{nombre:Ce,apellido:He,dni:ct,fechaNacimiento:St,mail:Et,password:An,uid:It,imagen:Mn,perfil:"admin",estado:!0})}enviarMail(){this.afauth.currentUser.then(Ce=>{Ce?Ce.sendEmailVerification().then(()=>{}).catch(He=>{console.error("Error al enviar el correo de verificaci\xf3n:",He)}):console.error("Usuario no v\xe1lido o nulo.")}).catch(Ce=>{console.error("Error al obtener el usuario actual:",Ce)})}guardarLog(Ce){const He=(0,j.Bt)(),ct=(0,j.hJ)(this.firestore,"logs");(0,j.ET)(ct,{uid:Ce,fecha:He})}getLogs(){const Ce=(0,j.hJ)(this.firestore,"logs");return(0,j.BS)(Ce)}static#e=this.\u0275fac=function(He){return new(He||ke)(ve.LFG(dn),ve.LFG(j.gg))};static#t=this.\u0275prov=ve.Yz7({token:ke,factory:ke.\u0275fac,providedIn:"root"})}return ke})()},553:($t,qe,B)=>{B.d(qe,{N:()=>l});const l={firebase:{projectId:"clinicaonlineutn",appId:"1:260733509707:web:8870381d3fea8656b82dce",storageBucket:"clinicaonlineutn.appspot.com",apiKey:"AIzaSyBfNb0yOzL74PB_jSux7S-8B_rCB8CRI5Q",authDomain:"clinicaonlineutn.firebaseapp.com",messagingSenderId:"260733509707"}}},280:($t,qe,B)=>{var l=B(6593),j=B(5879),se=B(9517),ve=B(154),De=B(6814);function fe(Z,b){if(1&Z){const w=j.EpF();j.TgZ(0,"div")(1,"button",6),j._uU(2),j.ALo(3,"titlecase"),j.qZA(),j.TgZ(4,"ul",7)(5,"li")(6,"a",8),j.NdJ("click",function(){j.CHM(w);const ee=j.oxw();return j.KtG(ee.logOut())}),j._uU(7,"Cerrar Sesion"),j.qZA()()()()}if(2&Z){const w=j.oxw();j.xp6(2),j.hij(" ",j.lcZ(3,1,w.usuarioLogueado.nombre)," ")}}let Pe=(()=>{class Z{constructor(w,L){this.authservice=w,this.router=L,this.usuarioLogueado={},this.uid=""}ngOnInit(){this.authservice.getLoggedUser().subscribe(w=>{null!=w&&(this.usuarioLogueado=w,this.authservice.getUsuarioPorUid(this.usuarioLogueado.uid).subscribe(L=>{L.length>0&&(this.usuarioLogueado.nombre=L[0].nombre)}))})}logOut(){this.usuarioLogueado={},this.authservice.logOut(),this.router.navigate(["login"])}static#e=this.\u0275fac=function(L){return new(L||Z)(j.Y36(ve.e),j.Y36(se.F0))};static#t=this.\u0275cmp=j.Xpm({type:Z,selectors:[["app-navbar"]],decls:7,vars:1,consts:[[1,"navbar","navbar-expand","navbar-dark","bg-dark","px-2"],["routerLink","/login",1,"navbar-brand","px-4"],["src","assets/img/logo.png","alt","logoPage",1,"d-inline-block","align-top",2,"width","50px"],[1,"navbar-collapse"],[1,"profile-logo","dropstart"],[4,"ngIf"],["data-bs-toggle","dropdown",1,"btn","btn-outline-light","dropdown-toggle"],[1,"dropdown-menu","dropdown-menu-dark"],[1,"dropdown-item",3,"click"]],template:function(L,ee){1&L&&(j.TgZ(0,"nav",0)(1,"a",1),j._UZ(2,"img",2),j._uU(3,"Cl\xednica Salud "),j.qZA(),j._UZ(4,"div",3),j.TgZ(5,"div",4),j.YNc(6,fe,8,3,"div",5),j.qZA()()),2&L&&(j.xp6(6),j.Q6J("ngIf",null!=ee.usuarioLogueado.uid))},dependencies:[De.O5,se.rH,De.rS],styles:["nav[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:4rem;z-index:1}.side-nav-button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;font-size:1.5rem;cursor:pointer}.side-nav-button[_ngcontent-%COMP%]:hover{background-color:#fff3;border-radius:30%}"]})}return Z})();function We(Z,b){if(1&Z&&(j.TgZ(0,"span")(1,"a",6),j._uU(2,"Turnos"),j.qZA()()),2&Z){const w=j.oxw(2);j.xp6(1),j.Q6J("routerLink","/home/"+(w.usuarioLogueado?null==w.usuarioLogueado[0]?null:w.usuarioLogueado[0].perfil:""))}}function Be(Z,b){1&Z&&(j.TgZ(0,"span")(1,"a",6),j._uU(2,"Turnos"),j.qZA()()),2&Z&&(j.xp6(1),j.Q6J("routerLink","/home/admin/turnos-mostrar"))}function ce(Z,b){if(1&Z&&(j.TgZ(0,"li",4),j._UZ(1,"i",10),j.TgZ(2,"span",11)(3,"a",6),j._uU(4,"Usuarios"),j.qZA()()()),2&Z){const w=j.oxw(2);j.xp6(3),j.Q6J("routerLink","/home/"+(w.usuarioLogueado?null==w.usuarioLogueado[0]?null:w.usuarioLogueado[0].perfil:""))}}function ye(Z,b){1&Z&&(j.TgZ(0,"li",4),j._UZ(1,"i",12),j.TgZ(2,"span",11)(3,"a",6),j._uU(4,"Informes"),j.qZA()()()),2&Z&&(j.xp6(3),j.Q6J("routerLink","/informes/"))}function Ae(Z,b){if(1&Z&&(j.TgZ(0,"li",4),j._UZ(1,"i",13),j.TgZ(2,"span",11)(3,"a",6),j._uU(4,"Pacientes"),j.qZA()()()),2&Z){const w=j.oxw(2);j.xp6(3),j.Q6J("routerLink","/historiaclinica/"+(w.usuarioLogueado?null==w.usuarioLogueado[0]?null:w.usuarioLogueado[0].perfil:""))}}function Ne(Z,b){if(1&Z&&(j.TgZ(0,"ul",3)(1,"li",4),j._UZ(2,"i",5),j.TgZ(3,"span")(4,"a",6),j._uU(5,"Mi Perfil"),j.qZA()()(),j.TgZ(6,"li",4),j._UZ(7,"i",7),j.YNc(8,We,3,1,"span",8),j.YNc(9,Be,3,1,"span",8),j.qZA(),j.YNc(10,ce,5,1,"li",9),j.YNc(11,ye,5,1,"li",9),j.YNc(12,Ae,5,1,"li",9),j.qZA()),2&Z){const w=j.oxw();j.xp6(4),j.Q6J("routerLink","/perfil/"+(w.usuarioLogueado?null==w.usuarioLogueado[0]?null:w.usuarioLogueado[0].perfil:"")),j.xp6(4),j.Q6J("ngIf",!(w.usuarioLogueado&&"admin"===(null==w.usuarioLogueado[0]?null:w.usuarioLogueado[0].perfil))),j.xp6(1),j.Q6J("ngIf",w.usuarioLogueado&&"admin"===(null==w.usuarioLogueado[0]?null:w.usuarioLogueado[0].perfil)),j.xp6(1),j.Q6J("ngIf",w.usuarioLogueado&&"admin"===(null==w.usuarioLogueado[0]?null:w.usuarioLogueado[0].perfil)),j.xp6(1),j.Q6J("ngIf",w.usuarioLogueado&&"admin"===(null==w.usuarioLogueado[0]?null:w.usuarioLogueado[0].perfil)),j.xp6(1),j.Q6J("ngIf",w.usuarioLogueado&&"especialista"===(null==w.usuarioLogueado[0]?null:w.usuarioLogueado[0].perfil))}}let Ye=(()=>{class Z{constructor(w){this.authService=w,this.sesionIniciada=!1}ngOnDestroy(){this.authSubscription.unsubscribe()}ngOnInit(){this.authSubscription=this.authService.getLoggedUser().subscribe(w=>{this.sesionIniciada=!!w,w&&this.authService.getUsuarioPorUid(w.uid).subscribe(L=>{this.usuarioLogueado=L})})}static#e=this.\u0275fac=function(L){return new(L||Z)(j.Y36(ve.e))};static#t=this.\u0275cmp=j.Xpm({type:Z,selectors:[["app-sidenav"]],decls:3,vars:1,consts:[[1,"sidenav"],[1,"side-nav-content"],["class","nav-list",4,"ngIf"],[1,"nav-list"],[1,"nav-list-item"],[1,"fa-solid","fa-user"],[3,"routerLink"],[1,"fa-solid","fa-calendar"],[4,"ngIf"],["class","nav-list-item",4,"ngIf"],[1,"fa-solid","fa-computer"],[1,""],[1,"fa-solid","fa-chart-simple"],[1,"fa-solid","fa-stethoscope"]],template:function(L,ee){1&L&&(j.TgZ(0,"div",0)(1,"div",1),j.YNc(2,Ne,13,6,"ul",2),j.qZA()()),2&L&&(j.xp6(2),j.Q6J("ngIf",ee.sesionIniciada))},dependencies:[De.O5,se.rH],styles:[".border-white[_ngcontent-%COMP%]{border:1px solid white}.sidenav[_ngcontent-%COMP%]{position:fixed;left:0rem;width:200px;height:calc(100vh - 4rem);box-shadow:0 0 10px #eea1a180;background-color:#222;border-top:1px solid white}.side-nav-content[_ngcontent-%COMP%]{color:#fff;width:180px;margin-left:10px;margin-right:10px;margin-top:10px}.nav-list[_ngcontent-%COMP%]{list-style:none;height:100%;padding:0%;margin-bottom:0%}.nav-list-item[_ngcontent-%COMP%]{display:flex;align-items:center;height:50px}.nav-list-item[_ngcontent-%COMP%]:hover{background-color:#ffffff4d;border-radius:10px}.nav-list-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;height:25px;width:25px;margin-right:15px;margin-left:10px;text-align:center;line-height:25px}.nav-list-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:170px;text-transform:capitalize}a[_ngcontent-%COMP%]{text-decoration:none;color:#fff}"]})}return Z})(),ze=(()=>{class Z{constructor(){this.title="clinica-online",this.sideNavStatus=!1}static#e=this.\u0275fac=function(L){return new(L||Z)};static#t=this.\u0275cmp=j.Xpm({type:Z,selectors:[["app-root"]],decls:6,vars:0,consts:[[1,"container-fluid","g-0"],[1,"display-area"]],template:function(L,ee){1&L&&(j.TgZ(0,"div",0),j._UZ(1,"app-navbar"),j.TgZ(2,"main"),j._UZ(3,"app-sidenav"),j.TgZ(4,"div",1),j._UZ(5,"router-outlet"),j.qZA()()())},dependencies:[se.lC,Pe,Ye],styles:["main[_ngcontent-%COMP%]{position:absolute;width:100%;top:4rem}.display-area[_ngcontent-%COMP%]{margin-left:200px;width:calc(100%-200px)}"]})}return Z})();var lt=B(721),mt=B(4162),ht=B(5349),jt=B(4165);let bt=(()=>{class Z{static#e=this.\u0275fac=function(L){return new(L||Z)};static#t=this.\u0275cmp=j.Xpm({type:Z,selectors:[["app-notfound"]],decls:2,vars:0,consts:[[1,"container","col-12"],["src","https://cdni.iconscout.com/illustration/premium/thumb/404-error-page-2952323-2451625.png","alt","Page not"]],template:function(L,ee){1&L&&(j.TgZ(0,"div",0),j._UZ(1,"img",1),j.qZA())},styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}"]})}return Z})();var ue=B(9035),$e=B(4664),Ee=B(2096);let rt=(()=>{class Z{constructor(w,L){this.authService=w,this.router=L}canActivate(w,L){return this.authService.getLoggedUser().pipe((0,$e.w)(ee=>ee&&ee.uid?this.authService.getUsuarioPorUid(ee.uid).pipe((0,$e.w)(le=>{const be=le[0];return be&&"especialista"===be.perfil?(0,Ee.of)(!0):(this.router.navigate(["/login"]),(0,Ee.of)(!1))})):(this.router.navigate(["/login"]),(0,Ee.of)(!1))))}static#e=this.\u0275fac=function(L){return new(L||Z)(j.LFG(ve.e),j.LFG(se.F0))};static#t=this.\u0275prov=j.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"})}return Z})(),ut=(()=>{class Z{constructor(w,L){this.authService=w,this.router=L}canActivate(w,L){return this.authService.getLoggedUser().pipe((0,$e.w)(ee=>ee&&ee.uid?this.authService.getUsuarioPorUid(ee.uid).pipe((0,$e.w)(le=>{const be=le[0];return be&&"paciente"===be.perfil?(0,Ee.of)(!0):(this.router.navigate(["/login"]),(0,Ee.of)(!1))})):(this.router.navigate(["/login"]),(0,Ee.of)(!1))))}static#e=this.\u0275fac=function(L){return new(L||Z)(j.LFG(ve.e),j.LFG(se.F0))};static#t=this.\u0275prov=j.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"})}return Z})();const Oe=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",loadChildren:()=>Promise.all([B.e(519),B.e(592),B.e(763)]).then(B.bind(B,8763)).then(Z=>Z.LoginModule)},{path:"home/admin",loadChildren:()=>Promise.all([B.e(617),B.e(402),B.e(592),B.e(89)]).then(B.bind(B,3089)).then(Z=>Z.HomeModule),canActivate:[ue._]},{path:"perfil/admin",loadChildren:()=>Promise.all([B.e(592),B.e(191)]).then(B.bind(B,4191)).then(Z=>Z.PerfilAdminModule),canActivate:[ue._]},{path:"informes",loadChildren:()=>Promise.all([B.e(617),B.e(402),B.e(456),B.e(623)]).then(B.bind(B,5089)).then(Z=>Z.InformesModule),canActivate:[ue._]},{path:"home/especialista",loadChildren:()=>Promise.all([B.e(519),B.e(592),B.e(552)]).then(B.bind(B,8552)).then(Z=>Z.HomeEspecialistasModule),canActivate:[rt]},{path:"historiaclinica/especialista",loadChildren:()=>Promise.all([B.e(592),B.e(151)]).then(B.bind(B,7151)).then(Z=>Z.PacientesModule),canActivate:[rt]},{path:"perfil/especialista",loadChildren:()=>Promise.all([B.e(592),B.e(354)]).then(B.bind(B,2354)).then(Z=>Z.PerfilEspecialistaModule),canActivate:[rt]},{path:"home/paciente",loadChildren:()=>Promise.all([B.e(519),B.e(592),B.e(168)]).then(B.bind(B,1168)).then(Z=>Z.HomePacienteModule),canActivate:[ut]},{path:"perfil/paciente",loadChildren:()=>Promise.all([B.e(617),B.e(592),B.e(719)]).then(B.bind(B,1719)).then(Z=>Z.PerfilPacienteModule),canActivate:[ut]},{path:"**",component:bt}];let Yt=(()=>{class Z{static#e=this.\u0275fac=function(L){return new(L||Z)};static#t=this.\u0275mod=j.oAB({type:Z});static#n=this.\u0275inj=j.cJS({imports:[se.Bz.forRoot(Oe),se.Bz]})}return Z})();var Xt=B(7217),In=B(553),Cn=B(6825);function Vr(Z){return new j.vHH(3e3,!1)}function Ei(Z){switch(Z.length){case 0:return new Cn.ZN;case 1:return Z[0];default:return new Cn.ZE(Z)}}function En(Z,b,w=new Map,L=new Map){const ee=[],le=[];let be=-1,we=null;if(b.forEach(Je=>{const pt=Je.get("offset"),xt=pt==be,ln=xt&&we||new Map;Je.forEach((ir,A)=>{let Y=A,k=ir;if("offset"!==A)switch(Y=Z.normalizePropertyName(Y,ee),k){case Cn.k1:k=w.get(A);break;case Cn.l3:k=L.get(A);break;default:k=Z.normalizeStyleValue(A,Y,k,ee)}ln.set(Y,k)}),xt||le.push(ln),we=ln,be=pt}),ee.length)throw function Tt(Z){return new j.vHH(3502,!1)}();return le}function Rr(Z,b,w,L){switch(b){case"start":Z.onStart(()=>L(w&&hi(w,"start",Z)));break;case"done":Z.onDone(()=>L(w&&hi(w,"done",Z)));break;case"destroy":Z.onDestroy(()=>L(w&&hi(w,"destroy",Z)))}}function hi(Z,b,w){const le=yi(Z.element,Z.triggerName,Z.fromState,Z.toState,b||Z.phaseName,w.totalTime??Z.totalTime,!!w.disabled),be=Z._data;return null!=be&&(le._data=be),le}function yi(Z,b,w,L,ee="",le=0,be){return{element:Z,triggerName:b,fromState:w,toState:L,phaseName:ee,totalTime:le,disabled:!!be}}function or(Z,b,w){let L=Z.get(b);return L||Z.set(b,L=w),L}function zr(Z){const b=Z.indexOf(":");return[Z.substring(1,b),Z.slice(b+1)]}const Zr=(()=>typeof document>"u"?null:document.documentElement)();function br(Z){const b=Z.parentNode||Z.host||null;return b===Zr?null:b}let jn=null,nr=!1;function re(Z,b){for(;b;){if(b===Z)return!0;b=br(b)}return!1}function z(Z,b,w){if(w)return Array.from(Z.querySelectorAll(b));const L=Z.querySelector(b);return L?[L]:[]}let V=(()=>{class Z{validateStyleProperty(w){return function Ki(Z){jn||(jn=function Ie(){return typeof document<"u"?document.body:null}()||{},nr=!!jn.style&&"WebkitAppearance"in jn.style);let b=!0;return jn.style&&!function pr(Z){return"ebkit"==Z.substring(1,6)}(Z)&&(b=Z in jn.style,!b&&nr&&(b="Webkit"+Z.charAt(0).toUpperCase()+Z.slice(1)in jn.style)),b}(w)}matchesElement(w,L){return!1}containsElement(w,L){return re(w,L)}getParentElement(w){return br(w)}query(w,L,ee){return z(w,L,ee)}computeStyle(w,L,ee){return ee||""}animate(w,L,ee,le,be,we=[],Je){return new Cn.ZN(ee,le)}static#e=this.\u0275fac=function(L){return new(L||Z)};static#t=this.\u0275prov=j.Yz7({token:Z,factory:Z.\u0275fac})}return Z})(),de=(()=>{class Z{static#e=this.NOOP=new V}return Z})();const Fe=1e3,Kt="ng-enter",Ht="ng-leave",fn="ng-trigger",Wn=".ng-trigger",Sn="ng-animating",ei=".ng-animating";function Vi(Z){if("number"==typeof Z)return Z;const b=Z.match(/^(-?[\.\d]+)(m?s)/);return!b||b.length<2?0:ft(parseFloat(b[1]),b[2])}function ft(Z,b){return"s"===b?Z*Fe:Z}function Ge(Z,b,w){return Z.hasOwnProperty("duration")?Z:function Ct(Z,b,w){let ee,le=0,be="";if("string"==typeof Z){const we=Z.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===we)return b.push(Vr()),{duration:0,delay:0,easing:""};ee=ft(parseFloat(we[1]),we[2]);const Je=we[3];null!=Je&&(le=ft(parseFloat(Je),we[4]));const pt=we[5];pt&&(be=pt)}else ee=Z;if(!w){let we=!1,Je=b.length;ee<0&&(b.push(function At(){return new j.vHH(3100,!1)}()),we=!0),le<0&&(b.push(function dn(){return new j.vHH(3101,!1)}()),we=!0),we&&b.splice(Je,0,Vr())}return{duration:ee,delay:le,easing:be}}(Z,b,w)}function an(Z,b={}){return Object.keys(Z).forEach(w=>{b[w]=Z[w]}),b}function Rn(Z){const b=new Map;return Object.keys(Z).forEach(w=>{b.set(w,Z[w])}),b}function Tr(Z,b=new Map,w){if(w)for(let[L,ee]of w)b.set(L,ee);for(let[L,ee]of Z)b.set(L,ee);return b}function ar(Z,b,w){b.forEach((L,ee)=>{const le=gr(ee);w&&!w.has(ee)&&w.set(ee,Z.style[le]),Z.style[le]=L})}function fi(Z,b){b.forEach((w,L)=>{const ee=gr(L);Z.style[ee]=""})}function vi(Z){return Array.isArray(Z)?1==Z.length?Z[0]:(0,Cn.vP)(Z):Z}const ai=new RegExp("{{\\s*(.+?)\\s*}}","g");function wi(Z){let b=[];if("string"==typeof Z){let w;for(;w=ai.exec(Z);)b.push(w[1]);ai.lastIndex=0}return b}function qn(Z,b,w){const L=Z.toString(),ee=L.replace(ai,(le,be)=>{let we=b[be];return null==we&&(w.push(function Ue(Z){return new j.vHH(3003,!1)}()),we=""),we.toString()});return ee==L?Z:ee}function pi(Z){const b=[];let w=Z.next();for(;!w.done;)b.push(w.value),w=Z.next();return b}const So=/-+([a-z0-9])/g;function gr(Z){return Z.replace(So,(...b)=>b[1].toUpperCase())}function Ur(Z,b,w){switch(b.type){case 7:return Z.visitTrigger(b,w);case 0:return Z.visitState(b,w);case 1:return Z.visitTransition(b,w);case 2:return Z.visitSequence(b,w);case 3:return Z.visitGroup(b,w);case 4:return Z.visitAnimate(b,w);case 5:return Z.visitKeyframes(b,w);case 6:return Z.visitStyle(b,w);case 8:return Z.visitReference(b,w);case 9:return Z.visitAnimateChild(b,w);case 10:return Z.visitAnimateRef(b,w);case 11:return Z.visitQuery(b,w);case 12:return Z.visitStagger(b,w);default:throw function ke(Z){return new j.vHH(3004,!1)}()}}function gs(Z,b){return window.getComputedStyle(Z)[b]}const vo="*";function Ao(Z,b){const w=[];return"string"==typeof Z?Z.split(/\s*,\s*/).forEach(L=>function Uo(Z,b,w){if(":"==Z[0]){const Je=function Ca(Z,b){switch(Z){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(w,L)=>parseFloat(L)>parseFloat(w);case":decrement":return(w,L)=>parseFloat(L)<parseFloat(w);default:return b.push(function Me(Z){return new j.vHH(3016,!1)}()),"* => *"}}(Z,w);if("function"==typeof Je)return void b.push(Je);Z=Je}const L=Z.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==L||L.length<4)return w.push(function Re(Z){return new j.vHH(3015,!1)}()),b;const ee=L[1],le=L[2],be=L[3];b.push(jo(ee,be));"<"==le[0]&&!(ee==vo&&be==vo)&&b.push(jo(be,ee))}(L,w,b)):w.push(Z),w}const Oi=new Set(["true","1"]),Js=new Set(["false","0"]);function jo(Z,b){const w=Oi.has(Z)||Js.has(Z),L=Oi.has(b)||Js.has(b);return(ee,le)=>{let be=Z==vo||Z==ee,we=b==vo||b==le;return!be&&w&&"boolean"==typeof ee&&(be=ee?Oi.has(Z):Js.has(Z)),!we&&L&&"boolean"==typeof le&&(we=le?Oi.has(b):Js.has(b)),be&&we}}const Ms=new RegExp("s*:selfs*,?","g");function xi(Z,b,w,L){return new is(Z).build(b,w,L)}class is{constructor(b){this._driver=b}build(b,w,L){const ee=new ss(w);return this._resetContextStyleTimingState(ee),Ur(this,vi(b),ee)}_resetContextStyleTimingState(b){b.currentQuerySelector="",b.collectedStyles=new Map,b.collectedStyles.set("",new Map),b.currentTime=0}visitTrigger(b,w){let L=w.queryCount=0,ee=w.depCount=0;const le=[],be=[];return"@"==b.name.charAt(0)&&w.errors.push(function Ce(){return new j.vHH(3006,!1)}()),b.definitions.forEach(we=>{if(this._resetContextStyleTimingState(w),0==we.type){const Je=we,pt=Je.name;pt.toString().split(/\s*,\s*/).forEach(xt=>{Je.name=xt,le.push(this.visitState(Je,w))}),Je.name=pt}else if(1==we.type){const Je=this.visitTransition(we,w);L+=Je.queryCount,ee+=Je.depCount,be.push(Je)}else w.errors.push(function He(){return new j.vHH(3007,!1)}())}),{type:7,name:b.name,states:le,transitions:be,queryCount:L,depCount:ee,options:null}}visitState(b,w){const L=this.visitStyle(b.styles,w),ee=b.options&&b.options.params||null;if(L.containsDynamicStyles){const le=new Set,be=ee||{};L.styles.forEach(we=>{we instanceof Map&&we.forEach(Je=>{wi(Je).forEach(pt=>{be.hasOwnProperty(pt)||le.add(pt)})})}),le.size&&(pi(le.values()),w.errors.push(function ct(Z,b){return new j.vHH(3008,!1)}()))}return{type:0,name:b.name,style:L,options:ee?{params:ee}:null}}visitTransition(b,w){w.queryCount=0,w.depCount=0;const L=Ur(this,vi(b.animation),w);return{type:1,matchers:Ao(b.expr,w.errors),animation:L,queryCount:w.queryCount,depCount:w.depCount,options:mr(b.options)}}visitSequence(b,w){return{type:2,steps:b.steps.map(L=>Ur(this,L,w)),options:mr(b.options)}}visitGroup(b,w){const L=w.currentTime;let ee=0;const le=b.steps.map(be=>{w.currentTime=L;const we=Ur(this,be,w);return ee=Math.max(ee,w.currentTime),we});return w.currentTime=ee,{type:3,steps:le,options:mr(b.options)}}visitAnimate(b,w){const L=function Nr(Z,b){if(Z.hasOwnProperty("duration"))return Z;if("number"==typeof Z)return Os(Ge(Z,b).duration,0,"");const w=Z;if(w.split(/\s+/).some(le=>"{"==le.charAt(0)&&"{"==le.charAt(1))){const le=Os(0,0,"");return le.dynamic=!0,le.strValue=w,le}const ee=Ge(w,b);return Os(ee.duration,ee.delay,ee.easing)}(b.timings,w.errors);w.currentAnimateTimings=L;let ee,le=b.styles?b.styles:(0,Cn.oB)({});if(5==le.type)ee=this.visitKeyframes(le,w);else{let be=b.styles,we=!1;if(!be){we=!0;const pt={};L.easing&&(pt.easing=L.easing),be=(0,Cn.oB)(pt)}w.currentTime+=L.duration+L.delay;const Je=this.visitStyle(be,w);Je.isEmptyStep=we,ee=Je}return w.currentAnimateTimings=null,{type:4,timings:L,style:ee,options:null}}visitStyle(b,w){const L=this._makeStyleAst(b,w);return this._validateStyleAst(L,w),L}_makeStyleAst(b,w){const L=[],ee=Array.isArray(b.styles)?b.styles:[b.styles];for(let we of ee)"string"==typeof we?we===Cn.l3?L.push(we):w.errors.push(new j.vHH(3002,!1)):L.push(Rn(we));let le=!1,be=null;return L.forEach(we=>{if(we instanceof Map&&(we.has("easing")&&(be=we.get("easing"),we.delete("easing")),!le))for(let Je of we.values())if(Je.toString().indexOf("{{")>=0){le=!0;break}}),{type:6,styles:L,easing:be,offset:b.offset,containsDynamicStyles:le,options:null}}_validateStyleAst(b,w){const L=w.currentAnimateTimings;let ee=w.currentTime,le=w.currentTime;L&&le>0&&(le-=L.duration+L.delay),b.styles.forEach(be=>{"string"!=typeof be&&be.forEach((we,Je)=>{const pt=w.collectedStyles.get(w.currentQuerySelector),xt=pt.get(Je);let ln=!0;xt&&(le!=ee&&le>=xt.startTime&&ee<=xt.endTime&&(w.errors.push(function An(Z,b,w,L,ee){return new j.vHH(3010,!1)}()),ln=!1),le=xt.startTime),ln&&pt.set(Je,{startTime:le,endTime:ee}),w.options&&function qi(Z,b,w){const L=b.params||{},ee=wi(Z);ee.length&&ee.forEach(le=>{L.hasOwnProperty(le)||w.push(function Qt(Z){return new j.vHH(3001,!1)}())})}(we,w.options,w.errors)})})}visitKeyframes(b,w){const L={type:5,styles:[],options:null};if(!w.currentAnimateTimings)return w.errors.push(function It(){return new j.vHH(3011,!1)}()),L;let le=0;const be=[];let we=!1,Je=!1,pt=0;const xt=b.steps.map(pe=>{const Ze=this._makeStyleAst(pe,w);let _t=null!=Ze.offset?Ze.offset:function Vn(Z){if("string"==typeof Z)return null;let b=null;if(Array.isArray(Z))Z.forEach(w=>{if(w instanceof Map&&w.has("offset")){const L=w;b=parseFloat(L.get("offset")),L.delete("offset")}});else if(Z instanceof Map&&Z.has("offset")){const w=Z;b=parseFloat(w.get("offset")),w.delete("offset")}return b}(Ze.styles),Bt=0;return null!=_t&&(le++,Bt=Ze.offset=_t),Je=Je||Bt<0||Bt>1,we=we||Bt<pt,pt=Bt,be.push(Bt),Ze});Je&&w.errors.push(function Mn(){return new j.vHH(3012,!1)}()),we&&w.errors.push(function yn(){return new j.vHH(3200,!1)}());const ln=b.steps.length;let ir=0;le>0&&le<ln?w.errors.push(function bn(){return new j.vHH(3202,!1)}()):0==le&&(ir=1/(ln-1));const A=ln-1,Y=w.currentTime,k=w.currentAnimateTimings,q=k.duration;return xt.forEach((pe,Ze)=>{const _t=ir>0?Ze==A?1:ir*Ze:be[Ze],Bt=_t*q;w.currentTime=Y+k.delay+Bt,k.duration=Bt,this._validateStyleAst(pe,w),pe.offset=_t,L.styles.push(pe)}),L}visitReference(b,w){return{type:8,animation:Ur(this,vi(b.animation),w),options:mr(b.options)}}visitAnimateChild(b,w){return w.depCount++,{type:9,options:mr(b.options)}}visitAnimateRef(b,w){return{type:10,animation:this.visitReference(b.animation,w),options:mr(b.options)}}visitQuery(b,w){const L=w.currentQuerySelector,ee=b.options||{};w.queryCount++,w.currentQuery=b;const[le,be]=function Zi(Z){const b=!!Z.split(/\s*,\s*/).find(w=>":self"==w);return b&&(Z=Z.replace(Ms,"")),Z=Z.replace(/@\*/g,Wn).replace(/@\w+/g,w=>Wn+"-"+w.slice(1)).replace(/:animating/g,ei),[Z,b]}(b.selector);w.currentQuerySelector=L.length?L+" "+le:le,or(w.collectedStyles,w.currentQuerySelector,new Map);const we=Ur(this,vi(b.animation),w);return w.currentQuery=null,w.currentQuerySelector=L,{type:11,selector:le,limit:ee.limit||0,optional:!!ee.optional,includeSelf:be,animation:we,originalSelector:b.selector,options:mr(b.options)}}visitStagger(b,w){w.currentQuery||w.errors.push(function zn(){return new j.vHH(3013,!1)}());const L="full"===b.timings?{duration:0,delay:0,easing:"full"}:Ge(b.timings,w.errors,!0);return{type:12,animation:Ur(this,vi(b.animation),w),timings:L,options:null}}}class ss{constructor(b){this.errors=b,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function mr(Z){return Z?(Z=an(Z)).params&&(Z.params=function Ps(Z){return Z?an(Z):null}(Z.params)):Z={},Z}function Os(Z,b,w){return{duration:Z,delay:b,easing:w}}function ti(Z,b,w,L,ee,le,be=null,we=!1){return{type:1,element:Z,keyframes:b,preStyleProps:w,postStyleProps:L,duration:ee,delay:le,totalTime:ee+le,easing:be,subTimeline:we}}class Ro{constructor(){this._map=new Map}get(b){return this._map.get(b)||[]}append(b,w){let L=this._map.get(b);L||this._map.set(b,L=[]),L.push(...w)}has(b){return this._map.has(b)}clear(){this._map.clear()}}const gi=new RegExp(":enter","g"),Or=new RegExp(":leave","g");function Gt(Z,b,w,L,ee,le=new Map,be=new Map,we,Je,pt=[]){return(new tn).buildKeyframes(Z,b,w,L,ee,le,be,we,Je,pt)}class tn{buildKeyframes(b,w,L,ee,le,be,we,Je,pt,xt=[]){pt=pt||new Ro;const ln=new ni(b,w,pt,ee,le,xt,[]);ln.options=Je;const ir=Je.delay?Vi(Je.delay):0;ln.currentTimeline.delayNextStep(ir),ln.currentTimeline.setStyles([be],null,ln.errors,Je),Ur(this,L,ln);const A=ln.timelines.filter(Y=>Y.containsAnimation());if(A.length&&we.size){let Y;for(let k=A.length-1;k>=0;k--){const q=A[k];if(q.element===w){Y=q;break}}Y&&!Y.allowOnlyTimelineStyles()&&Y.setStyles([we],null,ln.errors,Je)}return A.length?A.map(Y=>Y.buildKeyframes()):[ti(w,[],[],[],0,ir,"",!1)]}visitTrigger(b,w){}visitState(b,w){}visitTransition(b,w){}visitAnimateChild(b,w){const L=w.subInstructions.get(w.element);if(L){const ee=w.createSubContext(b.options),le=w.currentTimeline.currentTime,be=this._visitSubInstructions(L,ee,ee.options);le!=be&&w.transformIntoNewTimeline(be)}w.previousNode=b}visitAnimateRef(b,w){const L=w.createSubContext(b.options);L.transformIntoNewTimeline(),this._applyAnimationRefDelays([b.options,b.animation.options],w,L),this.visitReference(b.animation,L),w.transformIntoNewTimeline(L.currentTimeline.currentTime),w.previousNode=b}_applyAnimationRefDelays(b,w,L){for(const ee of b){const le=ee?.delay;if(le){const be="number"==typeof le?le:Vi(qn(le,ee?.params??{},w.errors));L.delayNextStep(be)}}}_visitSubInstructions(b,w,L){let le=w.currentTimeline.currentTime;const be=null!=L.duration?Vi(L.duration):null,we=null!=L.delay?Vi(L.delay):null;return 0!==be&&b.forEach(Je=>{const pt=w.appendInstructionToTimeline(Je,be,we);le=Math.max(le,pt.duration+pt.delay)}),le}visitReference(b,w){w.updateOptions(b.options,!0),Ur(this,b.animation,w),w.previousNode=b}visitSequence(b,w){const L=w.subContextCount;let ee=w;const le=b.options;if(le&&(le.params||le.delay)&&(ee=w.createSubContext(le),ee.transformIntoNewTimeline(),null!=le.delay)){6==ee.previousNode.type&&(ee.currentTimeline.snapshotCurrentStyles(),ee.previousNode=dr);const be=Vi(le.delay);ee.delayNextStep(be)}b.steps.length&&(b.steps.forEach(be=>Ur(this,be,ee)),ee.currentTimeline.applyStylesToKeyframe(),ee.subContextCount>L&&ee.transformIntoNewTimeline()),w.previousNode=b}visitGroup(b,w){const L=[];let ee=w.currentTimeline.currentTime;const le=b.options&&b.options.delay?Vi(b.options.delay):0;b.steps.forEach(be=>{const we=w.createSubContext(b.options);le&&we.delayNextStep(le),Ur(this,be,we),ee=Math.max(ee,we.currentTimeline.currentTime),L.push(we.currentTimeline)}),L.forEach(be=>w.currentTimeline.mergeTimelineCollectedStyles(be)),w.transformIntoNewTimeline(ee),w.previousNode=b}_visitTiming(b,w){if(b.dynamic){const L=b.strValue;return Ge(w.params?qn(L,w.params,w.errors):L,w.errors)}return{duration:b.duration,delay:b.delay,easing:b.easing}}visitAnimate(b,w){const L=w.currentAnimateTimings=this._visitTiming(b.timings,w),ee=w.currentTimeline;L.delay&&(w.incrementTime(L.delay),ee.snapshotCurrentStyles());const le=b.style;5==le.type?this.visitKeyframes(le,w):(w.incrementTime(L.duration),this.visitStyle(le,w),ee.applyStylesToKeyframe()),w.currentAnimateTimings=null,w.previousNode=b}visitStyle(b,w){const L=w.currentTimeline,ee=w.currentAnimateTimings;!ee&&L.hasCurrentStyleProperties()&&L.forwardFrame();const le=ee&&ee.easing||b.easing;b.isEmptyStep?L.applyEmptyStep(le):L.setStyles(b.styles,le,w.errors,w.options),w.previousNode=b}visitKeyframes(b,w){const L=w.currentAnimateTimings,ee=w.currentTimeline.duration,le=L.duration,we=w.createSubContext().currentTimeline;we.easing=L.easing,b.styles.forEach(Je=>{we.forwardTime((Je.offset||0)*le),we.setStyles(Je.styles,Je.easing,w.errors,w.options),we.applyStylesToKeyframe()}),w.currentTimeline.mergeTimelineCollectedStyles(we),w.transformIntoNewTimeline(ee+le),w.previousNode=b}visitQuery(b,w){const L=w.currentTimeline.currentTime,ee=b.options||{},le=ee.delay?Vi(ee.delay):0;le&&(6===w.previousNode.type||0==L&&w.currentTimeline.hasCurrentStyleProperties())&&(w.currentTimeline.snapshotCurrentStyles(),w.previousNode=dr);let be=L;const we=w.invokeQuery(b.selector,b.originalSelector,b.limit,b.includeSelf,!!ee.optional,w.errors);w.currentQueryTotal=we.length;let Je=null;we.forEach((pt,xt)=>{w.currentQueryIndex=xt;const ln=w.createSubContext(b.options,pt);le&&ln.delayNextStep(le),pt===w.element&&(Je=ln.currentTimeline),Ur(this,b.animation,ln),ln.currentTimeline.applyStylesToKeyframe(),be=Math.max(be,ln.currentTimeline.currentTime)}),w.currentQueryIndex=0,w.currentQueryTotal=0,w.transformIntoNewTimeline(be),Je&&(w.currentTimeline.mergeTimelineCollectedStyles(Je),w.currentTimeline.snapshotCurrentStyles()),w.previousNode=b}visitStagger(b,w){const L=w.parentContext,ee=w.currentTimeline,le=b.timings,be=Math.abs(le.duration),we=be*(w.currentQueryTotal-1);let Je=be*w.currentQueryIndex;switch(le.duration<0?"reverse":le.easing){case"reverse":Je=we-Je;break;case"full":Je=L.currentStaggerTime}const xt=w.currentTimeline;Je&&xt.delayNextStep(Je);const ln=xt.currentTime;Ur(this,b.animation,w),w.previousNode=b,L.currentStaggerTime=ee.currentTime-ln+(ee.startTime-L.currentTimeline.startTime)}}const dr={};class ni{constructor(b,w,L,ee,le,be,we,Je){this._driver=b,this.element=w,this.subInstructions=L,this._enterClassName=ee,this._leaveClassName=le,this.errors=be,this.timelines=we,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=dr,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Je||new bi(this._driver,w,0),we.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(b,w){if(!b)return;const L=b;let ee=this.options;null!=L.duration&&(ee.duration=Vi(L.duration)),null!=L.delay&&(ee.delay=Vi(L.delay));const le=L.params;if(le){let be=ee.params;be||(be=this.options.params={}),Object.keys(le).forEach(we=>{(!w||!be.hasOwnProperty(we))&&(be[we]=qn(le[we],be,this.errors))})}}_copyOptions(){const b={};if(this.options){const w=this.options.params;if(w){const L=b.params={};Object.keys(w).forEach(ee=>{L[ee]=w[ee]})}}return b}createSubContext(b=null,w,L){const ee=w||this.element,le=new ni(this._driver,ee,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(ee,L||0));return le.previousNode=this.previousNode,le.currentAnimateTimings=this.currentAnimateTimings,le.options=this._copyOptions(),le.updateOptions(b),le.currentQueryIndex=this.currentQueryIndex,le.currentQueryTotal=this.currentQueryTotal,le.parentContext=this,this.subContextCount++,le}transformIntoNewTimeline(b){return this.previousNode=dr,this.currentTimeline=this.currentTimeline.fork(this.element,b),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(b,w,L){const ee={duration:w??b.duration,delay:this.currentTimeline.currentTime+(L??0)+b.delay,easing:""},le=new jr(this._driver,b.element,b.keyframes,b.preStyleProps,b.postStyleProps,ee,b.stretchStartingKeyframe);return this.timelines.push(le),ee}incrementTime(b){this.currentTimeline.forwardTime(this.currentTimeline.duration+b)}delayNextStep(b){b>0&&this.currentTimeline.delayNextStep(b)}invokeQuery(b,w,L,ee,le,be){let we=[];if(ee&&we.push(this.element),b.length>0){b=(b=b.replace(gi,"."+this._enterClassName)).replace(Or,"."+this._leaveClassName);let pt=this._driver.query(this.element,b,1!=L);0!==L&&(pt=L<0?pt.slice(pt.length+L,pt.length):pt.slice(0,L)),we.push(...pt)}return!le&&0==we.length&&be.push(function hn(Z){return new j.vHH(3014,!1)}()),we}}class bi{constructor(b,w,L,ee){this._driver=b,this.element=w,this.startTime=L,this._elementTimelineStylesLookup=ee,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(w),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(w,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(b){const w=1===this._keyframes.size&&this._pendingStyles.size;this.duration||w?(this.forwardTime(this.currentTime+b),w&&this.snapshotCurrentStyles()):this.startTime+=b}fork(b,w){return this.applyStylesToKeyframe(),new bi(this._driver,b,w||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(b){this.applyStylesToKeyframe(),this.duration=b,this._loadKeyframe()}_updateStyle(b,w){this._localTimelineStyles.set(b,w),this._globalTimelineStyles.set(b,w),this._styleSummary.set(b,{time:this.currentTime,value:w})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(b){b&&this._previousKeyframe.set("easing",b);for(let[w,L]of this._globalTimelineStyles)this._backFill.set(w,L||Cn.l3),this._currentKeyframe.set(w,Cn.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(b,w,L,ee){w&&this._previousKeyframe.set("easing",w);const le=ee&&ee.params||{},be=function Wr(Z,b){const w=new Map;let L;return Z.forEach(ee=>{if("*"===ee){L=L||b.keys();for(let le of L)w.set(le,Cn.l3)}else Tr(ee,w)}),w}(b,this._globalTimelineStyles);for(let[we,Je]of be){const pt=qn(Je,le,L);this._pendingStyles.set(we,pt),this._localTimelineStyles.has(we)||this._backFill.set(we,this._globalTimelineStyles.get(we)??Cn.l3),this._updateStyle(we,pt)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((b,w)=>{this._currentKeyframe.set(w,b)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((b,w)=>{this._currentKeyframe.has(w)||this._currentKeyframe.set(w,b)}))}snapshotCurrentStyles(){for(let[b,w]of this._localTimelineStyles)this._pendingStyles.set(b,w),this._updateStyle(b,w)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const b=[];for(let w in this._currentKeyframe)b.push(w);return b}mergeTimelineCollectedStyles(b){b._styleSummary.forEach((w,L)=>{const ee=this._styleSummary.get(L);(!ee||w.time>ee.time)&&this._updateStyle(L,w.value)})}buildKeyframes(){this.applyStylesToKeyframe();const b=new Set,w=new Set,L=1===this._keyframes.size&&0===this.duration;let ee=[];this._keyframes.forEach((we,Je)=>{const pt=Tr(we,new Map,this._backFill);pt.forEach((xt,ln)=>{xt===Cn.k1?b.add(ln):xt===Cn.l3&&w.add(ln)}),L||pt.set("offset",Je/this.duration),ee.push(pt)});const le=b.size?pi(b.values()):[],be=w.size?pi(w.values()):[];if(L){const we=ee[0],Je=new Map(we);we.set("offset",0),Je.set("offset",1),ee=[we,Je]}return ti(this.element,ee,le,be,this.duration,this.startTime,this.easing,!1)}}class jr extends bi{constructor(b,w,L,ee,le,be,we=!1){super(b,w,be.delay),this.keyframes=L,this.preStyleProps=ee,this.postStyleProps=le,this._stretchStartingKeyframe=we,this.timings={duration:be.duration,delay:be.delay,easing:be.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let b=this.keyframes,{delay:w,duration:L,easing:ee}=this.timings;if(this._stretchStartingKeyframe&&w){const le=[],be=L+w,we=w/be,Je=Tr(b[0]);Je.set("offset",0),le.push(Je);const pt=Tr(b[0]);pt.set("offset",os(we)),le.push(pt);const xt=b.length-1;for(let ln=1;ln<=xt;ln++){let ir=Tr(b[ln]);const A=ir.get("offset");ir.set("offset",os((w+A*L)/be)),le.push(ir)}L=be,w=0,ee="",b=le}return ti(this.element,b,this.preStyleProps,this.postStyleProps,L,w,ee,!0)}}function os(Z,b=3){const w=Math.pow(10,b-1);return Math.round(Z*w)/w}class bs{}const Xs=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Ai extends bs{normalizePropertyName(b,w){return gr(b)}normalizeStyleValue(b,w,L,ee){let le="";const be=L.toString().trim();if(Xs.has(w)&&0!==L&&"0"!==L)if("number"==typeof L)le="px";else{const we=L.match(/^[+-]?[\d\.]+([a-z]*)$/);we&&0==we[1].length&&ee.push(function Ke(Z,b){return new j.vHH(3005,!1)}())}return be+le}}function ks(Z,b,w,L,ee,le,be,we,Je,pt,xt,ln,ir){return{type:0,element:Z,triggerName:b,isRemovalTransition:ee,fromState:w,fromStyles:le,toState:L,toStyles:be,timelines:we,queriedElements:Je,preStyleProps:pt,postStyleProps:xt,totalTime:ln,errors:ir}}const vr={};class Io{constructor(b,w,L){this._triggerName=b,this.ast=w,this._stateStyles=L}match(b,w,L,ee){return function as(Z,b,w,L,ee){return Z.some(le=>le(b,w,L,ee))}(this.ast.matchers,b,w,L,ee)}buildStyles(b,w,L){let ee=this._stateStyles.get("*");return void 0!==b&&(ee=this._stateStyles.get(b?.toString())||ee),ee?ee.buildStyles(w,L):new Map}build(b,w,L,ee,le,be,we,Je,pt,xt){const ln=[],ir=this.ast.options&&this.ast.options.params||vr,Y=this.buildStyles(L,we&&we.params||vr,ln),k=Je&&Je.params||vr,q=this.buildStyles(ee,k,ln),pe=new Set,Ze=new Map,_t=new Map,Bt="void"===ee,Dr={params:ls(k,ir),delay:this.ast.options?.delay},hr=xt?[]:Gt(b,w,this.ast.animation,le,be,Y,q,Dr,pt,ln);let Kn=0;if(hr.forEach($r=>{Kn=Math.max($r.duration+$r.delay,Kn)}),ln.length)return ks(w,this._triggerName,L,ee,Bt,Y,q,[],[],Ze,_t,Kn,ln);hr.forEach($r=>{const wr=$r.element,ii=or(Ze,wr,new Set);$r.preStyleProps.forEach(kr=>ii.add(kr));const Bs=or(_t,wr,new Set);$r.postStyleProps.forEach(kr=>Bs.add(kr)),wr!==w&&pe.add(wr)});const Fn=pi(pe.values());return ks(w,this._triggerName,L,ee,Bt,Y,q,hr,Fn,Ze,_t,Kn)}}function ls(Z,b){const w=an(b);for(const L in Z)Z.hasOwnProperty(L)&&null!=Z[L]&&(w[L]=Z[L]);return w}class za{constructor(b,w,L){this.styles=b,this.defaultParams=w,this.normalizer=L}buildStyles(b,w){const L=new Map,ee=an(this.defaultParams);return Object.keys(b).forEach(le=>{const be=b[le];null!==be&&(ee[le]=be)}),this.styles.styles.forEach(le=>{"string"!=typeof le&&le.forEach((be,we)=>{be&&(be=qn(be,ee,w));const Je=this.normalizer.normalizePropertyName(we,w);be=this.normalizer.normalizeStyleValue(we,Je,be,w),L.set(we,be)})}),L}}class us{constructor(b,w,L){this.name=b,this.ast=w,this._normalizer=L,this.transitionFactories=[],this.states=new Map,w.states.forEach(ee=>{this.states.set(ee.name,new za(ee.style,ee.options&&ee.options.params||{},L))}),eo(this.states,"true","1"),eo(this.states,"false","0"),w.transitions.forEach(ee=>{this.transitionFactories.push(new Io(b,ee,this.states))}),this.fallbackTransition=function To(Z,b,w){return new Io(Z,{type:1,animation:{type:2,steps:[],options:null},matchers:[(be,we)=>!0],options:null,queryCount:0,depCount:0},b)}(b,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(b,w,L,ee){return this.transitionFactories.find(be=>be.match(b,w,L,ee))||null}matchStyles(b,w,L){return this.fallbackTransition.buildStyles(b,w,L)}}function eo(Z,b,w){Z.has(b)?Z.has(w)||Z.set(w,Z.get(b)):Z.has(w)&&Z.set(b,Z.get(w))}const xn=new Ro;class No{constructor(b,w,L){this.bodyNode=b,this._driver=w,this._normalizer=L,this._animations=new Map,this._playersById=new Map,this.players=[]}register(b,w){const L=[],le=xi(this._driver,w,L,[]);if(L.length)throw function Tn(Z){return new j.vHH(3503,!1)}();this._animations.set(b,le)}_buildPlayer(b,w,L){const ee=b.element,le=En(this._normalizer,b.keyframes,w,L);return this._driver.animate(ee,le,b.duration,b.delay,b.easing,[],!0)}create(b,w,L={}){const ee=[],le=this._animations.get(b);let be;const we=new Map;if(le?(be=Gt(this._driver,w,le,Kt,Ht,new Map,new Map,L,xn,ee),be.forEach(xt=>{const ln=or(we,xt.element,new Map);xt.postStyleProps.forEach(ir=>ln.set(ir,null))})):(ee.push(function Dn(){return new j.vHH(3300,!1)}()),be=[]),ee.length)throw function Lt(Z){return new j.vHH(3504,!1)}();we.forEach((xt,ln)=>{xt.forEach((ir,A)=>{xt.set(A,this._driver.computeStyle(ln,A,Cn.l3))})});const pt=Ei(be.map(xt=>{const ln=we.get(xt.element);return this._buildPlayer(xt,new Map,ln)}));return this._playersById.set(b,pt),pt.onDestroy(()=>this.destroy(b)),this.players.push(pt),pt}destroy(b){const w=this._getPlayer(b);w.destroy(),this._playersById.delete(b);const L=this.players.indexOf(w);L>=0&&this.players.splice(L,1)}_getPlayer(b){const w=this._playersById.get(b);if(!w)throw function gn(Z){return new j.vHH(3301,!1)}();return w}listen(b,w,L,ee){const le=yi(w,"","","");return Rr(this._getPlayer(b),L,le,ee),()=>{}}command(b,w,L,ee){if("register"==L)return void this.register(b,ee[0]);if("create"==L)return void this.create(b,w,ee[0]||{});const le=this._getPlayer(b);switch(L){case"play":le.play();break;case"pause":le.pause();break;case"reset":le.reset();break;case"restart":le.restart();break;case"finish":le.finish();break;case"init":le.init();break;case"setPosition":le.setPosition(parseFloat(ee[0]));break;case"destroy":this.destroy(b)}}}const Ts="ng-animate-queued",ui="ng-animate-disabled",Ri=[],$o={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ki={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Mr="__ng_removed";class Hs{get params(){return this.options.params}constructor(b,w=""){this.namespaceId=w;const L=b&&b.hasOwnProperty("value");if(this.value=function ea(Z){return Z??null}(L?b.value:b),L){const le=an(b);delete le.value,this.options=le}else this.options={};this.options.params||(this.options.params={})}absorbOptions(b){const w=b.params;if(w){const L=this.options.params;Object.keys(w).forEach(ee=>{null==L[ee]&&(L[ee]=w[ee])})}}}const ri="void",Ds=new Hs(ri);class cr{constructor(b,w,L){this.id=b,this.hostElement=w,this._engine=L,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+b,me(w,this._hostClassName)}listen(b,w,L,ee){if(!this._triggers.has(w))throw function wn(Z,b){return new j.vHH(3302,!1)}();if(null==L||0==L.length)throw function sr(Z){return new j.vHH(3303,!1)}();if(!function K(Z){return"start"==Z||"done"==Z}(L))throw function Un(Z,b){return new j.vHH(3400,!1)}();const le=or(this._elementListeners,b,[]),be={name:w,phase:L,callback:ee};le.push(be);const we=or(this._engine.statesByElement,b,new Map);return we.has(w)||(me(b,fn),me(b,fn+"-"+w),we.set(w,Ds)),()=>{this._engine.afterFlush(()=>{const Je=le.indexOf(be);Je>=0&&le.splice(Je,1),this._triggers.has(w)||we.delete(w)})}}register(b,w){return!this._triggers.has(b)&&(this._triggers.set(b,w),!0)}_getTrigger(b){const w=this._triggers.get(b);if(!w)throw function Hr(Z){return new j.vHH(3401,!1)}();return w}trigger(b,w,L,ee=!0){const le=this._getTrigger(w),be=new Mo(this.id,w,b);let we=this._engine.statesByElement.get(b);we||(me(b,fn),me(b,fn+"-"+w),this._engine.statesByElement.set(b,we=new Map));let Je=we.get(w);const pt=new Hs(L,this.id);if(!(L&&L.hasOwnProperty("value"))&&Je&&pt.absorbOptions(Je.options),we.set(w,pt),Je||(Je=Ds),pt.value!==ri&&Je.value===pt.value){if(!function _s(Z,b){const w=Object.keys(Z),L=Object.keys(b);if(w.length!=L.length)return!1;for(let ee=0;ee<w.length;ee++){const le=w[ee];if(!b.hasOwnProperty(le)||Z[le]!==b[le])return!1}return!0}(Je.params,pt.params)){const k=[],q=le.matchStyles(Je.value,Je.params,k),pe=le.matchStyles(pt.value,pt.params,k);k.length?this._engine.reportError(k):this._engine.afterFlush(()=>{fi(b,q),ar(b,pe)})}return}const ir=or(this._engine.playersByElement,b,[]);ir.forEach(k=>{k.namespaceId==this.id&&k.triggerName==w&&k.queued&&k.destroy()});let A=le.matchTransition(Je.value,pt.value,b,pt.params),Y=!1;if(!A){if(!ee)return;A=le.fallbackTransition,Y=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:b,triggerName:w,transition:A,fromState:Je,toState:pt,player:be,isFallbackTransition:Y}),Y||(me(b,Ts),be.onStart(()=>{cn(b,Ts)})),be.onDone(()=>{let k=this.players.indexOf(be);k>=0&&this.players.splice(k,1);const q=this._engine.playersByElement.get(b);if(q){let pe=q.indexOf(be);pe>=0&&q.splice(pe,1)}}),this.players.push(be),ir.push(be),be}deregister(b){this._triggers.delete(b),this._engine.statesByElement.forEach(w=>w.delete(b)),this._elementListeners.forEach((w,L)=>{this._elementListeners.set(L,w.filter(ee=>ee.name!=b))})}clearElementCache(b){this._engine.statesByElement.delete(b),this._elementListeners.delete(b);const w=this._engine.playersByElement.get(b);w&&(w.forEach(L=>L.destroy()),this._engine.playersByElement.delete(b))}_signalRemovalForInnerTriggers(b,w){const L=this._engine.driver.query(b,Wn,!0);L.forEach(ee=>{if(ee[Mr])return;const le=this._engine.fetchNamespacesByElement(ee);le.size?le.forEach(be=>be.triggerLeaveAnimation(ee,w,!1,!0)):this.clearElementCache(ee)}),this._engine.afterFlushAnimationsDone(()=>L.forEach(ee=>this.clearElementCache(ee)))}triggerLeaveAnimation(b,w,L,ee){const le=this._engine.statesByElement.get(b),be=new Map;if(le){const we=[];if(le.forEach((Je,pt)=>{if(be.set(pt,Je.value),this._triggers.has(pt)){const xt=this.trigger(b,pt,ri,ee);xt&&we.push(xt)}}),we.length)return this._engine.markElementAsRemoved(this.id,b,!0,w,be),L&&Ei(we).onDone(()=>this._engine.processLeaveNode(b)),!0}return!1}prepareLeaveAnimationListeners(b){const w=this._elementListeners.get(b),L=this._engine.statesByElement.get(b);if(w&&L){const ee=new Set;w.forEach(le=>{const be=le.name;if(ee.has(be))return;ee.add(be);const Je=this._triggers.get(be).fallbackTransition,pt=L.get(be)||Ds,xt=new Hs(ri),ln=new Mo(this.id,be,b);this._engine.totalQueuedPlayers++,this._queue.push({element:b,triggerName:be,transition:Je,fromState:pt,toState:xt,player:ln,isFallbackTransition:!0})})}}removeNode(b,w){const L=this._engine;if(b.childElementCount&&this._signalRemovalForInnerTriggers(b,w),this.triggerLeaveAnimation(b,w,!0))return;let ee=!1;if(L.totalAnimations){const le=L.players.length?L.playersByQueriedElement.get(b):[];if(le&&le.length)ee=!0;else{let be=b;for(;be=be.parentNode;)if(L.statesByElement.get(be)){ee=!0;break}}}if(this.prepareLeaveAnimationListeners(b),ee)L.markElementAsRemoved(this.id,b,!1,w);else{const le=b[Mr];(!le||le===$o)&&(L.afterFlush(()=>this.clearElementCache(b)),L.destroyInnerAnimations(b),L._onRemovalComplete(b,w))}}insertNode(b,w){me(b,this._hostClassName)}drainQueuedTransitions(b){const w=[];return this._queue.forEach(L=>{const ee=L.player;if(ee.destroyed)return;const le=L.element,be=this._elementListeners.get(le);be&&be.forEach(we=>{if(we.name==L.triggerName){const Je=yi(le,L.triggerName,L.fromState.value,L.toState.value);Je._data=b,Rr(L.player,we.phase,Je,we.callback)}}),ee.markedForDestroy?this._engine.afterFlush(()=>{ee.destroy()}):w.push(L)}),this._queue=[],w.sort((L,ee)=>{const le=L.transition.ast.depCount,be=ee.transition.ast.depCount;return 0==le||0==be?le-be:this._engine.driver.containsElement(L.element,ee.element)?1:-1})}destroy(b){this.players.forEach(w=>w.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,b)}}class Ho{_onRemovalComplete(b,w){this.onRemovalComplete(b,w)}constructor(b,w,L){this.bodyNode=b,this.driver=w,this._normalizer=L,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(ee,le)=>{}}get queuedPlayers(){const b=[];return this._namespaceList.forEach(w=>{w.players.forEach(L=>{L.queued&&b.push(L)})}),b}createNamespace(b,w){const L=new cr(b,w,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,w)?this._balanceNamespaceList(L,w):(this.newHostElements.set(w,L),this.collectEnterElement(w)),this._namespaceLookup[b]=L}_balanceNamespaceList(b,w){const L=this._namespaceList,ee=this.namespacesByHostElement;if(L.length-1>=0){let be=!1,we=this.driver.getParentElement(w);for(;we;){const Je=ee.get(we);if(Je){const pt=L.indexOf(Je);L.splice(pt+1,0,b),be=!0;break}we=this.driver.getParentElement(we)}be||L.unshift(b)}else L.push(b);return ee.set(w,b),b}register(b,w){let L=this._namespaceLookup[b];return L||(L=this.createNamespace(b,w)),L}registerTrigger(b,w,L){let ee=this._namespaceLookup[b];ee&&ee.register(w,L)&&this.totalAnimations++}destroy(b,w){b&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const L=this._fetchNamespace(b);this.namespacesByHostElement.delete(L.hostElement);const ee=this._namespaceList.indexOf(L);ee>=0&&this._namespaceList.splice(ee,1),L.destroy(w),delete this._namespaceLookup[b]}))}_fetchNamespace(b){return this._namespaceLookup[b]}fetchNamespacesByElement(b){const w=new Set,L=this.statesByElement.get(b);if(L)for(let ee of L.values())if(ee.namespaceId){const le=this._fetchNamespace(ee.namespaceId);le&&w.add(le)}return w}trigger(b,w,L,ee){if(ta(w)){const le=this._fetchNamespace(b);if(le)return le.trigger(w,L,ee),!0}return!1}insertNode(b,w,L,ee){if(!ta(w))return;const le=w[Mr];if(le&&le.setForRemoval){le.setForRemoval=!1,le.setForMove=!0;const be=this.collectedLeaveElements.indexOf(w);be>=0&&this.collectedLeaveElements.splice(be,1)}if(b){const be=this._fetchNamespace(b);be&&be.insertNode(w,L)}ee&&this.collectEnterElement(w)}collectEnterElement(b){this.collectedEnterElements.push(b)}markElementAsDisabled(b,w){w?this.disabledNodes.has(b)||(this.disabledNodes.add(b),me(b,ui)):this.disabledNodes.has(b)&&(this.disabledNodes.delete(b),cn(b,ui))}removeNode(b,w,L){if(ta(w)){const ee=b?this._fetchNamespace(b):null;ee?ee.removeNode(w,L):this.markElementAsRemoved(b,w,!1,L);const le=this.namespacesByHostElement.get(w);le&&le.id!==b&&le.removeNode(w,L)}else this._onRemovalComplete(w,L)}markElementAsRemoved(b,w,L,ee,le){this.collectedLeaveElements.push(w),w[Mr]={namespaceId:b,setForRemoval:ee,hasAnimation:L,removedBeforeQueried:!1,previousTriggersValues:le}}listen(b,w,L,ee,le){return ta(w)?this._fetchNamespace(b).listen(w,L,ee,le):()=>{}}_buildInstruction(b,w,L,ee,le){return b.transition.build(this.driver,b.element,b.fromState.value,b.toState.value,L,ee,b.fromState.options,b.toState.options,w,le)}destroyInnerAnimations(b){let w=this.driver.query(b,Wn,!0);w.forEach(L=>this.destroyActiveAnimationsForElement(L)),0!=this.playersByQueriedElement.size&&(w=this.driver.query(b,ei,!0),w.forEach(L=>this.finishActiveQueriedAnimationOnElement(L)))}destroyActiveAnimationsForElement(b){const w=this.playersByElement.get(b);w&&w.forEach(L=>{L.queued?L.markedForDestroy=!0:L.destroy()})}finishActiveQueriedAnimationOnElement(b){const w=this.playersByQueriedElement.get(b);w&&w.forEach(L=>L.finish())}whenRenderingDone(){return new Promise(b=>{if(this.players.length)return Ei(this.players).onDone(()=>b());b()})}processLeaveNode(b){const w=b[Mr];if(w&&w.setForRemoval){if(b[Mr]=$o,w.namespaceId){this.destroyInnerAnimations(b);const L=this._fetchNamespace(w.namespaceId);L&&L.clearElementCache(b)}this._onRemovalComplete(b,w.setForRemoval)}b.classList?.contains(ui)&&this.markElementAsDisabled(b,!1),this.driver.query(b,".ng-animate-disabled",!0).forEach(L=>{this.markElementAsDisabled(L,!1)})}flush(b=-1){let w=[];if(this.newHostElements.size&&(this.newHostElements.forEach((L,ee)=>this._balanceNamespaceList(L,ee)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let L=0;L<this.collectedEnterElements.length;L++)me(this.collectedEnterElements[L],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const L=[];try{w=this._flushAnimations(L,b)}finally{for(let ee=0;ee<L.length;ee++)L[ee]()}}else for(let L=0;L<this.collectedLeaveElements.length;L++)this.processLeaveNode(this.collectedLeaveElements[L]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(L=>L()),this._flushFns=[],this._whenQuietFns.length){const L=this._whenQuietFns;this._whenQuietFns=[],w.length?Ei(w).onDone(()=>{L.forEach(ee=>ee())}):L.forEach(ee=>ee())}}reportError(b){throw function Vt(Z){return new j.vHH(3402,!1)}()}_flushAnimations(b,w){const L=new Ro,ee=[],le=new Map,be=[],we=new Map,Je=new Map,pt=new Map,xt=new Set;this.disabledNodes.forEach(un=>{xt.add(un);const pn=this.driver.query(un,".ng-animate-queued",!0);for(let et=0;et<pn.length;et++)xt.add(pn[et])});const ln=this.bodyNode,ir=Array.from(this.statesByElement.keys()),A=oe(ir,this.collectedEnterElements),Y=new Map;let k=0;A.forEach((un,pn)=>{const et=Kt+k++;Y.set(pn,et),un.forEach(Ln=>me(Ln,et))});const q=[],pe=new Set,Ze=new Set;for(let un=0;un<this.collectedLeaveElements.length;un++){const pn=this.collectedLeaveElements[un],et=pn[Mr];et&&et.setForRemoval&&(q.push(pn),pe.add(pn),et.hasAnimation?this.driver.query(pn,".ng-star-inserted",!0).forEach(Ln=>pe.add(Ln)):Ze.add(pn))}const _t=new Map,Bt=oe(ir,Array.from(pe));Bt.forEach((un,pn)=>{const et=Ht+k++;_t.set(pn,et),un.forEach(Ln=>me(Ln,et))}),b.push(()=>{A.forEach((un,pn)=>{const et=Y.get(pn);un.forEach(Ln=>cn(Ln,et))}),Bt.forEach((un,pn)=>{const et=_t.get(pn);un.forEach(Ln=>cn(Ln,et))}),q.forEach(un=>{this.processLeaveNode(un)})});const Dr=[],hr=[];for(let un=this._namespaceList.length-1;un>=0;un--)this._namespaceList[un].drainQueuedTransitions(w).forEach(et=>{const Ln=et.player,_n=et.element;if(Dr.push(Ln),this.collectedEnterElements.length){const vt=_n[Mr];if(vt&&vt.setForMove){if(vt.previousTriggersValues&&vt.previousTriggersValues.has(et.triggerName)){const Ni=vt.previousTriggersValues.get(et.triggerName),no=this.statesByElement.get(et.element);if(no&&no.has(et.triggerName)){const Na=no.get(et.triggerName);Na.value=Ni,no.set(et.triggerName,Na)}}return void Ln.destroy()}}const to=!ln||!this.driver.containsElement(ln,_n),zt=_t.get(_n),Ut=Y.get(_n),Di=this._buildInstruction(et,L,Ut,zt,to);if(Di.errors&&Di.errors.length)return void hr.push(Di);if(to)return Ln.onStart(()=>fi(_n,Di.fromStyles)),Ln.onDestroy(()=>ar(_n,Di.toStyles)),void ee.push(Ln);if(et.isFallbackTransition)return Ln.onStart(()=>fi(_n,Di.fromStyles)),Ln.onDestroy(()=>ar(_n,Di.toStyles)),void ee.push(Ln);const qt=[];Di.timelines.forEach(vt=>{vt.stretchStartingKeyframe=!0,this.disabledNodes.has(vt.element)||qt.push(vt)}),Di.timelines=qt,L.append(_n,Di.timelines),be.push({instruction:Di,player:Ln,element:_n}),Di.queriedElements.forEach(vt=>or(we,vt,[]).push(Ln)),Di.preStyleProps.forEach((vt,Ni)=>{if(vt.size){let no=Je.get(Ni);no||Je.set(Ni,no=new Set),vt.forEach((Na,ro)=>no.add(ro))}}),Di.postStyleProps.forEach((vt,Ni)=>{let no=pt.get(Ni);no||pt.set(Ni,no=new Set),vt.forEach((Na,ro)=>no.add(ro))})});if(hr.length){const un=[];hr.forEach(pn=>{un.push(function Ar(Z,b){return new j.vHH(3505,!1)}())}),Dr.forEach(pn=>pn.destroy()),this.reportError(un)}const Kn=new Map,Fn=new Map;be.forEach(un=>{const pn=un.element;L.has(pn)&&(Fn.set(pn,pn),this._beforeAnimationBuild(un.player.namespaceId,un.instruction,Kn))}),ee.forEach(un=>{const pn=un.element;this._getPreviousPlayers(pn,!1,un.namespaceId,un.triggerName,null).forEach(Ln=>{or(Kn,pn,[]).push(Ln),Ln.destroy()})});const $r=q.filter(un=>Wa(un,Je,pt)),wr=new Map;F(wr,this.driver,Ze,pt,Cn.l3).forEach(un=>{Wa(un,Je,pt)&&$r.push(un)});const Bs=new Map;A.forEach((un,pn)=>{F(Bs,this.driver,new Set(un),Je,Cn.k1)}),$r.forEach(un=>{const pn=wr.get(un),et=Bs.get(un);wr.set(un,new Map([...pn?.entries()??[],...et?.entries()??[]]))});const kr=[],$i=[],Ti={};be.forEach(un=>{const{element:pn,player:et,instruction:Ln}=un;if(L.has(pn)){if(xt.has(pn))return et.onDestroy(()=>ar(pn,Ln.toStyles)),et.disabled=!0,et.overrideTotalTime(Ln.totalTime),void ee.push(et);let _n=Ti;if(Fn.size>1){let zt=pn;const Ut=[];for(;zt=zt.parentNode;){const Di=Fn.get(zt);if(Di){_n=Di;break}Ut.push(zt)}Ut.forEach(Di=>Fn.set(Di,_n))}const to=this._buildAnimation(et.namespaceId,Ln,Kn,le,Bs,wr);if(et.setRealPlayer(to),_n===Ti)kr.push(et);else{const zt=this.playersByElement.get(_n);zt&&zt.length&&(et.parentPlayer=Ei(zt)),ee.push(et)}}else fi(pn,Ln.fromStyles),et.onDestroy(()=>ar(pn,Ln.toStyles)),$i.push(et),xt.has(pn)&&ee.push(et)}),$i.forEach(un=>{const pn=le.get(un.element);if(pn&&pn.length){const et=Ei(pn);un.setRealPlayer(et)}}),ee.forEach(un=>{un.parentPlayer?un.syncPlayerEvents(un.parentPlayer):un.destroy()});for(let un=0;un<q.length;un++){const pn=q[un],et=pn[Mr];if(cn(pn,Ht),et&&et.hasAnimation)continue;let Ln=[];if(we.size){let to=we.get(pn);to&&to.length&&Ln.push(...to);let zt=this.driver.query(pn,ei,!0);for(let Ut=0;Ut<zt.length;Ut++){let Di=we.get(zt[Ut]);Di&&Di.length&&Ln.push(...Di)}}const _n=Ln.filter(to=>!to.destroyed);_n.length?rr(this,pn,_n):this.processLeaveNode(pn)}return q.length=0,kr.forEach(un=>{this.players.push(un),un.onDone(()=>{un.destroy();const pn=this.players.indexOf(un);this.players.splice(pn,1)}),un.play()}),kr}afterFlush(b){this._flushFns.push(b)}afterFlushAnimationsDone(b){this._whenQuietFns.push(b)}_getPreviousPlayers(b,w,L,ee,le){let be=[];if(w){const we=this.playersByQueriedElement.get(b);we&&(be=we)}else{const we=this.playersByElement.get(b);if(we){const Je=!le||le==ri;we.forEach(pt=>{pt.queued||!Je&&pt.triggerName!=ee||be.push(pt)})}}return(L||ee)&&(be=be.filter(we=>!(L&&L!=we.namespaceId||ee&&ee!=we.triggerName))),be}_beforeAnimationBuild(b,w,L){const le=w.element,be=w.isRemovalTransition?void 0:b,we=w.isRemovalTransition?void 0:w.triggerName;for(const Je of w.timelines){const pt=Je.element,xt=pt!==le,ln=or(L,pt,[]);this._getPreviousPlayers(pt,xt,be,we,w.toState).forEach(A=>{const Y=A.getRealPlayer();Y.beforeDestroy&&Y.beforeDestroy(),A.destroy(),ln.push(A)})}fi(le,w.fromStyles)}_buildAnimation(b,w,L,ee,le,be){const we=w.triggerName,Je=w.element,pt=[],xt=new Set,ln=new Set,ir=w.timelines.map(Y=>{const k=Y.element;xt.add(k);const q=k[Mr];if(q&&q.removedBeforeQueried)return new Cn.ZN(Y.duration,Y.delay);const pe=k!==Je,Ze=function Vs(Z){const b=[];return Gs(Z,b),b}((L.get(k)||Ri).map(Kn=>Kn.getRealPlayer())).filter(Kn=>!!Kn.element&&Kn.element===k),_t=le.get(k),Bt=be.get(k),Dr=En(this._normalizer,Y.keyframes,_t,Bt),hr=this._buildPlayer(Y,Dr,Ze);if(Y.subTimeline&&ee&&ln.add(k),pe){const Kn=new Mo(b,we,k);Kn.setRealPlayer(hr),pt.push(Kn)}return hr});pt.forEach(Y=>{or(this.playersByQueriedElement,Y.element,[]).push(Y),Y.onDone(()=>function Go(Z,b,w){let L=Z.get(b);if(L){if(L.length){const ee=L.indexOf(w);L.splice(ee,1)}0==L.length&&Z.delete(b)}return L}(this.playersByQueriedElement,Y.element,Y))}),xt.forEach(Y=>me(Y,Sn));const A=Ei(ir);return A.onDestroy(()=>{xt.forEach(Y=>cn(Y,Sn)),ar(Je,w.toStyles)}),ln.forEach(Y=>{or(ee,Y,[]).push(A)}),A}_buildPlayer(b,w,L){return w.length>0?this.driver.animate(b.element,w,b.duration,b.delay,b.easing,L):new Cn.ZN(b.duration,b.delay)}}class Mo{constructor(b,w,L){this.namespaceId=b,this.triggerName=w,this.element=L,this._player=new Cn.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(b){this._containsRealPlayer||(this._player=b,this._queuedCallbacks.forEach((w,L)=>{w.forEach(ee=>Rr(b,L,void 0,ee))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(b.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(b){this.totalTime=b}syncPlayerEvents(b){const w=this._player;w.triggerCallback&&b.onStart(()=>w.triggerCallback("start")),b.onDone(()=>this.finish()),b.onDestroy(()=>this.destroy())}_queueEvent(b,w){or(this._queuedCallbacks,b,[]).push(w)}onDone(b){this.queued&&this._queueEvent("done",b),this._player.onDone(b)}onStart(b){this.queued&&this._queueEvent("start",b),this._player.onStart(b)}onDestroy(b){this.queued&&this._queueEvent("destroy",b),this._player.onDestroy(b)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(b){this.queued||this._player.setPosition(b)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(b){const w=this._player;w.triggerCallback&&w.triggerCallback(b)}}function ta(Z){return Z&&1===Z.nodeType}function J(Z,b){const w=Z.style.display;return Z.style.display=b??"none",w}function F(Z,b,w,L,ee){const le=[];w.forEach(Je=>le.push(J(Je)));const be=[];L.forEach((Je,pt)=>{const xt=new Map;Je.forEach(ln=>{const ir=b.computeStyle(pt,ln,ee);xt.set(ln,ir),(!ir||0==ir.length)&&(pt[Mr]=ki,be.push(pt))}),Z.set(pt,xt)});let we=0;return w.forEach(Je=>J(Je,le[we++])),be}function oe(Z,b){const w=new Map;if(Z.forEach(we=>w.set(we,[])),0==b.length)return w;const ee=new Set(b),le=new Map;function be(we){if(!we)return 1;let Je=le.get(we);if(Je)return Je;const pt=we.parentNode;return Je=w.has(pt)?pt:ee.has(pt)?1:be(pt),le.set(we,Je),Je}return b.forEach(we=>{const Je=be(we);1!==Je&&w.get(Je).push(we)}),w}function me(Z,b){Z.classList?.add(b)}function cn(Z,b){Z.classList?.remove(b)}function rr(Z,b,w){Ei(w).onDone(()=>Z.processLeaveNode(b))}function Gs(Z,b){for(let w=0;w<Z.length;w++){const L=Z[w];L instanceof Cn.ZE?Gs(L.players,b):b.push(L)}}function Wa(Z,b,w){const L=w.get(Z);if(!L)return!1;let ee=b.get(Z);return ee?L.forEach(le=>ee.add(le)):b.set(Z,L),w.delete(Z),!0}class fa{constructor(b,w,L){this.bodyNode=b,this._driver=w,this._normalizer=L,this._triggerCache={},this.onRemovalComplete=(ee,le)=>{},this._transitionEngine=new Ho(b,w,L),this._timelineEngine=new No(b,w,L),this._transitionEngine.onRemovalComplete=(ee,le)=>this.onRemovalComplete(ee,le)}registerTrigger(b,w,L,ee,le){const be=b+"-"+ee;let we=this._triggerCache[be];if(!we){const Je=[],xt=xi(this._driver,le,Je,[]);if(Je.length)throw function Pt(Z,b){return new j.vHH(3404,!1)}();we=function bo(Z,b,w){return new us(Z,b,w)}(ee,xt,this._normalizer),this._triggerCache[be]=we}this._transitionEngine.registerTrigger(w,ee,we)}register(b,w){this._transitionEngine.register(b,w)}destroy(b,w){this._transitionEngine.destroy(b,w)}onInsert(b,w,L,ee){this._transitionEngine.insertNode(b,w,L,ee)}onRemove(b,w,L){this._transitionEngine.removeNode(b,w,L)}disableAnimations(b,w){this._transitionEngine.markElementAsDisabled(b,w)}process(b,w,L,ee){if("@"==L.charAt(0)){const[le,be]=zr(L);this._timelineEngine.command(le,w,be,ee)}else this._transitionEngine.trigger(b,w,L,ee)}listen(b,w,L,ee,le){if("@"==L.charAt(0)){const[be,we]=zr(L);return this._timelineEngine.listen(be,w,we,le)}return this._transitionEngine.listen(b,w,L,ee,le)}flush(b=-1){this._transitionEngine.flush(b)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(b){this._transitionEngine.afterFlushAnimationsDone(b)}}let Ka=(()=>{class Z{static#e=this.initialStylesByElement=new WeakMap;constructor(w,L,ee){this._element=w,this._startStyles=L,this._endStyles=ee,this._state=0;let le=Z.initialStylesByElement.get(w);le||Z.initialStylesByElement.set(w,le=new Map),this._initialStyles=le}start(){this._state<1&&(this._startStyles&&ar(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ar(this._element,this._initialStyles),this._endStyles&&(ar(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Z.initialStylesByElement.delete(this._element),this._startStyles&&(fi(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(fi(this._element,this._endStyles),this._endStyles=null),ar(this._element,this._initialStyles),this._state=3)}}return Z})();function Po(Z){let b=null;return Z.forEach((w,L)=>{(function Ru(Z){return"display"===Z||"position"===Z})(L)&&(b=b||new Map,b.set(L,w))}),b}class pa{constructor(b,w,L,ee){this.element=b,this.keyframes=w,this.options=L,this._specialStyles=ee,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=L.duration,this._delay=L.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(b=>b()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const b=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,b,this.options),this._finalKeyframe=b.length?b[b.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(b){const w=[];return b.forEach(L=>{w.push(Object.fromEntries(L))}),w}_triggerWebAnimation(b,w,L){return b.animate(this._convertKeyframesToObject(w),L)}onStart(b){this._originalOnStartFns.push(b),this._onStartFns.push(b)}onDone(b){this._originalOnDoneFns.push(b),this._onDoneFns.push(b)}onDestroy(b){this._onDestroyFns.push(b)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(b=>b()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(b=>b()),this._onDestroyFns=[])}setPosition(b){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=b*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const b=new Map;this.hasStarted()&&this._finalKeyframe.forEach((L,ee)=>{"offset"!==ee&&b.set(ee,this._finished?L:gs(this.element,ee))}),this.currentSnapshot=b}triggerCallback(b){const w="start"===b?this._onStartFns:this._onDoneFns;w.forEach(L=>L()),w.length=0}}class Aa{validateStyleProperty(b){return!0}validateAnimatableStyleProperty(b){return!0}matchesElement(b,w){return!1}containsElement(b,w){return re(b,w)}getParentElement(b){return br(b)}query(b,w,L){return z(b,w,L)}computeStyle(b,w,L){return window.getComputedStyle(b)[w]}animate(b,w,L,ee,le,be=[]){const Je={duration:L,delay:ee,fill:0==ee?"both":"forwards"};le&&(Je.easing=le);const pt=new Map,xt=be.filter(A=>A instanceof pa);(function Ci(Z,b){return 0===Z||0===b})(L,ee)&&xt.forEach(A=>{A.currentSnapshot.forEach((Y,k)=>pt.set(k,Y))});let ln=function en(Z){return Z.length?Z[0]instanceof Map?Z:Z.map(b=>Rn(b)):[]}(w).map(A=>Tr(A));ln=function Zs(Z,b,w){if(w.size&&b.length){let L=b[0],ee=[];if(w.forEach((le,be)=>{L.has(be)||ee.push(be),L.set(be,le)}),ee.length)for(let le=1;le<b.length;le++){let be=b[le];ee.forEach(we=>be.set(we,gs(Z,we)))}}return b}(b,ln,pt);const ir=function Sa(Z,b){let w=null,L=null;return Array.isArray(b)&&b.length?(w=Po(b[0]),b.length>1&&(L=Po(b[b.length-1]))):b instanceof Map&&(w=Po(b)),w||L?new Ka(Z,w,L):null}(b,ln);return new pa(b,ln,Je,ir)}}let go=(()=>{class Z extends Cn._j{constructor(w,L){super(),this._nextAnimationId=0,this._renderer=w.createRenderer(L.body,{id:"0",encapsulation:j.ifc.None,styles:[],data:{animation:[]}})}build(w){const L=this._nextAnimationId.toString();this._nextAnimationId++;const ee=Array.isArray(w)?(0,Cn.vP)(w):w;return zo(this._renderer,null,L,"register",[ee]),new cs(L,this._renderer)}static#e=this.\u0275fac=function(L){return new(L||Z)(j.LFG(j.FYo),j.LFG(De.K0))};static#t=this.\u0275prov=j.Yz7({token:Z,factory:Z.\u0275fac})}return Z})();class cs extends Cn.LC{constructor(b,w){super(),this._id=b,this._renderer=w}create(b,w){return new Oo(this._id,b,w||{},this._renderer)}}class Oo{constructor(b,w,L,ee){this.id=b,this.element=w,this._renderer=ee,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",L)}_listen(b,w){return this._renderer.listen(this.element,`@@${this.id}:${b}`,w)}_command(b,...w){return zo(this._renderer,this.element,this.id,b,w)}onDone(b){this._listen("done",b)}onStart(b){this._listen("start",b)}onDestroy(b){this._listen("destroy",b)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(b){this._command("setPosition",b)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function zo(Z,b,w,L,ee){return Z.setProperty(b,`@@${w}:${L}`,ee)}const ds="@.disabled";let Qi=(()=>{class Z{constructor(w,L,ee){this.delegate=w,this.engine=L,this._zone=ee,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,L.onRemovalComplete=(le,be)=>{const we=be?.parentNode(le);we&&be.removeChild(we,le)}}createRenderer(w,L){const le=this.delegate.createRenderer(w,L);if(!(w&&L&&L.data&&L.data.animation)){let xt=this._rendererCache.get(le);return xt||(xt=new fl("",le,this.engine,()=>this._rendererCache.delete(le)),this._rendererCache.set(le,xt)),xt}const be=L.id,we=L.id+"-"+this._currentId;this._currentId++,this.engine.register(we,w);const Je=xt=>{Array.isArray(xt)?xt.forEach(Je):this.engine.registerTrigger(be,we,w,xt.name,xt)};return L.data.animation.forEach(Je),new wo(this,we,le,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(w,L,ee){w>=0&&w<this._microtaskId?this._zone.run(()=>L(ee)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(le=>{const[be,we]=le;be(we)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([L,ee]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(L){return new(L||Z)(j.LFG(j.FYo),j.LFG(fa),j.LFG(j.R0b))};static#t=this.\u0275prov=j.Yz7({token:Z,factory:Z.\u0275fac})}return Z})();class fl{constructor(b,w,L,ee){this.namespaceId=b,this.delegate=w,this.engine=L,this._onDestroy=ee}get data(){return this.delegate.data}destroyNode(b){this.delegate.destroyNode?.(b)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(b,w){return this.delegate.createElement(b,w)}createComment(b){return this.delegate.createComment(b)}createText(b){return this.delegate.createText(b)}appendChild(b,w){this.delegate.appendChild(b,w),this.engine.onInsert(this.namespaceId,w,b,!1)}insertBefore(b,w,L,ee=!0){this.delegate.insertBefore(b,w,L),this.engine.onInsert(this.namespaceId,w,b,ee)}removeChild(b,w,L){this.engine.onRemove(this.namespaceId,w,this.delegate)}selectRootElement(b,w){return this.delegate.selectRootElement(b,w)}parentNode(b){return this.delegate.parentNode(b)}nextSibling(b){return this.delegate.nextSibling(b)}setAttribute(b,w,L,ee){this.delegate.setAttribute(b,w,L,ee)}removeAttribute(b,w,L){this.delegate.removeAttribute(b,w,L)}addClass(b,w){this.delegate.addClass(b,w)}removeClass(b,w){this.delegate.removeClass(b,w)}setStyle(b,w,L,ee){this.delegate.setStyle(b,w,L,ee)}removeStyle(b,w,L){this.delegate.removeStyle(b,w,L)}setProperty(b,w,L){"@"==w.charAt(0)&&w==ds?this.disableAnimations(b,!!L):this.delegate.setProperty(b,w,L)}setValue(b,w){this.delegate.setValue(b,w)}listen(b,w,L){return this.delegate.listen(b,w,L)}disableAnimations(b,w){this.engine.disableAnimations(b,w)}}class wo extends fl{constructor(b,w,L,ee,le){super(w,L,ee,le),this.factory=b,this.namespaceId=w}setProperty(b,w,L){"@"==w.charAt(0)?"."==w.charAt(1)&&w==ds?this.disableAnimations(b,L=void 0===L||!!L):this.engine.process(this.namespaceId,b,w.slice(1),L):this.delegate.setProperty(b,w,L)}listen(b,w,L){if("@"==w.charAt(0)){const ee=function pl(Z){switch(Z){case"body":return document.body;case"document":return document;case"window":return window;default:return Z}}(b);let le=w.slice(1),be="";return"@"!=le.charAt(0)&&([le,be]=function xo(Z){const b=Z.indexOf(".");return[Z.substring(0,b),Z.slice(b+1)]}(le)),this.engine.listen(this.namespaceId,ee,le,be,we=>{this.factory.scheduleListenerCallback(we._data||-1,L,we)})}return this.delegate.listen(b,w,L)}}const Ji=[{provide:Cn._j,useClass:go},{provide:bs,useFactory:function ga(){return new Ai}},{provide:fa,useClass:(()=>{class Z extends fa{constructor(w,L,ee,le){super(w.body,L,ee)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(L){return new(L||Z)(j.LFG(De.K0),j.LFG(de),j.LFG(bs),j.LFG(j.z2F))};static#t=this.\u0275prov=j.Yz7({token:Z,factory:Z.\u0275fac})}return Z})()},{provide:j.FYo,useFactory:function na(Z,b,w){return new Qi(Z,b,w)},deps:[l.se,fa,j.R0b]}],Ra=[{provide:de,useFactory:()=>new Aa},{provide:j.QbO,useValue:"BrowserAnimations"},...Ji],ma=[{provide:de,useClass:V},{provide:j.QbO,useValue:"NoopAnimations"},...Ji];let ra=(()=>{class Z{static withConfig(w){return{ngModule:Z,providers:w.disableAnimations?ma:Ra}}static#e=this.\u0275fac=function(L){return new(L||Z)};static#t=this.\u0275mod=j.oAB({type:Z});static#n=this.\u0275inj=j.cJS({providers:Ra,imports:[l.b2]})}return Z})(),xr=(()=>{class Z{static#e=this.\u0275fac=function(L){return new(L||Z)};static#t=this.\u0275mod=j.oAB({type:Z,bootstrap:[ze]});static#n=this.\u0275inj=j.cJS({imports:[ra,l.b2,Yt,Xt.hO.initializeApp(In.N.firebase),(0,lt.hX)(()=>(0,lt.ZF)(In.N.firebase)),(0,mt.AR)(()=>(0,mt.v0)()),(0,ht.Cm)(()=>(0,ht.ad)()),jt.IJ]})}return Z})();l.q6().bootstrapModule(xr).catch(Z=>console.error(Z))},5619:($t,qe,B)=>{B.d(qe,{X:()=>j});var l=B(8645);class j extends l.x{constructor(ve){super(),this._value=ve}get value(){return this.getValue()}_subscribe(ve){const De=super._subscribe(ve);return!De.closed&&ve.next(this._value),De}getValue(){const{hasError:ve,thrownError:De,_value:fe}=this;if(ve)throw De;return this._throwIfClosed(),fe}next(ve){super.next(this._value=ve)}}},5592:($t,qe,B)=>{B.d(qe,{y:()=>We});var l=B(305),j=B(7394),se=B(4850),ve=B(8407),De=B(2653),fe=B(4674),Pe=B(1441);let We=(()=>{class Ae{constructor(Ye){Ye&&(this._subscribe=Ye)}lift(Ye){const ze=new Ae;return ze.source=this,ze.operator=Ye,ze}subscribe(Ye,ze,lt){const mt=function ye(Ae){return Ae&&Ae instanceof l.Lv||function ce(Ae){return Ae&&(0,fe.m)(Ae.next)&&(0,fe.m)(Ae.error)&&(0,fe.m)(Ae.complete)}(Ae)&&(0,j.Nn)(Ae)}(Ye)?Ye:new l.Hp(Ye,ze,lt);return(0,Pe.x)(()=>{const{operator:ht,source:jt}=this;mt.add(ht?ht.call(mt,jt):jt?this._subscribe(mt):this._trySubscribe(mt))}),mt}_trySubscribe(Ye){try{return this._subscribe(Ye)}catch(ze){Ye.error(ze)}}forEach(Ye,ze){return new(ze=Be(ze))((lt,mt)=>{const ht=new l.Hp({next:jt=>{try{Ye(jt)}catch(bt){mt(bt),ht.unsubscribe()}},error:mt,complete:lt});this.subscribe(ht)})}_subscribe(Ye){var ze;return null===(ze=this.source)||void 0===ze?void 0:ze.subscribe(Ye)}[se.L](){return this}pipe(...Ye){return(0,ve.U)(Ye)(this)}toPromise(Ye){return new(Ye=Be(Ye))((ze,lt)=>{let mt;this.subscribe(ht=>mt=ht,ht=>lt(ht),()=>ze(mt))})}}return Ae.create=Ne=>new Ae(Ne),Ae})();function Be(Ae){var Ne;return null!==(Ne=Ae??De.config.Promise)&&void 0!==Ne?Ne:Promise}},8645:($t,qe,B)=>{B.d(qe,{x:()=>Pe});var l=B(5592),j=B(7394);const ve=(0,B(2306).d)(Be=>function(){Be(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var De=B(9039),fe=B(1441);let Pe=(()=>{class Be extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ye){const Ae=new We(this,this);return Ae.operator=ye,Ae}_throwIfClosed(){if(this.closed)throw new ve}next(ye){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ae of this.currentObservers)Ae.next(ye)}})}error(ye){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ye;const{observers:Ae}=this;for(;Ae.length;)Ae.shift().error(ye)}})}complete(){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ye}=this;for(;ye.length;)ye.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ye;return(null===(ye=this.observers)||void 0===ye?void 0:ye.length)>0}_trySubscribe(ye){return this._throwIfClosed(),super._trySubscribe(ye)}_subscribe(ye){return this._throwIfClosed(),this._checkFinalizedStatuses(ye),this._innerSubscribe(ye)}_innerSubscribe(ye){const{hasError:Ae,isStopped:Ne,observers:Ye}=this;return Ae||Ne?j.Lc:(this.currentObservers=null,Ye.push(ye),new j.w0(()=>{this.currentObservers=null,(0,De.P)(Ye,ye)}))}_checkFinalizedStatuses(ye){const{hasError:Ae,thrownError:Ne,isStopped:Ye}=this;Ae?ye.error(Ne):Ye&&ye.complete()}asObservable(){const ye=new l.y;return ye.source=this,ye}}return Be.create=(ce,ye)=>new We(ce,ye),Be})();class We extends Pe{constructor(ce,ye){super(),this.destination=ce,this.source=ye}next(ce){var ye,Ae;null===(Ae=null===(ye=this.destination)||void 0===ye?void 0:ye.next)||void 0===Ae||Ae.call(ye,ce)}error(ce){var ye,Ae;null===(Ae=null===(ye=this.destination)||void 0===ye?void 0:ye.error)||void 0===Ae||Ae.call(ye,ce)}complete(){var ce,ye;null===(ye=null===(ce=this.destination)||void 0===ce?void 0:ce.complete)||void 0===ye||ye.call(ce)}_subscribe(ce){var ye,Ae;return null!==(Ae=null===(ye=this.source)||void 0===ye?void 0:ye.subscribe(ce))&&void 0!==Ae?Ae:j.Lc}}},305:($t,qe,B)=>{B.d(qe,{Hp:()=>lt,Lv:()=>Ae});var l=B(4674),j=B(7394),se=B(2653),ve=B(3894),De=B(2420);const fe=Be("C",void 0,void 0);function Be(ue,$e,Ee){return{kind:ue,value:$e,error:Ee}}var ce=B(7599),ye=B(1441);class Ae extends j.w0{constructor($e){super(),this.isStopped=!1,$e?(this.destination=$e,(0,j.Nn)($e)&&$e.add(this)):this.destination=bt}static create($e,Ee,rt){return new lt($e,Ee,rt)}next($e){this.isStopped?jt(function We(ue){return Be("N",ue,void 0)}($e),this):this._next($e)}error($e){this.isStopped?jt(function Pe(ue){return Be("E",void 0,ue)}($e),this):(this.isStopped=!0,this._error($e))}complete(){this.isStopped?jt(fe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next($e){this.destination.next($e)}_error($e){try{this.destination.error($e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ne=Function.prototype.bind;function Ye(ue,$e){return Ne.call(ue,$e)}class ze{constructor($e){this.partialObserver=$e}next($e){const{partialObserver:Ee}=this;if(Ee.next)try{Ee.next($e)}catch(rt){mt(rt)}}error($e){const{partialObserver:Ee}=this;if(Ee.error)try{Ee.error($e)}catch(rt){mt(rt)}else mt($e)}complete(){const{partialObserver:$e}=this;if($e.complete)try{$e.complete()}catch(Ee){mt(Ee)}}}class lt extends Ae{constructor($e,Ee,rt){let ut;if(super(),(0,l.m)($e)||!$e)ut={next:$e??void 0,error:Ee??void 0,complete:rt??void 0};else{let Oe;this&&se.config.useDeprecatedNextContext?(Oe=Object.create($e),Oe.unsubscribe=()=>this.unsubscribe(),ut={next:$e.next&&Ye($e.next,Oe),error:$e.error&&Ye($e.error,Oe),complete:$e.complete&&Ye($e.complete,Oe)}):ut=$e}this.destination=new ze(ut)}}function mt(ue){se.config.useDeprecatedSynchronousErrorHandling?(0,ye.O)(ue):(0,ve.h)(ue)}function jt(ue,$e){const{onStoppedNotification:Ee}=se.config;Ee&&ce.z.setTimeout(()=>Ee(ue,$e))}const bt={closed:!0,next:De.Z,error:function ht(ue){throw ue},complete:De.Z}},7394:($t,qe,B)=>{B.d(qe,{Lc:()=>fe,w0:()=>De,Nn:()=>Pe});var l=B(4674);const se=(0,B(2306).d)(Be=>function(ye){Be(this),this.message=ye?`${ye.length} errors occurred during unsubscription:\n${ye.map((Ae,Ne)=>`${Ne+1}) ${Ae.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ye});var ve=B(9039);class De{constructor(ce){this.initialTeardown=ce,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ce;if(!this.closed){this.closed=!0;const{_parentage:ye}=this;if(ye)if(this._parentage=null,Array.isArray(ye))for(const Ye of ye)Ye.remove(this);else ye.remove(this);const{initialTeardown:Ae}=this;if((0,l.m)(Ae))try{Ae()}catch(Ye){ce=Ye instanceof se?Ye.errors:[Ye]}const{_finalizers:Ne}=this;if(Ne){this._finalizers=null;for(const Ye of Ne)try{We(Ye)}catch(ze){ce=ce??[],ze instanceof se?ce=[...ce,...ze.errors]:ce.push(ze)}}if(ce)throw new se(ce)}}add(ce){var ye;if(ce&&ce!==this)if(this.closed)We(ce);else{if(ce instanceof De){if(ce.closed||ce._hasParent(this))return;ce._addParent(this)}(this._finalizers=null!==(ye=this._finalizers)&&void 0!==ye?ye:[]).push(ce)}}_hasParent(ce){const{_parentage:ye}=this;return ye===ce||Array.isArray(ye)&&ye.includes(ce)}_addParent(ce){const{_parentage:ye}=this;this._parentage=Array.isArray(ye)?(ye.push(ce),ye):ye?[ye,ce]:ce}_removeParent(ce){const{_parentage:ye}=this;ye===ce?this._parentage=null:Array.isArray(ye)&&(0,ve.P)(ye,ce)}remove(ce){const{_finalizers:ye}=this;ye&&(0,ve.P)(ye,ce),ce instanceof De&&ce._removeParent(this)}}De.EMPTY=(()=>{const Be=new De;return Be.closed=!0,Be})();const fe=De.EMPTY;function Pe(Be){return Be instanceof De||Be&&"closed"in Be&&(0,l.m)(Be.remove)&&(0,l.m)(Be.add)&&(0,l.m)(Be.unsubscribe)}function We(Be){(0,l.m)(Be)?Be():Be.unsubscribe()}},2653:($t,qe,B)=>{B.d(qe,{config:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},2572:($t,qe,B)=>{B.d(qe,{a:()=>ce});var l=B(5592),j=B(7453),se=B(2459),ve=B(2737),De=B(7400),fe=B(9940),Pe=B(2714),We=B(8251),Be=B(7103);function ce(...Ne){const Ye=(0,fe.yG)(Ne),ze=(0,fe.jO)(Ne),{args:lt,keys:mt}=(0,j.D)(Ne);if(0===lt.length)return(0,se.D)([],Ye);const ht=new l.y(function ye(Ne,Ye,ze=ve.y){return lt=>{Ae(Ye,()=>{const{length:mt}=Ne,ht=new Array(mt);let jt=mt,bt=mt;for(let ue=0;ue<mt;ue++)Ae(Ye,()=>{const $e=(0,se.D)(Ne[ue],Ye);let Ee=!1;$e.subscribe((0,We.x)(lt,rt=>{ht[ue]=rt,Ee||(Ee=!0,bt--),bt||lt.next(ze(ht.slice()))},()=>{--jt||lt.complete()}))},lt)},lt)}}(lt,Ye,mt?jt=>(0,Pe.n)(mt,jt):ve.y));return ze?ht.pipe((0,De.Z)(ze)):ht}function Ae(Ne,Ye,ze){Ne?(0,Be.f)(ze,Ne,Ye):Ye()}},5211:($t,qe,B)=>{B.d(qe,{z:()=>De});var l=B(7537),se=B(9940),ve=B(2459);function De(...fe){return function j(){return(0,l.J)(1)}()((0,ve.D)(fe,(0,se.yG)(fe)))}},6232:($t,qe,B)=>{B.d(qe,{E:()=>j});const j=new(B(5592).y)(De=>De.complete())},9315:($t,qe,B)=>{B.d(qe,{D:()=>We});var l=B(5592),j=B(7453),se=B(4829),ve=B(9940),De=B(8251),fe=B(7400),Pe=B(2714);function We(...Be){const ce=(0,ve.jO)(Be),{args:ye,keys:Ae}=(0,j.D)(Be),Ne=new l.y(Ye=>{const{length:ze}=ye;if(!ze)return void Ye.complete();const lt=new Array(ze);let mt=ze,ht=ze;for(let jt=0;jt<ze;jt++){let bt=!1;(0,se.Xf)(ye[jt]).subscribe((0,De.x)(Ye,ue=>{bt||(bt=!0,ht--),lt[jt]=ue},()=>mt--,void 0,()=>{(!mt||!bt)&&(ht||Ye.next(Ae?(0,Pe.n)(Ae,lt):lt),Ye.complete())}))}});return ce?Ne.pipe((0,fe.Z)(ce)):Ne}},2459:($t,qe,B)=>{B.d(qe,{D:()=>$e});var l=B(4829),j=B(3093),se=B(5137),fe=B(5592),We=B(4971),Be=B(4674),ce=B(7103);function Ae(Ee,rt){if(!Ee)throw new Error("Iterable cannot be null");return new fe.y(ut=>{(0,ce.f)(ut,rt,()=>{const Oe=Ee[Symbol.asyncIterator]();(0,ce.f)(ut,rt,()=>{Oe.next().then(Yt=>{Yt.done?ut.complete():ut.next(Yt.value)})},0,!0)})})}var Ne=B(8382),Ye=B(4026),ze=B(4266),lt=B(3664),mt=B(5726),ht=B(9853),jt=B(541);function $e(Ee,rt){return rt?function ue(Ee,rt){if(null!=Ee){if((0,Ne.c)(Ee))return function ve(Ee,rt){return(0,l.Xf)(Ee).pipe((0,se.R)(rt),(0,j.Q)(rt))}(Ee,rt);if((0,ze.z)(Ee))return function Pe(Ee,rt){return new fe.y(ut=>{let Oe=0;return rt.schedule(function(){Oe===Ee.length?ut.complete():(ut.next(Ee[Oe++]),ut.closed||this.schedule())})})}(Ee,rt);if((0,Ye.t)(Ee))return function De(Ee,rt){return(0,l.Xf)(Ee).pipe((0,se.R)(rt),(0,j.Q)(rt))}(Ee,rt);if((0,mt.D)(Ee))return Ae(Ee,rt);if((0,lt.T)(Ee))return function ye(Ee,rt){return new fe.y(ut=>{let Oe;return(0,ce.f)(ut,rt,()=>{Oe=Ee[We.h](),(0,ce.f)(ut,rt,()=>{let Yt,Xt;try{({value:Yt,done:Xt}=Oe.next())}catch(In){return void ut.error(In)}Xt?ut.complete():ut.next(Yt)},0,!0)}),()=>(0,Be.m)(Oe?.return)&&Oe.return()})}(Ee,rt);if((0,jt.L)(Ee))return function bt(Ee,rt){return Ae((0,jt.Q)(Ee),rt)}(Ee,rt)}throw(0,ht.z)(Ee)}(Ee,rt):(0,l.Xf)(Ee)}},4829:($t,qe,B)=>{B.d(qe,{Xf:()=>Ne});var l=B(7582),j=B(4266),se=B(4026),ve=B(5592),De=B(8382),fe=B(5726),Pe=B(9853),We=B(3664),Be=B(541),ce=B(4674),ye=B(3894),Ae=B(4850);function Ne(ue){if(ue instanceof ve.y)return ue;if(null!=ue){if((0,De.c)(ue))return function Ye(ue){return new ve.y($e=>{const Ee=ue[Ae.L]();if((0,ce.m)(Ee.subscribe))return Ee.subscribe($e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ue);if((0,j.z)(ue))return function ze(ue){return new ve.y($e=>{for(let Ee=0;Ee<ue.length&&!$e.closed;Ee++)$e.next(ue[Ee]);$e.complete()})}(ue);if((0,se.t)(ue))return function lt(ue){return new ve.y($e=>{ue.then(Ee=>{$e.closed||($e.next(Ee),$e.complete())},Ee=>$e.error(Ee)).then(null,ye.h)})}(ue);if((0,fe.D)(ue))return ht(ue);if((0,We.T)(ue))return function mt(ue){return new ve.y($e=>{for(const Ee of ue)if($e.next(Ee),$e.closed)return;$e.complete()})}(ue);if((0,Be.L)(ue))return function jt(ue){return ht((0,Be.Q)(ue))}(ue)}throw(0,Pe.z)(ue)}function ht(ue){return new ve.y($e=>{(function bt(ue,$e){var Ee,rt,ut,Oe;return(0,l.mG)(this,void 0,void 0,function*(){try{for(Ee=(0,l.KL)(ue);!(rt=yield Ee.next()).done;)if($e.next(rt.value),$e.closed)return}catch(Yt){ut={error:Yt}}finally{try{rt&&!rt.done&&(Oe=Ee.return)&&(yield Oe.call(Ee))}finally{if(ut)throw ut.error}}$e.complete()})})(ue,$e).catch(Ee=>$e.error(Ee))})}},3019:($t,qe,B)=>{B.d(qe,{T:()=>fe});var l=B(7537),j=B(4829),se=B(6232),ve=B(9940),De=B(2459);function fe(...Pe){const We=(0,ve.yG)(Pe),Be=(0,ve._6)(Pe,1/0),ce=Pe;return ce.length?1===ce.length?(0,j.Xf)(ce[0]):(0,l.J)(Be)((0,De.D)(ce,We)):se.E}},2096:($t,qe,B)=>{B.d(qe,{of:()=>se});var l=B(9940),j=B(2459);function se(...ve){const De=(0,l.yG)(ve);return(0,j.D)(ve,De)}},8251:($t,qe,B)=>{B.d(qe,{x:()=>j});var l=B(305);function j(ve,De,fe,Pe,We){return new se(ve,De,fe,Pe,We)}class se extends l.Lv{constructor(De,fe,Pe,We,Be,ce){super(De),this.onFinalize=Be,this.shouldUnsubscribe=ce,this._next=fe?function(ye){try{fe(ye)}catch(Ae){De.error(Ae)}}:super._next,this._error=We?function(ye){try{We(ye)}catch(Ae){De.error(Ae)}finally{this.unsubscribe()}}:super._error,this._complete=Pe?function(){try{Pe()}catch(ye){De.error(ye)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var De;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:fe}=this;super.unsubscribe(),!fe&&(null===(De=this.onFinalize)||void 0===De||De.call(this))}}}},3572:($t,qe,B)=>{B.d(qe,{d:()=>se});var l=B(9360),j=B(8251);function se(ve){return(0,l.e)((De,fe)=>{let Pe=!1;De.subscribe((0,j.x)(fe,We=>{Pe=!0,fe.next(We)},()=>{Pe||fe.next(ve),fe.complete()}))})}},3997:($t,qe,B)=>{B.d(qe,{x:()=>ve});var l=B(2737),j=B(9360),se=B(8251);function ve(fe,Pe=l.y){return fe=fe??De,(0,j.e)((We,Be)=>{let ce,ye=!0;We.subscribe((0,se.x)(Be,Ae=>{const Ne=Pe(Ae);(ye||!fe(ce,Ne))&&(ye=!1,ce=Ne,Be.next(Ae))}))})}function De(fe,Pe){return fe===Pe}},2181:($t,qe,B)=>{B.d(qe,{h:()=>se});var l=B(9360),j=B(8251);function se(ve,De){return(0,l.e)((fe,Pe)=>{let We=0;fe.subscribe((0,j.x)(Pe,Be=>ve.call(De,Be,We++)&&Pe.next(Be)))})}},1374:($t,qe,B)=>{B.d(qe,{P:()=>Pe});var l=B(6973),j=B(2181),se=B(8180),ve=B(3572),De=B(3026),fe=B(2737);function Pe(We,Be){const ce=arguments.length>=2;return ye=>ye.pipe(We?(0,j.h)((Ae,Ne)=>We(Ae,Ne,ye)):fe.y,(0,se.q)(1),ce?(0,ve.d)(Be):(0,De.T)(()=>new l.K))}},7398:($t,qe,B)=>{B.d(qe,{U:()=>se});var l=B(9360),j=B(8251);function se(ve,De){return(0,l.e)((fe,Pe)=>{let We=0;fe.subscribe((0,j.x)(Pe,Be=>{Pe.next(ve.call(De,Be,We++))}))})}},975:($t,qe,B)=>{B.d(qe,{h:()=>j});var l=B(7398);function j(se){return(0,l.U)(()=>se)}},7537:($t,qe,B)=>{B.d(qe,{J:()=>se});var l=B(1631),j=B(2737);function se(ve=1/0){return(0,l.z)(j.y,ve)}},1631:($t,qe,B)=>{B.d(qe,{z:()=>We});var l=B(7398),j=B(4829),se=B(9360),ve=B(7103),De=B(8251),Pe=B(4674);function We(Be,ce,ye=1/0){return(0,Pe.m)(ce)?We((Ae,Ne)=>(0,l.U)((Ye,ze)=>ce(Ae,Ye,Ne,ze))((0,j.Xf)(Be(Ae,Ne))),ye):("number"==typeof ce&&(ye=ce),(0,se.e)((Ae,Ne)=>function fe(Be,ce,ye,Ae,Ne,Ye,ze,lt){const mt=[];let ht=0,jt=0,bt=!1;const ue=()=>{bt&&!mt.length&&!ht&&ce.complete()},$e=rt=>ht<Ae?Ee(rt):mt.push(rt),Ee=rt=>{Ye&&ce.next(rt),ht++;let ut=!1;(0,j.Xf)(ye(rt,jt++)).subscribe((0,De.x)(ce,Oe=>{Ne?.(Oe),Ye?$e(Oe):ce.next(Oe)},()=>{ut=!0},void 0,()=>{if(ut)try{for(ht--;mt.length&&ht<Ae;){const Oe=mt.shift();ze?(0,ve.f)(ce,ze,()=>Ee(Oe)):Ee(Oe)}ue()}catch(Oe){ce.error(Oe)}}))};return Be.subscribe((0,De.x)(ce,$e,()=>{bt=!0,ue()})),()=>{lt?.()}}(Ae,Ne,Be,ye)))}},3093:($t,qe,B)=>{B.d(qe,{Q:()=>ve});var l=B(7103),j=B(9360),se=B(8251);function ve(De,fe=0){return(0,j.e)((Pe,We)=>{Pe.subscribe((0,se.x)(We,Be=>(0,l.f)(We,De,()=>We.next(Be),fe),()=>(0,l.f)(We,De,()=>We.complete(),fe),Be=>(0,l.f)(We,De,()=>We.error(Be),fe)))})}},3020:($t,qe,B)=>{B.d(qe,{B:()=>De});var l=B(4829),j=B(8645),se=B(305),ve=B(9360);function De(Pe={}){const{connector:We=(()=>new j.x),resetOnError:Be=!0,resetOnComplete:ce=!0,resetOnRefCountZero:ye=!0}=Pe;return Ae=>{let Ne,Ye,ze,lt=0,mt=!1,ht=!1;const jt=()=>{Ye?.unsubscribe(),Ye=void 0},bt=()=>{jt(),Ne=ze=void 0,mt=ht=!1},ue=()=>{const $e=Ne;bt(),$e?.unsubscribe()};return(0,ve.e)(($e,Ee)=>{lt++,!ht&&!mt&&jt();const rt=ze=ze??We();Ee.add(()=>{lt--,0===lt&&!ht&&!mt&&(Ye=fe(ue,ye))}),rt.subscribe(Ee),!Ne&&lt>0&&(Ne=new se.Hp({next:ut=>rt.next(ut),error:ut=>{ht=!0,jt(),Ye=fe(bt,Be,ut),rt.error(ut)},complete:()=>{mt=!0,jt(),Ye=fe(bt,ce),rt.complete()}}),(0,l.Xf)($e).subscribe(Ne))})(Ae)}}function fe(Pe,We,...Be){if(!0===We)return void Pe();if(!1===We)return;const ce=new se.Hp({next:()=>{ce.unsubscribe(),Pe()}});return(0,l.Xf)(We(...Be)).subscribe(ce)}},7921:($t,qe,B)=>{B.d(qe,{O:()=>ve});var l=B(5211),j=B(9940),se=B(9360);function ve(...De){const fe=(0,j.yG)(De);return(0,se.e)((Pe,We)=>{(fe?(0,l.z)(De,Pe,fe):(0,l.z)(De,Pe)).subscribe(We)})}},5137:($t,qe,B)=>{B.d(qe,{R:()=>j});var l=B(9360);function j(se,ve=0){return(0,l.e)((De,fe)=>{fe.add(se.schedule(()=>De.subscribe(fe),ve))})}},4664:($t,qe,B)=>{B.d(qe,{w:()=>ve});var l=B(4829),j=B(9360),se=B(8251);function ve(De,fe){return(0,j.e)((Pe,We)=>{let Be=null,ce=0,ye=!1;const Ae=()=>ye&&!Be&&We.complete();Pe.subscribe((0,se.x)(We,Ne=>{Be?.unsubscribe();let Ye=0;const ze=ce++;(0,l.Xf)(De(Ne,ze)).subscribe(Be=(0,se.x)(We,lt=>We.next(fe?fe(Ne,lt,ze,Ye++):lt),()=>{Be=null,Ae()}))},()=>{ye=!0,Ae()}))})}},8180:($t,qe,B)=>{B.d(qe,{q:()=>ve});var l=B(6232),j=B(9360),se=B(8251);function ve(De){return De<=0?()=>l.E:(0,j.e)((fe,Pe)=>{let We=0;fe.subscribe((0,se.x)(Pe,Be=>{++We<=De&&(Pe.next(Be),De<=We&&Pe.complete())}))})}},9773:($t,qe,B)=>{B.d(qe,{R:()=>De});var l=B(9360),j=B(8251),se=B(4829),ve=B(2420);function De(fe){return(0,l.e)((Pe,We)=>{(0,se.Xf)(fe).subscribe((0,j.x)(We,()=>We.complete(),ve.Z)),!We.closed&&Pe.subscribe(We)})}},9397:($t,qe,B)=>{B.d(qe,{b:()=>De});var l=B(4674),j=B(9360),se=B(8251),ve=B(2737);function De(fe,Pe,We){const Be=(0,l.m)(fe)||Pe||We?{next:fe,error:Pe,complete:We}:fe;return Be?(0,j.e)((ce,ye)=>{var Ae;null===(Ae=Be.subscribe)||void 0===Ae||Ae.call(Be);let Ne=!0;ce.subscribe((0,se.x)(ye,Ye=>{var ze;null===(ze=Be.next)||void 0===ze||ze.call(Be,Ye),ye.next(Ye)},()=>{var Ye;Ne=!1,null===(Ye=Be.complete)||void 0===Ye||Ye.call(Be),ye.complete()},Ye=>{var ze;Ne=!1,null===(ze=Be.error)||void 0===ze||ze.call(Be,Ye),ye.error(Ye)},()=>{var Ye,ze;Ne&&(null===(Ye=Be.unsubscribe)||void 0===Ye||Ye.call(Be)),null===(ze=Be.finalize)||void 0===ze||ze.call(Be)}))}):ve.y}},3026:($t,qe,B)=>{B.d(qe,{T:()=>ve});var l=B(6973),j=B(9360),se=B(8251);function ve(fe=De){return(0,j.e)((Pe,We)=>{let Be=!1;Pe.subscribe((0,se.x)(We,ce=>{Be=!0,We.next(ce)},()=>Be?We.complete():We.error(fe())))})}function De(){return new l.K}},1954:($t,qe,B)=>{B.d(qe,{o:()=>De});var l=B(7394);class j extends l.w0{constructor(Pe,We){super()}schedule(Pe,We=0){return this}}const se={setInterval(fe,Pe,...We){const{delegate:Be}=se;return Be?.setInterval?Be.setInterval(fe,Pe,...We):setInterval(fe,Pe,...We)},clearInterval(fe){const{delegate:Pe}=se;return(Pe?.clearInterval||clearInterval)(fe)},delegate:void 0};var ve=B(9039);class De extends j{constructor(Pe,We){super(Pe,We),this.scheduler=Pe,this.work=We,this.pending=!1}schedule(Pe,We=0){var Be;if(this.closed)return this;this.state=Pe;const ce=this.id,ye=this.scheduler;return null!=ce&&(this.id=this.recycleAsyncId(ye,ce,We)),this.pending=!0,this.delay=We,this.id=null!==(Be=this.id)&&void 0!==Be?Be:this.requestAsyncId(ye,this.id,We),this}requestAsyncId(Pe,We,Be=0){return se.setInterval(Pe.flush.bind(Pe,this),Be)}recycleAsyncId(Pe,We,Be=0){if(null!=Be&&this.delay===Be&&!1===this.pending)return We;null!=We&&se.clearInterval(We)}execute(Pe,We){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Be=this._execute(Pe,We);if(Be)return Be;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Pe,We){let ce,Be=!1;try{this.work(Pe)}catch(ye){Be=!0,ce=ye||new Error("Scheduled action threw falsy error")}if(Be)return this.unsubscribe(),ce}unsubscribe(){if(!this.closed){const{id:Pe,scheduler:We}=this,{actions:Be}=We;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ve.P)(Be,this),null!=Pe&&(this.id=this.recycleAsyncId(We,Pe,null)),this.delay=null,super.unsubscribe()}}}},2631:($t,qe,B)=>{B.d(qe,{v:()=>se});var l=B(4552);class j{constructor(De,fe=j.now){this.schedulerActionCtor=De,this.now=fe}schedule(De,fe=0,Pe){return new this.schedulerActionCtor(this,De).schedule(Pe,fe)}}j.now=l.l.now;class se extends j{constructor(De,fe=j.now){super(De,fe),this.actions=[],this._active=!1}flush(De){const{actions:fe}=this;if(this._active)return void fe.push(De);let Pe;this._active=!0;do{if(Pe=De.execute(De.state,De.delay))break}while(De=fe.shift());if(this._active=!1,Pe){for(;De=fe.shift();)De.unsubscribe();throw Pe}}}},6321:($t,qe,B)=>{B.d(qe,{P:()=>ve,z:()=>se});var l=B(1954);const se=new(B(2631).v)(l.o),ve=se},4552:($t,qe,B)=>{B.d(qe,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},7599:($t,qe,B)=>{B.d(qe,{z:()=>l});const l={setTimeout(j,se,...ve){const{delegate:De}=l;return De?.setTimeout?De.setTimeout(j,se,...ve):setTimeout(j,se,...ve)},clearTimeout(j){const{delegate:se}=l;return(se?.clearTimeout||clearTimeout)(j)},delegate:void 0}},4971:($t,qe,B)=>{B.d(qe,{h:()=>j});const j=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:($t,qe,B)=>{B.d(qe,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:($t,qe,B)=>{B.d(qe,{K:()=>j});const j=(0,B(2306).d)(se=>function(){se(this),this.name="EmptyError",this.message="no elements in sequence"})},9940:($t,qe,B)=>{B.d(qe,{_6:()=>fe,jO:()=>ve,yG:()=>De});var l=B(4674),j=B(671);function se(Pe){return Pe[Pe.length-1]}function ve(Pe){return(0,l.m)(se(Pe))?Pe.pop():void 0}function De(Pe){return(0,j.K)(se(Pe))?Pe.pop():void 0}function fe(Pe,We){return"number"==typeof se(Pe)?Pe.pop():We}},7453:($t,qe,B)=>{B.d(qe,{D:()=>De});const{isArray:l}=Array,{getPrototypeOf:j,prototype:se,keys:ve}=Object;function De(Pe){if(1===Pe.length){const We=Pe[0];if(l(We))return{args:We,keys:null};if(function fe(Pe){return Pe&&"object"==typeof Pe&&j(Pe)===se}(We)){const Be=ve(We);return{args:Be.map(ce=>We[ce]),keys:Be}}}return{args:Pe,keys:null}}},9039:($t,qe,B)=>{function l(j,se){if(j){const ve=j.indexOf(se);0<=ve&&j.splice(ve,1)}}B.d(qe,{P:()=>l})},2306:($t,qe,B)=>{function l(j){const ve=j(De=>{Error.call(De),De.stack=(new Error).stack});return ve.prototype=Object.create(Error.prototype),ve.prototype.constructor=ve,ve}B.d(qe,{d:()=>l})},2714:($t,qe,B)=>{function l(j,se){return j.reduce((ve,De,fe)=>(ve[De]=se[fe],ve),{})}B.d(qe,{n:()=>l})},1441:($t,qe,B)=>{B.d(qe,{O:()=>ve,x:()=>se});var l=B(2653);let j=null;function se(De){if(l.config.useDeprecatedSynchronousErrorHandling){const fe=!j;if(fe&&(j={errorThrown:!1,error:null}),De(),fe){const{errorThrown:Pe,error:We}=j;if(j=null,Pe)throw We}}else De()}function ve(De){l.config.useDeprecatedSynchronousErrorHandling&&j&&(j.errorThrown=!0,j.error=De)}},7103:($t,qe,B)=>{function l(j,se,ve,De=0,fe=!1){const Pe=se.schedule(function(){ve(),fe?j.add(this.schedule(null,De)):this.unsubscribe()},De);if(j.add(Pe),!fe)return Pe}B.d(qe,{f:()=>l})},2737:($t,qe,B)=>{function l(j){return j}B.d(qe,{y:()=>l})},4266:($t,qe,B)=>{B.d(qe,{z:()=>l});const l=j=>j&&"number"==typeof j.length&&"function"!=typeof j},5726:($t,qe,B)=>{B.d(qe,{D:()=>j});var l=B(4674);function j(se){return Symbol.asyncIterator&&(0,l.m)(se?.[Symbol.asyncIterator])}},4674:($t,qe,B)=>{function l(j){return"function"==typeof j}B.d(qe,{m:()=>l})},8382:($t,qe,B)=>{B.d(qe,{c:()=>se});var l=B(4850),j=B(4674);function se(ve){return(0,j.m)(ve[l.L])}},3664:($t,qe,B)=>{B.d(qe,{T:()=>se});var l=B(4971),j=B(4674);function se(ve){return(0,j.m)(ve?.[l.h])}},4026:($t,qe,B)=>{B.d(qe,{t:()=>j});var l=B(4674);function j(se){return(0,l.m)(se?.then)}},541:($t,qe,B)=>{B.d(qe,{L:()=>ve,Q:()=>se});var l=B(7582),j=B(4674);function se(De){return(0,l.FC)(this,arguments,function*(){const Pe=De.getReader();try{for(;;){const{value:We,done:Be}=yield(0,l.qq)(Pe.read());if(Be)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(We)}}finally{Pe.releaseLock()}})}function ve(De){return(0,j.m)(De?.getReader)}},671:($t,qe,B)=>{B.d(qe,{K:()=>j});var l=B(4674);function j(se){return se&&(0,l.m)(se.schedule)}},9360:($t,qe,B)=>{B.d(qe,{A:()=>j,e:()=>se});var l=B(4674);function j(ve){return(0,l.m)(ve?.lift)}function se(ve){return De=>{if(j(De))return De.lift(function(fe){try{return ve(fe,this)}catch(Pe){this.error(Pe)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:($t,qe,B)=>{B.d(qe,{Z:()=>ve});var l=B(7398);const{isArray:j}=Array;function ve(De){return(0,l.U)(fe=>function se(De,fe){return j(fe)?De(...fe):De(fe)}(De,fe))}},2420:($t,qe,B)=>{function l(){}B.d(qe,{Z:()=>l})},8407:($t,qe,B)=>{B.d(qe,{U:()=>se,z:()=>j});var l=B(2737);function j(...ve){return se(ve)}function se(ve){return 0===ve.length?l.y:1===ve.length?ve[0]:function(fe){return ve.reduce((Pe,We)=>We(Pe),fe)}}},3894:($t,qe,B)=>{B.d(qe,{h:()=>se});var l=B(2653),j=B(7599);function se(ve){j.z.setTimeout(()=>{const{onUnhandledError:De}=l.config;if(!De)throw ve;De(ve)})}},9853:($t,qe,B)=>{function l(j){return new TypeError(`You provided ${null!==j&&"object"==typeof j?"an invalid object":`'${j}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}B.d(qe,{z:()=>l})},6825:($t,qe,B)=>{B.d(qe,{LC:()=>j,X$:()=>ve,ZE:()=>ht,ZN:()=>mt,_j:()=>l,eR:()=>ye,jt:()=>De,k1:()=>jt,l3:()=>se,oB:()=>We,vP:()=>Pe});class l{}class j{}const se="*";function ve(bt,ue){return{type:7,name:bt,definitions:ue,options:{}}}function De(bt,ue=null){return{type:4,styles:ue,timings:bt}}function Pe(bt,ue=null){return{type:2,steps:bt,options:ue}}function We(bt){return{type:6,styles:bt,offset:null}}function ye(bt,ue,$e=null){return{type:1,expr:bt,animation:ue,options:$e}}class mt{constructor(ue=0,$e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=ue+$e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ue=>ue()),this._onDoneFns=[])}onStart(ue){this._originalOnStartFns.push(ue),this._onStartFns.push(ue)}onDone(ue){this._originalOnDoneFns.push(ue),this._onDoneFns.push(ue)}onDestroy(ue){this._onDestroyFns.push(ue)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(ue=>ue()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(ue=>ue()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(ue){this._position=this.totalTime?ue*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(ue){const $e="start"==ue?this._onStartFns:this._onDoneFns;$e.forEach(Ee=>Ee()),$e.length=0}}class ht{constructor(ue){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=ue;let $e=0,Ee=0,rt=0;const ut=this.players.length;0==ut?queueMicrotask(()=>this._onFinish()):this.players.forEach(Oe=>{Oe.onDone(()=>{++$e==ut&&this._onFinish()}),Oe.onDestroy(()=>{++Ee==ut&&this._onDestroy()}),Oe.onStart(()=>{++rt==ut&&this._onStart()})}),this.totalTime=this.players.reduce((Oe,Yt)=>Math.max(Oe,Yt.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ue=>ue()),this._onDoneFns=[])}init(){this.players.forEach(ue=>ue.init())}onStart(ue){this._onStartFns.push(ue)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(ue=>ue()),this._onStartFns=[])}onDone(ue){this._onDoneFns.push(ue)}onDestroy(ue){this._onDestroyFns.push(ue)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(ue=>ue.play())}pause(){this.players.forEach(ue=>ue.pause())}restart(){this.players.forEach(ue=>ue.restart())}finish(){this._onFinish(),this.players.forEach(ue=>ue.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(ue=>ue.destroy()),this._onDestroyFns.forEach(ue=>ue()),this._onDestroyFns=[])}reset(){this.players.forEach(ue=>ue.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(ue){const $e=ue*this.totalTime;this.players.forEach(Ee=>{const rt=Ee.totalTime?Math.min(1,$e/Ee.totalTime):1;Ee.setPosition(rt)})}getPosition(){const ue=this.players.reduce(($e,Ee)=>null===$e||Ee.totalTime>$e.totalTime?Ee:$e,null);return null!=ue?ue.getPosition():0}beforeDestroy(){this.players.forEach(ue=>{ue.beforeDestroy&&ue.beforeDestroy()})}triggerCallback(ue){const $e="start"==ue?this._onStartFns:this._onDoneFns;$e.forEach(Ee=>Ee()),$e.length=0}}const jt="!"},6814:($t,qe,B)=>{B.d(qe,{Do:()=>lt,EM:()=>ms,HT:()=>ve,JF:()=>bo,K0:()=>fe,Mn:()=>Vr,Mx:()=>vi,O5:()=>Zs,PM:()=>Ai,S$:()=>Ne,Tn:()=>Oe,UT:()=>At,V_:()=>We,Ye:()=>mt,ax:()=>gr,b0:()=>ze,bD:()=>Wr,ez:()=>os,mk:()=>wi,p6:()=>sr,q:()=>se,rS:()=>Zi,sg:()=>gr,tP:()=>Uo,w_:()=>De,x:()=>ut});var l=B(5879);let j=null;function se(){return j}function ve(A){j||(j=A)}class De{}const fe=new l.OlP("DocumentToken");let Pe=(()=>{class A{historyGo(k){throw new Error("Not implemented")}static#e=this.\u0275fac=function(q){return new(q||A)};static#t=this.\u0275prov=l.Yz7({token:A,factory:function(){return(0,l.f3M)(Be)},providedIn:"platform"})}return A})();const We=new l.OlP("Location Initialized");let Be=(()=>{class A extends Pe{constructor(){super(),this._doc=(0,l.f3M)(fe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return se().getBaseHref(this._doc)}onPopState(k){const q=se().getGlobalEventTarget(this._doc,"window");return q.addEventListener("popstate",k,!1),()=>q.removeEventListener("popstate",k)}onHashChange(k){const q=se().getGlobalEventTarget(this._doc,"window");return q.addEventListener("hashchange",k,!1),()=>q.removeEventListener("hashchange",k)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(k){this._location.pathname=k}pushState(k,q,pe){this._history.pushState(k,q,pe)}replaceState(k,q,pe){this._history.replaceState(k,q,pe)}forward(){this._history.forward()}back(){this._history.back()}historyGo(k=0){this._history.go(k)}getState(){return this._history.state}static#e=this.\u0275fac=function(q){return new(q||A)};static#t=this.\u0275prov=l.Yz7({token:A,factory:function(){return new A},providedIn:"platform"})}return A})();function ce(A,Y){if(0==A.length)return Y;if(0==Y.length)return A;let k=0;return A.endsWith("/")&&k++,Y.startsWith("/")&&k++,2==k?A+Y.substring(1):1==k?A+Y:A+"/"+Y}function ye(A){const Y=A.match(/#|\?|$/),k=Y&&Y.index||A.length;return A.slice(0,k-("/"===A[k-1]?1:0))+A.slice(k)}function Ae(A){return A&&"?"!==A[0]?"?"+A:A}let Ne=(()=>{class A{historyGo(k){throw new Error("Not implemented")}static#e=this.\u0275fac=function(q){return new(q||A)};static#t=this.\u0275prov=l.Yz7({token:A,factory:function(){return(0,l.f3M)(ze)},providedIn:"root"})}return A})();const Ye=new l.OlP("appBaseHref");let ze=(()=>{class A extends Ne{constructor(k,q){super(),this._platformLocation=k,this._removeListenerFns=[],this._baseHref=q??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(fe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(k){this._removeListenerFns.push(this._platformLocation.onPopState(k),this._platformLocation.onHashChange(k))}getBaseHref(){return this._baseHref}prepareExternalUrl(k){return ce(this._baseHref,k)}path(k=!1){const q=this._platformLocation.pathname+Ae(this._platformLocation.search),pe=this._platformLocation.hash;return pe&&k?`${q}${pe}`:q}pushState(k,q,pe,Ze){const _t=this.prepareExternalUrl(pe+Ae(Ze));this._platformLocation.pushState(k,q,_t)}replaceState(k,q,pe,Ze){const _t=this.prepareExternalUrl(pe+Ae(Ze));this._platformLocation.replaceState(k,q,_t)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(k=0){this._platformLocation.historyGo?.(k)}static#e=this.\u0275fac=function(q){return new(q||A)(l.LFG(Pe),l.LFG(Ye,8))};static#t=this.\u0275prov=l.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"})}return A})(),lt=(()=>{class A extends Ne{constructor(k,q){super(),this._platformLocation=k,this._baseHref="",this._removeListenerFns=[],null!=q&&(this._baseHref=q)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(k){this._removeListenerFns.push(this._platformLocation.onPopState(k),this._platformLocation.onHashChange(k))}getBaseHref(){return this._baseHref}path(k=!1){let q=this._platformLocation.hash;return null==q&&(q="#"),q.length>0?q.substring(1):q}prepareExternalUrl(k){const q=ce(this._baseHref,k);return q.length>0?"#"+q:q}pushState(k,q,pe,Ze){let _t=this.prepareExternalUrl(pe+Ae(Ze));0==_t.length&&(_t=this._platformLocation.pathname),this._platformLocation.pushState(k,q,_t)}replaceState(k,q,pe,Ze){let _t=this.prepareExternalUrl(pe+Ae(Ze));0==_t.length&&(_t=this._platformLocation.pathname),this._platformLocation.replaceState(k,q,_t)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(k=0){this._platformLocation.historyGo?.(k)}static#e=this.\u0275fac=function(q){return new(q||A)(l.LFG(Pe),l.LFG(Ye,8))};static#t=this.\u0275prov=l.Yz7({token:A,factory:A.\u0275fac})}return A})(),mt=(()=>{class A{constructor(k){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=k;const q=this._locationStrategy.getBaseHref();this._basePath=function ue(A){if(new RegExp("^(https?:)?//").test(A)){const[,k]=A.split(/\/\/[^\/]+/);return k}return A}(ye(bt(q))),this._locationStrategy.onPopState(pe=>{this._subject.emit({url:this.path(!0),pop:!0,state:pe.state,type:pe.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(k=!1){return this.normalize(this._locationStrategy.path(k))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(k,q=""){return this.path()==this.normalize(k+Ae(q))}normalize(k){return A.stripTrailingSlash(function jt(A,Y){if(!A||!Y.startsWith(A))return Y;const k=Y.substring(A.length);return""===k||["/",";","?","#"].includes(k[0])?k:Y}(this._basePath,bt(k)))}prepareExternalUrl(k){return k&&"/"!==k[0]&&(k="/"+k),this._locationStrategy.prepareExternalUrl(k)}go(k,q="",pe=null){this._locationStrategy.pushState(pe,"",k,q),this._notifyUrlChangeListeners(this.prepareExternalUrl(k+Ae(q)),pe)}replaceState(k,q="",pe=null){this._locationStrategy.replaceState(pe,"",k,q),this._notifyUrlChangeListeners(this.prepareExternalUrl(k+Ae(q)),pe)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(k=0){this._locationStrategy.historyGo?.(k)}onUrlChange(k){return this._urlChangeListeners.push(k),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(q=>{this._notifyUrlChangeListeners(q.url,q.state)})),()=>{const q=this._urlChangeListeners.indexOf(k);this._urlChangeListeners.splice(q,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(k="",q){this._urlChangeListeners.forEach(pe=>pe(k,q))}subscribe(k,q,pe){return this._subject.subscribe({next:k,error:q,complete:pe})}static#e=this.normalizeQueryParams=Ae;static#t=this.joinWithSlash=ce;static#n=this.stripTrailingSlash=ye;static#r=this.\u0275fac=function(q){return new(q||A)(l.LFG(Ne))};static#i=this.\u0275prov=l.Yz7({token:A,factory:function(){return function ht(){return new mt((0,l.LFG)(Ne))}()},providedIn:"root"})}return A})();function bt(A){return A.replace(/\/index.html$/,"")}var ut=function(A){return A[A.Format=0]="Format",A[A.Standalone=1]="Standalone",A}(ut||{}),Oe=function(A){return A[A.Narrow=0]="Narrow",A[A.Abbreviated=1]="Abbreviated",A[A.Wide=2]="Wide",A[A.Short=3]="Short",A}(Oe||{}),Yt=function(A){return A[A.Short=0]="Short",A[A.Medium=1]="Medium",A[A.Long=2]="Long",A[A.Full=3]="Full",A}(Yt||{}),Xt=function(A){return A[A.Decimal=0]="Decimal",A[A.Group=1]="Group",A[A.List=2]="List",A[A.PercentSign=3]="PercentSign",A[A.PlusSign=4]="PlusSign",A[A.MinusSign=5]="MinusSign",A[A.Exponential=6]="Exponential",A[A.SuperscriptingExponent=7]="SuperscriptingExponent",A[A.PerMille=8]="PerMille",A[A.Infinity=9]="Infinity",A[A.NaN=10]="NaN",A[A.TimeSeparator=11]="TimeSeparator",A[A.CurrencyDecimal=12]="CurrencyDecimal",A[A.CurrencyGroup=13]="CurrencyGroup",A}(Xt||{});function Vr(A,Y,k){const q=(0,l.cg1)(A),Ze=Re([q[l.wAp.DaysFormat],q[l.wAp.DaysStandalone]],Y);return Re(Ze,k)}function At(A,Y,k){const q=(0,l.cg1)(A),Ze=Re([q[l.wAp.MonthsFormat],q[l.wAp.MonthsStandalone]],Y);return Re(Ze,k)}function ke(A,Y){return Re((0,l.cg1)(A)[l.wAp.DateFormat],Y)}function Ke(A,Y){return Re((0,l.cg1)(A)[l.wAp.TimeFormat],Y)}function Ce(A,Y){return Re((0,l.cg1)(A)[l.wAp.DateTimeFormat],Y)}function He(A,Y){const k=(0,l.cg1)(A),q=k[l.wAp.NumberSymbols][Y];if(typeof q>"u"){if(Y===Xt.CurrencyDecimal)return k[l.wAp.NumberSymbols][Xt.Decimal];if(Y===Xt.CurrencyGroup)return k[l.wAp.NumberSymbols][Xt.Group]}return q}function yn(A){if(!A[l.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${A[l.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Re(A,Y){for(let k=Y;k>-1;k--)if(typeof A[k]<"u")return A[k];throw new Error("Locale data API: locale data undefined")}function Me(A){const[Y,k]=A.split(":");return{hours:+Y,minutes:+k}}const Tt=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Tn={},Dn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Lt=function(A){return A[A.Short=0]="Short",A[A.ShortGMT=1]="ShortGMT",A[A.Long=2]="Long",A[A.Extended=3]="Extended",A}(Lt||{}),gn=function(A){return A[A.FullYear=0]="FullYear",A[A.Month=1]="Month",A[A.Date=2]="Date",A[A.Hours=3]="Hours",A[A.Minutes=4]="Minutes",A[A.Seconds=5]="Seconds",A[A.FractionalSeconds=6]="FractionalSeconds",A[A.Day=7]="Day",A}(gn||{}),wn=function(A){return A[A.DayPeriods=0]="DayPeriods",A[A.Days=1]="Days",A[A.Months=2]="Months",A[A.Eras=3]="Eras",A}(wn||{});function sr(A,Y,k,q){let pe=function re(A){if($(A))return A;if("number"==typeof A&&!isNaN(A))return new Date(A);if("string"==typeof A){if(A=A.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(A)){const[pe,Ze=1,_t=1]=A.split("-").map(Bt=>+Bt);return Un(pe,Ze-1,_t)}const k=parseFloat(A);if(!isNaN(A-k))return new Date(k);let q;if(q=A.match(Tt))return function z(A){const Y=new Date(0);let k=0,q=0;const pe=A[8]?Y.setUTCFullYear:Y.setFullYear,Ze=A[8]?Y.setUTCHours:Y.setHours;A[9]&&(k=Number(A[9]+A[10]),q=Number(A[9]+A[11])),pe.call(Y,Number(A[1]),Number(A[2])-1,Number(A[3]));const _t=Number(A[4]||0)-k,Bt=Number(A[5]||0)-q,Dr=Number(A[6]||0),hr=Math.floor(1e3*parseFloat("0."+(A[7]||0)));return Ze.call(Y,_t,Bt,Dr,hr),Y}(q)}const Y=new Date(A);if(!$(Y))throw new Error(`Unable to convert "${A}" into a date`);return Y}(A);Y=Hr(k,Y)||Y;let Bt,_t=[];for(;Y;){if(Bt=Dn.exec(Y),!Bt){_t.push(Y);break}{_t=_t.concat(Bt.slice(1));const Kn=_t.pop();if(!Kn)break;Y=Kn}}let Dr=pe.getTimezoneOffset();q&&(Dr=Ki(q,Dr),pe=function Ie(A,Y,k){const q=k?-1:1,pe=A.getTimezoneOffset();return function rs(A,Y){return(A=new Date(A.getTime())).setMinutes(A.getMinutes()+Y),A}(A,q*(Ki(Y,pe)-pe))}(pe,q,!0));let hr="";return _t.forEach(Kn=>{const Fn=function nr(A){if(jn[A])return jn[A];let Y;switch(A){case"G":case"GG":case"GGG":Y=En(wn.Eras,Oe.Abbreviated);break;case"GGGG":Y=En(wn.Eras,Oe.Wide);break;case"GGGGG":Y=En(wn.Eras,Oe.Narrow);break;case"y":Y=Wt(gn.FullYear,1,0,!1,!0);break;case"yy":Y=Wt(gn.FullYear,2,0,!0,!0);break;case"yyy":Y=Wt(gn.FullYear,3,0,!1,!0);break;case"yyyy":Y=Wt(gn.FullYear,4,0,!1,!0);break;case"Y":Y=pr(1);break;case"YY":Y=pr(2,!0);break;case"YYY":Y=pr(3);break;case"YYYY":Y=pr(4);break;case"M":case"L":Y=Wt(gn.Month,1,1);break;case"MM":case"LL":Y=Wt(gn.Month,2,1);break;case"MMM":Y=En(wn.Months,Oe.Abbreviated);break;case"MMMM":Y=En(wn.Months,Oe.Wide);break;case"MMMMM":Y=En(wn.Months,Oe.Narrow);break;case"LLL":Y=En(wn.Months,Oe.Abbreviated,ut.Standalone);break;case"LLLL":Y=En(wn.Months,Oe.Wide,ut.Standalone);break;case"LLLLL":Y=En(wn.Months,Oe.Narrow,ut.Standalone);break;case"w":Y=br(1);break;case"ww":Y=br(2);break;case"W":Y=br(1,!0);break;case"d":Y=Wt(gn.Date,1);break;case"dd":Y=Wt(gn.Date,2);break;case"c":case"cc":Y=Wt(gn.Day,1);break;case"ccc":Y=En(wn.Days,Oe.Abbreviated,ut.Standalone);break;case"cccc":Y=En(wn.Days,Oe.Wide,ut.Standalone);break;case"ccccc":Y=En(wn.Days,Oe.Narrow,ut.Standalone);break;case"cccccc":Y=En(wn.Days,Oe.Short,ut.Standalone);break;case"E":case"EE":case"EEE":Y=En(wn.Days,Oe.Abbreviated);break;case"EEEE":Y=En(wn.Days,Oe.Wide);break;case"EEEEE":Y=En(wn.Days,Oe.Narrow);break;case"EEEEEE":Y=En(wn.Days,Oe.Short);break;case"a":case"aa":case"aaa":Y=En(wn.DayPeriods,Oe.Abbreviated);break;case"aaaa":Y=En(wn.DayPeriods,Oe.Wide);break;case"aaaaa":Y=En(wn.DayPeriods,Oe.Narrow);break;case"b":case"bb":case"bbb":Y=En(wn.DayPeriods,Oe.Abbreviated,ut.Standalone,!0);break;case"bbbb":Y=En(wn.DayPeriods,Oe.Wide,ut.Standalone,!0);break;case"bbbbb":Y=En(wn.DayPeriods,Oe.Narrow,ut.Standalone,!0);break;case"B":case"BB":case"BBB":Y=En(wn.DayPeriods,Oe.Abbreviated,ut.Format,!0);break;case"BBBB":Y=En(wn.DayPeriods,Oe.Wide,ut.Format,!0);break;case"BBBBB":Y=En(wn.DayPeriods,Oe.Narrow,ut.Format,!0);break;case"h":Y=Wt(gn.Hours,1,-12);break;case"hh":Y=Wt(gn.Hours,2,-12);break;case"H":Y=Wt(gn.Hours,1);break;case"HH":Y=Wt(gn.Hours,2);break;case"m":Y=Wt(gn.Minutes,1);break;case"mm":Y=Wt(gn.Minutes,2);break;case"s":Y=Wt(gn.Seconds,1);break;case"ss":Y=Wt(gn.Seconds,2);break;case"S":Y=Wt(gn.FractionalSeconds,1);break;case"SS":Y=Wt(gn.FractionalSeconds,2);break;case"SSS":Y=Wt(gn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":Y=hi(Lt.Short);break;case"ZZZZZ":Y=hi(Lt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":Y=hi(Lt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":Y=hi(Lt.Long);break;default:return null}return jn[A]=Y,Y}(Kn);hr+=Fn?Fn(pe,k,Dr):"''"===Kn?"'":Kn.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),hr}function Un(A,Y,k){const q=new Date(0);return q.setFullYear(A,Y,k),q.setHours(0,0,0),q}function Hr(A,Y){const k=function Cn(A){return(0,l.cg1)(A)[l.wAp.LocaleId]}(A);if(Tn[k]=Tn[k]||{},Tn[k][Y])return Tn[k][Y];let q="";switch(Y){case"shortDate":q=ke(A,Yt.Short);break;case"mediumDate":q=ke(A,Yt.Medium);break;case"longDate":q=ke(A,Yt.Long);break;case"fullDate":q=ke(A,Yt.Full);break;case"shortTime":q=Ke(A,Yt.Short);break;case"mediumTime":q=Ke(A,Yt.Medium);break;case"longTime":q=Ke(A,Yt.Long);break;case"fullTime":q=Ke(A,Yt.Full);break;case"short":const pe=Hr(A,"shortTime"),Ze=Hr(A,"shortDate");q=Vt(Ce(A,Yt.Short),[pe,Ze]);break;case"medium":const _t=Hr(A,"mediumTime"),Bt=Hr(A,"mediumDate");q=Vt(Ce(A,Yt.Medium),[_t,Bt]);break;case"long":const Dr=Hr(A,"longTime"),hr=Hr(A,"longDate");q=Vt(Ce(A,Yt.Long),[Dr,hr]);break;case"full":const Kn=Hr(A,"fullTime"),Fn=Hr(A,"fullDate");q=Vt(Ce(A,Yt.Full),[Kn,Fn])}return q&&(Tn[k][Y]=q),q}function Vt(A,Y){return Y&&(A=A.replace(/\{([^}]+)}/g,function(k,q){return null!=Y&&q in Y?Y[q]:k})),A}function yr(A,Y,k="-",q,pe){let Ze="";(A<0||pe&&A<=0)&&(pe?A=1-A:(A=-A,Ze=k));let _t=String(A);for(;_t.length<Y;)_t="0"+_t;return q&&(_t=_t.slice(_t.length-Y)),Ze+_t}function Wt(A,Y,k=0,q=!1,pe=!1){return function(Ze,_t){let Bt=function Ei(A,Y){switch(A){case gn.FullYear:return Y.getFullYear();case gn.Month:return Y.getMonth();case gn.Date:return Y.getDate();case gn.Hours:return Y.getHours();case gn.Minutes:return Y.getMinutes();case gn.Seconds:return Y.getSeconds();case gn.FractionalSeconds:return Y.getMilliseconds();case gn.Day:return Y.getDay();default:throw new Error(`Unknown DateType value "${A}".`)}}(A,Ze);if((k>0||Bt>-k)&&(Bt+=k),A===gn.Hours)0===Bt&&-12===k&&(Bt=12);else if(A===gn.FractionalSeconds)return function Ar(A,Y){return yr(A,3).substring(0,Y)}(Bt,Y);const Dr=He(_t,Xt.MinusSign);return yr(Bt,Y,Dr,q,pe)}}function En(A,Y,k=ut.Format,q=!1){return function(pe,Ze){return function Rr(A,Y,k,q,pe,Ze){switch(k){case wn.Months:return At(Y,pe,q)[A.getMonth()];case wn.Days:return Vr(Y,pe,q)[A.getDay()];case wn.DayPeriods:const _t=A.getHours(),Bt=A.getMinutes();if(Ze){const hr=function bn(A){const Y=(0,l.cg1)(A);return yn(Y),(Y[l.wAp.ExtraData][2]||[]).map(q=>"string"==typeof q?Me(q):[Me(q[0]),Me(q[1])])}(Y),Kn=function zn(A,Y,k){const q=(0,l.cg1)(A);yn(q);const Ze=Re([q[l.wAp.ExtraData][0],q[l.wAp.ExtraData][1]],Y)||[];return Re(Ze,k)||[]}(Y,pe,q),Fn=hr.findIndex($r=>{if(Array.isArray($r)){const[wr,ii]=$r,Bs=_t>=wr.hours&&Bt>=wr.minutes,kr=_t<ii.hours||_t===ii.hours&&Bt<ii.minutes;if(wr.hours<ii.hours){if(Bs&&kr)return!0}else if(Bs||kr)return!0}else if($r.hours===_t&&$r.minutes===Bt)return!0;return!1});if(-1!==Fn)return Kn[Fn]}return function On(A,Y,k){const q=(0,l.cg1)(A),Ze=Re([q[l.wAp.DayPeriodsFormat],q[l.wAp.DayPeriodsStandalone]],Y);return Re(Ze,k)}(Y,pe,q)[_t<12?0:1];case wn.Eras:return function dn(A,Y){return Re((0,l.cg1)(A)[l.wAp.Eras],Y)}(Y,q)[A.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${k}`)}}(pe,Ze,A,Y,k,q)}}function hi(A){return function(Y,k,q){const pe=-1*q,Ze=He(k,Xt.MinusSign),_t=pe>0?Math.floor(pe/60):Math.ceil(pe/60);switch(A){case Lt.Short:return(pe>=0?"+":"")+yr(_t,2,Ze)+yr(Math.abs(pe%60),2,Ze);case Lt.ShortGMT:return"GMT"+(pe>=0?"+":"")+yr(_t,1,Ze);case Lt.Long:return"GMT"+(pe>=0?"+":"")+yr(_t,2,Ze)+":"+yr(Math.abs(pe%60),2,Ze);case Lt.Extended:return 0===q?"Z":(pe>=0?"+":"")+yr(_t,2,Ze)+":"+yr(Math.abs(pe%60),2,Ze);default:throw new Error(`Unknown zone width "${A}"`)}}}const yi=0,or=4;function Zr(A){return Un(A.getFullYear(),A.getMonth(),A.getDate()+(or-A.getDay()))}function br(A,Y=!1){return function(k,q){let pe;if(Y){const Ze=new Date(k.getFullYear(),k.getMonth(),1).getDay()-1,_t=k.getDate();pe=1+Math.floor((_t+Ze)/7)}else{const Ze=Zr(k),_t=function zr(A){const Y=Un(A,yi,1).getDay();return Un(A,0,1+(Y<=or?or:or+7)-Y)}(Ze.getFullYear()),Bt=Ze.getTime()-_t.getTime();pe=1+Math.round(Bt/6048e5)}return yr(pe,A,He(q,Xt.MinusSign))}}function pr(A,Y=!1){return function(k,q){return yr(Zr(k).getFullYear(),A,He(q,Xt.MinusSign),Y)}}const jn={};function Ki(A,Y){A=A.replace(/:/g,"");const k=Date.parse("Jan 01, 1970 00:00:00 "+A)/6e4;return isNaN(k)?Y:k}function $(A){return A instanceof Date&&!isNaN(A.valueOf())}function vi(A,Y){Y=encodeURIComponent(Y);for(const k of A.split(";")){const q=k.indexOf("="),[pe,Ze]=-1==q?[k,""]:[k.slice(0,q),k.slice(q+1)];if(pe.trim()===Y)return decodeURIComponent(Ze)}return null}const qi=/\s+/,ai=[];let wi=(()=>{class A{constructor(k,q,pe,Ze){this._iterableDiffers=k,this._keyValueDiffers=q,this._ngEl=pe,this._renderer=Ze,this.initialClasses=ai,this.stateMap=new Map}set klass(k){this.initialClasses=null!=k?k.trim().split(qi):ai}set ngClass(k){this.rawClass="string"==typeof k?k.trim().split(qi):k}ngDoCheck(){for(const q of this.initialClasses)this._updateState(q,!0);const k=this.rawClass;if(Array.isArray(k)||k instanceof Set)for(const q of k)this._updateState(q,!0);else if(null!=k)for(const q of Object.keys(k))this._updateState(q,!!k[q]);this._applyStateDiff()}_updateState(k,q){const pe=this.stateMap.get(k);void 0!==pe?(pe.enabled!==q&&(pe.changed=!0,pe.enabled=q),pe.touched=!0):this.stateMap.set(k,{enabled:q,changed:!0,touched:!0})}_applyStateDiff(){for(const k of this.stateMap){const q=k[0],pe=k[1];pe.changed?(this._toggleClass(q,pe.enabled),pe.changed=!1):pe.touched||(pe.enabled&&this._toggleClass(q,!1),this.stateMap.delete(q)),pe.touched=!1}}_toggleClass(k,q){(k=k.trim()).length>0&&k.split(qi).forEach(pe=>{q?this._renderer.addClass(this._ngEl.nativeElement,pe):this._renderer.removeClass(this._ngEl.nativeElement,pe)})}static#e=this.\u0275fac=function(q){return new(q||A)(l.Y36(l.ZZ4),l.Y36(l.aQg),l.Y36(l.SBq),l.Y36(l.Qsj))};static#t=this.\u0275dir=l.lG2({type:A,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return A})();class So{constructor(Y,k,q,pe){this.$implicit=Y,this.ngForOf=k,this.index=q,this.count=pe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let gr=(()=>{class A{set ngForOf(k){this._ngForOf=k,this._ngForOfDirty=!0}set ngForTrackBy(k){this._trackByFn=k}get ngForTrackBy(){return this._trackByFn}constructor(k,q,pe){this._viewContainer=k,this._template=q,this._differs=pe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(k){k&&(this._template=k)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const k=this._ngForOf;!this._differ&&k&&(this._differ=this._differs.find(k).create(this.ngForTrackBy))}if(this._differ){const k=this._differ.diff(this._ngForOf);k&&this._applyChanges(k)}}_applyChanges(k){const q=this._viewContainer;k.forEachOperation((pe,Ze,_t)=>{if(null==pe.previousIndex)q.createEmbeddedView(this._template,new So(pe.item,this._ngForOf,-1,-1),null===_t?void 0:_t);else if(null==_t)q.remove(null===Ze?void 0:Ze);else if(null!==Ze){const Bt=q.get(Ze);q.move(Bt,_t),Yi(Bt,pe)}});for(let pe=0,Ze=q.length;pe<Ze;pe++){const Bt=q.get(pe).context;Bt.index=pe,Bt.count=Ze,Bt.ngForOf=this._ngForOf}k.forEachIdentityChange(pe=>{Yi(q.get(pe.currentIndex),pe)})}static ngTemplateContextGuard(k,q){return!0}static#e=this.\u0275fac=function(q){return new(q||A)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))};static#t=this.\u0275dir=l.lG2({type:A,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return A})();function Yi(A,Y){A.context.$implicit=Y.item}let Zs=(()=>{class A{constructor(k,q){this._viewContainer=k,this._context=new Ur,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=q}set ngIf(k){this._context.$implicit=this._context.ngIf=k,this._updateView()}set ngIfThen(k){gs("ngIfThen",k),this._thenTemplateRef=k,this._thenViewRef=null,this._updateView()}set ngIfElse(k){gs("ngIfElse",k),this._elseTemplateRef=k,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(k,q){return!0}static#e=this.\u0275fac=function(q){return new(q||A)(l.Y36(l.s_b),l.Y36(l.Rgc))};static#t=this.\u0275dir=l.lG2({type:A,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return A})();class Ur{constructor(){this.$implicit=null,this.ngIf=null}}function gs(A,Y){if(Y&&!Y.createEmbeddedView)throw new Error(`${A} must be a TemplateRef, but received '${(0,l.AaK)(Y)}'.`)}let Uo=(()=>{class A{constructor(k){this._viewContainerRef=k,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(k){if(k.ngTemplateOutlet||k.ngTemplateOutletInjector){const q=this._viewContainerRef;if(this._viewRef&&q.remove(q.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:pe,ngTemplateOutletContext:Ze,ngTemplateOutletInjector:_t}=this;this._viewRef=q.createEmbeddedView(pe,Ze,_t?{injector:_t}:void 0)}else this._viewRef=null}else this._viewRef&&k.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(q){return new(q||A)(l.Y36(l.s_b))};static#t=this.\u0275dir=l.lG2({type:A,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[l.TTD]})}return A})();const is=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let Zi=(()=>{class A{transform(k){if(null==k)return null;if("string"!=typeof k)throw function Oi(A,Y){return new l.vHH(2100,!1)}();return k.replace(is,q=>q[0].toUpperCase()+q.slice(1).toLowerCase())}static#e=this.\u0275fac=function(q){return new(q||A)};static#t=this.\u0275pipe=l.Yjl({name:"titlecase",type:A,pure:!0,standalone:!0})}return A})(),os=(()=>{class A{static#e=this.\u0275fac=function(q){return new(q||A)};static#t=this.\u0275mod=l.oAB({type:A});static#n=this.\u0275inj=l.cJS({})}return A})();const Wr="browser",ji="server";function Ai(A){return A===ji}let ms=(()=>{class A{static#e=this.\u0275prov=(0,l.Yz7)({token:A,providedIn:"root",factory:()=>new as((0,l.LFG)(fe),window)})}return A})();class as{constructor(Y,k){this.document=Y,this.window=k,this.offset=()=>[0,0]}setOffset(Y){this.offset=Array.isArray(Y)?()=>Y:Y}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Y){this.supportsScrolling()&&this.window.scrollTo(Y[0],Y[1])}scrollToAnchor(Y){if(!this.supportsScrolling())return;const k=function ls(A,Y){const k=A.getElementById(Y)||A.getElementsByName(Y)[0];if(k)return k;if("function"==typeof A.createTreeWalker&&A.body&&"function"==typeof A.body.attachShadow){const q=A.createTreeWalker(A.body,NodeFilter.SHOW_ELEMENT);let pe=q.currentNode;for(;pe;){const Ze=pe.shadowRoot;if(Ze){const _t=Ze.getElementById(Y)||Ze.querySelector(`[name="${Y}"]`);if(_t)return _t}pe=q.nextNode()}}return null}(this.document,Y);k&&(this.scrollToElement(k),k.focus())}setHistoryScrollRestoration(Y){this.supportsScrolling()&&(this.window.history.scrollRestoration=Y)}scrollToElement(Y){const k=Y.getBoundingClientRect(),q=k.left+this.window.pageXOffset,pe=k.top+this.window.pageYOffset,Ze=this.offset();this.window.scrollTo(q-Ze[0],pe-Ze[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class bo{}},5879:($t,qe,B)=>{B.d(qe,{$8M:()=>Ic,$WT:()=>Os,$Z:()=>L_,AFp:()=>jd,ALo:()=>mb,AaK:()=>Ae,AsE:()=>xy,BQk:()=>Gm,CHM:()=>dc,CRH:()=>Pb,EJc:()=>Lw,EpF:()=>yy,F$t:()=>Xv,F4k:()=>np,FYo:()=>Vf,FiY:()=>Uu,Gf:()=>Nb,GfV:()=>jp,Gpc:()=>ze,HDt:()=>tT,Hsn:()=>Km,Ikx:()=>Fy,JOm:()=>uu,KtG:()=>Ma,LFG:()=>Rt,LMc:()=>ZC,LSH:()=>_r,Lbi:()=>Ph,Lck:()=>wD,MAs:()=>Wv,MGl:()=>Ym,MMx:()=>eb,NdJ:()=>Wm,Ojb:()=>v_,OlP:()=>Wt,Oqu:()=>Oy,P3R:()=>zi,PXZ:()=>hC,Q6J:()=>rh,QGY:()=>zm,QbO:()=>y_,Qsj:()=>Jg,R0b:()=>Vo,RDi:()=>m_,Rgc:()=>c_,SBq:()=>Lf,SDv:()=>qI,Sil:()=>Uw,Suo:()=>Mb,TTD:()=>Fn,TgZ:()=>fg,Tol:()=>Ry,Udp:()=>n_,VKq:()=>lb,VuI:()=>qC,W1O:()=>Fb,WLB:()=>ub,X6Q:()=>EC,XFs:()=>Lt,Xpm:()=>jo,Xq5:()=>Qd,Xts:()=>qs,Y36:()=>Zc,YKP:()=>JI,YNc:()=>$v,Yjl:()=>ss,Yz7:()=>yn,Z0I:()=>Re,ZZ4:()=>pE,_Bn:()=>QI,_UZ:()=>$m,_c5:()=>FC,_uU:()=>p0,aQg:()=>gE,c2e:()=>eT,cJS:()=>zn,cg1:()=>Vy,dDg:()=>lC,dqk:()=>Vt,eFA:()=>dT,eJc:()=>J0,ekj:()=>r_,eoX:()=>aT,f3M:()=>Ht,g9A:()=>$d,gHi:()=>Bf,h0i:()=>op,hGG:()=>LC,hYB:()=>Ey,hij:()=>s_,iGM:()=>Rb,ifc:()=>an,ip1:()=>Xb,jDz:()=>tb,kEZ:()=>cb,kL8:()=>O0,ktI:()=>vu,lG2:()=>Ps,lcZ:()=>_b,lqb:()=>sl,lri:()=>sT,n5z:()=>Yo,oAB:()=>Eo,oxw:()=>Jv,q4F:()=>T_,qFp:()=>QC,qLn:()=>ll,qOj:()=>ny,qZA:()=>pg,rWj:()=>oT,rg0:()=>Ze,s9C:()=>qm,sBO:()=>IC,s_b:()=>Hy,soG:()=>zy,tb:()=>lE,tp0:()=>Il,uIk:()=>ag,vHH:()=>ue,vpe:()=>Rl,wAp:()=>sp,xp6:()=>eg,ynx:()=>Hm,z2F:()=>Dg,zSh:()=>Al,zW0:()=>iy,zs3:()=>al});var l=B(8645),j=B(7394),se=B(5592),ve=B(3019),De=B(5619),fe=B(2096),Pe=B(3020),We=B(4664),Be=B(3997);function ce(t){for(let r in t)if(t[r]===ce)return r;throw Error("Could not find renamed property on target object.")}function ye(t,r){for(const s in r)r.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=r[s])}function Ae(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Ae).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function Ne(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const Ye=ce({__forward_ref__:ce});function ze(t){return t.__forward_ref__=ze,t.toString=function(){return Ae(this())},t}function lt(t){return mt(t)?t():t}function mt(t){return"function"==typeof t&&t.hasOwnProperty(Ye)&&t.__forward_ref__===ze}function ht(t){return t&&!!t.\u0275providers}const bt="https://g.co/ng/security#xss";class ue extends Error{constructor(r,s){super(function $e(t,r){return`NG0${Math.abs(t)}${r?": "+r:""}`}(r,s)),this.code=r}}function Ee(t){return"string"==typeof t?t:null==t?"":String(t)}function Xt(t,r){throw new ue(-201,!1)}function Et(t,r,s,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}function yn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function zn(t){return{providers:t.providers||[],imports:t.imports||[]}}function hn(t){return Me(t,Pt)||Me(t,Tn)}function Re(t){return null!==hn(t)}function Me(t,r){return t.hasOwnProperty(r)?t[r]:null}function gt(t){return t&&(t.hasOwnProperty(Tt)||t.hasOwnProperty(Dn))?t[Tt]:null}const Pt=ce({\u0275prov:ce}),Tt=ce({\u0275inj:ce}),Tn=ce({ngInjectableDef:ce}),Dn=ce({ngInjectorDef:ce});var Lt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Lt||{});let gn;function wn(){return gn}function sr(t){const r=gn;return gn=t,r}function Un(t,r,s){const a=hn(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&Lt.Optional?null:void 0!==r?r:void Xt(Ae(t))}const Vt=globalThis;class Wt{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=yn({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const nr={},Ki="__NG_DI_FLAG__",rs="ngTempTokenPath",re=/\n/gm,$="__source";let V;function Fe(t){const r=V;return V=t,r}function yt(t,r=Lt.Default){if(void 0===V)throw new ue(-203,!1);return null===V?Un(t,void 0,r):V.get(t,r&Lt.Optional?null:void 0,r)}function Rt(t,r=Lt.Default){return(wn()||yt)(lt(t),r)}function Ht(t,r=Lt.Default){return Rt(t,fn(r))}function fn(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Wn(t){const r=[];for(let s=0;s<t.length;s++){const a=lt(t[s]);if(Array.isArray(a)){if(0===a.length)throw new ue(900,!1);let d,g=Lt.Default;for(let v=0;v<a.length;v++){const S=a[v],P=ei(S);"number"==typeof P?-1===P?d=S.token:g|=P:d=S}r.push(Rt(d,g))}else r.push(Rt(a))}return r}function Sn(t,r){return t[Ki]=r,t.prototype[Ki]=r,t}function ei(t){return t[Ki]}function Ge(t){return{toString:t}.toString()}var Ct=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Ct||{}),an=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(an||{});const Rn={},en=[],ur=ce({\u0275cmp:ce}),Tr=ce({\u0275dir:ce}),ar=ce({\u0275pipe:ce}),fi=ce({\u0275mod:ce}),vi=ce({\u0275fac:ce}),qi=ce({__NG_ELEMENT_ID__:ce}),ai=ce({__NG_ENV_ID__:ce});function wi(t,r,s){let a=t.length;for(;;){const d=t.indexOf(r,s);if(-1===d)return d;if(0===d||t.charCodeAt(d-1)<=32){const g=r.length;if(d+g===a||t.charCodeAt(d+g)<=32)return d}s=d+1}}function qn(t,r,s){let a=0;for(;a<s.length;){const d=s[a];if("number"==typeof d){if(0!==d)break;a++;const g=s[a++],v=s[a++],S=s[a++];t.setAttribute(r,v,S,g)}else{const g=d,v=s[++a];So(g)?t.setProperty(r,g,v):t.setAttribute(r,g,v),a++}}return a}function pi(t){return 3===t||4===t||6===t}function So(t){return 64===t.charCodeAt(0)}function gr(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const d=r[a];"number"==typeof d?s=d:0===s||Yi(t,s,d,null,-1===s||2===s?r[++a]:null)}}return t}function Yi(t,r,s,a,d){let g=0,v=t.length;if(-1===r)v=-1;else for(;g<t.length;){const S=t[g++];if("number"==typeof S){if(S===r){v=-1;break}if(S>r){v=g-1;break}}}for(;g<t.length;){const S=t[g];if("number"==typeof S)break;if(S===s){if(null===a)return void(null!==d&&(t[g+1]=d));if(a===t[g+1])return void(t[g+2]=d)}g++,null!==a&&g++,null!==d&&g++}-1!==v&&(t.splice(v,0,r),g=v+1),t.splice(g++,0,s),null!==a&&t.splice(g++,0,a),null!==d&&t.splice(g++,0,d)}const Ci="ng-template";function Zs(t,r,s){let a=0,d=!0;for(;a<t.length;){let g=t[a++];if("string"==typeof g&&d){const v=t[a++];if(s&&"class"===g&&-1!==wi(v.toLowerCase(),r,0))return!0}else{if(1===g){for(;a<t.length&&"string"==typeof(g=t[a++]);)if(g.toLowerCase()===r)return!0;return!1}"number"==typeof g&&(d=!1)}}return!1}function Ur(t){return 4===t.type&&t.value!==Ci}function gs(t,r,s){return r===(4!==t.type||s?t.value:Ci)}function Qs(t,r,s){let a=4;const d=t.attrs||[],g=function Xo(t){for(let r=0;r<t.length;r++)if(pi(t[r]))return r;return t.length}(d);let v=!1;for(let S=0;S<r.length;S++){const P=r[S];if("number"!=typeof P){if(!v)if(4&a){if(a=2|1&a,""!==P&&!gs(t,P,s)||""===P&&1===r.length){if(Ii(a))return!1;v=!0}}else{const G=8&a?P:r[++S];if(8&a&&null!==t.attrs){if(!Zs(t.attrs,G,s)){if(Ii(a))return!1;v=!0}continue}const ge=po(8&a?"class":P,d,Ur(t),s);if(-1===ge){if(Ii(a))return!1;v=!0;continue}if(""!==G){let Le;Le=ge>g?"":d[ge+1].toLowerCase();const Qe=8&a?Le:null;if(Qe&&-1!==wi(Qe,G,0)||2&a&&G!==Le){if(Ii(a))return!1;v=!0}}}}else{if(!v&&!Ii(a)&&!Ii(P))return!1;if(v&&Ii(P))continue;v=!1,a=P|1&a}}return Ii(a)||v}function Ii(t){return 0==(1&t)}function po(t,r,s,a){if(null===r)return-1;let d=0;if(a||!s){let g=!1;for(;d<r.length;){const v=r[d];if(v===t)return d;if(3===v||6===v)g=!0;else{if(1===v||2===v){let S=r[++d];for(;"string"==typeof S;)S=r[++d];continue}if(4===v)break;if(0===v){d+=4;continue}}d+=g?1:2}return-1}return function vo(t,r){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const a=t[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,t)}function Jo(t,r,s=!1){for(let a=0;a<r.length;a++)if(Qs(t,r[a],s))return!0;return!1}function Ao(t,r){e:for(let s=0;s<r.length;s++){const a=r[s];if(t.length===a.length){for(let d=0;d<t.length;d++)if(t[d]!==a[d])continue e;return!0}}return!1}function Uo(t,r){return t?":not("+r.trim()+")":r}function Ca(t){let r=t[0],s=1,a=2,d="",g=!1;for(;s<t.length;){let v=t[s];if("string"==typeof v)if(2&a){const S=t[++s];d+="["+v+(S.length>0?'="'+S+'"':"")+"]"}else 8&a?d+="."+v:4&a&&(d+=" "+v);else""!==d&&!Ii(v)&&(r+=Uo(g,d),d=""),a=v,g=g||!Ii(a);s++}return""!==d&&(r+=Uo(g,d)),r}function jo(t){return Ge(()=>{const r=Ro(t),s={...r,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Ct.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||an.Emulated,styles:t.styles||en,_:null,schemas:t.schemas||null,tView:null,id:""};Si(s);const a=t.dependencies;return s.directiveDefs=xs(a,!1),s.pipeDefs=xs(a,!0),s.id=function Is(t){let r=0;const s=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const d of s)r=Math.imul(31,r)+d.charCodeAt(0)<<0;return r+=2147483648,"c"+r}(s),s})}function Ms(t){return Vn(t)||Nr(t)}function xi(t){return null!==t}function Eo(t){return Ge(()=>({type:t.type,bootstrap:t.bootstrap||en,declarations:t.declarations||en,imports:t.imports||en,exports:t.exports||en,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Zi(t,r){if(null==t)return Rn;const s={};for(const a in t)if(t.hasOwnProperty(a)){let d=t[a],g=d;Array.isArray(d)&&(g=d[1],d=d[0]),s[d]=a,r&&(r[d]=g)}return s}function Ps(t){return Ge(()=>{const r=Ro(t);return Si(r),r})}function ss(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Vn(t){return t[ur]||null}function Nr(t){return t[Tr]||null}function mr(t){return t[ar]||null}function Os(t){const r=Vn(t)||Nr(t)||mr(t);return null!==r&&r.standalone}function ti(t,r){const s=t[fi]||null;if(!s&&!0===r)throw new Error(`Type ${Ae(t)} does not have '\u0275mod' property.`);return s}function Ro(t){const r={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:t.inputs||Rn,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||en,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Zi(t.inputs,r),outputs:Zi(t.outputs)}}function Si(t){t.features?.forEach(r=>r(t))}function xs(t,r){if(!t)return null;const s=r?mr:Ms;return()=>("function"==typeof t?t():t).map(a=>s(a)).filter(xi)}const Or=0,Gt=1,tn=2,dr=3,ni=4,bi=5,jr=6,os=7,Wr=8,ji=9,bs=10,kn=11,Xs=12,Ai=13,ks=14,vr=15,Io=16,ms=17,as=18,ls=19,za=20,bo=21,us=22,To=23,eo=24,xn=25,Ts=1,Do=2,ui=7,Fs=9,Ri=11;function ki(t){return Array.isArray(t)&&"object"==typeof t[Ts]}function Mr(t){return Array.isArray(t)&&!0===t[Ts]}function Hs(t){return 0!=(4&t.flags)}function ri(t){return t.componentOffset>-1}function Ds(t){return 1==(1&t.flags)}function cr(t){return!!t.template}function Ho(t){return 0!=(512&t[tn])}function go(t,r){return t.hasOwnProperty(vi)?t[vi]:null}let mi=null,ds=!1;function Qi(t){const r=mi;return mi=t,r}const fl={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function pl(t){if(!ws(t)||t.dirty){if(!t.producerMustRecompute(t)&&!Ra(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function ga(t){t.dirty=!0,function xo(t){if(void 0===t.liveConsumerNode)return;const r=ds;ds=!0;try{for(const s of t.liveConsumerNode)s.dirty||ga(s)}finally{ds=r}}(t),t.consumerMarkedDirty?.(t)}function na(t){return t&&(t.nextProducerIndex=0),Qi(t)}function Ji(t,r){if(Qi(r),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(ws(t))for(let s=t.nextProducerIndex;s<t.producerNode.length;s++)Wo(t.producerNode[s],t.producerIndexOfThis[s]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Ra(t){ia(t);for(let r=0;r<t.producerNode.length;r++){const s=t.producerNode[r],a=t.producerLastReadVersion[r];if(a!==s.version||(pl(s),a!==s.version))return!0}return!1}function ma(t){if(ia(t),ws(t))for(let r=0;r<t.producerNode.length;r++)Wo(t.producerNode[r],t.producerIndexOfThis[r]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Wo(t,r){if(function xr(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),ia(t),1===t.liveConsumerNode.length)for(let a=0;a<t.producerNode.length;a++)Wo(t.producerNode[a],t.producerIndexOfThis[a]);const s=t.liveConsumerNode.length-1;if(t.liveConsumerNode[r]=t.liveConsumerNode[s],t.liveConsumerIndexOfThis[r]=t.liveConsumerIndexOfThis[s],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,r<t.liveConsumerNode.length){const a=t.liveConsumerIndexOfThis[r],d=t.liveConsumerNode[r];ia(d),d.producerIndexOfThis[a]=r}}function ws(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function ia(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let be=null;function Ze(t){const r=Qi(null);try{return t()}finally{Qi(r)}}const Bt=()=>{},Dr=(()=>({...fl,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:Bt}))();class Kn{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function Fn(){return $r}function $r(t){return t.type.prototype.ngOnChanges&&(t.setInput=ii),wr}function wr(){const t=kr(this),r=t?.current;if(r){const s=t.previous;if(s===Rn)t.previous=r;else for(let a in r)s[a]=r[a];t.current=null,this.ngOnChanges(r)}}function ii(t,r,s,a){const d=this.declaredInputs[s],g=kr(t)||function $i(t,r){return t[Bs]=r}(t,{previous:Rn,current:null}),v=g.current||(g.current={}),S=g.previous,P=S[d];v[d]=new Kn(P&&P.currentValue,r,S===Rn),t[a]=r}Fn.ngInherit=!0;const Bs="__ngSimpleChanges__";function kr(t){return t[Bs]||null}const pn=function(t,r,s){};function _n(t){for(;Array.isArray(t);)t=t[Or];return t}function zt(t,r){return _n(r[t])}function Ut(t,r){return _n(r[t.index])}function qt(t,r){return t.data[r]}function st(t,r){return t[r]}function vt(t,r){const s=r[t];return ki(s)?s:s[Or]}function ro(t,r){return null==r?null:t[r]}function Nu(t){t[ms]=0}function uc(t){1024&t[tn]||(t[tn]|=1024,Gl(t,1))}function Co(t){1024&t[tn]&&(t[tn]&=-1025,Gl(t,-1))}function Gl(t,r){let s=t[dr];if(null===s)return;s[bi]+=r;let a=s;for(s=s[dr];null!==s&&(1===r&&1===a[bi]||-1===r&&0===a[bi]);)s[bi]+=r,a=s,s=s[dr]}function od(t,r){if(256==(256&t[tn]))throw new ue(911,!1);null===t[bo]&&(t[bo]=[]),t[bo].push(r)}const Qn={lFrame:Gn(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Pn(){return Qn.bindingsEnabled}function mo(){return null!==Qn.skipHydrationRootTNode}function wt(){return Qn.lFrame.lView}function fr(){return Qn.lFrame.tView}function dc(t){return Qn.lFrame.contextLView=t,t[Wr]}function Ma(t){return Qn.lFrame.contextLView=null,t}function zs(){let t=sa();for(;null!==t&&64===t.type;)t=t.parent;return t}function sa(){return Qn.lFrame.currentTNode}function ml(){const t=Qn.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}function io(t,r){const s=Qn.lFrame;s.currentTNode=t,s.isParent=r}function Ss(){return Qn.lFrame.isParent}function zl(){Qn.lFrame.isParent=!1}function so(){const t=Qn.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}function oo(){return Qn.lFrame.bindingIndex++}function _o(t){const r=Qn.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,s}function M(t){Qn.lFrame.inI18n=t}function T(t,r){const s=Qn.lFrame;s.bindingIndex=s.bindingRootIndex=t,H(r)}function H(t){Qn.lFrame.currentDirectiveIndex=t}function _e(){return Qn.lFrame.currentQueryIndex}function nt(t){Qn.lFrame.currentQueryIndex=t}function Xe(t){const r=t[Gt];return 2===r.type?r.declTNode:1===r.type?t[jr]:null}function sn(t,r,s){if(s&Lt.SkipSelf){let d=r,g=t;for(;!(d=d.parent,null!==d||s&Lt.Host||(d=Xe(g),null===d||(g=g[ks],10&d.type))););if(null===d)return!1;r=d,t=g}const a=Qn.lFrame=si();return a.currentTNode=r,a.lView=t,!0}function Hn(t){const r=si(),s=t[Gt];Qn.lFrame=r,r.currentTNode=s.firstChild,r.lView=t,r.tView=s,r.contextLView=t,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function si(){const t=Qn.lFrame,r=null===t?null:t.child;return null===r?Gn(t):r}function Gn(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function aa(){const t=Qn.lFrame;return Qn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Ya=aa;function hs(){const t=aa();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ws(){return Qn.lFrame.selectedIndex}function Za(t){Qn.lFrame.selectedIndex=t}function Fi(){const t=Qn.lFrame;return qt(t.tView,t.selectedIndex)}let fc=!0;function ql(){return fc}function la(t){fc=t}function gc(t,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const g=t.data[s].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:S,ngAfterViewInit:P,ngAfterViewChecked:G,ngOnDestroy:ne}=g;v&&(t.contentHooks??=[]).push(-s,v),S&&((t.contentHooks??=[]).push(s,S),(t.contentCheckHooks??=[]).push(s,S)),P&&(t.viewHooks??=[]).push(-s,P),G&&((t.viewHooks??=[]).push(s,G),(t.viewCheckHooks??=[]).push(s,G)),null!=ne&&(t.destroyHooks??=[]).push(s,ne)}}function Ol(t,r,s){Yl(t,r,3,s)}function mc(t,r,s,a){(3&t[tn])===s&&Yl(t,r,s,a)}function Qa(t,r){let s=t[tn];(3&s)===r&&(s&=8191,s+=1,t[tn]=s)}function Yl(t,r,s,a){const g=a??-1,v=r.length-1;let S=0;for(let P=void 0!==a?65535&t[ms]:0;P<v;P++)if("number"==typeof r[P+1]){if(S=r[P],null!=a&&S>=a)break}else r[P]<0&&(t[ms]+=65536),(S<g||-1==g)&&(oh(t,s,r,P),t[ms]=(4294901760&t[ms])+P+2),P++}function ld(t,r){pn(4,t,r);const s=Qi(null);try{r.call(t)}finally{Qi(s),pn(5,t,r)}}function oh(t,r,s,a){const d=s[a]<0,g=s[a+1],S=t[d?-s[a]:s[a]];d?t[tn]>>13<t[ms]>>16&&(3&t[tn])===r&&(t[tn]+=8192,ld(S,g)):ld(S,g)}const xl=-1;class Ko{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function Qr(t){return t!==xl}function Pa(t){return 32767&t}function ao(t,r){let s=function qo(t){return t>>16}(t),a=r;for(;s>0;)a=a[ks],s--;return a}let ud=!0;function yc(t){const r=ud;return ud=t,r}const cd=255,yl=5;let Xi=0;const As={};function Ui(t,r){const s=ku(t,r);if(-1!==s)return s;const a=r[Gt];a.firstCreatePass&&(t.injectorIndex=r.length,ua(a.data,t),ua(r,null),ua(a.blueprint,null));const d=Oa(t,r),g=t.injectorIndex;if(Qr(d)){const v=Pa(d),S=ao(d,r),P=S[Gt].data;for(let G=0;G<8;G++)r[g+G]=S[v+G]|P[v+G]}return r[g+8]=d,g}function ua(t,r){t.push(0,0,0,0,0,0,0,0,r)}function ku(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function Oa(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,a=null,d=r;for(;null!==d;){if(a=Lu(d),null===a)return xl;if(s++,d=d[ks],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return xl}function xa(t,r,s){!function Ql(t,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(qi)&&(a=s[qi]),null==a&&(a=s[qi]=Xi++);const d=a&cd;r.data[t+(d>>yl)]|=1<<d}(t,r,s)}function ya(t,r,s){if(s&Lt.Optional||void 0!==t)return t;Xt()}function va(t,r,s,a){if(s&Lt.Optional&&void 0===a&&(a=null),!(s&(Lt.Self|Lt.Host))){const d=t[ji],g=sr(void 0);try{return d?d.get(r,a,s&Lt.Optional):Un(r,a,s&Lt.Optional)}finally{sr(g)}}return ya(a,0,s)}function vl(t,r,s,a=Lt.Default,d){if(null!==t){if(2048&r[tn]&&!(a&Lt.Self)){const v=function dd(t,r,s,a,d){let g=t,v=r;for(;null!==g&&null!==v&&2048&v[tn]&&!(512&v[tn]);){const S=Xa(g,v,s,a|Lt.Self,As);if(S!==As)return S;let P=g.parent;if(!P){const G=v[za];if(G){const ne=G.get(s,As,a);if(ne!==As)return ne}P=Lu(v),v=v[ks]}g=P}return d}(t,r,s,a,As);if(v!==As)return v}const g=Xa(t,r,s,a,As);if(g!==As)return g}return va(r,s,a,d)}function Xa(t,r,s,a,d){const g=function Fu(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(qi)?t[qi]:void 0;return"number"==typeof r?r>=0?r&cd:Ec:r}(s);if("function"==typeof g){if(!sn(r,t,a))return a&Lt.Host?ya(d,0,a):va(r,s,a,d);try{let v;if(v=g(a),null!=v||a&Lt.Optional)return v;Xt()}finally{Ya()}}else if("number"==typeof g){let v=null,S=ku(t,r),P=xl,G=a&Lt.Host?r[vr][jr]:null;for((-1===S||a&Lt.SkipSelf)&&(P=-1===S?Oa(t,r):r[S+8],P!==xl&&kl(a,!1)?(v=r[Gt],S=Pa(P),r=ao(P,r)):S=-1);-1!==S;){const ne=r[Gt];if(ba(g,S,ne.data)){const ge=vc(S,r,s,v,a,G);if(ge!==As)return ge}P=r[S+8],P!==xl&&kl(a,r[Gt].data[S+8]===G)&&ba(g,S,r)?(v=ne,S=Pa(P),r=ao(P,r)):S=-1}}return d}function vc(t,r,s,a,d,g){const v=r[Gt],S=v.data[t+8],ne=Ea(S,v,s,null==a?ri(S)&&ud:a!=v&&0!=(3&S.type),d&Lt.Host&&g===S);return null!==ne?Ia(r,v,ne,S):As}function Ea(t,r,s,a,d){const g=t.providerIndexes,v=r.data,S=1048575&g,P=t.directiveStart,ne=g>>20,Le=d?S+ne:t.directiveEnd;for(let Qe=a?S:S+ne;Qe<Le;Qe++){const Dt=v[Qe];if(Qe<P&&s===Dt||Qe>=P&&Dt.type===s)return Qe}if(d){const Qe=v[P];if(Qe&&cr(Qe)&&Qe.type===s)return P}return null}function Ia(t,r,s,a){let d=t[s];const g=r.data;if(function Zl(t){return t instanceof Ko}(d)){const v=d;v.resolving&&function ut(t,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new ue(-200,`Circular dependency in DI detected for ${t}${s}`)}(function rt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ee(t)}(g[s]));const S=yc(v.canSeeViewProviders);v.resolving=!0;const G=v.injectImpl?sr(v.injectImpl):null;sn(t,a,Lt.Default);try{d=t[s]=v.factory(void 0,g,t,a),r.firstCreatePass&&s>=a.directiveStart&&function pc(t,r,s){const{ngOnChanges:a,ngOnInit:d,ngDoCheck:g}=r.type.prototype;if(a){const v=$r(r);(s.preOrderHooks??=[]).push(t,v),(s.preOrderCheckHooks??=[]).push(t,v)}d&&(s.preOrderHooks??=[]).push(0-t,d),g&&((s.preOrderHooks??=[]).push(t,g),(s.preOrderCheckHooks??=[]).push(t,g))}(s,g[s],r)}finally{null!==G&&sr(G),yc(S),v.resolving=!1,Ya()}}return d}function ba(t,r,s){return!!(s[r+(t>>yl)]&1<<t)}function kl(t,r){return!(t&Lt.Self||t&Lt.Host&&r)}class lo{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return vl(this._tNode,this._lView,r,fn(a),s)}}function Ec(){return new lo(zs(),wt())}function Yo(t){return Ge(()=>{const r=t.prototype.constructor,s=r[vi]||Xl(r),a=Object.prototype;let d=Object.getPrototypeOf(t.prototype).constructor;for(;d&&d!==a;){const g=d[vi]||Xl(d);if(g&&g!==s)return g;d=Object.getPrototypeOf(d)}return g=>new g})}function Xl(t){return mt(t)?()=>{const r=Xl(lt(t));return r&&r()}:go(t)}function Lu(t){const r=t[Gt],s=r.type;return 2===s?r.declTNode:1===s?t[jr]:null}function Ic(t){return function Ja(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const s=t.attrs;if(s){const a=s.length;let d=0;for(;d<a;){const g=s[d];if(pi(g))break;if(0===g)d+=2;else if("number"==typeof g)for(d++;d<a&&"string"==typeof s[d];)d++;else{if(g===r)return s[d+1];d+=2}}}return null}(zs(),t)}const fs="__parameters__";function Fa(t,r,s){return Ge(()=>{const a=function ca(t){return function(...s){if(t){const a=t(...s);for(const d in a)this[d]=a[d]}}}(r);function d(...g){if(this instanceof d)return a.apply(this,g),this;const v=new d(...g);return S.annotation=v,S;function S(P,G,ne){const ge=P.hasOwnProperty(fs)?P[fs]:Object.defineProperty(P,fs,{value:[]})[fs];for(;ge.length<=ne;)ge.push(null);return(ge[ne]=ge[ne]||[]).push(v),P}}return s&&(d.prototype=Object.create(s.prototype)),d.prototype.ngMetadataName=t,d.annotationCls=d,d})}function nu(t,r){t.forEach(s=>Array.isArray(s)?nu(s,r):r(s))}function gd(t,r,s){r>=t.length?t.push(s):t.splice(r,0,s)}function Tc(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function ru(t,r){const s=[];for(let a=0;a<t;a++)s.push(r);return s}function Rs(t,r,s){let a=Va(t,r);return a>=0?t[1|a]=s:(a=~a,function lf(t,r,s,a){let d=t.length;if(d==r)t.push(s,a);else if(1===d)t.push(a,t[0]),t[0]=s;else{for(d--,t.push(t[d-1],t[d]);d>r;)t[d]=t[d-2],d--;t[r]=s,t[r+1]=a}}(t,a,r,s)),a}function tl(t,r){const s=Va(t,r);if(s>=0)return t[1|s]}function Va(t,r){return function _d(t,r,s){let a=0,d=t.length>>s;for(;d!==a;){const g=a+(d-a>>1),v=t[g<<s];if(r===v)return g<<s;v>r?d=g:a=g+1}return~(d<<s)}(t,r,1)}const Uu=Sn(Fa("Optional"),8),Il=Sn(Fa("SkipSelf"),4);function hf(t){return 128==(128&t.flags)}var uu=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(uu||{});const cu=/^>|^->|<!--|-->|--!>|<!-$/g,Sg=/(<|>)/g,Ag="\u200b$1\u200b";const $u=new Map;let cp=0;const gf="__ngContext__";function Ks(t,r){ki(r)?(t[gf]=r[ls],function ff(t){$u.set(t[ls],t)}(r)):t[gf]=r}let Ih;function yf(t,r){return Ih(t,r)}function Mc(t){const r=t[dr];return Mr(r)?r[dr]:r}function Ef(t){return du(t[Xs])}function mp(t){return du(t[ni])}function du(t){for(;null!==t&&!Mr(t);)t=t[ni];return t}function ko(t,r,s,a,d){if(null!=a){let g,v=!1;Mr(a)?g=a:ki(a)&&(v=!0,a=a[Or]);const S=_n(a);0===t&&null!==s?null==d?Ad(r,s,S):zu(r,s,S,d||null,!0):1===t&&null!==s?zu(r,s,S,d||null,!0):2===t?function Rd(t,r,s){const a=Tf(t,r);a&&function Pg(t,r,s,a){t.removeChild(r,s,a)}(t,a,r,s)}(r,S,v):3===t&&r.destroyNode(S),null!=g&&function kg(t,r,s,a,d){const g=s[ui];g!==_n(s)&&ko(r,t,a,g,d);for(let S=Ri;S<s.length;S++){const P=s[S];Tl(P[Gt],P,t,r,a,g)}}(r,t,g,s,d)}}function hu(t,r){return t.createText(r)}function vs(t,r){return t.createComment(function up(t){return t.replace(cu,r=>r.replace(Sg,Ag))}(r))}function Pc(t,r,s){return t.createElement(r,s)}function bh(t,r){const s=t[Fs],a=s.indexOf(r);Co(r),s.splice(a,1)}function Oc(t,r){if(t.length<=Ri)return;const s=Ri+r,a=t[s];if(a){const d=a[Io];null!==d&&d!==t&&bh(d,a),r>0&&(t[s-1][ni]=a[ni]);const g=Tc(t,Ri+r);!function yp(t,r){Tl(t,r,r[kn],2,null,null),r[Or]=null,r[jr]=null}(a[Gt],a);const v=g[as];null!==v&&v.detachView(g[Gt]),a[dr]=null,a[ni]=null,a[tn]&=-129}return a}function Sd(t,r){if(!(256&r[tn])){const s=r[kn];r[To]&&ma(r[To]),r[eo]&&ma(r[eo]),s.destroyNode&&Tl(t,r,s,3,null,null),function vp(t){let r=t[Xs];if(!r)return Th(t[Gt],t);for(;r;){let s=null;if(ki(r))s=r[Xs];else{const a=r[Ri];a&&(s=a)}if(!s){for(;r&&!r[ni]&&r!==t;)ki(r)&&Th(r[Gt],r),r=r[dr];null===r&&(r=t),ki(r)&&Th(r[Gt],r),s=r&&r[ni]}r=s}}(r)}}function Th(t,r){if(!(256&r[tn])){r[tn]&=-129,r[tn]|=256,function xc(t,r){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let a=0;a<s.length;a+=2){const d=r[s[a]];if(!(d instanceof Ko)){const g=s[a+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const S=d[g[v]],P=g[v+1];pn(4,S,P);try{P.call(S)}finally{pn(5,S,P)}}else{pn(4,d,g);try{g.call(d)}finally{pn(5,d,g)}}}}}(t,r),function Ep(t,r){const s=t.cleanup,a=r[os];if(null!==s)for(let g=0;g<s.length-1;g+=2)if("string"==typeof s[g]){const v=s[g+3];v>=0?a[v]():a[-v].unsubscribe(),g+=2}else s[g].call(a[s[g+1]]);null!==a&&(r[os]=null);const d=r[bo];if(null!==d){r[bo]=null;for(let g=0;g<d.length;g++)(0,d[g])()}}(t,r),1===r[Gt].type&&r[kn].destroy();const s=r[Io];if(null!==s&&Mr(r[dr])){s!==r[dr]&&bh(s,r);const a=r[as];null!==a&&a.detachView(t)}!function dp(t){$u.delete(t[ls])}(r)}}function kc(t,r,s){return Mg(t,r.parent,s)}function Mg(t,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[Or];{const{componentOffset:d}=a;if(d>-1){const{encapsulation:g}=t.data[a.directiveStart+d];if(g===an.None||g===an.Emulated)return null}return Ut(a,s)}}function zu(t,r,s,a,d){t.insertBefore(r,s,a,d)}function Ad(t,r,s){t.appendChild(r,s)}function bf(t,r,s,a,d){null!==a?zu(t,r,s,a,d):Ad(t,r,s)}function Tf(t,r){return t.parentNode(r)}function Og(t,r,s){return pu(t,r,s)}function fu(t,r,s){return 40&t.type?Ut(t,s):null}let Df,wf,Ch,kd,pu=fu;function xg(t,r){pu=t,Df=r}function Fc(t,r,s,a){const d=kc(t,a,r),g=r[kn],S=Og(a.parent||r[jr],a,r);if(null!=d)if(Array.isArray(s))for(let P=0;P<s.length;P++)bf(g,d,s[P],S,!1);else bf(g,d,s,S,!1);void 0!==Df&&Df(g,a,r,s,d)}function $a(t,r){if(null!==r){const s=r.type;if(3&s)return Ut(r,t);if(4&s)return Dh(-1,t[r.index]);if(8&s){const a=r.child;if(null!==a)return $a(t,a);{const d=t[r.index];return Mr(d)?Dh(-1,d):_n(d)}}if(32&s)return yf(r,t)()||_n(t[r.index]);{const a=Ip(t,r);return null!==a?Array.isArray(a)?a[0]:$a(Mc(t[vr]),a):$a(t,r.next)}}return null}function Ip(t,r){return null!==r?t[vr][jr].projection[r.projection]:null}function Dh(t,r){const s=Ri+t+1;if(s<r.length){const a=r[s],d=a[Gt].firstChild;if(null!==d)return $a(a,d)}return r[ui]}function gu(t,r,s,a,d,g,v){for(;null!=s;){const S=a[s.index],P=s.type;if(v&&0===r&&(S&&Ks(_n(S),a),s.flags|=2),32!=(32&s.flags))if(8&P)gu(t,r,s.child,a,d,g,!1),ko(r,t,d,S,g);else if(32&P){const G=yf(s,a);let ne;for(;ne=G();)ko(r,t,d,ne,g);ko(r,t,d,S,g)}else 16&P?Md(t,r,a,s,d,g):ko(r,t,d,S,g);s=v?s.projectionNext:s.next}}function Tl(t,r,s,a,d,g){gu(s,a,t.firstChild,r,d,g,!1)}function Md(t,r,s,a,d,g){const v=s[vr],P=v[jr].projection[a.projection];if(Array.isArray(P))for(let G=0;G<P.length;G++)ko(r,t,d,P[G],g);else{let G=P;const ne=v[dr];hf(a)&&(G.flags|=128),gu(t,r,G,ne,d,g,!0)}}function Dp(t,r,s){""===s?t.removeAttribute(r,"class"):t.setAttribute(r,"class",s)}function wh(t,r,s){const{mergedAttrs:a,classes:d,styles:g}=s;null!==a&&qn(t,r,a),null!==d&&Dp(t,r,d),null!==g&&function Tp(t,r,s){t.setAttribute(r,"style",s)}(t,r,g)}function Vc(t){return function Cf(){if(void 0===wf&&(wf=null,Vt.trustedTypes))try{wf=Vt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return wf}()?.createHTML(t)||t}function m_(t){Ch=t}function xd(){if(void 0!==Ch)return Ch;if(typeof document<"u")return document;throw new ue(210,!1)}function wp(t){return function Bc(){if(void 0===kd&&(kd=null,Vt.trustedTypes))try{kd=Vt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return kd}()?.createScriptURL(t)||t}class Cp{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${bt})`}}function rl(t){return t instanceof Cp?t.changingThisBreaksApplicationSecurity:t}function Uc(t,r){const s=function Lg(t){return t instanceof Cp&&t.getTypeName()||null}(t);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see ${bt})`)}return s===r}class Fd{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const s=(new window.DOMParser).parseFromString(Vc(r),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(r):(s.removeChild(s.firstChild),s)}catch{return null}}}class jc{constructor(r){this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(r){const s=this.inertDocument.createElement("template");return s.innerHTML=Vc(r),s}}const Vg=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Sh(t){return(t=String(t)).match(Vg)?t:"unsafe:"+t}function Es(t){const r={};for(const s of t.split(","))r[s]=!0;return r}function Vd(...t){const r={};for(const s of t)for(const a in s)s.hasOwnProperty(a)&&(r[a]=!0);return r}const Ah=Es("area,br,col,hr,img,wbr"),Rh=Es("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Op=Es("rp,rt"),h=Vd(Ah,Vd(Rh,Es("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Vd(Op,Es("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Vd(Op,Rh)),I=Es("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),E=Vd(I,Es("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Es("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"));var Yn=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Yn||{});function _r(t){const r=Lr();return r?r.sanitize(Yn.URL,t)||"":Uc(t,"URL")?rl(t):Sh(Ee(t))}function Cr(t){const r=Lr();if(r)return wp(r.sanitize(Yn.RESOURCE_URL,t)||"");if(Uc(t,"ResourceURL"))return wp(rl(t));throw new ue(904,!1)}function zi(t,r,s){return function _i(t,r){return"src"===r&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===r&&("base"===t||"link"===t)?Cr:_r}(r,s)(t)}function Lr(){const t=wt();return t&&t[bs].sanitizer}const qs=new Wt("ENVIRONMENT_INITIALIZER"),Ha=new Wt("INJECTOR",-1),Fo=new Wt("INJECTOR_DEF_TYPES");class jl{get(r,s=nr){if(s===nr){const a=new Error(`NullInjectorError: No provider for ${Ae(r)}!`);throw a.name="NullInjectorError",a}return s}}function Da(...t){return{\u0275providers:Zo(0,t),\u0275fromNgModule:!0}}function Zo(t,...r){const s=[],a=new Set;let d;const g=v=>{s.push(v)};return nu(r,v=>{const S=v;wl(S,g,[],a)&&(d||=[],d.push(S))}),void 0!==d&&yu(d,g),s}function yu(t,r){for(let s=0;s<t.length;s++){const{ngModule:a,providers:d}=t[s];Ku(d,g=>{r(g,a)})}}function wl(t,r,s,a){if(!(t=lt(t)))return!1;let d=null,g=gt(t);const v=!g&&Vn(t);if(g||v){if(v&&!v.standalone)return!1;d=t}else{const P=t.ngModule;if(g=gt(P),!g)return!1;d=P}const S=a.has(d);if(v){if(S)return!1;if(a.add(d),v.dependencies){const P="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const G of P)wl(G,r,s,a)}}else{if(!g)return!1;{if(null!=g.imports&&!S){let G;a.add(d);try{nu(g.imports,ne=>{wl(ne,r,s,a)&&(G||=[],G.push(ne))})}finally{}void 0!==G&&yu(G,r)}if(!S){const G=go(d)||(()=>new d);r({provide:d,useFactory:G,deps:en},d),r({provide:Fo,useValue:d,multi:!0},d),r({provide:qs,useValue:()=>Rt(d),multi:!0},d)}const P=g.providers;if(null!=P&&!S){const G=t;Ku(P,ne=>{r(ne,G)})}}}return d!==t&&void 0!==t.providers}function Ku(t,r){for(let s of t)ht(s)&&(s=s.\u0275providers),Array.isArray(s)?Ku(s,r):r(s)}const qu=ce({provide:String,useValue:ce});function Cl(t){return null!==t&&"object"==typeof t&&qu in t}function wa(t){return"function"==typeof t}const Al=new Wt("Set Injector scope."),$c={},xp={};let Hc;function Gc(){return void 0===Hc&&(Hc=new jl),Hc}class sl{}class Yu extends sl{get destroyed(){return this._destroyed}constructor(r,s,a,d){super(),this.parent=s,this.source=a,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ud(r,v=>this.processProvider(v)),this.records.set(Ha,ol(void 0,this)),d.has("environment")&&this.records.set(sl,ol(void 0,this));const g=this.records.get(Al);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(Fo.multi,en,Lt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of r)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const s=Fe(this),a=sr(void 0);try{return r()}finally{Fe(s),sr(a)}}get(r,s=nr,a=Lt.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(ai))return r[ai](this);a=fn(a);const g=Fe(this),v=sr(void 0);try{if(!(a&Lt.SkipSelf)){let P=this.records.get(r);if(void 0===P){const G=function Mf(t){return"function"==typeof t||"object"==typeof t&&t instanceof Wt}(r)&&hn(r);P=G&&this.injectableDefInScope(G)?ol(Rf(r),$c):null,this.records.set(r,P)}if(null!=P)return this.hydrate(r,P)}return(a&Lt.Self?Gc():this.parent).get(r,s=a&Lt.Optional&&s===nr?null:s)}catch(S){if("NullInjectorError"===S.name){if((S[rs]=S[rs]||[]).unshift(Ae(r)),g)throw S;return function Vi(t,r,s,a){const d=t[rs];throw r[$]&&d.unshift(r[$]),t.message=function ft(t,r,s,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let d=Ae(r);if(Array.isArray(r))d=r.map(Ae).join(" -> ");else if("object"==typeof r){let g=[];for(let v in r)if(r.hasOwnProperty(v)){let S=r[v];g.push(v+":"+("string"==typeof S?JSON.stringify(S):Ae(S)))}d=`{${g.join(", ")}}`}return`${s}${a?"("+a+")":""}[${d}]: ${t.replace(re,"\n  ")}`}("\n"+t.message,d,s,a),t.ngTokenPath=d,t[rs]=null,t}(S,r,"R3InjectorError",this.source)}throw S}finally{sr(v),Fe(g)}}resolveInjectorInitializers(){const r=Fe(this),s=sr(void 0);try{const d=this.get(qs.multi,en,Lt.Self);for(const g of d)g()}finally{Fe(r),sr(s)}}toString(){const r=[],s=this.records;for(const a of s.keys())r.push(Ae(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ue(205,!1)}processProvider(r){let s=wa(r=lt(r))?r:lt(r&&r.provide);const a=function kp(t){return Cl(t)?ol(void 0,t.useValue):ol(Zu(t),$c)}(r);if(wa(r)||!0!==r.multi)this.records.get(s);else{let d=this.records.get(s);d||(d=ol(void 0,$c,!0),d.factory=()=>Wn(d.multi),this.records.set(s,d)),s=r,d.multi.push(r)}this.records.set(s,a)}hydrate(r,s){return s.value===$c&&(s.value=xp,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Qu(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=lt(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(r){const s=this._onDestroyHooks.indexOf(r);-1!==s&&this._onDestroyHooks.splice(s,1)}}function Rf(t){const r=hn(t),s=null!==r?r.factory:go(t);if(null!==s)return s;if(t instanceof Wt)throw new ue(204,!1);if(t instanceof Function)return function Nf(t){const r=t.length;if(r>0)throw ru(r,"?"),new ue(204,!1);const s=function tt(t){return t&&(t[Pt]||t[Tn])||null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new ue(204,!1)}function Zu(t,r,s){let a;if(wa(t)){const d=lt(t);return go(d)||Rf(d)}if(Cl(t))a=()=>lt(t.useValue);else if(function il(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...Wn(t.deps||[]));else if(function Sl(t){return!(!t||!t.useExisting)}(t))a=()=>Rt(lt(t.useExisting));else{const d=lt(t&&(t.useClass||t.provide));if(!function $l(t){return!!t.deps}(t))return go(d)||Rf(d);a=()=>new d(...Wn(t.deps))}return a}function ol(t,r,s=!1){return{factory:t,value:r,multi:s?[]:void 0}}function Ud(t,r){for(const s of t)Array.isArray(s)?Ud(s,r):s&&ht(s)?Ud(s.\u0275providers,r):r(s)}const jd=new Wt("AppId",{providedIn:"root",factory:()=>Fp}),Fp="ng",$d=new Wt("Platform Initializer"),Ph=new Wt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),y_=new Wt("AnimationModuleType"),v_=new Wt("CSP nonce",{providedIn:"root",factory:()=>xd().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Wg=(t,r,s)=>null;function Kg(t,r,s=!1){return Wg(t,r,s)}class I_{}class Up{}class iv{resolveComponentFactory(r){throw function Zg(t){const r=Error(`No component factory found for ${Ae(t)}.`);return r.ngComponent=t,r}(r)}}let Vh=(()=>{class t{static#e=this.NULL=new iv}return t})();function sv(){return Kc(zs(),wt())}function Kc(t,r){return new Lf(Ut(t,r))}let Lf=(()=>{class t{constructor(s){this.nativeElement=s}static#e=this.__NG_ELEMENT_ID__=sv}return t})();function Qg(t){return t instanceof Lf?t.nativeElement:t}class Vf{}let Jg=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function b_(){const t=wt(),s=vt(zs().index,t);return(ki(s)?s:t)[kn]}()}return t})(),Bh=(()=>{class t{static#e=this.\u0275prov=yn({token:t,providedIn:"root",factory:()=>null})}return t})();class jp{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const T_=new jp("16.2.11"),Xg={};function Bf(t){if(!wn()&&!function de(){return V}())throw new ue(-203,!1)}function Gp(t,r=null,s=null,a){const d=zp(t,r,s,a);return d.resolveInjectorInitializers(),d}function zp(t,r=null,s=null,a,d=new Set){const g=[s||en,Da(t)];return a=a||("object"==typeof t?void 0:Ae(t)),new Yu(g,r||Gc(),a||null,d)}let al=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=nr;static#t=this.NULL=new jl;static create(s,a){if(Array.isArray(s))return Gp({name:""},a,s,"");{const d=s.name??"";return Gp({name:d},s.parent,s.providers,d)}}static#n=this.\u0275prov=yn({token:t,providedIn:"any",factory:()=>Rt(Ha)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function Uf(t){return t.ngOriginalError}class ll{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&Uf(r);for(;s&&Uf(s);)s=Uf(s);return s||null}}let vu=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=Uh;static#t=this.__NG_ENV_ID__=s=>s}return t})();class w_ extends vu{constructor(r){super(),this._lView=r}onDestroy(r){return od(this._lView,r),()=>function nf(t,r){if(null===t[bo])return;const s=t[bo].indexOf(r);-1!==s&&t[bo].splice(s,1)}(this._lView,r)}}function Uh(){return new w_(wt())}function nm(t){return r=>{setTimeout(t,void 0,r)}}const Rl=class dv extends l.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){let d=r,g=s||(()=>null),v=a;if(r&&"object"==typeof r){const P=r;d=P.next?.bind(P),g=P.error?.bind(P),v=P.complete?.bind(P)}this.__isAsync&&(g=nm(g),d&&(d=nm(d)),v&&(v=nm(v)));const S=super.subscribe({next:d,error:g,complete:v});return r instanceof j.w0&&r.add(S),S}};function Wp(...t){}class Vo{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Rl(!1),this.onMicrotaskEmpty=new Rl(!1),this.onStable=new Rl(!1),this.onError=new Rl(!1),typeof Zone>"u")throw new ue(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!a&&s,d.shouldCoalesceRunChangeDetection=a,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function rm(){const t="function"==typeof Vt.requestAnimationFrame;let r=Vt[t?"requestAnimationFrame":"setTimeout"],s=Vt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&r&&s){const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a);const d=s[Zone.__symbol__("OriginalDelegate")];d&&(s=d)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function fv(t){const r=()=>{!function im(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Vt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Kp(t),t.isCheckStableRunning=!0,jf(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Kp(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,d,g,v,S)=>{if(function pv(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(S))return s.invokeTask(d,g,v,S);try{return S_(t),s.invokeTask(d,g,v,S)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||t.shouldCoalesceRunChangeDetection)&&r(),sm(t)}},onInvoke:(s,a,d,g,v,S,P)=>{try{return S_(t),s.invoke(d,g,v,S,P)}finally{t.shouldCoalesceRunChangeDetection&&r(),sm(t)}},onHasTask:(s,a,d,g)=>{s.hasTask(d,g),a===d&&("microTask"==g.change?(t._hasPendingMicrotasks=g.microTask,Kp(t),jf(t)):"macroTask"==g.change&&(t.hasPendingMacrotasks=g.macroTask))},onHandleError:(s,a,d,g)=>(s.handleError(d,g),t.runOutsideAngular(()=>t.onError.emit(g)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Vo.isInAngularZone())throw new ue(909,!1)}static assertNotInAngularZone(){if(Vo.isInAngularZone())throw new ue(909,!1)}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,d){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+d,r,hv,Wp,Wp);try{return g.runTask(v,s,a)}finally{g.cancelTask(v)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const hv={};function jf(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Kp(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function S_(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function sm(t){t._nesting--,jf(t)}class A_{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Rl,this.onMicrotaskEmpty=new Rl,this.onStable=new Rl,this.onError=new Rl}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,d){return r.apply(s,a)}}const om=new Wt("",{providedIn:"root",factory:am});function am(){const t=Ht(Vo);let r=!0;const s=new se.y(d=>{r=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{d.next(r),d.complete()})}),a=new se.y(d=>{let g;t.runOutsideAngular(()=>{g=t.onStable.subscribe(()=>{Vo.assertNotInAngularZone(),queueMicrotask(()=>{!r&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(r=!0,d.next(!0))})})});const v=t.onUnstable.subscribe(()=>{Vo.assertInAngularZone(),r&&(r=!1,t.runOutsideAngular(()=>{d.next(!1)}))});return()=>{g.unsubscribe(),v.unsubscribe()}});return(0,ve.T)(s,a.pipe((0,Pe.B)()))}function Hl(t){return t instanceof Function?t():t}let Yp=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=yn({token:t,providedIn:"root",factory:()=>new t})}return t})();function qd(t){for(;t;){t[tn]|=64;const r=Mc(t);if(Ho(t)&&!r)return t;t=r}return null}const Zp=new Wt("",{providedIn:"root",factory:()=>!1});let jh=null;function Eu(t,r){return t[r]??k_()}function Jp(t,r){const s=k_();s.producerNode?.length&&(t[r]=jh,s.lView=t,jh=Xp())}const Ev={...fl,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{qd(t.lView)},lView:null};function Xp(){return Object.create(Ev)}function k_(){return jh??=Xp(),jh}const Sr={};function eg(t){F_(fr(),wt(),Ws()+t,!1)}function F_(t,r,s,a){if(!a)if(3==(3&r[tn])){const g=t.preOrderCheckHooks;null!==g&&Ol(r,g,s)}else{const g=t.preOrderHooks;null!==g&&mc(r,g,0,s)}Za(s)}function Zc(t,r=Lt.Default){const s=wt();return null===s?Rt(t,r):vl(zs(),s,lt(t),r)}function L_(){throw new Error("invalid")}function tg(t,r,s,a,d,g,v,S,P,G,ne){const ge=r.blueprint.slice();return ge[Or]=d,ge[tn]=140|a,(null!==G||t&&2048&t[tn])&&(ge[tn]|=2048),Nu(ge),ge[dr]=ge[ks]=t,ge[Wr]=s,ge[bs]=v||t&&t[bs],ge[kn]=S||t&&t[kn],ge[ji]=P||t&&t[ji]||null,ge[jr]=g,ge[ls]=function vh(){return cp++}(),ge[us]=ne,ge[za]=G,ge[vr]=2==r.type?t[vr]:ge,ge}function Qc(t,r,s,a,d){let g=t.data[r];if(null===g)g=ng(t,r,s,a,d),function C(){return Qn.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=s,g.value=a,g.attrs=d;const v=ml();g.injectorIndex=null===v?-1:v.injectorIndex}return io(g,!0),g}function ng(t,r,s,a,d){const g=sa(),v=Ss(),P=t.data[r]=function $h(t,r,s,a,d,g){let v=r?r.injectorIndex:-1,S=0;return mo()&&(S|=128),{type:s,index:a,insertBeforeIndex:null,injectorIndex:v,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:S,providerIndexes:0,value:d,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,s,r,a,d);return null===t.firstChild&&(t.firstChild=P),null!==g&&(v?null==g.child&&null!==P.parent&&(g.child=P):null===g.next&&(g.next=P,P.prev=g)),P}function Yd(t,r,s,a){if(0===s)return-1;const d=r.length;for(let g=0;g<s;g++)r.push(a),t.blueprint.push(a),t.data.push(null);return d}function pm(t,r,s,a,d){const g=Eu(r,To),v=Ws(),S=2&a;try{Za(-1),S&&r.length>xn&&F_(t,r,xn,!1),pn(S?2:0,d);const G=S?g:null,ne=na(G);try{null!==G&&(G.dirty=!1),s(a,d)}finally{Ji(G,ne)}}finally{S&&null===r[To]&&Jp(r,To),Za(v),pn(S?3:1,d)}}function gm(t,r,s){if(Hs(r)){const a=Qi(null);try{const g=r.directiveEnd;for(let v=r.directiveStart;v<g;v++){const S=t.data[v];S.contentQueries&&S.contentQueries(1,s[v],v)}}finally{Qi(a)}}}function mm(t,r,s){Pn()&&(function Im(t,r,s,a){const d=s.directiveStart,g=s.directiveEnd;ri(s)&&function Dm(t,r,s){const a=Ut(r,t),d=V_(s);let v=16;s.signals?v=4096:s.onPush&&(v=64);const S=sg(t,tg(t,d,null,v,a,r,null,t[bs].rendererFactory.createRenderer(a,s),null,null,null));t[r.index]=S}(r,s,t.data[d+s.componentOffset]),t.firstCreatePass||Ui(s,r),Ks(a,r);const v=s.initialInputs;for(let S=d;S<g;S++){const P=t.data[S],G=Ia(r,t,S,s);Ks(G,r),null!==v&&Cv(0,S-d,G,P,0,v),cr(P)&&(vt(s.index,r)[Wr]=Ia(r,t,S,s))}}(t,r,s,Ut(s,r)),64==(64&s.flags)&&Yf(t,r,s))}function Gf(t,r,s=Ut){const a=r.localNames;if(null!==a){let d=r.index+1;for(let g=0;g<a.length;g+=2){const v=a[g+1],S=-1===v?s(r,t):t[v];t[d++]=S}}}function V_(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=zf(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):r}function zf(t,r,s,a,d,g,v,S,P,G,ne){const ge=xn+a,Le=ge+d,Qe=function _m(t,r){const s=[];for(let a=0;a<r;a++)s.push(a<t?null:Sr);return s}(ge,Le),Dt="function"==typeof G?G():G;return Qe[Gt]={type:t,blueprint:Qe,template:s,queries:null,viewQuery:S,declTNode:r,data:Qe.slice().fill(null,ge),bindingStartIndex:ge,expandoStartIndex:Le,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:P,consts:Dt,incompleteFirstPass:!1,ssrId:ne}}let Wf=t=>null;function vm(t,r,s,a){for(let d in t)if(t.hasOwnProperty(d)){s=null===s?{}:s;const g=t[d];null===a?Kf(s,r,d,g):a.hasOwnProperty(d)&&Kf(s,r,a[d],g)}return s}function Kf(t,r,s,a){t.hasOwnProperty(s)?t[s].push(r,a):t[s]=[r,a]}function ul(t,r,s,a,d,g,v,S){const P=Ut(r,s);let ne,G=r.inputs;!S&&null!=G&&(ne=G[a])?(Zf(t,s,ne,a,d),ri(r)&&function wv(t,r){const s=vt(r,t);16&s[tn]||(s[tn]|=64)}(s,r.index)):3&r.type&&(a=function Dv(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),d=null!=v?v(d,r.value||"",a):d,g.setProperty(P,a,d))}function qf(t,r,s,a){if(Pn()){const d=null===a?null:{"":-1},g=function H_(t,r){const s=t.directiveRegistry;let a=null,d=null;if(s)for(let g=0;g<s.length;g++){const v=s[g];if(Jo(r,v.selectors,!1))if(a||(a=[]),cr(v))if(null!==v.findHostDirectiveDefs){const S=[];d=d||new Map,v.findHostDirectiveDefs(v,S,d),a.unshift(...S,v),Jc(t,r,S.length)}else a.unshift(v),Jc(t,r,0);else d=d||new Map,v.findHostDirectiveDefs?.(v,a,d),a.push(v)}return null===a?null:[a,d]}(t,s);let v,S;null===g?v=S=null:[v,S]=g,null!==v&&ig(t,r,s,v,d,S),d&&function G_(t,r,s){if(r){const a=t.localNames=[];for(let d=0;d<r.length;d+=2){const g=s[r[d+1]];if(null==g)throw new ue(-301,!1);a.push(r[d],g)}}}(s,a,d)}s.mergedAttrs=gr(s.mergedAttrs,s.attrs)}function ig(t,r,s,a,d,g){for(let G=0;G<a.length;G++)xa(Ui(s,r),t,a[G].type);!function z_(t,r,s){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+s,t.providerIndexes=r}(s,t.data.length,a.length);for(let G=0;G<a.length;G++){const ne=a[G];ne.providersResolver&&ne.providersResolver(ne)}let v=!1,S=!1,P=Yd(t,r,a.length,null);for(let G=0;G<a.length;G++){const ne=a[G];s.mergedAttrs=gr(s.mergedAttrs,ne.hostAttrs),Hh(t,s,r,P,ne),Tm(P,ne,d),null!==ne.contentQueries&&(s.flags|=4),(null!==ne.hostBindings||null!==ne.hostAttrs||0!==ne.hostVars)&&(s.flags|=64);const ge=ne.type.prototype;!v&&(ge.ngOnChanges||ge.ngOnInit||ge.ngDoCheck)&&((t.preOrderHooks??=[]).push(s.index),v=!0),!S&&(ge.ngOnChanges||ge.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(s.index),S=!0),P++}!function Tv(t,r,s){const d=r.directiveEnd,g=t.data,v=r.attrs,S=[];let P=null,G=null;for(let ne=r.directiveStart;ne<d;ne++){const ge=g[ne],Le=s?s.get(ge):null,Dt=Le?Le.outputs:null;P=vm(ge.inputs,ne,P,Le?Le.inputs:null),G=vm(ge.outputs,ne,G,Dt);const Ft=null===P||null===v||Ur(r)?null:Sv(P,ne,v);S.push(Ft)}null!==P&&(P.hasOwnProperty("class")&&(r.flags|=8),P.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=S,r.inputs=P,r.outputs=G}(t,s,g)}function Yf(t,r,s){const a=s.directiveStart,d=s.directiveEnd,g=s.index,v=function O(){return Qn.lFrame.currentDirectiveIndex}();try{Za(g);for(let S=a;S<d;S++){const P=t.data[S],G=r[S];H(S),(null!==P.hostBindings||0!==P.hostVars||null!==P.hostAttrs)&&bm(P,G)}}finally{Za(-1),H(v)}}function bm(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function Jc(t,r,s){r.componentOffset=s,(t.components??=[]).push(r.index)}function Tm(t,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=t;cr(r)&&(s[""]=t)}}function Hh(t,r,s,a,d){t.data[a]=d;const g=d.factory||(d.factory=go(d.type)),v=new Ko(g,cr(d),Zc);t.blueprint[a]=v,s[a]=v,function $_(t,r,s,a,d){const g=d.hostBindings;if(g){let v=t.hostBindingOpCodes;null===v&&(v=t.hostBindingOpCodes=[]);const S=~r.index;(function Em(t){let r=t.length;for(;r>0;){const s=t[--r];if("number"==typeof s&&s<0)return s}return 0})(v)!=S&&v.push(S),v.push(s,a,g)}}(t,r,a,Yd(t,s,d.hostVars,Sr),d)}function Iu(t,r,s,a,d,g){const v=Ut(t,r);!function wm(t,r,s,a,d,g,v){if(null==g)t.removeAttribute(r,d,s);else{const S=null==v?Ee(g):v(g,a||"",d);t.setAttribute(r,d,S,s)}}(r[kn],v,g,t.value,s,a,d)}function Cv(t,r,s,a,d,g){const v=g[r];if(null!==v)for(let S=0;S<v.length;)Cm(a,s,v[S++],v[S++],v[S++])}function Cm(t,r,s,a,d){const g=Qi(null);try{const v=t.inputTransforms;null!==v&&v.hasOwnProperty(a)&&(d=v[a].call(r,d)),null!==t.setInput?t.setInput(r,d,s,a):r[a]=d}finally{Qi(g)}}function Sv(t,r,s){let a=null,d=0;for(;d<s.length;){const g=s[d];if(0!==g)if(5!==g){if("number"==typeof g)break;if(t.hasOwnProperty(g)){null===a&&(a=[]);const v=t[g];for(let S=0;S<v.length;S+=2)if(v[S]===r){a.push(g,v[S+1],s[d+1]);break}}d+=2}else d+=2;else d+=4}return a}function Sm(t,r,s,a){return[t,!0,!1,r,null,0,a,s,null,null,null]}function W_(t,r){const s=t.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const g=s[a+1];if(-1!==g){const v=t.data[g];nt(s[a]),v.contentQueries(2,r[g],g)}}}function sg(t,r){return t[Xs]?t[Ai][ni]=r:t[Xs]=r,t[Ai]=r,r}function Am(t,r,s){nt(0);const a=Qi(null);try{r(t,s)}finally{Qi(a)}}function K_(t){return t[os]||(t[os]=[])}function q_(t){return t.cleanup||(t.cleanup=[])}function Nm(t,r){const s=t[ji],a=s?s.get(ll,null):null;a&&a.handleError(r)}function Zf(t,r,s,a,d){for(let g=0;g<s.length;){const v=s[g++],S=s[g++];Cm(t.data[v],r[v],a,S,d)}}function ec(t,r,s){const a=zt(r,t);!function _p(t,r,s){t.setValue(r,s)}(t[kn],a,s)}function Y_(t,r){const s=vt(r,t),a=s[Gt];!function Z_(t,r){for(let s=r.length;s<t.blueprint.length;s++)r.push(t.blueprint[s])}(a,s);const d=s[Or];null!==d&&null===s[us]&&(s[us]=Kg(d,s[ji])),Gh(a,s,s[Wr])}function Gh(t,r,s){Hn(r);try{const a=t.viewQuery;null!==a&&Am(1,a,s);const d=t.template;null!==d&&pm(t,r,d,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&W_(t,r),t.staticViewQueries&&Am(2,t.viewQuery,s);const g=t.components;null!==g&&function oi(t,r){for(let s=0;s<r.length;s++)Y_(t,r[s])}(r,g)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{r[tn]&=-5,hs()}}let Mm=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(s,a,d){const g=typeof Zone>"u"?null:Zone.current,v=function _t(t,r,s){const a=Object.create(Dr);s&&(a.consumerAllowSignalWrites=!0),a.fn=t,a.schedule=r;const d=v=>{a.cleanupFn=v};return a.ref={notify:()=>ga(a),run:()=>{if(a.dirty=!1,a.hasRun&&!Ra(a))return;a.hasRun=!0;const v=na(a);try{a.cleanupFn(),a.cleanupFn=Bt,a.fn(d)}finally{Ji(a,v)}},cleanup:()=>a.cleanupFn()},a.ref}(s,G=>{this.all.has(G)&&this.queue.set(G,g)},d);let S;this.all.add(v),v.notify();const P=()=>{v.cleanup(),S?.(),this.all.delete(v),this.queue.delete(v)};return S=a?.onDestroy(P),{destroy:P}}flush(){if(0!==this.queue.size)for(const[s,a]of this.queue)this.queue.delete(s),a?a.run(()=>s.run()):s.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=yn({token:t,providedIn:"root",factory:()=>new t})}return t})();function Xc(t,r,s){let a=s?t.styles:null,d=s?t.classes:null,g=0;if(null!==r)for(let v=0;v<r.length;v++){const S=r[v];"number"==typeof S?g=S:1==g?d=Ne(d,S):2==g&&(a=Ne(a,S+": "+r[++v]+";"))}s?t.styles=a:t.stylesWithoutHost=a,s?t.classes=d:t.classesWithoutHost=d}function Qf(t,r,s,a,d=!1){for(;null!==s;){const g=r[s.index];null!==g&&a.push(_n(g)),Mr(g)&&Bo(g,a);const v=s.type;if(8&v)Qf(t,r,s.child,a);else if(32&v){const S=yf(s,r);let P;for(;P=S();)a.push(P)}else if(16&v){const S=Ip(r,s);if(Array.isArray(S))a.push(...S);else{const P=Mc(r[vr]);Qf(P[Gt],P,S,a,!0)}}s=d?s.projectionNext:s.next}return a}function Bo(t,r){for(let s=Ri;s<t.length;s++){const a=t[s],d=a[Gt].firstChild;null!==d&&Qf(a[Gt],a,d,r)}t[ui]!==t[Or]&&r.push(t[ui])}function Ns(t,r,s,a=!0){const d=r[bs],g=d.rendererFactory,v=d.afterRenderEventManager;g.begin?.(),v?.begin();try{Rv(t,r,t.template,s)}catch(P){throw a&&Nm(r,P),P}finally{g.end?.(),d.effectManager?.flush(),v?.end()}}function Rv(t,r,s,a){const d=r[tn];if(256!=(256&d)){r[bs].effectManager?.flush(),Hn(r);try{Nu(r),function Kl(t){return Qn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&pm(t,r,s,2,a);const v=3==(3&d);if(v){const G=t.preOrderCheckHooks;null!==G&&Ol(r,G,null)}else{const G=t.preOrderHooks;null!==G&&mc(r,G,0,null),Qa(r,0)}if(function IE(t){for(let r=Ef(t);null!==r;r=mp(r)){if(!r[Do])continue;const s=r[Fs];for(let a=0;a<s.length;a++){uc(s[a])}}}(r),J_(r,2),null!==t.contentQueries&&W_(t,r),v){const G=t.contentCheckHooks;null!==G&&Ol(r,G)}else{const G=t.contentHooks;null!==G&&mc(r,G,1),Qa(r,1)}!function fm(t,r){const s=t.hostBindingOpCodes;if(null===s)return;const a=Eu(r,eo);try{for(let d=0;d<s.length;d++){const g=s[d];if(g<0)Za(~g);else{const v=g,S=s[++d],P=s[++d];T(S,v),a.dirty=!1;const G=na(a);try{P(2,r[v])}finally{Ji(a,G)}}}}finally{null===r[eo]&&Jp(r,eo),Za(-1)}}(t,r);const S=t.components;null!==S&&og(r,S,0);const P=t.viewQuery;if(null!==P&&Am(2,P,a),v){const G=t.viewCheckHooks;null!==G&&Ol(r,G)}else{const G=t.viewHooks;null!==G&&mc(r,G,2),Qa(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[tn]&=-73,Co(r)}finally{hs()}}}function J_(t,r){for(let s=Ef(t);null!==s;s=mp(s))for(let a=Ri;a<s.length;a++)ey(s[a],r)}function X_(t,r,s){ey(vt(r,t),s)}function ey(t,r){if(!function no(t){return 128==(128&t[tn])}(t))return;const s=t[Gt],a=t[tn];if(80&a&&0===r||1024&a||2===r)Rv(s,t,s.template,t[Wr]);else if(t[bi]>0){J_(t,1);const d=s.components;null!==d&&og(t,d,1)}}function og(t,r,s){for(let a=0;a<r.length;a++)X_(t,r[a],s)}class Jf{get rootNodes(){const r=this._lView,s=r[Gt];return Qf(s,r,s.firstChild,[])}constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Wr]}set context(r){this._lView[Wr]=r}get destroyed(){return 256==(256&this._lView[tn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[dr];if(Mr(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&(Oc(r,a),Tc(s,a))}this._attachedToViewContainer=!1}Sd(this._lView[Gt],this._lView)}onDestroy(r){od(this._lView,r)}markForCheck(){qd(this._cdRefInjectingView||this._lView)}detach(){this._lView[tn]&=-129}reattach(){this._lView[tn]|=128}detectChanges(){Ns(this._lView[Gt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ue(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ul(t,r){Tl(t,r,r[kn],2,null,null)}(this._lView[Gt],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new ue(902,!1);this._appRef=r}}class bE extends Jf{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;Ns(r[Gt],r,r[Wr],!1)}checkNoChanges(){}get context(){return null}}class ts extends Vh{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=Vn(r);return new zh(s,this.ngModule)}}function Nv(t){const r=[];for(let s in t)t.hasOwnProperty(s)&&r.push({propName:t[s],templateName:s});return r}class ho{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,a){a=fn(a);const d=this.injector.get(r,Xg,a);return d!==Xg||s===Xg?d:this.parentInjector.get(r,s,a)}}class zh extends Up{get inputs(){const r=this.componentDef,s=r.inputTransforms,a=Nv(r.inputs);if(null!==s)for(const d of a)s.hasOwnProperty(d.propName)&&(d.transform=s[d.propName]);return a}get outputs(){return Nv(this.componentDef.outputs)}constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function Oi(t){return t.map(Ca).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}create(r,s,a,d){let g=(d=d||this.ngModule)instanceof sl?d:d?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const v=g?new ho(r,g):r,S=v.get(Vf,null);if(null===S)throw new ue(407,!1);const ge={rendererFactory:S,sanitizer:v.get(Bh,null),effectManager:v.get(Mm,null),afterRenderEventManager:v.get(Yp,null)},Le=S.createRenderer(null,this.componentDef),Qe=this.componentDef.selectors[0][0]||"div",Dt=a?function ym(t,r,s,a){const g=a.get(Zp,!1)||s===an.ShadowDom,v=t.selectRootElement(r,g);return function Iv(t){Wf(t)}(v),v}(Le,a,this.componentDef.encapsulation,v):Pc(Le,Qe,function Mv(t){const r=t.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(Qe)),$n=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Mt=null;null!==Dt&&(Mt=Kg(Dt,v,!0));const Ir=zf(0,null,null,1,0,null,null,null,null,null,null),Yr=tg(null,Ir,null,$n,null,null,ge,Le,v,null,Mt);let ns,Ml;Hn(Yr);try{const ih=this.componentDef;let wg,_E=null;ih.findHostDirectiveDefs?(wg=[],_E=new Map,ih.findHostDirectiveDefs(ih,wg,_E),wg.push(ih)):wg=[ih];const JC=function DE(t,r){const s=t[Gt],a=xn;return t[a]=r,Qc(s,a,2,"#host",null)}(Yr,Dt),XC=function ty(t,r,s,a,d,g,v){const S=d[Gt];!function wE(t,r,s,a){for(const d of t)r.mergedAttrs=gr(r.mergedAttrs,d.hostAttrs);null!==r.mergedAttrs&&(Xc(r,r.mergedAttrs,!0),null!==s&&wh(a,s,r))}(a,t,r,v);let P=null;null!==r&&(P=Kg(r,d[ji]));const G=g.rendererFactory.createRenderer(r,s);let ne=16;s.signals?ne=4096:s.onPush&&(ne=64);const ge=tg(d,V_(s),null,ne,d[t.index],t,g,G,null,null,P);return S.firstCreatePass&&Jc(S,t,a.length-1),sg(d,ge),d[t.index]=ge}(JC,Dt,ih,wg,Yr,ge,Le);Ml=qt(Ir,xn),Dt&&function SE(t,r,s,a){if(a)qn(t,s,["ng-version",T_.full]);else{const{attrs:d,classes:g}=function Js(t){const r=[],s=[];let a=1,d=2;for(;a<t.length;){let g=t[a];if("string"==typeof g)2===d?""!==g&&r.push(g,t[++a]):8===d&&s.push(g);else{if(!Ii(d))break;d=g}a++}return{attrs:r,classes:s}}(r.selectors[0]);d&&qn(t,s,d),g&&g.length>0&&Dp(t,s,g.join(" "))}}(Le,ih,Dt,a),void 0!==s&&function AE(t,r,s){const a=t.projection=[];for(let d=0;d<r.length;d++){const g=s[d];a.push(null!=g?Array.from(g):null)}}(Ml,this.ngContentSelectors,s),ns=function CE(t,r,s,a,d,g){const v=zs(),S=d[Gt],P=Ut(v,d);ig(S,d,v,s,null,a);for(let ne=0;ne<s.length;ne++)Ks(Ia(d,S,v.directiveStart+ne,v),d);Yf(S,d,v),P&&Ks(P,d);const G=Ia(d,S,v.directiveStart+v.componentOffset,v);if(t[Wr]=d[Wr]=G,null!==g)for(const ne of g)ne(G,r);return gm(S,v,t),G}(XC,ih,wg,_E,Yr,[RE]),Gh(Ir,Yr,null)}finally{hs()}return new TE(this.componentType,ns,Kc(Ml,Yr),Yr,Ml)}}class TE extends I_{constructor(r,s,a,d,g){super(),this.location=a,this._rootLView=d,this._tNode=g,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new bE(d),this.componentType=r}setInput(r,s){const a=this._tNode.inputs;let d;if(null!==a&&(d=a[r])){if(this.previousInputValues??=new Map,this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),s))return;const g=this._rootLView;Zf(g[Gt],g,d,r,s),this.previousInputValues.set(r,s),qd(vt(this._tNode.index,g))}}get injector(){return new lo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function RE(){const t=zs();gc(wt()[Gt],t)}function ny(t){let r=function Pv(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const a=[t];for(;r;){let d;if(cr(t))d=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new ue(903,!1);d=r.\u0275dir}if(d){if(s){a.push(d);const v=t;v.inputs=ed(t.inputs),v.inputTransforms=ed(t.inputTransforms),v.declaredInputs=ed(t.declaredInputs),v.outputs=ed(t.outputs);const S=d.hostBindings;S&&Wh(t,S);const P=d.viewQuery,G=d.contentQueries;if(P&&Ov(t,P),G&&Zd(t,G),ye(t.inputs,d.inputs),ye(t.declaredInputs,d.declaredInputs),ye(t.outputs,d.outputs),null!==d.inputTransforms&&(null===v.inputTransforms&&(v.inputTransforms={}),ye(v.inputTransforms,d.inputTransforms)),cr(d)&&d.data.animation){const ne=t.data;ne.animation=(ne.animation||[]).concat(d.data.animation)}}const g=d.features;if(g)for(let v=0;v<g.length;v++){const S=g[v];S&&S.ngInherit&&S(t),S===ny&&(s=!1)}}r=Object.getPrototypeOf(r)}!function ry(t){let r=0,s=null;for(let a=t.length-1;a>=0;a--){const d=t[a];d.hostVars=r+=d.hostVars,d.hostAttrs=gr(d.hostAttrs,s=gr(s,d.hostAttrs))}}(a)}function ed(t){return t===Rn?{}:t===en?[]:t}function Ov(t,r){const s=t.viewQuery;t.viewQuery=s?(a,d)=>{r(a,d),s(a,d)}:r}function Zd(t,r){const s=t.contentQueries;t.contentQueries=s?(a,d,g)=>{r(a,d,g),s(a,d,g)}:r}function Wh(t,r){const s=t.hostBindings;t.hostBindings=s?(a,d)=>{r(a,d),s(a,d)}:r}function iy(t){return r=>{r.findHostDirectiveDefs=sy,r.hostDirectives=(Array.isArray(t)?t:t()).map(s=>"function"==typeof s?{directive:lt(s),inputs:Rn,outputs:Rn}:{directive:lt(s.directive),inputs:xm(s.inputs),outputs:xm(s.outputs)})}}function sy(t,r,s){if(null!==t.hostDirectives)for(const a of t.hostDirectives){const d=Nr(a.directive);oy(d.declaredInputs,a.inputs),sy(d,r,s),s.set(d,a),r.push(d)}}function xm(t){if(void 0===t||0===t.length)return Rn;const r={};for(let s=0;s<t.length;s+=2)r[t[s]]=t[s+1];return r}function oy(t,r){for(const s in r)r.hasOwnProperty(s)&&(t[r[s]]=t[s])}function Qd(t){const r=t.inputConfig,s={};for(const a in r)if(r.hasOwnProperty(a)){const d=r[a];Array.isArray(d)&&d[2]&&(s[a]=d[2])}t.inputTransforms=s}function td(t){return!!Lm(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Lm(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function bu(t,r,s){return t[r]=s}function Qo(t,r,s){return!Object.is(t[r],s)&&(t[r]=s,!0)}function nd(t,r,s,a){const d=Qo(t,r,s);return Qo(t,r+1,a)||d}function ag(t,r,s,a){const d=wt();return Qo(d,oo(),r)&&(fr(),Iu(Fi(),d,t,r,s,a)),ag}function Du(t,r,s,a){return Qo(t,oo(),s)?r+Ee(s)+a:Sr}function qh(t,r,s,a,d,g){const S=nd(t,function je(){return Qn.lFrame.bindingIndex}(),s,d);return _o(2),S?r+Ee(s)+a+Ee(d)+g:Sr}function $v(t,r,s,a,d,g,v,S){const P=wt(),G=fr(),ne=t+xn,ge=G.firstCreatePass?function $E(t,r,s,a,d,g,v,S,P){const G=r.consts,ne=Qc(r,t,4,v||null,ro(G,S));qf(r,s,ne,ro(G,P)),gc(r,ne);const ge=ne.tView=zf(2,ne,a,d,g,r.directiveRegistry,r.pipeRegistry,null,r.schemas,G,null);return null!==r.queries&&(r.queries.template(r,ne),ge.queries=r.queries.embeddedTView(ne)),ne}(ne,G,P,r,s,a,d,g,v):G.data[ne];io(ge,!1);const Le=py(G,P,ge,t);ql()&&Fc(G,P,Le,ge),Ks(Le,P),sg(P,P[ne]=Sm(Le,P,Le,ge)),Ds(ge)&&mm(G,P,ge),null!=v&&Gf(P,ge,S)}let py=function Hv(t,r,s,a){return la(!0),r[kn].createComment("")};function Wv(t){return st(function Wl(){return Qn.lFrame.contextLView}(),xn+t)}function rh(t,r,s){const a=wt();return Qo(a,oo(),r)&&ul(fr(),Fi(),a,t,r,a[kn],s,!1),rh}function tp(t,r,s,a,d){const v=d?"class":"style";Zf(t,s,r.inputs[v],v,a)}function fg(t,r,s,a){const d=wt(),g=fr(),v=xn+t,S=d[kn],P=g.firstCreatePass?function GE(t,r,s,a,d,g){const v=r.consts,P=Qc(r,t,2,a,ro(v,d));return qf(r,s,P,ro(v,g)),null!==P.attrs&&Xc(P,P.attrs,!1),null!==P.mergedAttrs&&Xc(P,P.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,P),P}(v,g,d,r,s,a):g.data[v],G=gy(g,d,P,S,r,t);d[v]=G;const ne=Ds(P);return io(P,!0),wh(S,G,P),32!=(32&P.flags)&&ql()&&Fc(g,d,G,P),0===function qa(){return Qn.lFrame.elementDepthCount}()&&Ks(G,d),function Mu(){Qn.lFrame.elementDepthCount++}(),ne&&(mm(g,d,P),gm(g,P,d)),null!==a&&Gf(d,P),fg}function pg(){let t=zs();Ss()?zl():(t=t.parent,io(t,!1));const r=t;(function Gr(t){return Qn.skipHydrationRootTNode===t})(r)&&function Pl(){Qn.skipHydrationRootTNode=null}(),function Hi(){Qn.lFrame.elementDepthCount--}();const s=fr();return s.firstCreatePass&&(gc(s,t),Hs(t)&&s.queries.elementEnd(t)),null!=r.classesWithoutHost&&function sf(t){return 0!=(8&t.flags)}(r)&&tp(s,r,wt(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Mi(t){return 0!=(16&t.flags)}(r)&&tp(s,r,wt(),r.stylesWithoutHost,!1),pg}function $m(t,r,s,a){return fg(t,r,s,a),pg(),$m}let gy=(t,r,s,a,d,g)=>(la(!0),Pc(a,d,function Ou(){return Qn.lFrame.currentNamespace}()));function Hm(t,r,s){const a=wt(),d=fr(),g=t+xn,v=d.firstCreatePass?function WE(t,r,s,a,d){const g=r.consts,v=ro(g,a),S=Qc(r,t,8,"ng-container",v);return null!==v&&Xc(S,v,!0),qf(r,s,S,ro(g,d)),null!==r.queries&&r.queries.elementStart(r,S),S}(g,d,a,r,s):d.data[g];io(v,!0);const S=_y(d,a,v,t);return a[g]=S,ql()&&Fc(d,a,S,v),Ks(S,a),Ds(v)&&(mm(d,a,v),gm(d,v,a)),null!=s&&Gf(a,v),Hm}function Gm(){let t=zs();const r=fr();return Ss()?zl():(t=t.parent,io(t,!1)),r.firstCreatePass&&(gc(r,t),Hs(t)&&r.queries.elementEnd(t)),Gm}let _y=(t,r,s,a)=>(la(!0),vs(r[kn],""));function yy(){return wt()}function zm(t){return!!t&&"function"==typeof t.then}function np(t){return!!t&&"function"==typeof t.subscribe}function Wm(t,r,s,a){const d=wt(),g=fr(),v=zs();return function vy(t,r,s,a,d,g,v){const S=Ds(a),G=t.firstCreatePass&&q_(t),ne=r[Wr],ge=K_(r);let Le=!0;if(3&a.type||v){const Ft=Ut(a,r),mn=v?v(Ft):Ft,$n=ge.length,Mt=v?Yr=>v(_n(Yr[a.index])):a.index;let Ir=null;if(!v&&S&&(Ir=function qE(t,r,s,a){const d=t.cleanup;if(null!=d)for(let g=0;g<d.length-1;g+=2){const v=d[g];if(v===s&&d[g+1]===a){const S=r[os],P=d[g+2];return S.length>P?S[P]:null}"string"==typeof v&&(g+=2)}return null}(t,r,d,a.index)),null!==Ir)(Ir.__ngLastListenerFn__||Ir).__ngNextListenerFn__=g,Ir.__ngLastListenerFn__=g,Le=!1;else{g=Qv(a,r,ne,g,!1);const Yr=s.listen(mn,d,g);ge.push(g,Yr),G&&G.push(d,Mt,$n,$n+1)}}else g=Qv(a,r,ne,g,!1);const Qe=a.outputs;let Dt;if(Le&&null!==Qe&&(Dt=Qe[d])){const Ft=Dt.length;if(Ft)for(let mn=0;mn<Ft;mn+=2){const ns=r[Dt[mn]][Dt[mn+1]].subscribe(g),Ml=ge.length;ge.push(g,ns),G&&G.push(d,a.index,Ml,-(Ml+1))}}}(g,d,d[kn],v,t,r,a),Wm}function Zv(t,r,s,a){try{return pn(6,r,s),!1!==s(a)}catch(d){return Nm(t,d),!1}finally{pn(7,r,s)}}function Qv(t,r,s,a,d){return function g(v){if(v===Function)return a;qd(t.componentOffset>-1?vt(t.index,r):r);let P=Zv(r,s,a,v),G=g.__ngNextListenerFn__;for(;G;)P=Zv(r,s,G,v)&&P,G=G.__ngNextListenerFn__;return d&&!1===P&&v.preventDefault(),P}}function Jv(t=1){return function Us(t){return(Qn.lFrame.contextLView=function _a(t,r){for(;t>0;)r=r[ks],t--;return r}(t,Qn.lFrame.contextLView))[Wr]}(t)}function YE(t,r){let s=null;const a=function hl(t){const r=t.attrs;if(null!=r){const s=r.indexOf(5);if(!(1&s))return r[s+1]}return null}(t);for(let d=0;d<r.length;d++){const g=r[d];if("*"!==g){if(null===a?Jo(t,g,!0):Ao(a,g))return d}else s=d}return s}function Xv(t){const r=wt()[vr][jr];if(!r.projection){const a=r.projection=ru(t?t.length:1,null),d=a.slice();let g=r.child;for(;null!==g;){const v=t?YE(g,t):0;null!==v&&(d[v]?d[v].projectionNext=g:a[v]=g,d[v]=g),g=g.next}}}function Km(t,r=0,s){const a=wt(),d=fr(),g=Qc(d,xn+t,16,null,s||null);null===g.projection&&(g.projection=r),zl(),(!a[us]||mo())&&32!=(32&g.flags)&&function Lc(t,r,s){Md(r[kn],0,r,s,kc(t,s,r),Og(s.parent||r[jr],s,r))}(d,a,g)}function qm(t,r,s){return Ym(t,"",r,"",s),qm}function Ym(t,r,s,a,d){const g=wt(),v=Du(g,r,s,a);return v!==Sr&&ul(fr(),Fi(),g,t,v,g[kn],d,!1),Ym}function Ey(t,r,s,a,d,g,v){const S=wt(),P=qh(S,r,s,a,d,g);return P!==Sr&&ul(fr(),Fi(),S,t,P,S[kn],v,!1),Ey}function mg(t,r){return t<<17|r<<2}function oc(t){return t>>17&32767}function Xm(t){return 2|t}function ac(t){return(131068&t)>>2}function e_(t,r){return-131069&t|r<<2}function yg(t){return 1|t}function Iy(t,r,s,a,d){const g=t[s+1],v=null===r;let S=a?oc(g):ac(g),P=!1;for(;0!==S&&(!1===P||v);){const ne=t[S+1];by(t[S],r)&&(P=!0,t[S+1]=a?yg(ne):Xm(ne)),S=a?oc(ne):ac(ne)}P&&(t[s+1]=a?Xm(g):yg(g))}function by(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&Va(t,r)>=0}const fo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ty(t){return t.substring(fo.key,fo.keyEnd)}function a0(t,r){const s=fo.textEnd;return s===r?-1:(r=fo.keyEnd=function vg(t,r,s){for(;r<s&&t.charCodeAt(r)>32;)r++;return r}(t,fo.key=r,s),ip(t,r,s))}function ip(t,r,s){for(;r<s&&t.charCodeAt(r)<=32;)r++;return r}function n_(t,r,s){return Su(t,r,s,!1),n_}function r_(t,r){return Su(t,r,null,!0),r_}function Ry(t){!function Au(t,r,s,a){const d=fr(),g=_o(2);d.firstUpdatePass&&Ny(d,null,g,a);const v=wt();if(s!==Sr&&Qo(v,g,s)){const S=d.data[Ws()];if(Py(S,a)&&!u0(d,g)){let P=a?S.classesWithoutHost:S.stylesWithoutHost;null!==P&&(s=Ne(P,s||"")),tp(d,S,v,s,a)}else!function oI(t,r,s,a,d,g,v,S){d===Sr&&(d=en);let P=0,G=0,ne=0<d.length?d[0]:null,ge=0<g.length?g[0]:null;for(;null!==ne||null!==ge;){const Le=P<d.length?d[P+1]:void 0,Qe=G<g.length?g[G+1]:void 0;let Ft,Dt=null;ne===ge?(P+=2,G+=2,Le!==Qe&&(Dt=ge,Ft=Qe)):null===ge||null!==ne&&ne<ge?(P+=2,Dt=ne):(G+=2,Dt=ge,Ft=Qe),null!==Dt&&h0(t,r,s,a,Dt,Ft,v,S),ne=P<d.length?d[P]:null,ge=G<g.length?g[G]:null}}(d,S,v,v[kn],v[g+1],v[g+1]=function c0(t,r,s){if(null==s||""===s)return en;const a=[],d=rl(s);if(Array.isArray(d))for(let g=0;g<d.length;g++)t(a,d[g],!0);else if("object"==typeof d)for(const g in d)d.hasOwnProperty(g)&&t(a,g,d[g]);else"string"==typeof d&&r(a,d);return a}(t,r,s),a,g)}}(sI,lc,t,!0)}function lc(t,r){for(let s=function o0(t){return function Cy(t){fo.key=0,fo.keyEnd=0,fo.value=0,fo.valueEnd=0,fo.textEnd=t.length}(t),a0(t,ip(t,0,fo.textEnd))}(r);s>=0;s=a0(r,s))Rs(t,Ty(r),!0)}function Su(t,r,s,a){const d=wt(),g=fr(),v=_o(2);g.firstUpdatePass&&Ny(g,t,v,a),r!==Sr&&Qo(d,v,r)&&h0(g,g.data[Ws()],d,d[kn],t,d[v+1]=function aI(t,r){return null==t||""===t||("string"==typeof r?t+=r:"object"==typeof t&&(t=Ae(rl(t)))),t}(r,s),a,v)}function u0(t,r){return r>=t.expandoStartIndex}function Ny(t,r,s,a){const d=t.data;if(null===d[s+1]){const g=d[Ws()],v=u0(t,s);Py(g,a)&&null===r&&!v&&(r=!1),r=function tI(t,r,s,a){const d=function ie(t){const r=Qn.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}(t);let g=a?r.residualClasses:r.residualStyles;if(null===d)0===(a?r.classBindings:r.styleBindings)&&(s=Ig(s=My(null,t,r,s,a),r.attrs,a),g=null);else{const v=r.directiveStylingLast;if(-1===v||t[v]!==d)if(s=My(d,t,r,s,a),null===g){let P=function nI(t,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==ac(a))return t[oc(a)]}(t,r,a);void 0!==P&&Array.isArray(P)&&(P=My(null,t,r,P[1],a),P=Ig(P,r.attrs,a),function rI(t,r,s,a){t[oc(s?r.classBindings:r.styleBindings)]=a}(t,r,a,P))}else g=function iI(t,r,s){let a;const d=r.directiveEnd;for(let g=1+r.directiveStylingLast;g<d;g++)a=Ig(a,t[g].hostAttrs,s);return Ig(a,r.attrs,s)}(t,r,a)}return void 0!==g&&(a?r.residualClasses=g:r.residualStyles=g),s}(d,g,r,a),function t_(t,r,s,a,d,g){let v=g?r.classBindings:r.styleBindings,S=oc(v),P=ac(v);t[a]=s;let ne,G=!1;if(Array.isArray(s)?(ne=s[1],(null===ne||Va(s,ne)>0)&&(G=!0)):ne=s,d)if(0!==P){const Le=oc(t[S+1]);t[a+1]=mg(Le,S),0!==Le&&(t[Le+1]=e_(t[Le+1],a)),t[S+1]=function Jm(t,r){return 131071&t|r<<17}(t[S+1],a)}else t[a+1]=mg(S,0),0!==S&&(t[S+1]=e_(t[S+1],a)),S=a;else t[a+1]=mg(P,0),0===S?S=a:t[P+1]=e_(t[P+1],a),P=a;G&&(t[a+1]=Xm(t[a+1])),Iy(t,ne,a,!0),Iy(t,ne,a,!1),function s0(t,r,s,a,d){const g=d?t.residualClasses:t.residualStyles;null!=g&&"string"==typeof r&&Va(g,r)>=0&&(s[a+1]=yg(s[a+1]))}(r,ne,t,a,g),v=mg(S,P),g?r.classBindings=v:r.styleBindings=v}(d,g,r,s,v,a)}}function My(t,r,s,a,d){let g=null;const v=s.directiveEnd;let S=s.directiveStylingLast;for(-1===S?S=s.directiveStart:S++;S<v&&(g=r[S],a=Ig(a,g.hostAttrs,d),g!==t);)S++;return null!==t&&(s.directiveStylingLast=S),a}function Ig(t,r,s){const a=s?1:2;let d=-1;if(null!==r)for(let g=0;g<r.length;g++){const v=r[g];"number"==typeof v?d=v:d===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Rs(t,v,!!s||r[++g]))}return void 0===t?null:t}function sI(t,r,s){const a=String(r);""!==a&&!a.includes(" ")&&Rs(t,a,s)}function h0(t,r,s,a,d,g,v,S){if(!(3&r.type))return;const P=t.data,G=P[S+1],ne=function ZE(t){return 1==(1&t)}(G)?f0(P,r,s,d,ac(G),v):void 0;i_(ne)||(i_(g)||function _g(t){return 2==(2&t)}(G)&&(g=f0(P,null,s,d,S,v)),function bp(t,r,s,a,d){if(r)d?t.addClass(s,a):t.removeClass(s,a);else{let g=-1===a.indexOf("-")?void 0:uu.DashCase;null==d?t.removeStyle(s,a,g):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),g|=uu.Important),t.setStyle(s,a,d,g))}}(a,v,zt(Ws(),s),d,g))}function f0(t,r,s,a,d,g){const v=null===r;let S;for(;d>0;){const P=t[d],G=Array.isArray(P),ne=G?P[1]:P,ge=null===ne;let Le=s[d+1];Le===Sr&&(Le=ge?en:void 0);let Qe=ge?tl(Le,a):ne===a?Le:void 0;if(G&&!i_(Qe)&&(Qe=tl(P,a)),i_(Qe)&&(S=Qe,v))return S;const Dt=t[d+1];d=v?oc(Dt):ac(Dt)}if(null!==r){let P=g?r.residualClasses:r.residualStyles;null!=P&&(S=tl(P,a))}return S}function i_(t){return void 0!==t}function Py(t,r){return 0!=(t.flags&(r?8:16))}function p0(t,r=""){const s=wt(),a=fr(),d=t+xn,g=a.firstCreatePass?Qc(a,d,1,r,null):a.data[d],v=g0(a,s,g,r,t);s[d]=v,ql()&&Fc(a,s,v,g),io(g,!1)}let g0=(t,r,s,a,d)=>(la(!0),hu(r[kn],a));function Oy(t){return s_("",t,""),Oy}function s_(t,r,s){const a=wt(),d=Du(a,t,r,s);return d!==Sr&&ec(a,Ws(),d),s_}function xy(t,r,s,a,d){const g=wt(),v=qh(g,t,r,s,a,d);return v!==Sr&&ec(g,Ws(),v),xy}function Fy(t,r,s){const a=wt();return Qo(a,oo(),r)&&ul(fr(),Fi(),a,t,r,a[kn],s,!0),Fy}const Jh=void 0;var SI=["en",[["a","p"],["AM","PM"],Jh],[["AM","PM"],Jh,Jh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Jh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Jh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Jh,"{1} 'at' {0}",Jh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function CI(t){const s=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let Xh={};function Vy(t){const r=function RI(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=x0(r);if(s)return s;const a=r.split("-")[0];if(s=x0(a),s)return s;if("en"===a)return SI;throw new ue(701,!1)}function O0(t){return Vy(t)[sp.PluralCase]}function x0(t){return t in Xh||(Xh[t]=Vt.ng&&Vt.ng.common&&Vt.ng.common.locales&&Vt.ng.common.locales[t]),Xh[t]}var sp=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(sp||{});const ef="en-US",i={marker:"element"},e={marker:"ICU"};var n=function(t){return t[t.SHIFT=2]="SHIFT",t[t.APPEND_EAGERLY=1]="APPEND_EAGERLY",t[t.COMMENT=2]="COMMENT",t}(n||{});let u=ef;function f(t){(function St(t,r){null==t&&Et(r,t,null,"!=")})(t,"Expected localeId to be defined"),"string"==typeof t&&(u=t.toLowerCase().replace(/_/g,"-"))}function N(t,r,s){const a=r.insertBeforeIndex,d=Array.isArray(a)?a[0]:a;return null===d?fu(t,0,s):_n(s[d])}function x(t,r,s,a,d){const g=r.insertBeforeIndex;if(Array.isArray(g)){let v=a,S=null;if(3&r.type||(S=v,v=d),null!==v&&-1===r.componentOffset)for(let P=1;P<g.length;P++)zu(t,v,s[g[P]],S,!1)}}function W(t,r){if(t.push(r),t.length>1)for(let s=t.length-2;s>=0;s--){const a=t[s];te(a)||he(a,r)&&null===xe(a)&&ot(a,r.index)}}function te(t){return!(64&t.type)}function he(t,r){return te(r)||t.index>r.index}function xe(t){const r=t.insertBeforeIndex;return Array.isArray(r)?r[0]:r}function ot(t,r){const s=t.insertBeforeIndex;Array.isArray(s)?s[0]=r:(xg(N,x),t.insertBeforeIndex=r)}function Zn(t,r,s){const a=ng(t,s,64,null,null);return W(r,a),a}function GT(){const t=[];let s,a,r=-1;function g(S,P){r=0;const G=function er(t,r){const s=r[t.currentCaseLViewIndex];return null===s?s:s<0?~s:s}(S,P);a=null!==G?S.remove[G]:en}function v(){if(r<a.length){const S=a[r++];return S>0?s[S]:(t.push(r,a),g(s[Gt].data[~S],s),v())}return 0===t.length?null:(a=t.pop(),r=t.pop(),v())}return function d(S,P){for(s=P;t.length;)t.pop();return g(S.value,P),v}}const Uy=/\ufffd(\d+):?\d*\ufffd/gi,WT=/\ufffd(\d+)\ufffd/,VI=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,o_="\ufffd",KT=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,qT=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,YT=/\uE500/g;function BI(t,r,s,a,d,g,v){const S=Yd(t,a,1,null);let P=S<<n.SHIFT,G=ml();r===G&&(G=null),null===G&&(P|=n.APPEND_EAGERLY),v&&(P|=n.COMMENT,function vf(t){void 0===Ih&&(Ih=t())}(GT)),d.push(P,null===g?"":g);const ne=ng(t,S,v?32:1,null===g?"":g,null);W(s,ne);const ge=ne.index;return io(ne,!1),null!==G&&r!==G&&function on(t,r){let s=t.insertBeforeIndex;null===s?(xg(N,x),s=t.insertBeforeIndex=[null,r]):(function At(t,r,s){t!=r&&Et(s,t,r,"==")}(Array.isArray(s),!0,"Expecting array here"),s.push(r))}(G,ge),ne}function JT(t,r,s,a,d,g,v){const S=v.match(Uy),P=BI(t,r,s,g,a,S?null:v,!1);S&&a_(d,v,P.index,null,0,null)}function a_(t,r,s,a,d,g){const v=t.length,S=v+1;t.push(null,null);const P=v+2,G=r.split(Uy);let ne=0;for(let ge=0;ge<G.length;ge++){const Le=G[ge];if(1&ge){const Qe=d+parseInt(Le,10);t.push(-1-Qe),ne|=UI(Qe)}else""!==Le&&t.push(Le)}return t.push(s<<2|(a?1:0)),a&&t.push(a,g),t[v]=ne,t[S]=t.length-P,ne}function UI(t){return 1<<Math.min(t,31)}function jI(t){let r,g,s="",a=0,d=!1;for(;null!==(r=KT.exec(t));)d?r[0]===`${o_}/*${g}${o_}`&&(a=r.index,d=!1):(s+=t.substring(a,r.index+r[0].length),g=r[1],d=!0);return s+=t.slice(a),s}function $I(t,r,s,a,d,g){let v=0;const S={type:d.type,currentCaseLViewIndex:Yd(t,r,1,null),anchorIdx:g,cases:[],create:[],remove:[],update:[]};(function oD(t,r,s){t.push(UI(r.mainBinding),2,-1-r.mainBinding,s<<2|2)})(s,d,g),function nn(t,r,s){const a=t.data[r];null===a?t.data[r]=s:a.value=s}(t,g,S);const P=d.values;for(let G=0;G<P.length;G++){const ne=P[G],ge=[];for(let Le=0;Le<ne.length;Le++){const Qe=ne[Le];if("string"!=typeof Qe){const Dt=ge.push(Qe)-1;ne[Le]=`\x3c!--\ufffd${Dt}\ufffd--\x3e`}}v=iD(t,S,r,s,a,d.cases[G],ne.join(""),ge)|v}v&&function aD(t,r,s){t.push(r,1,s<<2|3)}(s,v,g)}function rD(t){const r=[],s=[];let a=1,d=0;const g=F0(t=t.replace(VI,function(v,S,P){return a="select"===P?0:1,d=parseInt(S.slice(1),10),""}));for(let v=0;v<g.length;){let S=g[v++].trim();1===a&&(S=S.replace(/\s*(?:=)?(\w+)\s*/,"$1")),S.length&&r.push(S);const P=F0(g[v++]);r.length>s.length&&s.push(P)}return{type:a,mainBinding:d,cases:r,values:s}}function F0(t){if(!t)return[];let r=0;const s=[],a=[],d=/[{}]/g;let g;for(d.lastIndex=0;g=d.exec(t);){const S=g.index;if("}"==g[0]){if(s.pop(),0==s.length){const P=t.substring(r,S);VI.test(P)?a.push(rD(P)):a.push(P),r=S+1}}else{if(0==s.length){const P=t.substring(r,S);a.push(P),r=S+1}s.push("{")}}const v=t.substring(r);return a.push(v),a}function iD(t,r,s,a,d,g,v,S){const P=[],G=[],ne=[];r.cases.push(g),r.create.push(P),r.remove.push(G),r.update.push(ne);const Le=function Pp(t){const r=new jc(t);return function Ld(){try{return!!(new window.DOMParser).parseFromString(Vc(""),"text/html")}catch{return!1}}()?new Fd(r):r}(xd()).getInertBodyElement(v),Qe=function Ot(t){return"content"in t&&function Zt(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}(Le)||Le;return Qe?HI(t,r,s,a,P,G,ne,Qe,d,S,0):0}function HI(t,r,s,a,d,g,v,S,P,G,ne){let ge=0,Le=S.firstChild;for(;Le;){const Qe=Yd(t,s,1,null);switch(Le.nodeType){case Node.ELEMENT_NODE:const Dt=Le,Ft=Dt.tagName.toLowerCase();if(h.hasOwnProperty(Ft)){L0(d,i,Ft,P,Qe),t.data[Qe]=Ft;const Ir=Dt.attributes;for(let Yr=0;Yr<Ir.length;Yr++){const ns=Ir.item(Yr),Ml=ns.name.toLowerCase();ns.value.match(Uy)?E.hasOwnProperty(Ml)&&a_(v,ns.value,Qe,ns.name,0,I[Ml]?Sh:null):lD(d,Qe,ns)}ge=HI(t,r,s,a,d,g,v,Le,Qe,G,ne+1)|ge,GI(g,Qe,ne)}break;case Node.TEXT_NODE:const mn=Le.textContent||"",$n=mn.match(Uy);L0(d,null,$n?"":mn,P,Qe),GI(g,Qe,ne),$n&&(ge=a_(v,mn,Qe,null,0,null)|ge);break;case Node.COMMENT_NODE:const Mt=WT.exec(Le.textContent||"");if(Mt){const Yr=G[parseInt(Mt[1],10)];L0(d,e,"",P,Qe),$I(t,s,a,P,Yr,Qe),sD(g,Qe,ne)}}Le=Le.nextSibling}return ge}function GI(t,r,s){0===s&&t.push(r)}function sD(t,r,s){0===s&&(t.push(~r),t.push(r))}function L0(t,r,s,a,d){null!==r&&t.push(r),t.push(s,d,function Li(t,r,s){return t|r<<17|s<<1}(0,a,d))}function lD(t,r,s){t.push(r<<1|1,s.name,s.value)}function WI(t,r,s=-1){const a=fr(),d=wt(),g=xn+t,v=ro(a.consts,r),S=ml();a.firstCreatePass&&function QT(t,r,s,a,d,g){const v=ml(),S=[],P=[],G=[[]];d=function nD(t,r){if(function tD(t){return-1===t}(r))return jI(t);{const s=t.indexOf(`:${r}${o_}`)+2+r.toString().length,a=t.search(new RegExp(`${o_}\\/\\*\\d+:${r}${o_}`));return jI(t.substring(s,a))}}(d,g);const ne=function ZT(t){return t.replace(YT," ")}(d).split(qT);for(let ge=0;ge<ne.length;ge++){let Le=ne[ge];if(1&ge){const Qe=47===Le.charCodeAt(0),Ft=(Le.charCodeAt(Qe?1:0),xn+Number.parseInt(Le.substring(Qe?2:1)));if(Qe)G.shift(),io(ml(),!1);else{const mn=Zn(t,G[0],Ft);G.unshift([]),io(mn,!0)}}else{const Qe=F0(Le);for(let Dt=0;Dt<Qe.length;Dt++){let Ft=Qe[Dt];if(1&Dt){const mn=Ft;if("object"!=typeof mn)throw new Error(`Unable to parse ICU expression in "${d}" message.`);$I(t,s,P,r,mn,BI(t,v,G[0],s,S,"",!0).index)}else""!==Ft&&JT(t,v,G[0],S,P,s,Ft)}}}t.data[a]={create:S,update:P}}(a,null===S?0:S.index,d,g,v,s),2===a.type?d[vr][tn]|=32:d[tn]|=32;const P=a.data[g],ne=Mg(a,S===d[jr]?null:S,d);(function jT(t,r,s,a){const d=t[kn];for(let g=0;g<r.length;g++){const v=r[g++],S=r[g],G=(v&n.APPEND_EAGERLY)===n.APPEND_EAGERLY,ne=v>>>n.SHIFT;let ge=t[ne];null===ge&&(ge=t[ne]=(v&n.COMMENT)===n.COMMENT?d.createComment(S):hu(d,S)),G&&null!==s&&zu(d,s,ge,a,!1)}})(d,P.create,ne,S&&8&S.type?d[S.index]:null),M(!0)}function qI(t,r,s){WI(t,r,s),function KI(){M(!1)}()}function V0(t,r,s,a,d){if(t=lt(t),Array.isArray(t))for(let g=0;g<t.length;g++)V0(t[g],r,s,a,d);else{const g=fr(),v=wt(),S=zs();let P=wa(t)?t:lt(t.provide);const G=Zu(t),ne=1048575&S.providerIndexes,ge=S.directiveStart,Le=S.providerIndexes>>20;if(wa(t)||!t.multi){const Qe=new Ko(G,d,Zc),Dt=U0(P,r,d?ne:ne+Le,ge);-1===Dt?(xa(Ui(S,v),g,P),B0(g,t,r.length),r.push(P),S.directiveStart++,S.directiveEnd++,d&&(S.providerIndexes+=1048576),s.push(Qe),v.push(Qe)):(s[Dt]=Qe,v[Dt]=Qe)}else{const Qe=U0(P,r,ne+Le,ge),Dt=U0(P,r,ne,ne+Le),mn=Dt>=0&&s[Dt];if(d&&!mn||!d&&!(Qe>=0&&s[Qe])){xa(Ui(S,v),g,P);const $n=function DD(t,r,s,a,d){const g=new Ko(t,s,Zc);return g.multi=[],g.index=r,g.componentProviders=0,ZI(g,d,a&&!s),g}(d?TD:bD,s.length,d,a,G);!d&&mn&&(s[Dt].providerFactory=$n),B0(g,t,r.length,0),r.push(P),S.directiveStart++,S.directiveEnd++,d&&(S.providerIndexes+=1048576),s.push($n),v.push($n)}else B0(g,t,Qe>-1?Qe:Dt,ZI(s[d?Dt:Qe],G,!d&&a));!d&&a&&mn&&s[Dt].componentProviders++}}}function B0(t,r,s,a){const d=wa(r),g=function Mh(t){return!!t.useClass}(r);if(d||g){const P=(g?lt(r.useClass):r).prototype.ngOnDestroy;if(P){const G=t.destroyHooks||(t.destroyHooks=[]);if(!d&&r.multi){const ne=G.indexOf(s);-1===ne?G.push(s,[a,P]):G[ne+1].push(a,P)}else G.push(s,P)}}}function ZI(t,r,s){return s&&t.componentProviders++,t.multi.push(r)-1}function U0(t,r,s,a){for(let d=s;d<a;d++)if(r[d]===t)return d;return-1}function bD(t,r,s,a){return j0(this.multi,[])}function TD(t,r,s,a){const d=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,S=Ia(s,s[Gt],this.providerFactory.index,a);g=S.slice(0,v),j0(d,g);for(let P=v;P<S.length;P++)g.push(S[P])}else g=[],j0(d,g);return g}function j0(t,r){for(let s=0;s<t.length;s++)r.push((0,t[s])());return r}function QI(t,r=[]){return s=>{s.providersResolver=(a,d)=>function ID(t,r,s){const a=fr();if(a.firstCreatePass){const d=cr(t);V0(s,a.data,a.blueprint,d,!0),V0(r,a.data,a.blueprint,d,!1)}}(a,d?d(t):t,r)}}class op{}class JI{}function wD(t,r){return new $0(t,r??null,[])}class $0 extends op{constructor(r,s,a){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ts(this);const d=ti(r);this._bootstrapComponents=Hl(d.bootstrap),this._r3Injector=zp(r,s,[{provide:op,useValue:this},{provide:Vh,useValue:this.componentFactoryResolver},...a],Ae(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class H0 extends JI{constructor(r){super(),this.moduleType=r}create(r){return new $0(this.moduleType,r,[])}}class XI extends op{constructor(r){super(),this.componentFactoryResolver=new ts(this),this.instance=null;const s=new Yu([...r.providers,{provide:op,useValue:this},{provide:Vh,useValue:this.componentFactoryResolver}],r.parent||Gc(),r.debugName,new Set(["environment"]));this.injector=s,r.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function eb(t,r,s=null){return new XI({providers:t,parent:r,debugName:s,runEnvironmentInitializers:!0}).injector}let SD=(()=>{class t{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s)){const a=Zo(0,s.type),d=a.length>0?eb([a],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s,d)}return this.cachedInjectors.get(s)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=yn({token:t,providedIn:"environment",factory:()=>new t(Rt(sl))})}return t})();function tb(t){t.getStandaloneInjector=r=>r.get(SD).getOrCreateStandaloneInjector(t)}function lb(t,r,s,a){return db(wt(),so(),t,r,s,a)}function ub(t,r,s,a,d){return function hb(t,r,s,a,d,g,v){const S=r+s;return nd(t,S,d,g)?bu(t,S+2,v?a.call(v,d,g):a(d,g)):l_(t,S+2)}(wt(),so(),t,r,s,a,d)}function cb(t,r,s,a,d,g){return function fb(t,r,s,a,d,g,v,S){const P=r+s;return function Tu(t,r,s,a,d){const g=nd(t,r,s,a);return Qo(t,r+2,d)||g}(t,P,d,g,v)?bu(t,P+3,S?a.call(S,d,g,v):a(d,g,v)):l_(t,P+3)}(wt(),so(),t,r,s,a,d,g)}function l_(t,r){const s=t[r];return s===Sr?void 0:s}function db(t,r,s,a,d,g){const v=r+s;return Qo(t,v,d)?bu(t,v+1,g?a.call(g,d):a(d)):l_(t,v+1)}function mb(t,r){const s=fr();let a;const d=t+xn;s.firstCreatePass?(a=function HD(t,r){if(r)for(let s=r.length-1;s>=0;s--){const a=r[s];if(t===a.name)return a}}(r,s.pipeRegistry),s.data[d]=a,a.onDestroy&&(s.destroyHooks??=[]).push(d,a.onDestroy)):a=s.data[d];const g=a.factory||(a.factory=go(a.type)),S=sr(Zc);try{const P=yc(!1),G=g();return yc(P),function zv(t,r,s,a){s>=t.data.length&&(t.data[s]=null,t.blueprint[s]=null),r[s]=a}(s,wt(),d,G),G}finally{sr(S)}}function _b(t,r,s){const a=t+xn,d=wt(),g=st(d,a);return function u_(t,r){return t[Gt].data[r].pure}(d,a)?db(d,so(),r,g.transform,s,g):g.transform(s)}function qD(){return this._results[Symbol.iterator]()}class z0{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Rl)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=z0.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=qD)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const d=function da(t){return t.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function uh(t,r,s){if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++){let d=t[a],g=r[a];if(s&&(d=s(d),g=s(g)),g!==d)return!1}return!0}(a._results,d,s))&&(a._results=d,a.length=d.length,a.last=d[this.length-1],a.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function ZD(t,r,s,a=!0){const d=r[Gt];if(function If(t,r,s,a){const d=Ri+a,g=s.length;a>0&&(s[d-1][ni]=r),a<g-Ri?(r[ni]=s[d],gd(s,Ri+a,r)):(s.push(r),r[ni]=null),r[dr]=s;const v=r[Io];null!==v&&s!==v&&function Cd(t,r){const s=t[Fs];r[vr]!==r[dr][dr][vr]&&(t[Do]=!0),null===s?t[Fs]=[r]:s.push(r)}(v,r);const S=r[as];null!==S&&S.insertView(t),r[tn]|=128}(d,r,t,s),a){const g=Dh(s,t),v=r[kn],S=Tf(v,t[ui]);null!==S&&function Gu(t,r,s,a,d,g){a[Or]=d,a[jr]=r,Tl(t,a,s,1,d,g)}(d,t[jr],v,r,S,g)}}let c_=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=XD}return t})();const QD=c_,JD=class extends QD{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(r,s){return this.createEmbeddedViewImpl(r,s)}createEmbeddedViewImpl(r,s,a){const d=function YD(t,r,s,a){const d=r.tView,S=tg(t,d,s,4096&t[tn]?4096:16,null,r,null,null,null,a?.injector??null,a?.hydrationInfo??null);S[Io]=t[r.index];const G=t[as];return null!==G&&(S[as]=G.createEmbeddedView(d)),Gh(d,S,s),S}(this._declarationLView,this._declarationTContainer,r,{injector:s,hydrationInfo:a});return new Jf(d)}};function XD(){return jy(zs(),wt())}function jy(t,r){return 4&t.type?new JD(r,t,Kc(t,r)):null}let Hy=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=sw}return t})();function sw(){return Db(zs(),wt())}const ow=Hy,bb=class extends ow{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return Kc(this._hostTNode,this._hostLView)}get injector(){return new lo(this._hostTNode,this._hostLView)}get parentInjector(){const r=Oa(this._hostTNode,this._hostLView);if(Qr(r)){const s=ao(r,this._hostLView),a=Pa(r);return new lo(s[Gt].data[a+8],s)}return new lo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=Tb(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-Ri}createEmbeddedView(r,s,a){let d,g;"number"==typeof a?d=a:null!=a&&(d=a.index,g=a.injector);const S=r.createEmbeddedViewImpl(s||{},g,null);return this.insertImpl(S,d,false),S}createComponent(r,s,a,d,g){const v=r&&!function tu(t){return"function"==typeof t}(r);let S;if(v)S=s;else{const Ft=s||{};S=Ft.index,a=Ft.injector,d=Ft.projectableNodes,g=Ft.environmentInjector||Ft.ngModuleRef}const P=v?r:new zh(Vn(r)),G=a||this.parentInjector;if(!g&&null==P.ngModule){const mn=(v?G:this.parentInjector).get(sl,null);mn&&(g=mn)}Vn(P.componentType??{});const Qe=P.create(G,d,null,g);return this.insertImpl(Qe.hostView,S,false),Qe}insert(r,s){return this.insertImpl(r,s,!1)}insertImpl(r,s,a){const d=r._lView;if(function Na(t){return Mr(t[dr])}(d)){const P=this.indexOf(r);if(-1!==P)this.detach(P);else{const G=d[dr],ne=new bb(G,G[jr],G[dr]);ne.detach(ne.indexOf(r))}}const v=this._adjustIndex(s),S=this._lContainer;return ZD(S,d,v,!a),r.attachToViewContainerRef(),gd(W0(S),v,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=Tb(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=Oc(this._lContainer,s);a&&(Tc(W0(this._lContainer),s),Sd(a[Gt],a))}detach(r){const s=this._adjustIndex(r,-1),a=Oc(this._lContainer,s);return a&&null!=Tc(W0(this._lContainer),s)?new Jf(a):null}_adjustIndex(r,s=0){return r??this.length+s}};function Tb(t){return t[8]}function W0(t){return t[8]||(t[8]=[])}function Db(t,r){let s;const a=r[t.index];return Mr(a)?s=a:(s=Sm(a,r,null,t),r[t.index]=s,sg(r,s)),wb(s,r,t,a),new bb(s,t,r)}let wb=function Cb(t,r,s,a){if(t[ui])return;let d;d=8&s.type?_n(a):function aw(t,r){const s=t[kn],a=s.createComment(""),d=Ut(r,t);return zu(s,Tf(s,d),a,function p_(t,r){return t.nextSibling(r)}(s,d),!1),a}(r,s),t[ui]=d};class K0{constructor(r){this.queryList=r,this.matches=null}clone(){return new K0(this.queryList)}setDirty(){this.queryList.setDirty()}}class q0{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,d=[];for(let g=0;g<a;g++){const v=s.getByIndex(g);d.push(this.queries[v.indexInDeclarationView].clone())}return new q0(d)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==kb(r,s).matches&&this.queries[s].setDirty()}}class Sb{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class Y0{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const d=null!==s?s.length:0,g=this.getByIndex(a).embeddedTView(r,d);g&&(g.indexInDeclarationView=a,null!==s?s.push(g):s=[g])}return null!==s?new Y0(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class Z0{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new Z0(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let d=0;d<a.length;d++){const g=a[d];this.matchTNodeWithReadOption(r,s,cw(s,g)),this.matchTNodeWithReadOption(r,s,Ea(s,r,g,!1,!1))}else a===c_?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,Ea(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const d=this.metadata.read;if(null!==d)if(d===Lf||d===Hy||d===c_&&4&s.type)this.addMatch(s.index,-2);else{const g=Ea(s,r,d,!1,!1);null!==g&&this.addMatch(s.index,g)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function cw(t,r){const s=t.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function hw(t,r,s,a){return-1===s?function dw(t,r){return 11&t.type?Kc(t,r):4&t.type?jy(t,r):null}(r,t):-2===s?function fw(t,r,s){return s===Lf?Kc(r,t):s===c_?jy(r,t):s===Hy?Db(r,t):void 0}(t,r,a):Ia(t,t[Gt],s,r)}function Ab(t,r,s,a){const d=r[as].queries[a];if(null===d.matches){const g=t.data,v=s.matches,S=[];for(let P=0;P<v.length;P+=2){const G=v[P];S.push(G<0?null:hw(r,g[G],v[P+1],s.metadata.read))}d.matches=S}return d.matches}function Q0(t,r,s,a){const d=t.queries.getByIndex(s),g=d.matches;if(null!==g){const v=Ab(t,r,d,s);for(let S=0;S<g.length;S+=2){const P=g[S];if(P>0)a.push(v[S/2]);else{const G=g[S+1],ne=r[-P];for(let ge=Ri;ge<ne.length;ge++){const Le=ne[ge];Le[Io]===Le[dr]&&Q0(Le[Gt],Le,G,a)}if(null!==ne[Fs]){const ge=ne[Fs];for(let Le=0;Le<ge.length;Le++){const Qe=ge[Le];Q0(Qe[Gt],Qe,G,a)}}}}}return a}function Rb(t){const r=wt(),s=fr(),a=_e();nt(a+1);const d=kb(s,a);if(t.dirty&&function Ni(t){return 4==(4&t[tn])}(r)===(2==(2&d.metadata.flags))){if(null===d.matches)t.reset([]);else{const g=d.crossesNgTemplate?Q0(s,r,a,[]):Ab(s,r,d,a);t.reset(g,Qg),t.notifyOnChanges()}return!0}return!1}function Nb(t,r,s){const a=fr();a.firstCreatePass&&(xb(a,new Sb(t,r,s),-1),2==(2&r)&&(a.staticViewQueries=!0)),Ob(a,wt(),r)}function Mb(t,r,s,a){const d=fr();if(d.firstCreatePass){const g=zs();xb(d,new Sb(r,s,a),g.index),function gw(t,r){const s=t.contentQueries||(t.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,r)}(d,t),2==(2&s)&&(d.staticContentQueries=!0)}Ob(d,wt(),s)}function Pb(){return function pw(t,r){return t[as].queries[r].queryList}(wt(),_e())}function Ob(t,r,s){const a=new z0(4==(4&s));(function U_(t,r,s,a){const d=K_(r);d.push(s),t.firstCreatePass&&q_(t).push(a,d.length-1)})(t,r,a,a.destroy),null===r[as]&&(r[as]=new q0),r[as].queries.push(new K0(a))}function xb(t,r,s){null===t.queries&&(t.queries=new Y0),t.queries.track(new Z0(r,s))}function kb(t,r){return t.queries.getByIndex(r)}function Fb(t,r){return jy(t,r)}function J0(t){return!!ti(t)}const Xb=new Wt("Application Initializer");let rE=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,a)=>{this.resolve=s,this.reject=a}),this.appInits=Ht(Xb,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const s=[];for(const d of this.appInits){const g=d();if(zm(g))s.push(g);else if(np(g)){const v=new Promise((S,P)=>{g.subscribe({complete:S,error:P})});s.push(v)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{a()}).catch(d=>{this.reject(d)}),0===s.length&&a(),this.initialized=!0}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=yn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),eT=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=yn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const zy=new Wt("LocaleId",{providedIn:"root",factory:()=>Ht(zy,Lt.Optional|Lt.SkipSelf)||function Fw(){return typeof $localize<"u"&&$localize.locale||ef}()}),Lw=new Wt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let tT=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new De.X(!1)}add(){this.hasPendingTasks.next(!0);const s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=yn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class Bw{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let Uw=(()=>{class t{compileModuleSync(s){return new H0(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),g=Hl(ti(s).declarations).reduce((v,S)=>{const P=Vn(S);return P&&v.push(new zh(P)),v},[]);return new Bw(a,g)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=yn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const sT=new Wt(""),oT=new Wt("");let oE,lC=(()=>{class t{constructor(s,a,d){this._ngZone=s,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,oE||(function uC(t){oE=t}(d),d.addToWindow(a)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Vo.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,d){let g=-1;a&&a>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:g,updateCb:d})}whenStable(s,a,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,a,d){return[]}static#e=this.\u0275fac=function(a){return new(a||t)(Rt(Vo),Rt(aT),Rt(oT))};static#t=this.\u0275prov=yn({token:t,factory:t.\u0275fac})}return t})(),aT=(()=>{class t{constructor(){this._applications=new Map}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return oE?.findTestabilityInTree(this,s,a)??null}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=yn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),tf=null;const lT=new Wt("AllowMultipleToken"),aE=new Wt("PlatformDestroyListeners"),lE=new Wt("appBootstrapListener");class hC{constructor(r,s){this.name=r,this.token=s}}function dT(t,r,s=[]){const a=`Platform: ${r}`,d=new Wt(a);return(g=[])=>{let v=uE();if(!v||v.injector.get(lT,!1)){const S=[...s,...g,{provide:d,useValue:!0}];t?t(S):function fC(t){if(tf&&!tf.get(lT,!1))throw new ue(400,!1);(function uT(){!function Je(t){be=t}(()=>{throw new ue(600,!1)})})(),tf=t;const r=t.get(fT);(function cT(t){t.get($d,null)?.forEach(s=>s())})(t)}(function hT(t=[],r){return al.create({name:r,providers:[{provide:Al,useValue:"platform"},{provide:aE,useValue:new Set([()=>tf=null])},...t]})}(S,a))}return function gC(t){const r=uE();if(!r)throw new ue(401,!1);return r}()}}function uE(){return tf?.get(fT)??null}let fT=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const d=function mC(t="zone.js",r){return"noop"===t?new A_:"zone.js"===t?new Vo(r):t}(a?.ngZone,function pT(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:a?.ngZoneEventCoalescing,runCoalescing:a?.ngZoneRunCoalescing}));return d.run(()=>{const g=function CD(t,r,s){return new $0(t,r,s)}(s.moduleType,this.injector,function vT(t){return[{provide:Vo,useFactory:t},{provide:qs,multi:!0,useFactory:()=>{const r=Ht(yC,{optional:!0});return()=>r.initialize()}},{provide:yT,useFactory:_C},{provide:om,useFactory:am}]}(()=>d)),v=g.injector.get(ll,null);return d.runOutsideAngular(()=>{const S=d.onError.subscribe({next:P=>{v.handleError(P)}});g.onDestroy(()=>{Ky(this._modules,g),S.unsubscribe()})}),function gT(t,r,s){try{const a=s();return zm(a)?a.catch(d=>{throw r.runOutsideAngular(()=>t.handleError(d)),d}):a}catch(a){throw r.runOutsideAngular(()=>t.handleError(a)),a}}(v,d,()=>{const S=g.injector.get(rE);return S.runInitializers(),S.donePromise.then(()=>(f(g.injector.get(zy,ef)||ef),this._moduleDoBootstrap(g),g))})})}bootstrapModule(s,a=[]){const d=mT({},a);return function cC(t,r,s){const a=new H0(s);return Promise.resolve(a)}(0,0,s).then(g=>this.bootstrapModuleFactory(g,d))}_moduleDoBootstrap(s){const a=s.injector.get(Dg);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(d=>a.bootstrap(d));else{if(!s.instance.ngDoBootstrap)throw new ue(-403,!1);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ue(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const s=this._injector.get(aE,null);s&&(s.forEach(a=>a()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(a){return new(a||t)(Rt(al))};static#t=this.\u0275prov=yn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function mT(t,r){return Array.isArray(r)?r.reduce(mT,t):{...t,...r}}let Dg=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ht(yT),this.zoneIsStable=Ht(om),this.componentTypes=[],this.components=[],this.isStable=Ht(tT).hasPendingTasks.pipe((0,We.w)(s=>s?(0,fe.of)(!1):this.zoneIsStable),(0,Be.x)(),(0,Pe.B)()),this._injector=Ht(sl)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,a){const d=s instanceof Up;if(!this._injector.get(rE).done)throw!d&&Os(s),new ue(405,!1);let v;v=d?s:this._injector.get(Vh).resolveComponentFactory(s),this.componentTypes.push(v.componentType);const S=function dC(t){return t.isBoundToModule}(v)?void 0:this._injector.get(op),G=v.create(al.NULL,[],a||v.selector,S),ne=G.location.nativeElement,ge=G.injector.get(sT,null);return ge?.registerApplication(ne),G.onDestroy(()=>{this.detachView(G.hostView),Ky(this.components,G),ge?.unregisterApplication(ne)}),this._loadComponent(G),G}tick(){if(this._runningTick)throw new ue(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;Ky(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const a=this._injector.get(lE,[]);a.push(...this._bootstrapListeners),a.forEach(d=>d(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>Ky(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new ue(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=yn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ky(t,r){const s=t.indexOf(r);s>-1&&t.splice(s,1)}const yT=new Wt("",{providedIn:"root",factory:()=>Ht(ll).handleError.bind(void 0)});function _C(){const t=Ht(Vo),r=Ht(ll);return s=>t.runOutsideAngular(()=>r.handleError(s))}let yC=(()=>{class t{constructor(){this.zone=Ht(Vo),this.applicationRef=Ht(Dg)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=yn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function EC(){return!1}let IC=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=bC}return t})();function bC(t){return function TC(t,r,s){if(ri(t)&&!s){const a=vt(t.index,r);return new Jf(a,a)}return 47&t.type?new Jf(r[vr],r):null}(zs(),wt(),16==(16&t))}class TT{constructor(){}supports(r){return td(r)}create(r){return new RC(r)}}const AC=(t,r)=>r;class RC{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||AC}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,d=0,g=null;for(;s||a;){const v=!a||s&&s.currentIndex<wT(a,d,g)?s:a,S=wT(v,d,g),P=v.currentIndex;if(v===a)d--,a=a._nextRemoved;else if(s=s._next,null==v.previousIndex)d++;else{g||(g=[]);const G=S-d,ne=P-d;if(G!=ne){for(let Le=0;Le<G;Le++){const Qe=Le<g.length?g[Le]:g[Le]=0,Dt=Qe+Le;ne<=Dt&&Dt<G&&(g[Le]=Qe+1)}g[v.previousIndex]=ne-G}}S!==P&&r(v,S,P)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!td(r))throw new ue(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let d,g,v,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let S=0;S<this.length;S++)g=r[S],v=this._trackByFn(S,g),null!==s&&Object.is(s.trackById,v)?(a&&(s=this._verifyReinsertion(s,g,v,S)),Object.is(s.item,g)||this._addIdentityChange(s,g)):(s=this._mismatch(s,g,v,S),a=!0),s=s._next}else d=0,function Fm(t,r){if(Array.isArray(t))for(let s=0;s<t.length;s++)r(t[s]);else{const s=t[Symbol.iterator]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,S=>{v=this._trackByFn(d,S),null!==s&&Object.is(s.trackById,v)?(a&&(s=this._verifyReinsertion(s,S,v,d)),Object.is(s.item,S)||this._addIdentityChange(s,S)):(s=this._mismatch(s,S,v,d),a=!0),s=s._next,d++}),this.length=d;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,d){let g;return null===r?g=this._itTail:(g=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,g,d)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,d))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,g,d)):r=this._addAfter(new NC(s,a),g,d),r}_verifyReinsertion(r,s,a,d){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==g?r=this._reinsertAfter(g,r._prev,d):r.currentIndex!=d&&(r.currentIndex=d,this._addToMoves(r,d)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const d=r._prevRemoved,g=r._nextRemoved;return null===d?this._removalsHead=g:d._nextRemoved=g,null===g?this._removalsTail=d:g._prevRemoved=d,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const d=null===s?this._itHead:s._next;return r._next=d,r._prev=s,null===d?this._itTail=r:d._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new DT),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new DT),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class NC{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class MC{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class DT{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new MC,this.map.set(s,a)),a.add(r)}get(r,s){const d=this.map.get(r);return d?d.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function wT(t,r,s){const a=t.previousIndex;if(null===a)return a;let d=0;return s&&a<s.length&&(d=s[a]),a+r+d}class CT{constructor(){}supports(r){return r instanceof Map||Lm(r)}create(){return new PC}}class PC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||Lm(r)))throw new ue(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,d)=>{if(s&&s.key===d)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const g=this._getOrCreateRecordForKey(d,a);s=this._insertBeforeOrAppend(s,g)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const d=this._records.get(r);this._maybeAddToChanges(d,s);const g=d._prev,v=d._next;return g&&(g._next=v),v&&(v._prev=g),d._next=null,d._prev=null,d}const a=new OC(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class OC{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ST(){return new pE([new TT])}let pE=(()=>{class t{static#e=this.\u0275prov=yn({token:t,providedIn:"root",factory:ST});constructor(s){this.factories=s}static create(s,a){if(null!=a){const d=a.factories.slice();s=s.concat(d)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||ST()),deps:[[t,new Il,new Uu]]}}find(s){const a=this.factories.find(d=>d.supports(s));if(null!=a)return a;throw new ue(901,!1)}}return t})();function AT(){return new gE([new CT])}let gE=(()=>{class t{static#e=this.\u0275prov=yn({token:t,providedIn:"root",factory:AT});constructor(s){this.factories=s}static create(s,a){if(a){const d=a.factories.slice();s=s.concat(d)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||AT()),deps:[[t,new Il,new Uu]]}}find(s){const a=this.factories.find(d=>d.supports(s));if(a)return a;throw new ue(901,!1)}}return t})();const FC=dT(null,"core",[]);let LC=(()=>{class t{constructor(s){}static#e=this.\u0275fac=function(a){return new(a||t)(Rt(Dg))};static#t=this.\u0275mod=Eo({type:t});static#n=this.\u0275inj=zn({})}return t})();function qC(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function ZC(t,r){const s=Vn(t),a=r.elementInjector||Gc();return new zh(s).create(a,r.projectableNodes,r.hostElement,r.environmentInjector)}function QC(t){const r=Vn(t);if(!r)return null;const s=new zh(r);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}},721:($t,qe,B)=>{B.d(qe,{Ot:()=>ve,ZF:()=>mt,hX:()=>Ne,z6:()=>De});var l=B(3182),j=B(5879),se=B(1920);class ve{constructor($e){return $e}}class De{constructor(){return(0,l.C6)()}}const We=new j.OlP("angularfire2._apps"),Be={provide:ve,useFactory:function Pe(ue){return ue&&1===ue.length?ue[0]:new ve((0,l.Mq)())},deps:[[new j.FiY,We]]},ce={provide:De,deps:[[new j.FiY,We]]};function ye(ue){return($e,Ee)=>{const rt=$e.runOutsideAngular(()=>ue(Ee));return new ve(rt)}}let Ae=(()=>{class ue{constructor(Ee){(0,l.KN)("angularfire",se.q4.full,"core"),(0,l.KN)("angularfire",se.q4.full,"app"),(0,l.KN)("angular",j.q4F.full,Ee.toString())}static \u0275fac=function(rt){return new(rt||ue)(j.LFG(j.Lbi))};static \u0275mod=j.oAB({type:ue});static \u0275inj=j.cJS({providers:[Be,ce]})}return ue})();function Ne(ue,...$e){return{ngModule:Ae,providers:[{provide:We,useFactory:ye(ue),multi:!0,deps:[j.R0b,j.zs3,se.HU,...$e]}]}}const mt=(0,se.u3)(l.ZF,!0)},4162:($t,qe,B)=>{B.d(qe,{dh:()=>Ae,v0:()=>At,AR:()=>bt});var l=B(1920),j=B(5879),se=B(721),ve=B(3182),De=B(3560);B(9058),B(534),B(7879),B(4537);class ye{constructor(pr){return pr}}class Ae{constructor(){return(0,l.vb)("auth")}}const Ye=new j.OlP("angularfire2.auth-instances");function lt(br){return(pr,jn)=>{const nr=pr.runOutsideAngular(()=>br(jn));return new ye(nr)}}const mt={provide:Ae,deps:[[new j.FiY,Ye]]},ht={provide:ye,useFactory:function ze(br,pr){const jn=(0,l.JM)("auth",br,pr);return jn&&new ye(jn)},deps:[[new j.FiY,Ye],se.Ot]};let jt=(()=>{class br{constructor(){(0,ve.KN)("angularfire",l.q4.full,"auth")}static \u0275fac=function(nr){return new(nr||br)};static \u0275mod=j.oAB({type:br});static \u0275inj=j.cJS({providers:[ht,mt]})}return br})();function bt(br,...pr){return{ngModule:jt,providers:[{provide:Ye,useFactory:lt(br),multi:!0,deps:[j.R0b,j.zs3,l.HU,se.z6,[new j.FiY,l.Rf],...pr]}]}}const At=(0,l.u3)(De.o,!0)},7217:($t,qe,B)=>{B.d(qe,{Dh:()=>We,GT:()=>fe,cc:()=>Ye,hO:()=>Ne,on:()=>ce,pX:()=>De,xv:()=>Be});var l=B(5879),j=B(1920),se=B(7142);const ve=["ngOnDestroy"],De=(ht,jt,bt,ue={})=>new Proxy(ht,{get:($e,Ee)=>bt.runOutsideAngular(()=>{if(ht[Ee])return ue?.spy?.get&&ue.spy.get(Ee,ht[Ee]),ht[Ee];if(ve.indexOf(Ee)>-1)return()=>{};const rt=jt.toPromise().then(ut=>{const Oe=ut?.[Ee];return"function"==typeof Oe?Oe.bind(ut):Oe?.then?Oe.then(Yt=>bt.run(()=>Yt)):bt.run(()=>Oe)});return new Proxy(()=>{},{get:(ut,Oe)=>rt[Oe],apply:(ut,Oe,Yt)=>rt.then(Xt=>{const In=Xt?.(...Yt);return ue?.spy?.apply&&ue.spy.apply(Ee,Yt,In),In})})})}),fe=(ht,jt)=>{jt.forEach(bt=>{Object.getOwnPropertyNames(bt.prototype||bt).forEach(ue=>{Object.defineProperty(ht.prototype,ue,Object.getOwnPropertyDescriptor(bt.prototype||bt,ue))})})};class Pe{constructor(jt){return jt}}const We=new l.OlP("angularfire2.app.options"),Be=new l.OlP("angularfire2.app.name");function ce(ht,jt,bt){const $e="object"==typeof bt&&bt||{};$e.name=$e.name||"string"==typeof bt&&bt||"[DEFAULT]";const rt=se.Z.apps.filter(ut=>ut&&ut.name===$e.name)[0]||jt.runOutsideAngular(()=>se.Z.initializeApp(ht,$e));try{if(JSON.stringify(ht)!==JSON.stringify(rt.options)){const ut=!!module.hot;ye("error",`${rt.name} Firebase App already initialized with different options${ut?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Pe(rt)}const ye=(ht,...jt)=>{(0,l.X6Q)()&&typeof console<"u"&&console[ht](...jt)},Ae={provide:Pe,useFactory:ce,deps:[We,l.R0b,[new l.FiY,Be]]};let Ne=(()=>{class ht{static initializeApp(bt,ue){return{ngModule:ht,providers:[{provide:We,useValue:bt},{provide:Be,useValue:ue}]}}constructor(bt){se.Z.registerVersion("angularfire",j.q4.full,"core"),se.Z.registerVersion("angularfire",j.q4.full,"app-compat"),se.Z.registerVersion("angular",l.q4F.full,bt.toString())}static \u0275fac=function(ue){return new(ue||ht)(l.LFG(l.Lbi))};static \u0275mod=l.oAB({type:ht});static \u0275inj=l.cJS({providers:[Ae]})}return ht})();function Ye(ht,jt,bt,ue,$e){const[,Ee,rt]=globalThis.\u0275AngularfireInstanceCache.find(ut=>ut[0]===ht)||[];if(Ee)return function ze(ht,jt){try{return ht.toString()===jt.toString()}catch{return ht===jt}}($e,rt)||(mt("error",`${jt} was already initialized on the ${bt} Firebase App with different settings.${lt?" You may need to reload as Firebase is not HMR aware.":""}`),mt("warn",{is:$e,was:rt})),Ee;{const ut=ue();return globalThis.\u0275AngularfireInstanceCache.push([ht,ut,$e]),ut}}const lt=typeof module<"u"&&!!module.hot,mt=(ht,...jt)=>{(0,l.X6Q)()&&typeof console<"u"&&console[ht](...jt)};globalThis.\u0275AngularfireInstanceCache||=[]},5349:($t,qe,B)=>{B.d(qe,{gg:()=>vg,ET:()=>c0,hJ:()=>Py,BS:()=>Ny,PL:()=>T0,ad:()=>D0,Xo:()=>ky,Cm:()=>Ry,IO:()=>Ly,Bt:()=>Xh,pl:()=>AI,ar:()=>ef});var Ne,l=B(1920),j=B(5879),se=B(721),ve=B(4162),De=B(3182),fe=B(5861),Pe=B(534),We=B(4537),Be=B(7879),ce=B(9058),ye=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ae={},Ye=Ye||{},ze=ye||self;function lt(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function mt(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var jt="closure_uid_"+(1e9*Math.random()>>>0),bt=0;function ue(i,e,n){return i.call.apply(i.bind,arguments)}function $e(i,e,n){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function Ee(i,e,n){return(Ee=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ue:$e).apply(null,arguments)}function rt(i,e){var n=Array.prototype.slice.call(arguments,1);return function(){var o=n.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function ut(i,e){function n(){}n.prototype=e.prototype,i.$=e.prototype,i.prototype=new n,i.prototype.constructor=i,i.ac=function(o,u,f){for(var _=Array(arguments.length-2),N=2;N<arguments.length;N++)_[N-2]=arguments[N];return e.prototype[u].apply(o,_)}}function Oe(){this.s=this.s,this.o=this.o}Oe.prototype.s=!1,Oe.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function ht(i){Object.prototype.hasOwnProperty.call(i,jt)&&i[jt]||(i[jt]=++bt)}(this)},Oe.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Xt=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let n=0;n<i.length;n++)if(n in i&&i[n]===e)return n;return-1};function In(i){const e=i.length;if(0<e){const n=Array(e);for(let o=0;o<e;o++)n[o]=i[o];return n}return[]}function Cn(i,e){for(let n=1;n<arguments.length;n++){const o=arguments[n];if(lt(o)){const u=i.length||0,f=o.length||0;i.length=u+f;for(let _=0;_<f;_++)i[u+_]=o[_]}else i.push(o)}}function On(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}On.prototype.h=function(){this.defaultPrevented=!0};var Vr=function(){if(!ze.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{ze.addEventListener("test",()=>{},e),ze.removeEventListener("test",()=>{},e)}catch{}return i}();function At(i){return/^[\s\xa0]*$/.test(i)}function dn(){var i=ze.navigator;return i&&(i=i.userAgent)?i:""}function Qt(i){return-1!=dn().indexOf(i)}function Ue(i){return Ue[" "](i),i}Ue[" "]=function(){};var It,i,Ke=Qt("Opera"),Ce=Qt("Trident")||Qt("MSIE"),He=Qt("Edge"),ct=He||Ce,St=Qt("Gecko")&&!(-1!=dn().toLowerCase().indexOf("webkit")&&!Qt("Edge"))&&!(Qt("Trident")||Qt("MSIE"))&&!Qt("Edge"),Et=-1!=dn().toLowerCase().indexOf("webkit")&&!Qt("Edge");function An(){var i=ze.document;return i?i.documentMode:void 0}e:{var Mn="",yn=(i=dn(),St?/rv:([^\);]+)(\)|;)/.exec(i):He?/Edge\/([\d\.]+)/.exec(i):Ce?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Et?/WebKit\/(\S+)/.exec(i):Ke?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(yn&&(Mn=yn?yn[1]:""),Ce){var bn=An();if(null!=bn&&bn>parseFloat(Mn)){It=String(bn);break e}}It=Mn}var Re=ze.document&&Ce&&(An()||parseInt(It,10))||void 0;function Me(i,e){if(On.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var n=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(St){e:{try{Ue(e.nodeName);var u=!0;break e}catch{}u=!1}u||(e=null)}}else"mouseover"==n?e=i.fromElement:"mouseout"==n&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:tt[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Me.$.h.call(this)}}ut(Me,On);var tt={2:"touch",3:"pen",4:"mouse"};Me.prototype.h=function(){Me.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var gt="closure_listenable_"+(1e6*Math.random()|0),Pt=0;function Tt(i,e,n,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=n,this.capture=!!o,this.la=u,this.key=++Pt,this.fa=this.ia=!1}function Tn(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function Dn(i,e,n){for(const o in i)e.call(n,i[o],o,i)}function gn(i){const e={};for(const n in i)e[n]=i[n];return e}const wn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function sr(i,e){let n,o;for(let u=1;u<arguments.length;u++){for(n in o=arguments[u],o)i[n]=o[n];for(let f=0;f<wn.length;f++)n=wn[f],Object.prototype.hasOwnProperty.call(o,n)&&(i[n]=o[n])}}function Un(i){this.src=i,this.g={},this.h=0}function Hr(i,e){var n=e.type;if(n in i.g){var f,o=i.g[n],u=Xt(o,e);(f=0<=u)&&Array.prototype.splice.call(o,u,1),f&&(Tn(e),0==i.g[n].length&&(delete i.g[n],i.h--))}}function Vt(i,e,n,o){for(var u=0;u<i.length;++u){var f=i[u];if(!f.fa&&f.listener==e&&f.capture==!!n&&f.la==o)return u}return-1}Un.prototype.add=function(i,e,n,o,u){var f=i.toString();(i=this.g[f])||(i=this.g[f]=[],this.h++);var _=Vt(i,e,o,u);return-1<_?(e=i[_],n||(e.ia=!1)):((e=new Tt(e,this.src,f,!!o,u)).ia=n,i.push(e)),e};var yr="closure_lm_"+(1e6*Math.random()|0),Ar={};function Wt(i,e,n,o,u){if(o&&o.once)return Rr(i,e,n,o,u);if(Array.isArray(e)){for(var f=0;f<e.length;f++)Wt(i,e[f],n,o,u);return null}return n=pr(n),i&&i[gt]?i.O(e,n,mt(o)?!!o.capture:!!o,u):Ei(i,e,n,!1,o,u)}function Ei(i,e,n,o,u,f){if(!e)throw Error("Invalid event type");var _=mt(u)?!!u.capture:!!u,N=Zr(i);if(N||(i[yr]=N=new Un(i)),(n=N.add(e,n,o,_,f)).proxy)return n;if(o=function En(){const e=zr;return function i(n){return e.call(i.src,i.listener,n)}}(),n.proxy=o,o.src=i,o.listener=n,i.addEventListener)Vr||(u=_),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(or(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return n}function Rr(i,e,n,o,u){if(Array.isArray(e)){for(var f=0;f<e.length;f++)Rr(i,e[f],n,o,u);return null}return n=pr(n),i&&i[gt]?i.P(e,n,mt(o)?!!o.capture:!!o,u):Ei(i,e,n,!0,o,u)}function hi(i,e,n,o,u){if(Array.isArray(e))for(var f=0;f<e.length;f++)hi(i,e[f],n,o,u);else o=mt(o)?!!o.capture:!!o,n=pr(n),i&&i[gt]?(i=i.i,(e=String(e).toString())in i.g&&-1<(n=Vt(f=i.g[e],n,o,u))&&(Tn(f[n]),Array.prototype.splice.call(f,n,1),0==f.length&&(delete i.g[e],i.h--))):i&&(i=Zr(i))&&(e=i.g[e.toString()],i=-1,e&&(i=Vt(e,n,o,u)),(n=-1<i?e[i]:null)&&yi(n))}function yi(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[gt])Hr(e.i,i);else{var n=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(n,o,i.capture):e.detachEvent?e.detachEvent(or(n),o):e.addListener&&e.removeListener&&e.removeListener(o),(n=Zr(e))?(Hr(n,i),0==n.h&&(n.src=null,e[yr]=null)):Tn(i)}}}function or(i){return i in Ar?Ar[i]:Ar[i]="on"+i}function zr(i,e){if(i.fa)i=!0;else{e=new Me(e,this);var n=i.listener,o=i.la||i.src;i.ia&&yi(i),i=n.call(o,e)}return i}function Zr(i){return(i=i[yr])instanceof Un?i:null}var br="__closure_events_fn_"+(1e9*Math.random()>>>0);function pr(i){return"function"==typeof i?i:(i[br]||(i[br]=function(e){return i.handleEvent(e)}),i[br])}function jn(){Oe.call(this),this.i=new Un(this),this.S=this,this.J=null}function nr(i,e){var n,o=i.J;if(o)for(n=[];o;o=o.J)n.push(o);if(i=i.S,o=e.type||e,"string"==typeof e)e=new On(e,i);else if(e instanceof On)e.target=e.target||i;else{var u=e;sr(e=new On(o,i),u)}if(u=!0,n)for(var f=n.length-1;0<=f;f--){var _=e.g=n[f];u=Ki(_,o,!0,e)&&u}if(u=Ki(_=e.g=i,o,!0,e)&&u,u=Ki(_,o,!1,e)&&u,n)for(f=0;f<n.length;f++)u=Ki(_=e.g=n[f],o,!1,e)&&u}function Ki(i,e,n,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,f=0;f<e.length;++f){var _=e[f];if(_&&!_.fa&&_.capture==n){var N=_.listener,x=_.la||_.src;_.ia&&Hr(i.i,_),u=!1!==N.call(x,o)&&u}}return u&&!o.defaultPrevented}ut(jn,Oe),jn.prototype[gt]=!0,jn.prototype.removeEventListener=function(i,e,n,o){hi(this,i,e,n,o)},jn.prototype.N=function(){if(jn.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var n=i.g[e],o=0;o<n.length;o++)Tn(n[o]);delete i.g[e],i.h--}}this.J=null},jn.prototype.O=function(i,e,n,o){return this.i.add(String(i),e,!1,n,o)},jn.prototype.P=function(i,e,n,o){return this.i.add(String(i),e,!0,n,o)};var rs=ze.JSON.stringify;function re(){var i=Kt;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var $=new class Ie{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new V,i=>i.reset());class V{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function de(i){var e=1;i=i.split(":");const n=[];for(;0<e&&i.length;)n.push(i.shift()),e--;return i.length&&n.push(i.join(":")),n}function Fe(i){ze.setTimeout(()=>{throw i},0)}let yt,Rt=!1,Kt=new class z{constructor(){this.h=this.g=null}add(e,n){const o=$.get();o.set(e,n),this.h?this.h.next=o:this.g=o,this.h=o}},Ht=()=>{const i=ze.Promise.resolve(void 0);yt=()=>{i.then(fn)}};var fn=()=>{for(var i;i=re();){try{i.h.call(i.g)}catch(n){Fe(n)}var e=$;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}Rt=!1};function Wn(i,e){jn.call(this),this.h=i||1,this.g=e||ze,this.j=Ee(this.qb,this),this.l=Date.now()}function Sn(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function ei(i,e,n){if("function"==typeof i)n&&(i=Ee(i,n));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Ee(i.handleEvent,i)}return 2147483647<Number(e)?-1:ze.setTimeout(i,e||0)}function Vi(i){i.g=ei(()=>{i.g=null,i.i&&(i.i=!1,Vi(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}ut(Wn,jn),(Ne=Wn.prototype).ga=!1,Ne.T=null,Ne.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),nr(this,"tick"),this.ga&&(Sn(this),this.start()))}},Ne.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ne.N=function(){Wn.$.N.call(this),Sn(this),delete this.g};class ft extends Oe{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Vi(this)}N(){super.N(),this.g&&(ze.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ge(i){Oe.call(this),this.h=i,this.g={}}ut(Ge,Oe);var Ct=[];function an(i,e,n,o){Array.isArray(n)||(n&&(Ct[0]=n.toString()),n=Ct);for(var u=0;u<n.length;u++){var f=Wt(e,n[u],o||i.handleEvent,!1,i.h||i);if(!f)break;i.g[f.key]=f}}function Rn(i){Dn(i.g,function(e,n){this.g.hasOwnProperty(n)&&yi(e)},i),i.g={}}function en(){this.g=!0}function ar(i,e,n,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function vi(i,e){if(!i.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(i=0;i<n.length;i++)if(Array.isArray(n[i])){var o=n[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var f=u[0];if("noop"!=f&&"stop"!=f&&"close"!=f)for(var _=1;_<u.length;_++)u[_]=""}}}return rs(n)}catch{return e}}(i,n)+(o?" "+o:"")})}Ge.prototype.N=function(){Ge.$.N.call(this),Rn(this)},Ge.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},en.prototype.Ea=function(){this.g=!1},en.prototype.info=function(){};var qi={},ai=null;function wi(){return ai=ai||new jn}function qn(i){On.call(this,qi.Ta,i)}function pi(i){const e=wi();nr(e,new qn(e))}function So(i,e){On.call(this,qi.STAT_EVENT,i),this.stat=e}function gr(i){const e=wi();nr(e,new So(e,i))}function Yi(i,e){On.call(this,qi.Ua,i),this.size=e}function Ci(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return ze.setTimeout(function(){i()},e)}qi.Ta="serverreachability",ut(qn,On),qi.STAT_EVENT="statevent",ut(So,On),qi.Ua="timingevent",ut(Yi,On);var Zs={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Ur={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function gs(){}function Ii(){}gs.prototype.h=null;var Xo,po={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Jo(){On.call(this,"d")}function hl(){On.call(this,"c")}function vo(){}function Ao(i,e,n,o){this.l=i,this.j=e,this.m=n,this.W=o||1,this.U=new Ge(this),this.P=Ca,this.V=new Wn(i=ct?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Uo}function Uo(){this.i=null,this.g="",this.h=!1}ut(Jo,On),ut(hl,On),ut(vo,gs),vo.prototype.g=function(){return new XMLHttpRequest},vo.prototype.i=function(){return{}},Xo=new vo;var Ca=45e3,Oi={},Js={};function jo(i,e,n){i.L=1,i.v=dr(gi(e)),i.s=n,i.S=!0,li(i,null)}function li(i,e){i.G=Date.now(),is(i),i.A=gi(i.v);var n=i.A,o=i.W;Array.isArray(o)||(o=[String(o)]),Io(n.i,"t",o),i.C=0,n=i.l.J,i.h=new Uo,i.g=gl(i.l,n?e:null,!i.s),0<i.O&&(i.M=new ft(Ee(i.Pa,i,i.g),i.O)),an(i.U,i.g,"readystatechange",i.nb),e=i.I?gn(i.I):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.A,i.u,i.s,e)):(i.u="GET",i.g.ha(i.A,i.u,null,e)),pi(),function ur(i,e,n,o,u,f){i.info(function(){if(i.g)if(f)for(var _="",N=f.split("&"),x=0;x<N.length;x++){var W=N[x].split("=");if(1<W.length){var te=W[0];W=W[1];var he=te.split("_");_=2<=he.length&&"type"==he[1]?_+(te+"=")+W+"&":_+(te+"=redacted&")}}else _=null;else _=f;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+n+"\n"+_})}(i.j,i.u,i.A,i.m,i.W,i.s)}function Ms(i){return!!i.g&&"GET"==i.u&&2!=i.L&&i.l.Ha}function xi(i,e,n){let u,o=!0;for(;!i.J&&i.C<n.length;){if(u=Eo(i,n),u==Js){4==e&&(i.o=4,gr(14),o=!1),ar(i.j,i.m,null,"[Incomplete Response]");break}if(u==Oi){i.o=4,gr(15),ar(i.j,i.m,n,"[Invalid Chunk]"),o=!1;break}ar(i.j,i.m,u,null),Nr(i,u)}Ms(i)&&u!=Js&&u!=Oi&&(i.h.g="",i.C=0),4!=e||0!=n.length||i.h.h||(i.o=1,gr(16),o=!1),i.i=i.i&&o,o?0<n.length&&!i.ba&&(i.ba=!0,(e=i.l).g==i&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),zo(e),e.M=!0,gr(11))):(ar(i.j,i.m,n,"[Invalid Chunked Response]"),Vn(i),ss(i))}function Eo(i,e){var n=i.C,o=e.indexOf("\n",n);return-1==o?Js:(n=Number(e.substring(n,o)),isNaN(n)?Oi:(o+=1)+n>e.length?Js:(e=e.slice(o,o+n),i.C=o+n,e))}function is(i){i.Y=Date.now()+i.P,Zi(i,i.P)}function Zi(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Ci(Ee(i.lb,i),e)}function Ps(i){i.B&&(ze.clearTimeout(i.B),i.B=null)}function ss(i){0==i.l.H||i.J||Qi(i.l,i)}function Vn(i){Ps(i);var e=i.M;e&&"function"==typeof e.sa&&e.sa(),i.M=null,Sn(i.V),Rn(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.sa())}function Nr(i,e){try{var n=i.l;if(0!=n.H&&(n.g==i||eo(n.i,i)))if(!i.K&&eo(n.i,i)&&3==n.H){try{var o=n.Ja.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<i.G))break e;ds(n),Sa(n)}Oo(n),gr(18)}}else n.Fa=u[1],0<n.Fa-n.V&&37500>u[2]&&n.G&&0==n.A&&!n.v&&(n.v=Ci(Ee(n.ib,n),6e3));if(1>=To(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else wo(n,11)}else if((i.K||n.g==i)&&ds(n),!At(e))for(u=n.Ja.g.parse(e),e=0;e<u.length;e++){let W=u[e];if(n.V=W[0],W=W[1],2==n.H)if("c"==W[0]){n.K=W[1],n.pa=W[2];const te=W[3];null!=te&&(n.ra=te,n.l.info("VER="+n.ra));const he=W[4];null!=he&&(n.Ga=he,n.l.info("SVER="+n.Ga));const xe=W[5];null!=xe&&"number"==typeof xe&&0<xe&&(n.L=o=1.5*xe,n.l.info("backChannelRequestTimeoutMs_="+o)),o=n;const ot=i.g;if(ot){const kt=ot.g?ot.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(kt){var f=o.i;f.g||-1==kt.indexOf("spdy")&&-1==kt.indexOf("quic")&&-1==kt.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(xn(f,f.h),f.h=null))}if(o.F){const nn=ot.g?ot.g.getResponseHeader("X-HTTP-Session-Id"):null;nn&&(o.Da=nn,tn(o.I,o.F,nn))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-i.G,n.l.info("Handshake RTT: "+n.S+"ms"));var _=i;if((o=n).wa=xo(o,o.J?o.pa:null,o.Y),_.K){No(o.i,_);var N=_,x=o.L;x&&N.setTimeout(x),N.B&&(Ps(N),is(N)),o.g=_}else cs(o);0<n.j.length&&Po(n)}else"stop"!=W[0]&&"close"!=W[0]||wo(n,7);else 3==n.H&&("stop"==W[0]||"close"==W[0]?"stop"==W[0]?wo(n,7):fa(n):"noop"!=W[0]&&n.h&&n.h.Aa(W),n.A=0)}pi()}catch{}}function ti(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(lt(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var n=function Os(i){if(i.ta&&"function"==typeof i.ta)return i.ta();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(lt(i)||"string"==typeof i){var e=[];i=i.length;for(var n=0;n<i;n++)e.push(n);return e}e=[],n=0;for(const o in i)e[n++]=o;return e}}}(i),o=function mr(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(lt(i)){for(var e=[],n=i.length,o=0;o<n;o++)e.push(i[o]);return e}for(o in e=[],n=0,i)e[n++]=i[o];return e}(i),u=o.length,f=0;f<u;f++)e.call(void 0,o[f],n&&n[f],i)}(Ne=Ao.prototype).setTimeout=function(i){this.P=i},Ne.nb=function(i){i=i.target;const e=this.M;e&&3==me(i)?e.l():this.Pa(i)},Ne.Pa=function(i){try{if(i==this.g)e:{const te=me(this.g);var e=this.g.Ia();if(this.g.da(),!(3>te)&&(3!=te||ct||this.g&&(this.h.h||this.g.ja()||cn(this.g)))){this.J||4!=te||7==e||pi(),Ps(this);var n=this.g.da();this.ca=n;t:if(Ms(this)){var o=cn(this.g);i="";var u=o.length,f=4==me(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Vn(this),ss(this);var _="";break t}this.h.i=new ze.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:f&&e==u-1});o.splice(0,u),this.h.g+=i,this.C=0,_=this.h.g}else _=this.g.ja();if(this.i=200==n,function Tr(i,e,n,o,u,f,_){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+n+"\n"+f+" "+_})}(this.j,this.u,this.A,this.m,this.W,te,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var N,x=this.g;if((N=x.g?x.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!At(N)){var W=N;break t}}W=null}if(!(n=W)){this.i=!1,this.o=3,gr(12),Vn(this),ss(this);break e}ar(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Nr(this,n)}this.S?(xi(this,te,_),ct&&this.i&&3==te&&(an(this.U,this.V,"tick",this.mb),this.V.start())):(ar(this.j,this.m,_,null),Nr(this,_)),4==te&&Vn(this),this.i&&!this.J&&(4==te?Qi(this.l,this):(this.i=!1,is(this)))}else(function rr(i){const e={};i=(i.g&&2<=me(i)&&i.g.getAllResponseHeaders()||"").split("\r\n");for(let o=0;o<i.length;o++){if(At(i[o]))continue;var n=de(i[o]);const u=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const f=e[u]||[];e[u]=f,f.push(n)}!function Lt(i,e){for(const n in i)e.call(void 0,i[n],n,i)}(e,function(o){return o.join(", ")})})(this.g),400==n&&0<_.indexOf("Unknown SID")?(this.o=3,gr(12)):(this.o=0,gr(13)),Vn(this),ss(this)}}}catch{}},Ne.mb=function(){if(this.g){var i=me(this.g),e=this.g.ja();this.C<e.length&&(Ps(this),xi(this,i,e),this.i&&4!=i&&is(this))}},Ne.cancel=function(){this.J=!0,Vn(this)},Ne.lb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function fi(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(pi(),gr(17)),Vn(this),this.o=2,ss(this)):Zi(this,this.Y-i)};var Ro=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xs(i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof xs){this.h=i.h,Is(this,i.j),this.s=i.s,this.g=i.g,Or(this,i.m),this.l=i.l;var e=i.i,n=new Xs;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Gt(this,n),this.o=i.o}else i&&(e=String(i).match(Ro))?(this.h=!1,Is(this,e[1]||"",!0),this.s=ni(e[2]||""),this.g=ni(e[3]||"",!0),Or(this,e[4]),this.l=ni(e[5]||"",!0),Gt(this,e[6]||"",!0),this.o=ni(e[7]||"")):(this.h=!1,this.i=new Xs(null,this.h))}function gi(i){return new xs(i)}function Is(i,e,n){i.j=n?ni(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function Or(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Gt(i,e,n){e instanceof Xs?(i.i=e,function as(i,e){e&&!i.j&&(Ai(i),i.i=null,i.g.forEach(function(n,o){var u=o.toLowerCase();o!=u&&(ks(this,o),Io(this,u,n))},i)),i.j=e}(i.i,i.h)):(n||(e=bi(e,bs)),i.i=new Xs(e,i.h))}function tn(i,e,n){i.i.set(e,n)}function dr(i){return tn(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function ni(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function bi(i,e,n){return"string"==typeof i?(i=encodeURI(i).replace(e,jr),n&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function jr(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}xs.prototype.toString=function(){var i=[],e=this.j;e&&i.push(bi(e,os,!0),":");var n=this.g;return(n||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(bi(e,os,!0),"@"),i.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&i.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&i.push("/"),i.push(bi(n,"/"==n.charAt(0)?ji:Wr,!0))),(n=this.i.toString())&&i.push("?",n),(n=this.o)&&i.push("#",bi(n,kn)),i.join("")};var os=/[#\/\?@]/g,Wr=/[#\?:]/g,ji=/[#\?]/g,bs=/[#\?@]/g,kn=/#/g;function Xs(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Ai(i){i.g||(i.g=new Map,i.h=0,i.i&&function Si(i,e){if(i){i=i.split("&");for(var n=0;n<i.length;n++){var o=i[n].indexOf("="),u=null;if(0<=o){var f=i[n].substring(0,o);u=i[n].substring(o+1)}else f=i[n];e(f,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,n){i.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function ks(i,e){Ai(i),e=ms(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function vr(i,e){return Ai(i),e=ms(i,e),i.g.has(e)}function Io(i,e,n){ks(i,e),0<n.length&&(i.i=null,i.g.set(ms(i,e),In(n)),i.h+=n.length)}function ms(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function za(i){this.l=i||bo,i=ze.PerformanceNavigationTiming?0<(i=ze.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(ze.g&&ze.g.Ka&&ze.g.Ka()&&ze.g.Ka().dc),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ne=Xs.prototype).add=function(i,e){Ai(this),this.i=null,i=ms(this,i);var n=this.g.get(i);return n||this.g.set(i,n=[]),n.push(e),this.h+=1,this},Ne.forEach=function(i,e){Ai(this),this.g.forEach(function(n,o){n.forEach(function(u){i.call(e,u,o,this)},this)},this)},Ne.ta=function(){Ai(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let o=0;o<e.length;o++){const u=i[o];for(let f=0;f<u.length;f++)n.push(e[o])}return n},Ne.Z=function(i){Ai(this);let e=[];if("string"==typeof i)vr(this,i)&&(e=e.concat(this.g.get(ms(this,i))));else{i=Array.from(this.g.values());for(let n=0;n<i.length;n++)e=e.concat(i[n])}return e},Ne.set=function(i,e){return Ai(this),this.i=null,vr(this,i=ms(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},Ne.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},Ne.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var o=e[n];const f=encodeURIComponent(String(o)),_=this.Z(o);for(o=0;o<_.length;o++){var u=f;""!==_[o]&&(u+="="+encodeURIComponent(String(_[o]))),i.push(u)}}return this.i=i.join("&")};var bo=10;function us(i){return!!i.h||!!i.g&&i.g.size>=i.j}function To(i){return i.h?1:i.g?i.g.size:0}function eo(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function xn(i,e){i.g?i.g.add(e):i.h=e}function No(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Ts(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const n of i.g.values())e=e.concat(n.F);return e}return In(i.i)}za.prototype.cancel=function(){if(this.i=Ts(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}};var Do=class{stringify(i){return ze.JSON.stringify(i,void 0)}parse(i){return ze.JSON.parse(i,void 0)}};function ui(){this.g=new Do}function ha(i,e,n){const o=n||"";try{ti(i,function(u,f){let _=u;mt(u)&&(_=rs(u)),e.push(o+f+"="+encodeURIComponent(_))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function Ls(i,e,n,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch{}}function Ri(i){this.l=i.ec||null,this.j=i.ob||!1}function $o(i,e){jn.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=ki,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ut(Ri,gs),Ri.prototype.g=function(){return new $o(this.l,this.j)},Ri.prototype.i=function(i){return function(){return i}}({}),ut($o,jn);var ki=0;function Mr(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function Hs(i){i.readyState=4,i.l=null,i.j=null,i.A=null,ri(i)}function ri(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(Ne=$o.prototype).open=function(i,e){if(this.readyState!=ki)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,ri(this)},Ne.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||ze).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Ne.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Hs(this)),this.readyState=ki},Ne.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,ri(this)),this.g&&(this.readyState=3,ri(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ze.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Mr(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},Ne.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?Hs(this):ri(this),3==this.readyState&&Mr(this)}},Ne.Za=function(i){this.g&&(this.response=this.responseText=i,Hs(this))},Ne.Ya=function(i){this.g&&(this.response=i,Hs(this))},Ne.ka=function(){this.g&&Hs(this)},Ne.setRequestHeader=function(i,e){this.v.append(i,e)},Ne.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},Ne.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var n=e.next();!n.done;)i.push((n=n.value)[0]+": "+n[1]),n=e.next();return i.join("\r\n")},Object.defineProperty($o.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var Ds=ze.JSON.parse;function cr(i){jn.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Ho,this.L=this.M=!1}ut(cr,jn);var Ho="",Mo=/^https?$/i,Go=["POST","PUT"];function ta(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,K(i),F(i)}function K(i){i.F||(i.F=!0,nr(i,"complete"),nr(i,"error"))}function J(i){if(i.h&&typeof Ye<"u"&&(!i.C[1]||4!=me(i)||2!=i.da()))if(i.v&&4==me(i))ei(i.La,0,i);else if(nr(i,"readystatechange"),4==me(i)){i.h=!1;try{const _=i.da();e:switch(_){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var o;if(o=0===_){var u=String(i.I).match(Ro)[1]||null;!u&&ze.self&&ze.self.location&&(u=ze.self.location.protocol.slice(0,-1)),o=!Mo.test(u?u.toLowerCase():"")}n=o}if(n)nr(i,"complete"),nr(i,"success");else{i.m=6;try{var f=2<me(i)?i.g.statusText:""}catch{f=""}i.j=f+" ["+i.da()+"]",K(i)}}finally{F(i)}}}function F(i,e){if(i.g){oe(i);const n=i.g,o=i.C[0]?()=>{}:null;i.g=null,i.C=null,e||nr(i,"ready");try{n.onreadystatechange=o}catch{}}}function oe(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(ze.clearTimeout(i.A),i.A=null)}function me(i){return i.g?i.g.readyState:0}function cn(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case Ho:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function Vs(i){let e="";return Dn(i,function(n,o){e+=o,e+=":",e+=n,e+="\r\n"}),e}function Gs(i,e,n){e:{for(o in n){var o=!1;break e}o=!0}o||(n=Vs(n),"string"==typeof i?null!=n&&encodeURIComponent(String(n)):tn(i,e,n))}function _s(i,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[i]||e}function Wa(i){this.Ga=0,this.j=[],this.l=new en,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=_s("failFast",!1,i),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=_s("baseRetryDelayMs",5e3,i),this.hb=_s("retryDelaySeedMs",1e4,i),this.eb=_s("forwardChannelMaxRetries",2,i),this.xa=_s("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.useFetchStreams||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.i=new za(i&&i.concurrentRequestLimit),this.Ja=new ui,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.l.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.qa=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.qa=i.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function fa(i){if(Ka(i),3==i.H){var e=i.W++,n=gi(i.I);if(tn(n,"SID",i.K),tn(n,"RID",e),tn(n,"TYPE","terminate"),Aa(i,n),(e=new Ao(i,i.l,e)).L=2,e.v=dr(gi(n)),n=!1,ze.navigator&&ze.navigator.sendBeacon)try{n=ze.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&ze.Image&&((new Image).src=e.v,n=!0),n||(e.g=gl(e.l,null),e.g.ha(e.v)),e.G=Date.now(),is(e)}pl(i)}function Sa(i){i.g&&(zo(i),i.g.cancel(),i.g=null)}function Ka(i){Sa(i),i.u&&(ze.clearTimeout(i.u),i.u=null),ds(i),i.i.cancel(),i.m&&("number"==typeof i.m&&ze.clearTimeout(i.m),i.m=null)}function Po(i){if(!us(i.i)&&!i.m){i.m=!0;var e=i.Na;yt||Ht(),Rt||(yt(),Rt=!0),Kt.add(e,i),i.C=0}}function pa(i,e){var n;n=e?e.m:i.W++;const o=gi(i.I);tn(o,"SID",i.K),tn(o,"RID",n),tn(o,"AID",i.V),Aa(i,o),i.o&&i.s&&Gs(o,i.o,i.s),n=new Ao(i,i.l,n,i.C+1),null===i.o&&(n.I=i.s),e&&(i.j=e.F.concat(i.j)),e=go(i,n,1e3),n.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),xn(i.i,n),jo(n,o,e)}function Aa(i,e){i.na&&Dn(i.na,function(n,o){tn(e,o,n)}),i.h&&ti({},function(n,o){tn(e,o,n)})}function go(i,e,n){n=Math.min(i.j.length,n);var o=i.h?Ee(i.h.Va,i.h,i):null;e:{var u=i.j;let f=-1;for(;;){const _=["count="+n];-1==f?0<n?(f=u[0].g,_.push("ofs="+f)):f=0:_.push("ofs="+f);let N=!0;for(let x=0;x<n;x++){let W=u[x].g;const te=u[x].map;if(W-=f,0>W)f=Math.max(0,u[x].g-100),N=!1;else try{ha(te,_,"req"+W+"_")}catch{o&&o(te)}}if(N){o=_.join("&");break e}}}return i=i.j.splice(0,n),e.F=i,o}function cs(i){if(!i.g&&!i.u){i.ba=1;var e=i.Ma;yt||Ht(),Rt||(yt(),Rt=!0),Kt.add(e,i),i.A=0}}function Oo(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=Ci(Ee(i.Ma,i),fl(i,i.A)),i.A++,0))}function zo(i){null!=i.B&&(ze.clearTimeout(i.B),i.B=null)}function mi(i){i.g=new Ao(i,i.l,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=gi(i.wa);tn(e,"RID","rpc"),tn(e,"SID",i.K),tn(e,"AID",i.V),tn(e,"CI",i.G?"0":"1"),!i.G&&i.qa&&tn(e,"TO",i.qa),tn(e,"TYPE","xmlhttp"),Aa(i,e),i.o&&i.s&&Gs(e,i.o,i.s),i.L&&i.g.setTimeout(i.L);var n=i.g;i=i.pa,n.L=1,n.v=dr(gi(e)),n.s=null,n.S=!0,li(n,i)}function ds(i){null!=i.v&&(ze.clearTimeout(i.v),i.v=null)}function Qi(i,e){var n=null;if(i.g==e){ds(i),zo(i),i.g=null;var o=2}else{if(!eo(i.i,e))return;n=e.F,No(i.i,e),o=1}if(0!=i.H)if(e.i)if(1==o){n=e.s?e.s.length:0,e=Date.now()-e.G;var u=i.C;nr(o=wi(),new Yi(o,n)),Po(i)}else cs(i);else if(3==(u=e.o)||0==u&&0<e.ca||!(1==o&&function Ru(i,e){return!(To(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.j=e.F.concat(i.j),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=Ci(Ee(i.Na,i,e),fl(i,i.C)),i.C++,0)))}(i,e)||2==o&&Oo(i)))switch(n&&0<n.length&&(e=i.i,e.i=e.i.concat(n)),u){case 1:wo(i,5);break;case 4:wo(i,10);break;case 3:wo(i,6);break;default:wo(i,2)}}function fl(i,e){let n=i.ab+Math.floor(Math.random()*i.hb);return i.isActive()||(n*=2),n*e}function wo(i,e){if(i.l.info("Error code "+e),2==e){var n=null;i.h&&(n=null);var o=Ee(i.pb,i);n||(n=new xs("//www.google.com/images/cleardot.gif"),ze.location&&"http"==ze.location.protocol||Is(n,"https"),dr(n)),function Fs(i,e){const n=new en;if(ze.Image){const o=new Image;o.onload=rt(Ls,n,o,"TestLoadImage: loaded",!0,e),o.onerror=rt(Ls,n,o,"TestLoadImage: error",!1,e),o.onabort=rt(Ls,n,o,"TestLoadImage: abort",!1,e),o.ontimeout=rt(Ls,n,o,"TestLoadImage: timeout",!1,e),ze.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(n.toString(),o)}else gr(2);i.H=0,i.h&&i.h.za(e),pl(i),Ka(i)}function pl(i){if(i.H=0,i.ma=[],i.h){const e=Ts(i.i);(0!=e.length||0!=i.j.length)&&(Cn(i.ma,e),Cn(i.ma,i.j),i.i.i.length=0,In(i.j),i.j.length=0),i.h.ya()}}function xo(i,e,n){var o=n instanceof xs?gi(n):new xs(n);if(""!=o.g)e&&(o.g=e+"."+o.g),Or(o,o.m);else{var u=ze.location;o=u.protocol,e=e?e+"."+u.hostname:u.hostname,u=+u.port;var f=new xs(null);o&&Is(f,o),e&&(f.g=e),u&&Or(f,u),n&&(f.l=n),o=f}return e=i.Da,(n=i.F)&&e&&tn(o,n,e),tn(o,"VER",i.ra),Aa(i,o),o}function gl(i,e,n){if(e&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new cr(n&&i.Ha&&!i.va?new Ri({ob:!0}):i.va)).Oa(i.J),e}function ga(){}function na(){if(Ce&&!(10<=Number(Re)))throw Error("Environmental error: no available transport.")}function Ji(i,e){jn.call(this),this.g=new Wa(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!At(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!At(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new ra(this)}function Ra(i){Jo.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var e=i.__sm__;if(e){e:{for(const n in e){i=n;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function ma(){hl.call(this),this.status=1}function ra(i){this.g=i}function ws(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function ia(i,e,n){n||(n=0);var o=Array(16);if("string"==typeof e)for(var u=0;16>u;++u)o[u]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(u=0;16>u;++u)o[u]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var f=i.g[3],_=(e=i.g[0])+(f^(n=i.g[1])&((u=i.g[2])^f))+o[0]+3614090360&4294967295;_=(n=(u=(f=(e=(n=(u=(f=(e=(n=(u=(f=(e=(n=(u=(f=(e=(n=(u=(f=(e=(n=(u=(f=(e=(n=(u=(f=(e=(n=(u=(f=(e=(n=(u=(f=(e=(n=(u=(f=(e=(n=(u=(f=(e=(n=(u=(f=(e=(n=(u=(f=(e=(n=(u=(f=(e=(n=(u=(f=(e=n+(_<<7&4294967295|_>>>25))+((_=f+(u^e&(n^u))+o[1]+3905402710&4294967295)<<12&4294967295|_>>>20))+((_=u+(n^f&(e^n))+o[2]+606105819&4294967295)<<17&4294967295|_>>>15))+((_=n+(e^u&(f^e))+o[3]+3250441966&4294967295)<<22&4294967295|_>>>10))+((_=e+(f^n&(u^f))+o[4]+4118548399&4294967295)<<7&4294967295|_>>>25))+((_=f+(u^e&(n^u))+o[5]+1200080426&4294967295)<<12&4294967295|_>>>20))+((_=u+(n^f&(e^n))+o[6]+2821735955&4294967295)<<17&4294967295|_>>>15))+((_=n+(e^u&(f^e))+o[7]+4249261313&4294967295)<<22&4294967295|_>>>10))+((_=e+(f^n&(u^f))+o[8]+1770035416&4294967295)<<7&4294967295|_>>>25))+((_=f+(u^e&(n^u))+o[9]+2336552879&4294967295)<<12&4294967295|_>>>20))+((_=u+(n^f&(e^n))+o[10]+4294925233&4294967295)<<17&4294967295|_>>>15))+((_=n+(e^u&(f^e))+o[11]+2304563134&4294967295)<<22&4294967295|_>>>10))+((_=e+(f^n&(u^f))+o[12]+1804603682&4294967295)<<7&4294967295|_>>>25))+((_=f+(u^e&(n^u))+o[13]+4254626195&4294967295)<<12&4294967295|_>>>20))+((_=u+(n^f&(e^n))+o[14]+2792965006&4294967295)<<17&4294967295|_>>>15))+((_=n+(e^u&(f^e))+o[15]+1236535329&4294967295)<<22&4294967295|_>>>10))+((_=e+(u^f&(n^u))+o[1]+4129170786&4294967295)<<5&4294967295|_>>>27))+((_=f+(n^u&(e^n))+o[6]+3225465664&4294967295)<<9&4294967295|_>>>23))+((_=u+(e^n&(f^e))+o[11]+643717713&4294967295)<<14&4294967295|_>>>18))+((_=n+(f^e&(u^f))+o[0]+3921069994&4294967295)<<20&4294967295|_>>>12))+((_=e+(u^f&(n^u))+o[5]+3593408605&4294967295)<<5&4294967295|_>>>27))+((_=f+(n^u&(e^n))+o[10]+38016083&4294967295)<<9&4294967295|_>>>23))+((_=u+(e^n&(f^e))+o[15]+3634488961&4294967295)<<14&4294967295|_>>>18))+((_=n+(f^e&(u^f))+o[4]+3889429448&4294967295)<<20&4294967295|_>>>12))+((_=e+(u^f&(n^u))+o[9]+568446438&4294967295)<<5&4294967295|_>>>27))+((_=f+(n^u&(e^n))+o[14]+3275163606&4294967295)<<9&4294967295|_>>>23))+((_=u+(e^n&(f^e))+o[3]+4107603335&4294967295)<<14&4294967295|_>>>18))+((_=n+(f^e&(u^f))+o[8]+1163531501&4294967295)<<20&4294967295|_>>>12))+((_=e+(u^f&(n^u))+o[13]+2850285829&4294967295)<<5&4294967295|_>>>27))+((_=f+(n^u&(e^n))+o[2]+4243563512&4294967295)<<9&4294967295|_>>>23))+((_=u+(e^n&(f^e))+o[7]+1735328473&4294967295)<<14&4294967295|_>>>18))+((_=n+(f^e&(u^f))+o[12]+2368359562&4294967295)<<20&4294967295|_>>>12))+((_=e+(n^u^f)+o[5]+4294588738&4294967295)<<4&4294967295|_>>>28))+((_=f+(e^n^u)+o[8]+2272392833&4294967295)<<11&4294967295|_>>>21))+((_=u+(f^e^n)+o[11]+1839030562&4294967295)<<16&4294967295|_>>>16))+((_=n+(u^f^e)+o[14]+4259657740&4294967295)<<23&4294967295|_>>>9))+((_=e+(n^u^f)+o[1]+2763975236&4294967295)<<4&4294967295|_>>>28))+((_=f+(e^n^u)+o[4]+1272893353&4294967295)<<11&4294967295|_>>>21))+((_=u+(f^e^n)+o[7]+4139469664&4294967295)<<16&4294967295|_>>>16))+((_=n+(u^f^e)+o[10]+3200236656&4294967295)<<23&4294967295|_>>>9))+((_=e+(n^u^f)+o[13]+681279174&4294967295)<<4&4294967295|_>>>28))+((_=f+(e^n^u)+o[0]+3936430074&4294967295)<<11&4294967295|_>>>21))+((_=u+(f^e^n)+o[3]+3572445317&4294967295)<<16&4294967295|_>>>16))+((_=n+(u^f^e)+o[6]+76029189&4294967295)<<23&4294967295|_>>>9))+((_=e+(n^u^f)+o[9]+3654602809&4294967295)<<4&4294967295|_>>>28))+((_=f+(e^n^u)+o[12]+3873151461&4294967295)<<11&4294967295|_>>>21))+((_=u+(f^e^n)+o[15]+530742520&4294967295)<<16&4294967295|_>>>16))+((_=n+(u^f^e)+o[2]+3299628645&4294967295)<<23&4294967295|_>>>9))+((_=e+(u^(n|~f))+o[0]+4096336452&4294967295)<<6&4294967295|_>>>26))+((_=f+(n^(e|~u))+o[7]+1126891415&4294967295)<<10&4294967295|_>>>22))+((_=u+(e^(f|~n))+o[14]+2878612391&4294967295)<<15&4294967295|_>>>17))+((_=n+(f^(u|~e))+o[5]+4237533241&4294967295)<<21&4294967295|_>>>11))+((_=e+(u^(n|~f))+o[12]+1700485571&4294967295)<<6&4294967295|_>>>26))+((_=f+(n^(e|~u))+o[3]+2399980690&4294967295)<<10&4294967295|_>>>22))+((_=u+(e^(f|~n))+o[10]+4293915773&4294967295)<<15&4294967295|_>>>17))+((_=n+(f^(u|~e))+o[1]+2240044497&4294967295)<<21&4294967295|_>>>11))+((_=e+(u^(n|~f))+o[8]+1873313359&4294967295)<<6&4294967295|_>>>26))+((_=f+(n^(e|~u))+o[15]+4264355552&4294967295)<<10&4294967295|_>>>22))+((_=u+(e^(f|~n))+o[6]+2734768916&4294967295)<<15&4294967295|_>>>17))+((_=n+(f^(u|~e))+o[13]+1309151649&4294967295)<<21&4294967295|_>>>11))+((f=(e=n+((_=e+(u^(n|~f))+o[4]+4149444226&4294967295)<<6&4294967295|_>>>26))+((_=f+(n^(e|~u))+o[11]+3174756917&4294967295)<<10&4294967295|_>>>22))^((u=f+((_=u+(e^(f|~n))+o[2]+718787259&4294967295)<<15&4294967295|_>>>17))|~e))+o[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(u+(_<<21&4294967295|_>>>11))&4294967295,i.g[2]=i.g[2]+u&4294967295,i.g[3]=i.g[3]+f&4294967295}function xr(i,e){this.h=e;for(var n=[],o=!0,u=i.length-1;0<=u;u--){var f=0|i[u];o&&f==e||(n[u]=f,o=!1)}this.g=n}(Ne=cr.prototype).Oa=function(i){this.M=i},Ne.ha=function(i,e,n,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Xo.g(),this.C=function Qs(i){return i.h||(i.h=i.i())}(this.u?this.u:Xo),this.g.onreadystatechange=Ee(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(f){return void ta(this,f)}if(i=n||"",n=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var u in o)n.set(u,o[u]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const f of o.keys())n.set(f,o.get(f))}o=Array.from(n.keys()).find(f=>"content-type"==f.toLowerCase()),u=ze.FormData&&i instanceof ze.FormData,!(0<=Xt(Go,e))||o||u||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[f,_]of n)this.g.setRequestHeader(f,_);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{oe(this),0<this.B&&((this.L=function ea(i){return Ce&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ee(this.ua,this)):this.A=ei(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(f){ta(this,f)}},Ne.ua=function(){typeof Ye<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,nr(this,"timeout"),this.abort(8))},Ne.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,nr(this,"complete"),nr(this,"abort"),F(this))},Ne.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),F(this,!0)),cr.$.N.call(this)},Ne.La=function(){this.s||(this.G||this.v||this.l?J(this):this.kb())},Ne.kb=function(){J(this)},Ne.isActive=function(){return!!this.g},Ne.da=function(){try{return 2<me(this)?this.g.status:-1}catch{return-1}},Ne.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ne.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),Ds(e)}},Ne.Ia=function(){return this.m},Ne.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ne=Wa.prototype).ra=8,Ne.H=1,Ne.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const u=new Ao(this,this.l,i);let f=this.s;if(this.U&&(f?(f=gn(f),sr(f,this.U)):f=this.U),null!==this.o||this.O||(u.I=f,f=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var o=this.j[n];if(void 0===(o="__data__"in o.map&&"string"==typeof(o=o.map.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=go(this,u,e),tn(n=gi(this.I),"RID",i),tn(n,"CVER",22),this.F&&tn(n,"X-HTTP-Session-Id",this.F),Aa(this,n),f&&(this.O?e="headers="+encodeURIComponent(String(Vs(f)))+"&"+e:this.o&&Gs(n,this.o,f)),xn(this.i,u),this.bb&&tn(n,"TYPE","init"),this.P?(tn(n,"$req",e),tn(n,"SID","null"),u.aa=!0,jo(u,n,null)):jo(u,n,e),this.H=2}}else 3==this.H&&(i?pa(this,i):0==this.j.length||us(this.i)||pa(this))},Ne.Ma=function(){if(this.u=null,mi(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var i=2*this.S;this.l.info("BP detection timer enabled: "+i),this.B=Ci(Ee(this.jb,this),i)}},Ne.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,gr(10),Sa(this),mi(this))},Ne.ib=function(){null!=this.v&&(this.v=null,Sa(this),Oo(this),gr(19))},Ne.pb=function(i){i?(this.l.info("Successfully pinged google.com"),gr(2)):(this.l.info("Failed to ping google.com"),gr(1))},Ne.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ne=ga.prototype).Ba=function(){},Ne.Aa=function(){},Ne.za=function(){},Ne.ya=function(){},Ne.isActive=function(){return!0},Ne.Va=function(){},na.prototype.g=function(i,e){return new Ji(i,e)},ut(Ji,jn),Ji.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var i=this.g,e=this.l,n=this.h||void 0;gr(0),i.Y=e,i.na=n||{},i.G=i.aa,i.I=xo(i,null,i.Y),Po(i)},Ji.prototype.close=function(){fa(this.g)},Ji.prototype.u=function(i){var e=this.g;if("string"==typeof i){var n={};n.__data__=i,i=n}else this.v&&((n={}).__data__=rs(i),i=n);e.j.push(new class{constructor(i,e){this.g=i,this.map=e}}(e.fb++,i)),3==e.H&&Po(e)},Ji.prototype.N=function(){this.g.h=null,delete this.j,fa(this.g),delete this.g,Ji.$.N.call(this)},ut(Ra,Jo),ut(ma,hl),ut(ra,ga),ra.prototype.Ba=function(){nr(this.g,"a")},ra.prototype.Aa=function(i){nr(this.g,new Ra(i))},ra.prototype.za=function(i){nr(this.g,new ma)},ra.prototype.ya=function(){nr(this.g,"b")},ut(ws,function Wo(){this.blockSize=-1}),ws.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ws.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var n=e-this.blockSize,o=this.m,u=this.h,f=0;f<e;){if(0==u)for(;f<=n;)ia(this,i,f),f+=this.blockSize;if("string"==typeof i){for(;f<e;)if(o[u++]=i.charCodeAt(f++),u==this.blockSize){ia(this,o),u=0;break}}else for(;f<e;)if(o[u++]=i[f++],u==this.blockSize){ia(this,o),u=0;break}}this.h=u,this.i+=e},ws.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var n=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&n,n/=256;for(this.j(i),i=Array(16),e=n=0;4>e;++e)for(var o=0;32>o;o+=8)i[n++]=this.g[e]>>>o&255;return i};var Z={};function b(i){return-128<=i&&128>i?function ke(i,e){var n=Z;return Object.prototype.hasOwnProperty.call(n,i)?n[i]:n[i]=e(i)}(i,function(e){return new xr([0|e],0>e?-1:0)}):new xr([0|i],0>i?-1:0)}function w(i){if(isNaN(i)||!isFinite(i))return le;if(0>i)return xt(w(-i));for(var e=[],n=1,o=0;i>=n;o++)e[o]=i/n|0,n*=ee;return new xr(e,0)}var ee=4294967296,le=b(0),be=b(1),we=b(16777216);function Je(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function pt(i){return-1==i.h}function xt(i){for(var e=i.g.length,n=[],o=0;o<e;o++)n[o]=~i.g[o];return new xr(n,~i.h).add(be)}function ln(i,e){return i.add(xt(e))}function ir(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function A(i,e){this.g=i,this.h=e}function Y(i,e){if(Je(e))throw Error("division by zero");if(Je(i))return new A(le,le);if(pt(i))return e=Y(xt(i),e),new A(xt(e.g),xt(e.h));if(pt(e))return e=Y(i,xt(e)),new A(xt(e.g),e.h);if(30<i.g.length){if(pt(i)||pt(e))throw Error("slowDivide_ only works with positive integers.");for(var n=be,o=e;0>=o.X(i);)n=k(n),o=k(o);var u=q(n,1),f=q(o,1);for(o=q(o,2),n=q(n,2);!Je(o);){var _=f.add(o);0>=_.X(i)&&(u=u.add(n),f=_),o=q(o,1),n=q(n,1)}return e=ln(i,u.R(e)),new A(u,e)}for(u=le;0<=i.X(e);){for(n=Math.max(1,Math.floor(i.ea()/e.ea())),o=48>=(o=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,o-48),_=(f=w(n)).R(e);pt(_)||0<_.X(i);)_=(f=w(n-=o)).R(e);Je(f)&&(f=be),u=u.add(f),i=ln(i,_)}return new A(u,i)}function k(i){for(var e=i.g.length+1,n=[],o=0;o<e;o++)n[o]=i.D(o)<<1|i.D(o-1)>>>31;return new xr(n,i.h)}function q(i,e){var n=e>>5;e%=32;for(var o=i.g.length-n,u=[],f=0;f<o;f++)u[f]=0<e?i.D(f+n)>>>e|i.D(f+n+1)<<32-e:i.D(f+n);return new xr(u,i.h)}(Ne=xr.prototype).ea=function(){if(pt(this))return-xt(this).ea();for(var i=0,e=1,n=0;n<this.g.length;n++){var o=this.D(n);i+=(0<=o?o:ee+o)*e,e*=ee}return i},Ne.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(Je(this))return"0";if(pt(this))return"-"+xt(this).toString(i);for(var e=w(Math.pow(i,6)),n=this,o="";;){var u=Y(n,e).g,f=((0<(n=ln(n,u.R(e))).g.length?n.g[0]:n.h)>>>0).toString(i);if(Je(n=u))return f+o;for(;6>f.length;)f="0"+f;o=f+o}},Ne.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},Ne.X=function(i){return pt(i=ln(this,i))?-1:Je(i)?0:1},Ne.abs=function(){return pt(this)?xt(this):this},Ne.add=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0,u=0;u<=e;u++){var f=o+(65535&this.D(u))+(65535&i.D(u)),_=(f>>>16)+(this.D(u)>>>16)+(i.D(u)>>>16);o=_>>>16,n[u]=(_&=65535)<<16|(f&=65535)}return new xr(n,-2147483648&n[n.length-1]?-1:0)},Ne.R=function(i){if(Je(this)||Je(i))return le;if(pt(this))return pt(i)?xt(this).R(xt(i)):xt(xt(this).R(i));if(pt(i))return xt(this.R(xt(i)));if(0>this.X(we)&&0>i.X(we))return w(this.ea()*i.ea());for(var e=this.g.length+i.g.length,n=[],o=0;o<2*e;o++)n[o]=0;for(o=0;o<this.g.length;o++)for(var u=0;u<i.g.length;u++){var f=this.D(o)>>>16,_=65535&this.D(o),N=i.D(u)>>>16,x=65535&i.D(u);n[2*o+2*u]+=_*x,ir(n,2*o+2*u),n[2*o+2*u+1]+=f*x,ir(n,2*o+2*u+1),n[2*o+2*u+1]+=_*N,ir(n,2*o+2*u+1),n[2*o+2*u+2]+=f*N,ir(n,2*o+2*u+2)}for(o=0;o<e;o++)n[o]=n[2*o+1]<<16|n[2*o];for(o=e;o<2*e;o++)n[o]=0;return new xr(n,0)},Ne.gb=function(i){return Y(this,i).h},Ne.and=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)&i.D(o);return new xr(n,this.h&i.h)},Ne.or=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)|i.D(o);return new xr(n,this.h|i.h)},Ne.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)^i.D(o);return new xr(n,this.h^i.h)},na.prototype.createWebChannel=na.prototype.g,Ji.prototype.send=Ji.prototype.u,Ji.prototype.open=Ji.prototype.m,Ji.prototype.close=Ji.prototype.close,Zs.NO_ERROR=0,Zs.TIMEOUT=8,Zs.HTTP_ERROR=6,Ur.COMPLETE="complete",Ii.EventType=po,po.OPEN="a",po.CLOSE="b",po.ERROR="c",po.MESSAGE="d",jn.prototype.listen=jn.prototype.O,cr.prototype.listenOnce=cr.prototype.P,cr.prototype.getLastError=cr.prototype.Sa,cr.prototype.getLastErrorCode=cr.prototype.Ia,cr.prototype.getStatus=cr.prototype.da,cr.prototype.getResponseJson=cr.prototype.Wa,cr.prototype.getResponseText=cr.prototype.ja,cr.prototype.send=cr.prototype.ha,cr.prototype.setWithCredentials=cr.prototype.Oa,ws.prototype.digest=ws.prototype.l,ws.prototype.reset=ws.prototype.reset,ws.prototype.update=ws.prototype.j,xr.prototype.add=xr.prototype.add,xr.prototype.multiply=xr.prototype.R,xr.prototype.modulo=xr.prototype.gb,xr.prototype.compare=xr.prototype.X,xr.prototype.toNumber=xr.prototype.ea,xr.prototype.toString=xr.prototype.toString,xr.prototype.getBits=xr.prototype.D,xr.fromNumber=w,xr.fromString=function L(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return xt(L(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=w(Math.pow(e,8)),o=le,u=0;u<i.length;u+=8){var f=Math.min(8,i.length-u),_=parseInt(i.substring(u,u+f),e);8>f?(f=w(Math.pow(e,f)),o=o.R(f).add(w(_))):o=(o=o.R(n)).add(w(_))}return o};var pe=Ae.createWebChannelTransport=function(){return new na},Ze=Ae.getStatEventTarget=function(){return wi()},_t=Ae.ErrorCode=Zs,Bt=Ae.EventType=Ur,Dr=Ae.Event=qi,hr=Ae.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Kn=Ae.FetchXmlHttpFactory=Ri,Fn=Ae.WebChannel=Ii,$r=Ae.XhrIo=cr,wr=Ae.Md5=ws,ii=Ae.Integer=xr;const Bs="@firebase/firestore";class kr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kr.UNAUTHENTICATED=new kr(null),kr.GOOGLE_CREDENTIALS=new kr("google-credentials-uid"),kr.FIRST_PARTY=new kr("first-party-uid"),kr.MOCK_USER=new kr("mock-user");let $i="10.5.2";const Ti=new Be.Yd("@firebase/firestore");function un(){return Ti.logLevel}function et(i,...e){if(Ti.logLevel<=Be.in.DEBUG){const n=e.map(to);Ti.debug(`Firestore (${$i}): ${i}`,...n)}}function Ln(i,...e){if(Ti.logLevel<=Be.in.ERROR){const n=e.map(to);Ti.error(`Firestore (${$i}): ${i}`,...n)}}function _n(i,...e){if(Ti.logLevel<=Be.in.WARN){const n=e.map(to);Ti.warn(`Firestore (${$i}): ${i}`,...n)}}function to(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function zt(i="Unexpected state"){const e=`FIRESTORE (${$i}) INTERNAL ASSERTION FAILED: `+i;throw Ln(e),new Error(e)}function Ut(i,e){i||zt()}function qt(i,e){return i}const st={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class vt extends ce.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ni{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class no{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Na{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(kr.UNAUTHENTICATED))}shutdown(){}}class ro{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Nu{constructor(e){this.t=e,this.currentUser=kr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var o=this;let u=this.i;const f=W=>this.i!==u?(u=this.i,n(W)):Promise.resolve();let _=new Ni;this.o=()=>{this.i++,this.currentUser=this.u(),_.resolve(),_=new Ni,e.enqueueRetryable(()=>f(this.currentUser))};const N=()=>{const W=_;e.enqueueRetryable((0,fe.Z)(function*(){yield W.promise,yield f(o.currentUser)}))},x=W=>{et("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=W,this.auth.addAuthTokenListener(this.o),N()};this.t.onInit(W=>x(W)),setTimeout(()=>{if(!this.auth){const W=this.t.getImmediate({optional:!0});W?x(W):(et("FirebaseAuthCredentialsProvider","Auth not yet detected"),_.resolve(),_=new Ni)}},0),N()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(o=>this.i!==e?(et("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Ut("string"==typeof o.accessToken),new no(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ut(null===e||"string"==typeof e),new kr(e)}}class uc{constructor(e,n,o){this.l=e,this.h=n,this.P=o,this.type="FirstParty",this.user=kr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Co{constructor(e,n,o){this.l=e,this.h=n,this.P=o}getToken(){return Promise.resolve(new uc(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(kr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Gl{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class od{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const o=f=>{null!=f.error&&et("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const _=f.token!==this.R;return this.R=f.token,et("FirebaseAppCheckTokenProvider",`Received ${_?"new":"existing"} token.`),_?n(f.token):Promise.resolve()};this.o=f=>{e.enqueueRetryable(()=>o(f))};const u=f=>{et("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.appCheck.addTokenListener(this.o)};this.A.onInit(f=>u(f)),setTimeout(()=>{if(!this.appCheck){const f=this.A.getImmediate({optional:!0});f?u(f):et("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ut("string"==typeof n.token),this.R=n.token,new Gl(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Qn(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let o=0;o<i;o++)n[o]=Math.floor(256*Math.random());return n}class cc{static newId(){const n=62*Math.floor(256/62);let o="";for(;o.length<20;){const u=Qn(40);for(let f=0;f<u.length;++f)o.length<20&&u[f]<n&&(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[f]%62))}return o}}function Jn(i,e){return i<e?-1:i>e?1:0}function qa(i,e,n){return i.length===e.length&&i.every((o,u)=>n(o,e[u]))}class Hi{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new vt(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new vt(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new vt(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new vt(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Hi.fromMillis(Date.now())}static fromDate(e){return Hi.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*n));return new Hi(n,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Jn(this.nanoseconds,e.nanoseconds):Jn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Pn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Pn(e)}static min(){return new Pn(new Hi(0,0))}static max(){return new Pn(new Hi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class mo{constructor(e,n,o){void 0===n?n=0:n>e.length&&zt(),void 0===o?o=e.length-n:o>e.length-n&&zt(),this.segments=e,this.offset=n,this.len=o}get length(){return this.len}isEqual(e){return 0===mo.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof mo?e.forEach(o=>{n.push(o)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,o=this.limit();n<o;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const o=Math.min(e.length,n.length);for(let u=0;u<o;u++){const f=e.get(u),_=n.get(u);if(f<_)return-1;if(f>_)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Gr extends mo{construct(e,n,o){return new Gr(e,n,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const o of e){if(o.indexOf("//")>=0)throw new vt(st.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);n.push(...o.split("/").filter(u=>u.length>0))}return new Gr(n)}static emptyPath(){return new Gr([])}}const Cs=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bi extends mo{construct(e,n,o){return new Bi(e,n,o)}static isValidIdentifier(e){return Cs.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Bi(["__name__"])}static fromServerFormat(e){const n=[];let o="",u=0;const f=()=>{if(0===o.length)throw new vt(st.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(o),o=""};let _=!1;for(;u<e.length;){const N=e[u];if("\\"===N){if(u+1===e.length)throw new vt(st.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const x=e[u+1];if("\\"!==x&&"."!==x&&"`"!==x)throw new vt(st.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=x,u+=2}else"`"===N?(_=!_,u++):"."!==N||_?(o+=N,u++):(f(),u++)}if(f(),_)throw new vt(st.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bi(n)}static emptyPath(){return new Bi([])}}class rn{constructor(e){this.path=e}static fromPath(e){return new rn(Gr.fromString(e))}static fromName(e){return new rn(Gr.fromString(e).popFirst(5))}static empty(){return new rn(Gr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Gr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Gr.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new rn(new Gr(e.slice()))}}function io(i){return new Ss(i.readTime,i.key,-1)}class Ss{constructor(e,n,o){this.readTime=e,this.documentKey=n,this.largestBatchId=o}static min(){return new Ss(Pn.min(),rn.empty(),-1)}static max(){return new Ss(Pn.max(),rn.empty(),-1)}}function zl(i,e){let n=i.readTime.compareTo(e.readTime);return 0!==n?n:(n=rn.comparator(i.documentKey,e.documentKey),0!==n?n:Jn(i.largestBatchId,e.largestBatchId))}const Wl="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ad{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function oa(i){return so.apply(this,arguments)}function so(){return so=(0,fe.Z)(function*(i){if(i.code!==st.FAILED_PRECONDITION||i.message!==Wl)throw i;et("LocalStore","Unexpectedly lost primary lease")}),so.apply(this,arguments)}class je{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&zt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new je((o,u)=>{this.nextCallback=f=>{this.wrapSuccess(e,f).next(o,u)},this.catchCallback=f=>{this.wrapFailure(n,f).next(o,u)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof je?n:je.resolve(n)}catch(n){return je.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):je.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):je.reject(n)}static resolve(e){return new je((n,o)=>{n(e)})}static reject(e){return new je((n,o)=>{o(e)})}static waitFor(e){return new je((n,o)=>{let u=0,f=0,_=!1;e.forEach(N=>{++u,N.next(()=>{++f,_&&f===u&&n()},x=>o(x))}),_=!0,f===u&&n()})}static or(e){let n=je.resolve(!1);for(const o of e)n=n.next(u=>u?je.resolve(u):o());return n}static forEach(e,n){const o=[];return e.forEach((u,f)=>{o.push(n.call(this,u,f))}),this.waitFor(o)}static mapArray(e,n){return new je((o,u)=>{const f=e.length,_=new Array(f);let N=0;for(let x=0;x<f;x++){const W=x;n(e[W]).next(te=>{_[W]=te,++N,N===f&&o(_)},te=>u(te))}})}static doWhile(e,n){return new je((o,u)=>{const f=()=>{!0===e()?n().next(()=>{f()},u):o()};f()})}}function M(i){return"IndexedDbTransactionError"===i.name}let Xe=(()=>{class i{constructor(n,o){this.previousValue=n,o&&(o.sequenceNumberHandler=u=>this.se(u),this.oe=u=>o.writeSequenceNumber(u))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return i._e=-1,i})();function sn(i){return null==i}function Hn(i){return 0===i&&1/i==-1/0}function xu(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function _l(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function sf(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class Mi{constructor(e,n){this.comparator=e,this.root=n||js.EMPTY}insert(e,n){return new Mi(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,js.BLACK,null,null))}remove(e){return new Mi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,js.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const o=this.comparator(e,n.key);if(0===o)return n.value;o<0?n=n.left:o>0&&(n=n.right)}return null}indexOf(e){let n=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return n+o.left.size;u<0?o=o.left:(n+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,o)=>(e(n,o),!1))}toString(){const e=[];return this.inorderTraversal((n,o)=>(e.push(`${n}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _c(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _c(this.root,e,this.comparator,!1)}getReverseIterator(){return new _c(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _c(this.root,e,this.comparator,!0)}}class _c{constructor(e,n,o,u){this.isReverse=u,this.nodeStack=[];let f=1;for(;!e.isEmpty();)if(f=n?o(e.key,n):1,n&&u&&(f*=-1),f<0)e=this.isReverse?e.left:e.right;else{if(0===f){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class js{constructor(e,n,o,u,f){this.key=e,this.value=n,this.color=o??js.RED,this.left=u??js.EMPTY,this.right=f??js.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,o,u,f){return new js(e??this.key,n??this.value,o??this.color,u??this.left,f??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,o){let u=this;const f=o(e,u.key);return u=f<0?u.copy(null,null,null,u.left.insert(e,n,o),null):0===f?u.copy(null,n,null,null,null):u.copy(null,null,null,null,u.right.insert(e,n,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return js.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let o,u=this;if(n(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,n),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===n(e,u.key)){if(u.right.isEmpty())return js.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,n))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,js.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,js.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw zt();const e=this.left.check();if(e!==this.right.check())throw zt();return e+(this.isRed()?0:1)}}js.EMPTY=null,js.RED=!0,js.BLACK=!1,js.EMPTY=new class{constructor(){this.size=0}get key(){throw zt()}get value(){throw zt()}get color(){throw zt()}get left(){throw zt()}get right(){throw zt()}copy(e,n,o,u,f){return this}insert(e,n,o){return new js(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Qr{constructor(e){this.comparator=e,this.data=new Mi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,o)=>(e(n),!1))}forEachInRange(e,n){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;n(u.key)}}forEachWhile(e,n){let o;for(o=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Pa(this.data.getIterator())}getIteratorFrom(e){return new Pa(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(o=>{n=n.add(o)}),n}isEqual(e){if(!(e instanceof Qr)||this.size!==e.size)return!1;const n=this.data.getIterator(),o=e.data.getIterator();for(;n.hasNext();){const u=n.getNext().key,f=o.getNext().key;if(0!==this.comparator(u,f))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Qr(this.comparator);return n.data=e,n}}class Pa{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ao{constructor(e){this.fields=e,e.sort(Bi.comparator)}static empty(){return new ao([])}unionWith(e){let n=new Qr(Bi.comparator);for(const o of this.fields)n=n.add(o);for(const o of e)n=n.add(o);return new ao(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return qa(this.fields,e.fields,(n,o)=>n.isEqual(o))}}class ud extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class $s{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(u){try{return atob(u)}catch(f){throw typeof DOMException<"u"&&f instanceof DOMException?new ud("Invalid base64 string: "+f):f}}(e);return new $s(n)}static fromUint8Array(e){const n=function(u){let f="";for(let _=0;_<u.length;++_)f+=String.fromCharCode(u[_]);return f}(e);return new $s(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const o=new Uint8Array(n.length);for(let u=0;u<n.length;u++)o[u]=n.charCodeAt(u);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Jn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$s.EMPTY_BYTE_STRING=new $s("");const cd=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yl(i){if(Ut(!!i),"string"==typeof i){let e=0;const n=cd.exec(i);if(Ut(!!n),n[1]){let u=n[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Xi(i.seconds),nanos:Xi(i.nanos)}}function Xi(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function As(i){return"string"==typeof i?$s.fromBase64String(i):$s.fromUint8Array(i)}function Ql(i){var e,n;return"server_timestamp"===(null===(n=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ui(i){const e=i.mapValue.fields.__previous_value__;return Ql(e)?Ui(e):e}function ua(i){const e=yl(i.mapValue.fields.__local_write_time__.timestampValue);return new Hi(e.seconds,e.nanos)}class ku{constructor(e,n,o,u,f,_,N,x,W){this.databaseId=e,this.appId=n,this.persistenceKey=o,this.host=u,this.ssl=f,this.forceLongPolling=_,this.autoDetectLongPolling=N,this.longPollingOptions=x,this.useFetchStreams=W}}class Oa{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Oa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Oa&&e.projectId===this.projectId&&e.database===this.database}}const xa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ya(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Ql(i)?4:Xl(i)?9007199254740991:10:zt()}function va(i,e){if(i===e)return!0;const n=ya(i);if(n!==ya(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return ua(i).isEqual(ua(e));case 3:return function(u,f){if("string"==typeof u.timestampValue&&"string"==typeof f.timestampValue&&u.timestampValue.length===f.timestampValue.length)return u.timestampValue===f.timestampValue;const _=yl(u.timestampValue),N=yl(f.timestampValue);return _.seconds===N.seconds&&_.nanos===N.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return f=e,As(i.bytesValue).isEqual(As(f.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(u,f){return Xi(u.geoPointValue.latitude)===Xi(f.geoPointValue.latitude)&&Xi(u.geoPointValue.longitude)===Xi(f.geoPointValue.longitude)}(i,e);case 2:return function(u,f){if("integerValue"in u&&"integerValue"in f)return Xi(u.integerValue)===Xi(f.integerValue);if("doubleValue"in u&&"doubleValue"in f){const _=Xi(u.doubleValue),N=Xi(f.doubleValue);return _===N?Hn(_)===Hn(N):isNaN(_)&&isNaN(N)}return!1}(i,e);case 9:return qa(i.arrayValue.values||[],e.arrayValue.values||[],va);case 10:return function(u,f){const _=u.mapValue.fields||{},N=f.mapValue.fields||{};if(xu(_)!==xu(N))return!1;for(const x in _)if(_.hasOwnProperty(x)&&(void 0===N[x]||!va(_[x],N[x])))return!1;return!0}(i,e);default:return zt()}var f}function vl(i,e){return void 0!==(i.values||[]).find(n=>va(n,e))}function Xa(i,e){if(i===e)return 0;const n=ya(i),o=ya(e);if(n!==o)return Jn(n,o);switch(n){case 0:case 9007199254740991:return 0;case 1:return Jn(i.booleanValue,e.booleanValue);case 2:return function(f,_){const N=Xi(f.integerValue||f.doubleValue),x=Xi(_.integerValue||_.doubleValue);return N<x?-1:N>x?1:N===x?0:isNaN(N)?isNaN(x)?0:-1:1}(i,e);case 3:return vc(i.timestampValue,e.timestampValue);case 4:return vc(ua(i),ua(e));case 5:return Jn(i.stringValue,e.stringValue);case 6:return function(f,_){const N=As(f),x=As(_);return N.compareTo(x)}(i.bytesValue,e.bytesValue);case 7:return function(f,_){const N=f.split("/"),x=_.split("/");for(let W=0;W<N.length&&W<x.length;W++){const te=Jn(N[W],x[W]);if(0!==te)return te}return Jn(N.length,x.length)}(i.referenceValue,e.referenceValue);case 8:return function(f,_){const N=Jn(Xi(f.latitude),Xi(_.latitude));return 0!==N?N:Jn(Xi(f.longitude),Xi(_.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(f,_){const N=f.values||[],x=_.values||[];for(let W=0;W<N.length&&W<x.length;++W){const te=Xa(N[W],x[W]);if(te)return te}return Jn(N.length,x.length)}(i.arrayValue,e.arrayValue);case 10:return function(f,_){if(f===xa.mapValue&&_===xa.mapValue)return 0;if(f===xa.mapValue)return 1;if(_===xa.mapValue)return-1;const N=f.fields||{},x=Object.keys(N),W=_.fields||{},te=Object.keys(W);x.sort(),te.sort();for(let he=0;he<x.length&&he<te.length;++he){const xe=Jn(x[he],te[he]);if(0!==xe)return xe;const ot=Xa(N[x[he]],W[te[he]]);if(0!==ot)return ot}return Jn(x.length,te.length)}(i.mapValue,e.mapValue);default:throw zt()}}function vc(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Jn(i,e);const n=yl(i),o=yl(e),u=Jn(n.seconds,o.seconds);return 0!==u?u:Jn(n.nanos,o.nanos)}function Ea(i){return Ia(i)}function Ia(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const o=yl(n);return`time(${o.seconds},${o.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?As(i.bytesValue).toBase64():"referenceValue"in i?rn.fromName(i.referenceValue).toString():"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let o="[",u=!0;for(const f of n.values||[])u?u=!1:o+=",",o+=Ia(f);return o+"]"}(i.arrayValue):"mapValue"in i?function(n){const o=Object.keys(n.fields||{}).sort();let u="{",f=!0;for(const _ of o)f?f=!1:u+=",",u+=`${_}:${Ia(n.fields[_])}`;return u+"}"}(i.mapValue):zt()}function ba(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function kl(i){return!!i&&"integerValue"in i}function ka(i){return!!i&&"arrayValue"in i}function Jl(i){return!!i&&"nullValue"in i}function lo(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Ec(i){return!!i&&"mapValue"in i}function Yo(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return _l(i.mapValue.fields,(n,o)=>e.mapValue.fields[n]=Yo(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Yo(i.arrayValue.values[n]);return e}return Object.assign({},i)}function Xl(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}class fs{constructor(e){this.value=e}static empty(){return new fs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let o=0;o<e.length-1;++o)if(n=(n.mapValue.fields||{})[e.get(o)],!Ec(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yo(n)}setAll(e){let n=Bi.emptyPath(),o={},u=[];e.forEach((_,N)=>{if(!n.isImmediateParentOf(N)){const x=this.getFieldsMap(n);this.applyChanges(x,o,u),o={},u=[],n=N.popLast()}_?o[N.lastSegment()]=Yo(_):u.push(N.lastSegment())});const f=this.getFieldsMap(n);this.applyChanges(f,o,u)}delete(e){const n=this.field(e.popLast());Ec(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return va(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=n.mapValue.fields[e.get(o)];Ec(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},n.mapValue.fields[e.get(o)]=u),n=u}return n.mapValue.fields}applyChanges(e,n,o){_l(n,(u,f)=>e[u]=f);for(const u of o)delete e[u]}clone(){return new fs(Yo(this.value))}}function Jr(i){const e=[];return _l(i.fields,(n,o)=>{const u=new Bi([n]);if(Ec(o)){const f=Jr(o.mapValue).fields;if(0===f.length)e.push(u);else for(const _ of f)e.push(u.child(_))}else e.push(u)}),new ao(e)}class Pi{constructor(e,n,o,u,f,_,N){this.key=e,this.documentType=n,this.version=o,this.readTime=u,this.createTime=f,this.data=_,this.documentState=N}static newInvalidDocument(e){return new Pi(e,0,Pn.min(),Pn.min(),Pn.min(),fs.empty(),0)}static newFoundDocument(e,n,o,u){return new Pi(e,1,n,Pn.min(),o,u,0)}static newNoDocument(e,n){return new Pi(e,2,n,Pn.min(),Pn.min(),fs.empty(),0)}static newUnknownDocument(e,n){return new Pi(e,3,n,Pn.min(),Pn.min(),fs.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Pn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Pi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ca{constructor(e,n){this.position=e,this.inclusive=n}}function Fa(i,e,n){let o=0;for(let u=0;u<i.position.length;u++){const f=e[u],_=i.position[u];if(o=f.field.isKeyField()?rn.comparator(rn.fromName(_.referenceValue),n.key):Xa(_,n.data.field(f.field)),"desc"===f.dir&&(o*=-1),0!==o)break}return o}function hd(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!va(i.position[n],e.position[n]))return!1;return!0}class Vu{constructor(e,n="asc"){this.field=e,this.dir=n}}function af(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class ah{}class Br extends ah{constructor(e,n,o){super(),this.field=e,this.op=n,this.value=o}static create(e,n,o){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,o):new uh(e,n,o):"array-contains"===n?new Tc(e,o):"in"===n?new ru(e,o):"not-in"===n?new md(e,o):"array-contains-any"===n?new ch(e,o):new Br(e,n,o)}static createKeyFieldInFilter(e,n,o){return"in"===n?new da(e,o):new nu(e,o)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Xa(n,this.value)):null!==n&&ya(this.value)===ya(n)&&this.matchesComparison(Xa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return zt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ci extends ah{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new ci(e,n)}matches(e){return eu(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function eu(i){return"and"===i.op}function La(i){return function fd(i){for(const e of i.filters)if(e instanceof ci)return!1;return!0}(i)&&eu(i)}function bc(i){if(i instanceof Br)return i.field.canonicalString()+i.op.toString()+Ea(i.value);if(La(i))return i.filters.map(e=>bc(e)).join(",");{const e=i.filters.map(n=>bc(n)).join(",");return`${i.op}(${e})`}}function ys(i,e){return i instanceof Br?(o=i,(u=e)instanceof Br&&o.op===u.op&&o.field.isEqual(u.field)&&va(o.value,u.value)):i instanceof ci?function(o,u){return u instanceof ci&&o.op===u.op&&o.filters.length===u.filters.length&&o.filters.reduce((f,_,N)=>f&&ys(_,u.filters[N]),!0)}(i,e):void zt();var o,u}function tu(i){return i instanceof Br?`${(n=i).field.canonicalString()} ${n.op} ${Ea(n.value)}`:i instanceof ci?function(n){return n.op.toString()+" {"+n.getFilters().map(tu).join(" ,")+"}"}(i):"Filter";var n}class uh extends Br{constructor(e,n,o){super(e,n,o),this.key=rn.fromName(o.referenceValue)}matches(e){const n=rn.comparator(e.key,this.key);return this.matchesComparison(n)}}class da extends Br{constructor(e,n){super(e,"in",n),this.keys=gd(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class nu extends Br{constructor(e,n){super(e,"not-in",n),this.keys=gd(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function gd(i,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(o=>rn.fromName(o.referenceValue))}class Tc extends Br{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ka(n)&&vl(n.arrayValue,this.value)}}class ru extends Br{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&vl(this.value.arrayValue,n)}}class md extends Br{constructor(e,n){super(e,"not-in",n)}matches(e){if(vl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!vl(this.value.arrayValue,n)}}class ch extends Br{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ka(n)||!n.arrayValue.values)&&n.arrayValue.values.some(o=>vl(this.value.arrayValue,o))}}class lf{constructor(e,n=null,o=[],u=[],f=null,_=null,N=null){this.path=e,this.collectionGroup=n,this.orderBy=o,this.filters=u,this.limit=f,this.startAt=_,this.endAt=N,this.ce=null}}function Bu(i,e=null,n=[],o=[],u=null,f=null,_=null){return new lf(i,e,n,o,u,f,_)}function Rs(i){const e=qt(i);if(null===e.ce){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(o=>bc(o)).join(","),n+="|ob:",n+=e.orderBy.map(o=>{return(f=o).field.canonicalString()+f.dir;var f}).join(","),sn(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>Ea(o)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>Ea(o)).join(",")),e.ce=n}return e.ce}function tl(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!af(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!ys(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!hd(i.startAt,e.startAt)&&hd(i.endAt,e.endAt)}function Va(i){return rn.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class Ta{constructor(e,n=null,o=[],u=[],f=null,_="F",N=null,x=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=o,this.filters=u,this.limit=f,this.limitType=_,this.startAt=N,this.endAt=x,this.le=null,this.he=null,this.Pe=null}}function El(i){return new Ta(i)}function hh(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function vd(i){return null!==i.collectionGroup}function Fl(i){const e=qt(i);if(null===e.le){e.le=[];const n=new Set;for(const f of e.explicitOrderBy)e.le.push(f),n.add(f.field.canonicalString());const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(_){let N=new Qr(Bi.comparator);return _.filters.forEach(x=>{x.getFlattenedFilters().forEach(W=>{W.isInequality()&&(N=N.add(W.field))})}),N})(e).forEach(f=>{n.has(f.canonicalString())||f.isKeyField()||e.le.push(new Vu(f,o))}),n.has(Bi.keyField().canonicalString())||e.le.push(new Vu(Bi.keyField(),o))}return e.le}function uo(i){const e=qt(i);return e.he||(e.he=function uf(i,e){if("F"===i.limitType)return Bu(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(u=>new Vu(u.field,"desc"===u.dir?"asc":"desc"));const n=i.endAt?new ca(i.endAt.position,i.endAt.inclusive):null,o=i.startAt?new ca(i.startAt.position,i.startAt.inclusive):null;return Bu(i.path,i.collectionGroup,e,i.filters,i.limit,n,o)}}(e,Fl(i))),e.he}function Uu(i,e){const n=i.filters.concat([e]);return new Ta(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Ed(i,e,n){return new Ta(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Il(i,e){return tl(uo(i),uo(e))&&i.limitType===e.limitType}function cf(i){return`${Rs(uo(i))}|lt:${i.limitType}`}function su(i){return`Query(target=${function(n){let o=n.path.canonicalString();return null!==n.collectionGroup&&(o+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(o+=`, filters: [${n.filters.map(u=>tu(u)).join(", ")}]`),sn(n.limit)||(o+=", limit: "+n.limit),n.orderBy.length>0&&(o+=`, orderBy: [${n.orderBy.map(u=>{return`${(_=u).field.canonicalString()} (${_.dir})`;var _}).join(", ")}]`),n.startAt&&(o+=", startAt: ",o+=n.startAt.inclusive?"b:":"a:",o+=n.startAt.position.map(u=>Ea(u)).join(",")),n.endAt&&(o+=", endAt: ",o+=n.endAt.inclusive?"a:":"b:",o+=n.endAt.position.map(u=>Ea(u)).join(",")),`Target(${o})`}(uo(i))}; limitType=${i.limitType})`}function D(i,e){return e.isFoundDocument()&&function(o,u){const f=u.key.path;return null!==o.collectionGroup?u.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(f):rn.isDocumentKey(o.path)?o.path.isEqual(f):o.path.isImmediateParentOf(f)}(i,e)&&function(o,u){for(const f of Fl(o))if(!f.field.isKeyField()&&null===u.data.field(f.field))return!1;return!0}(i,e)&&function(o,u){for(const f of o.filters)if(!f.matches(u))return!1;return!0}(i,e)&&(u=e,!((o=i).startAt&&!function(_,N,x){const W=Fa(_,N,x);return _.inclusive?W<=0:W<0}(o.startAt,Fl(o),u)||o.endAt&&!function(_,N,x){const W=Fa(_,N,x);return _.inclusive?W>=0:W>0}(o.endAt,Fl(o),u)));var o,u}function y(i){return(e,n)=>{let o=!1;for(const u of Fl(i)){const f=R(u,e,n);if(0!==f)return f;o=o||u.field.isKeyField()}return 0}}function R(i,e,n){const o=i.field.isKeyField()?rn.comparator(e.key,n.key):function(f,_,N){const x=_.data.field(f),W=N.data.field(f);return null!==x&&null!==W?Xa(x,W):zt()}(i.field,e,n);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return zt()}}class Q{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0!==o)for(const[u,f]of o)if(this.equalsFn(u,e))return f}has(e){return void 0!==this.get(e)}set(e,n){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,n]],void this.innerSize++;for(let f=0;f<u.length;f++)if(this.equalsFn(u[f][0],e))return void(u[f]=[e,n]);u.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[n]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){_l(this.inner,(n,o)=>{for(const[u,f]of o)e(u,f)})}isEmpty(){return sf(this.inner)}size(){return this.innerSize}}const ae=new Mi(rn.comparator);function Se(){return ae}const dt=new Mi(rn.comparator);function Nt(...i){let e=dt;for(const n of i)e=e.insert(n.key,n);return e}function vn(i){let e=dt;return i.forEach((n,o)=>e=e.insert(n,o.overlayedDocument)),e}function Nn(){return Er()}function lr(){return Er()}function Er(){return new Q(i=>i.toString(),(i,e)=>i.isEqual(e))}const Ba=new Mi(rn.comparator),ju=new Qr(rn.comparator);function Xn(...i){let e=ju;for(const n of i)e=e.add(n);return e}const Dc=new Qr(Jn);function ou(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hn(e)?"-0":e}}function fh(i){return{integerValue:""+i}}function bl(i,e){return function si(i){return"number"==typeof i&&Number.isInteger(i)&&!Hn(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}(e)?fh(e):ou(i,e)}class Ll{constructor(){this._=void 0}}function Cc(i,e,n){return i instanceof Vl?function(u,f){const _={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return f&&Ql(f)&&(f=Ui(f)),f&&(_.fields.__previous_value__=f),{mapValue:_}}(n,e):i instanceof au?Bl(i,e):i instanceof Ua?Id(i,e):function(u,f){const _=Sc(u,f),N=lp(_)+lp(u.Ie);return kl(_)&&kl(u.Ie)?fh(N):ou(u.serializer,N)}(i,e)}function ph(i,e,n){return i instanceof au?Bl(i,e):i instanceof Ua?Id(i,e):n}function Sc(i,e){return i instanceof lu?kl(o=e)||(f=o)&&"doubleValue"in f?e:{integerValue:0}:null;var o,f}class Vl extends Ll{}class au extends Ll{constructor(e){super(),this.elements=e}}function Bl(i,e){const n=gh(e);for(const o of i.elements)n.some(u=>va(u,o))||n.push(o);return{arrayValue:{values:n}}}class Ua extends Ll{constructor(e){super(),this.elements=e}}function Id(i,e){let n=gh(e);for(const o of i.elements)n=n.filter(u=>!va(u,o));return{arrayValue:{values:n}}}class lu extends Ll{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function lp(i){return Xi(i.integerValue||i.doubleValue)}function gh(i){return ka(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class nl{constructor(e,n){this.field=e,this.transform=n}}class df{constructor(e,n){this.version=e,this.transformResults=n}}class ps{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ps}static exists(e){return new ps(void 0,e)}static updateTime(e){return new ps(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mh(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class _h{}function Ac(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new $u(i.key,ps.none()):new uu(i.key,i.data,ps.none());{const n=i.data,o=fs.empty();let u=new Qr(Bi.comparator);for(let f of e.fields)if(!u.has(f)){let _=n.field(f);null===_&&f.length>1&&(f=f.popLast(),_=n.field(f)),null===_?o.delete(f):o.set(f,_),u=u.add(f)}return new cu(i.key,o,new ao(u.toArray()),ps.none())}}function Cg(i,e,n){i instanceof uu?function(u,f,_){const N=u.value.clone(),x=Ag(u.fieldTransforms,f,_.transformResults);N.setAll(x),f.convertToFoundDocument(_.version,N).setHasCommittedMutations()}(i,e,n):i instanceof cu?function(u,f,_){if(!mh(u.precondition,f))return void f.convertToUnknownDocument(_.version);const N=Ag(u.fieldTransforms,f,_.transformResults),x=f.data;x.setAll(Sg(u)),x.setAll(N),f.convertToFoundDocument(_.version,x).setHasCommittedMutations()}(i,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Td(i,e,n,o){return i instanceof uu?function(f,_,N,x){if(!mh(f.precondition,_))return N;const W=f.value.clone(),te=up(f.fieldTransforms,x,_);return W.setAll(te),_.convertToFoundDocument(_.version,W).setHasLocalMutations(),null}(i,e,n,o):i instanceof cu?function(f,_,N,x){if(!mh(f.precondition,_))return N;const W=up(f.fieldTransforms,x,_),te=_.data;return te.setAll(Sg(f)),te.setAll(W),_.convertToFoundDocument(_.version,te).setHasLocalMutations(),null===N?null:N.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map(he=>he.field))}(i,e,n,o):(N=n,mh(i.precondition,_=e)?(_.convertToNoDocument(_.version).setHasLocalMutations(),null):N);var _,N}function hf(i,e){let n=null;for(const o of i.fieldTransforms){const u=e.data.field(o.field),f=Sc(o.transform,u||null);null!=f&&(null===n&&(n=fs.empty()),n.set(o.field,f))}return n||null}function yh(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(u=e.fieldTransforms,!!(void 0===(o=i.fieldTransforms)&&void 0===u||o&&u&&qa(o,u,(f,_)=>function bd(i,e){return i.field.isEqual(e.field)&&(u=e.transform,(o=i.transform)instanceof au&&u instanceof au||o instanceof Ua&&u instanceof Ua?qa(o.elements,u.elements,va):o instanceof lu&&u instanceof lu?va(o.Ie,u.Ie):o instanceof Vl&&u instanceof Vl);var o,u}(f,_))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var o,u}class uu extends _h{constructor(e,n,o,u=[]){super(),this.key=e,this.value=n,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class cu extends _h{constructor(e,n,o,u,f=[]){super(),this.key=e,this.data=n,this.fieldMask=o,this.precondition=u,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function Sg(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const o=i.data.field(n);e.set(n,o)}}),e}function Ag(i,e,n){const o=new Map;Ut(i.length===n.length);for(let u=0;u<n.length;u++){const f=i[u],_=f.transform,N=e.data.field(f.field);o.set(f.field,ph(_,N,n[u]))}return o}function up(i,e,n){const o=new Map;for(const u of i){const f=u.transform,_=n.data.field(u.field);o.set(u.field,Cc(f,_,e))}return o}class $u extends _h{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cp extends _h{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class vh{constructor(e,n,o,u){this.batchId=e,this.localWriteTime=n,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,n){const o=n.mutationResults;for(let u=0;u<this.mutations.length;u++){const f=this.mutations[u];f.key.isEqual(e.key)&&Cg(f,e,o[u])}}applyToLocalView(e,n){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(n=Td(o,e,n,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(n=Td(o,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const o=lr();return this.mutations.forEach(u=>{const f=e.get(u.key),_=f.overlayedDocument;let N=this.applyToLocalView(_,f.mutatedFields);N=n.has(u.key)?null:N;const x=Ac(_,N);null!==x&&o.set(u.key,x),_.isValidDocument()||_.convertToNoDocument(Pn.min())}),o}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Xn())}isEqual(e){return this.batchId===e.batchId&&qa(this.mutations,e.mutations,(n,o)=>yh(n,o))&&qa(this.baseMutations,e.baseMutations,(n,o)=>yh(n,o))}}class ff{constructor(e,n,o,u){this.batch=e,this.commitVersion=n,this.mutationResults=o,this.docVersions=u}static from(e,n,o){Ut(e.mutations.length===o.length);let u=Ba;const f=e.mutations;for(let _=0;_<f.length;_++)u=u.insert(f[_].key,o[_].version);return new ff(e,n,o,u)}}class pf{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class hp{constructor(e,n){this.count=e,this.unchangedNames=n}}var Kr,qr;function gf(i){if(void 0===i)return Ln("GRPC error has no .code"),st.UNKNOWN;switch(i){case Kr.OK:return st.OK;case Kr.CANCELLED:return st.CANCELLED;case Kr.UNKNOWN:return st.UNKNOWN;case Kr.DEADLINE_EXCEEDED:return st.DEADLINE_EXCEEDED;case Kr.RESOURCE_EXHAUSTED:return st.RESOURCE_EXHAUSTED;case Kr.INTERNAL:return st.INTERNAL;case Kr.UNAVAILABLE:return st.UNAVAILABLE;case Kr.UNAUTHENTICATED:return st.UNAUTHENTICATED;case Kr.INVALID_ARGUMENT:return st.INVALID_ARGUMENT;case Kr.NOT_FOUND:return st.NOT_FOUND;case Kr.ALREADY_EXISTS:return st.ALREADY_EXISTS;case Kr.PERMISSION_DENIED:return st.PERMISSION_DENIED;case Kr.FAILED_PRECONDITION:return st.FAILED_PRECONDITION;case Kr.ABORTED:return st.ABORTED;case Kr.OUT_OF_RANGE:return st.OUT_OF_RANGE;case Kr.UNIMPLEMENTED:return st.UNIMPLEMENTED;case Kr.DATA_LOSS:return st.DATA_LOSS;default:return zt()}}(qr=Kr||(Kr={}))[qr.OK=0]="OK",qr[qr.CANCELLED=1]="CANCELLED",qr[qr.UNKNOWN=2]="UNKNOWN",qr[qr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qr[qr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qr[qr.NOT_FOUND=5]="NOT_FOUND",qr[qr.ALREADY_EXISTS=6]="ALREADY_EXISTS",qr[qr.PERMISSION_DENIED=7]="PERMISSION_DENIED",qr[qr.UNAUTHENTICATED=16]="UNAUTHENTICATED",qr[qr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qr[qr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qr[qr.ABORTED=10]="ABORTED",qr[qr.OUT_OF_RANGE=11]="OUT_OF_RANGE",qr[qr.UNIMPLEMENTED=12]="UNIMPLEMENTED",qr[qr.INTERNAL=13]="INTERNAL",qr[qr.UNAVAILABLE=14]="UNAVAILABLE",qr[qr.DATA_LOSS=15]="DATA_LOSS";const Rg=new ii([4294967295,4294967295],0);function mf(i){const e=function ja(){return new TextEncoder}().encode(i),n=new wr;return n.update(e),new Uint8Array(n.digest())}function _f(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),o=e.getUint32(4,!0),u=e.getUint32(8,!0),f=e.getUint32(12,!0);return[new ii([n,o],0),new ii([u,f],0)]}class Eh{constructor(e,n,o){if(this.bitmap=e,this.padding=n,this.hashCount=o,n<0||n>=8)throw new Dd(`Invalid padding: ${n}`);if(o<0)throw new Dd(`Invalid hash count: ${o}`);if(e.length>0&&0===this.hashCount)throw new Dd(`Invalid hash count: ${o}`);if(0===e.length&&0!==n)throw new Dd(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=ii.fromNumber(this.Te)}de(e,n,o){let u=e.add(n.multiply(ii.fromNumber(o)));return 1===u.compare(Rg)&&(u=new ii([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const n=mf(e),[o,u]=_f(n);for(let f=0;f<this.hashCount;f++){const _=this.de(o,u,f);if(!this.Ae(_))return!1}return!0}static create(e,n,o){const u=e%8==0?0:8-e%8,f=new Uint8Array(Math.ceil(e/8)),_=new Eh(f,u,n);return o.forEach(N=>_.insert(N)),_}insert(e){if(0===this.Te)return;const n=mf(e),[o,u]=_f(n);for(let f=0;f<this.hashCount;f++){const _=this.de(o,u,f);this.Re(_)}}Re(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Dd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Nc{constructor(e,n,o,u,f){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(e,n,o){const u=new Map;return u.set(e,Hu.createSynthesizedTargetChangeForCurrentChange(e,n,o)),new Nc(Pn.min(),u,new Mi(Jn),Se(),Xn())}}class Hu{constructor(e,n,o,u,f){this.resumeToken=e,this.current=n,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(e,n,o){return new Hu(o,n,Xn(),Xn(),Xn())}}class wd{constructor(e,n,o,u){this.Ve=e,this.removedTargetIds=n,this.key=o,this.me=u}}class fp{constructor(e,n){this.targetId=e,this.fe=n}}class pp{constructor(e,n,o=$s.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=n,this.resumeToken=o,this.cause=u}}class Ih{constructor(){this.ge=0,this.pe=Mc(),this.ye=$s.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Xn(),n=Xn(),o=Xn();return this.pe.forEach((u,f)=>{switch(f){case 0:e=e.add(u);break;case 2:n=n.add(u);break;case 1:o=o.add(u);break;default:zt()}}),new Hu(this.ye,this.we,e,n,o)}Fe(){this.Se=!1,this.pe=Mc()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class yf{constructor(e){this.Le=e,this.ke=new Map,this.qe=Se(),this.Qe=vf(),this.Ke=new Mi(Jn)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const o=this.ze(n);switch(e.state){case 0:this.je(n)&&o.Ce(e.resumeToken);break;case 1:o.Ne(),o.be||o.Fe(),o.Ce(e.resumeToken);break;case 2:o.Ne(),o.be||this.removeTarget(n);break;case 3:this.je(n)&&(o.Be(),o.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),o.Ce(e.resumeToken));break;default:zt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((o,u)=>{this.je(u)&&n(u)})}Je(e){const n=e.targetId,o=e.fe.count,u=this.Ye(n);if(u){const f=u.target;if(Va(f))if(0===o){const _=new rn(f.path);this.We(n,_,Pi.newNoDocument(_,Pn.min()))}else Ut(1===o);else{const _=this.Ze(n);if(_!==o){const N=this.Xe(e),x=N?this.et(N,e,_):1;0!==x&&(this.He(n),this.Ke=this.Ke.insert(n,2===x?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:o="",padding:u=0},hashCount:f=0}=n;let _,N;try{_=As(o).toUint8Array()}catch(x){if(x instanceof ud)return _n("Decoding the base64 bloom filter in existence filter failed ("+x.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw x}try{N=new Eh(_,u,f)}catch(x){return _n(x instanceof Dd?"BloomFilter error: ":"Applying bloom filter failed: ",x),null}return 0===N.Te?null:N}et(e,n,o){return n.fe.count===o-this.rt(e,n.targetId)?0:2}rt(e,n){const o=this.Le.getRemoteKeysForTarget(n);let u=0;return o.forEach(f=>{const _=this.Le.nt(),N=`projects/${_.projectId}/databases/${_.database}/documents/${f.path.canonicalString()}`;e.mightContain(N)||(this.We(n,f,null),u++)}),u}it(e){const n=new Map;this.ke.forEach((f,_)=>{const N=this.Ye(_);if(N){if(f.current&&Va(N.target)){const x=new rn(N.target.path);null!==this.qe.get(x)||this.st(_,x)||this.We(_,x,Pi.newNoDocument(x,e))}f.De&&(n.set(_,f.ve()),f.Fe())}});let o=Xn();this.Qe.forEach((f,_)=>{let N=!0;_.forEachWhile(x=>{const W=this.Ye(x);return!W||"TargetPurposeLimboResolution"===W.purpose||(N=!1,!1)}),N&&(o=o.add(f))}),this.qe.forEach((f,_)=>_.setReadTime(e));const u=new Nc(e,n,this.Ke,this.qe,o);return this.qe=Se(),this.Qe=vf(),this.Ke=new Mi(Jn),u}Ue(e,n){if(!this.je(e))return;const o=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,o),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,o){if(!this.je(e))return;const u=this.ze(e);this.st(e,n)?u.Me(n,1):u.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),o&&(this.qe=this.qe.insert(n,o))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Ih,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Qr(Jn),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=null!==this.Ye(e);return n||et("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Ih),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function vf(){return new Mi(rn.comparator)}function Mc(){return new Mi(rn.comparator)}const gp={asc:"ASCENDING",desc:"DESCENDING"},Ng={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ef={and:"AND",or:"OR"};class mp{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function du(i,e){return i.useProto3Json||sn(e)?e:{value:e}}function ko(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hu(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function _p(i,e){return ko(i,e.toTimestamp())}function vs(i){return Ut(!!i),Pn.fromTimestamp(function(n){const o=yl(n);return new Hi(o.seconds,o.nanos)}(i))}function Pc(i,e){return(o=i,new Gr(["projects",o.projectId,"databases",o.database])).child("documents").child(e).canonicalString();var o}function yp(i){const e=Gr.fromString(i);return Ut(Fc(e)),e}function Gu(i,e){return Pc(i.databaseId,e.path)}function Ul(i,e){const n=yp(e);if(n.get(1)!==i.databaseId.projectId)throw new vt(st.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new vt(st.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new rn(bh(n))}function vp(i,e){return Pc(i.databaseId,e)}function Cd(i){return new Gr(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function bh(i){return Ut(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Oc(i,e,n){return{name:Gu(i,e),fields:n.value.mapValue.fields}}function zu(i,e){return{documents:[vp(i,e.path)]}}function Ad(i,e){const n={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(n.parent=vp(i,o),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=vp(i,o.popLast()),n.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(x){if(0!==x.length)return Df(ci.create(x,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(x){if(0!==x.length)return x.map(W=>{return{field:fu((he=W).field),direction:Tf(he.dir)};var he})}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const _=du(i,e.limit);return null!==_&&(n.structuredQuery.limit=_),e.startAt&&(n.structuredQuery.startAt={before:(x=e.startAt).inclusive,values:x.position}),e.endAt&&(n.structuredQuery.endAt=function(x){return{before:!x.inclusive,values:x.position}}(e.endAt)),n;var x}function bf(i){let e=function If(i){const e=yp(i);return 4===e.length?Gr.emptyPath():bh(e)}(i.parent);const n=i.structuredQuery,o=n.from?n.from.length:0;let u=null;if(o>0){Ut(1===o);const te=n.from[0];te.allDescendants?u=te.collectionId:e=e.child(te.collectionId)}let f=[];n.where&&(f=function(he){const xe=f_(he);return xe instanceof ci&&La(xe)?xe.getFilters():[xe]}(n.where));let _=[];n.orderBy&&(_=n.orderBy.map(xe=>{return new Vu(pu((kt=xe).field),function(on){switch(on){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(kt.direction));var kt}));let N=null;n.limit&&(N=function(he){let xe;return xe="object"==typeof he?he.value:he,sn(xe)?null:xe}(n.limit));let x=null;var he;n.startAt&&(x=new ca((he=n.startAt).values||[],!!he.before));let W=null;return n.endAt&&(W=function(he){return new ca(he.values||[],!he.before)}(n.endAt)),function yd(i,e,n,o,u,f,_,N){return new Ta(i,e,n,o,u,f,_,N)}(e,u,_,f,N,"F",x,W)}function f_(i){return void 0!==i.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const o=pu(n.unaryFilter.field);return Br.create(o,"==",{doubleValue:NaN});case"IS_NULL":const u=pu(n.unaryFilter.field);return Br.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const f=pu(n.unaryFilter.field);return Br.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const _=pu(n.unaryFilter.field);return Br.create(_,"!=",{nullValue:"NULL_VALUE"});default:return zt()}}(i):void 0!==i.fieldFilter?Br.create(pu((n=i).fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return zt()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==i.compositeFilter?function(n){return ci.create(n.compositeFilter.filters.map(o=>f_(o)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return zt()}}(n.compositeFilter.op))}(i):zt();var n}function Tf(i){return gp[i]}function p_(i){return Ng[i]}function Og(i){return Ef[i]}function fu(i){return{fieldPath:i.canonicalString()}}function pu(i){return Bi.fromServerFormat(i.fieldPath)}function Df(i){return i instanceof Br?function(n){if("=="===n.op){if(lo(n.value))return{unaryFilter:{field:fu(n.field),op:"IS_NAN"}};if(Jl(n.value))return{unaryFilter:{field:fu(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(lo(n.value))return{unaryFilter:{field:fu(n.field),op:"IS_NOT_NAN"}};if(Jl(n.value))return{unaryFilter:{field:fu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fu(n.field),op:p_(n.op),value:n.value}}}(i):i instanceof ci?function(n){const o=n.getFilters().map(u=>Df(u));return 1===o.length?o[0]:{compositeFilter:{op:Og(n.op),filters:o}}}(i):zt()}function xg(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Fc(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class $a{constructor(e,n,o,u,f=Pn.min(),_=Pn.min(),N=$s.EMPTY_BYTE_STRING,x=null){this.target=e,this.targetId=n,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=_,this.resumeToken=N,this.expectedCount=x}withSequenceNumber(e){return new $a(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new $a(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $a(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $a(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Ip{constructor(e){this.ut=e}}function bp(i){const e=bf({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Ed(e,e.limit,"L"):e}class Od{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(Xi(e.integerValue));else if("doubleValue"in e){const o=Xi(e.doubleValue);isNaN(o)?this.Tt(n,13):(this.Tt(n,15),Hn(o)?n.Et(0):n.Et(o))}else if("timestampValue"in e){const o=e.timestampValue;this.Tt(n,20),"string"==typeof o?n.dt(o):(n.dt(`${o.seconds||""}`),n.Et(o.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(As(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){const o=e.geoPointValue;this.Tt(n,45),n.Et(o.latitude||0),n.Et(o.longitude||0)}else"mapValue"in e?Xl(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):zt()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){const o=e.fields||{};this.Tt(n,55);for(const u of Object.keys(o))this.At(u,n),this.Pt(o[u],n)}yt(e,n){const o=e.values||[];this.Tt(n,50);for(const u of o)this.Pt(u,n)}ft(e,n){this.Tt(n,37),rn.fromName(e).path.forEach(o=>{this.Tt(n,60),this.wt(o,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}}Od.St=new Od;class Qy{constructor(){this.on=new Np}addToCollectionParentIndex(e,n){return this.on.add(n),je.resolve()}getCollectionParents(e,n){return je.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return je.resolve()}deleteFieldIndex(e,n){return je.resolve()}deleteAllFieldIndexes(e){return je.resolve()}createTargetIndexes(e,n){return je.resolve()}getDocumentsMatchingTarget(e,n){return je.resolve(null)}getIndexType(e,n){return je.resolve(0)}getFieldIndexes(e,n){return je.resolve([])}getNextCollectionGroupToUpdate(e){return je.resolve(null)}getMinOffset(e,n){return je.resolve(Ss.min())}getMinOffsetFromCollectionGroup(e,n){return je.resolve(Ss.min())}updateCollectionGroup(e,n,o){return je.resolve()}updateIndexEntries(e,n){return je.resolve()}}class Np{constructor(){this.index={}}add(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n]||new Qr(Gr.comparator),f=!u.has(o);return this.index[n]=u.add(o),f}has(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n];return u&&u.has(o)}getEntries(e){return(this.index[e]||new Qr(Gr.comparator)).toArray()}}new Uint8Array(0);class Es{constructor(e,n,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new Es(e,Es.DEFAULT_COLLECTION_PERCENTILE,Es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Es.DEFAULT_COLLECTION_PERCENTILE=10,Es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Es.DEFAULT=new Es(41943040,Es.DEFAULT_COLLECTION_PERCENTILE,Es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Es.DISABLED=new Es(-1,0,0);class h{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new h(0)}static Nn(){return new h(-1)}}class Ot{constructor(){this.changes=new Q(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Pi.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const o=this.changes.get(n);return void 0!==o?je.resolve(o):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class di{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class _i{constructor(e,n,o,u){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=o,this.indexManager=u}getDocument(e,n){let o=null;return this.documentOverlayCache.getOverlay(e,n).next(u=>(o=u,this.remoteDocumentCache.getEntry(e,n))).next(u=>(null!==o&&Td(o.mutation,u,ao.empty(),Hi.now()),u))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.getLocalViewOfDocuments(e,o,Xn()).next(()=>o))}getLocalViewOfDocuments(e,n,o=Xn()){const u=Nn();return this.populateOverlays(e,u,n).next(()=>this.computeViews(e,n,u,o).next(f=>{let _=Nt();return f.forEach((N,x)=>{_=_.insert(N,x.overlayedDocument)}),_}))}getOverlayedDocuments(e,n){const o=Nn();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,Xn()))}populateOverlays(e,n,o){const u=[];return o.forEach(f=>{n.has(f)||u.push(f)}),this.documentOverlayCache.getOverlays(e,u).next(f=>{f.forEach((_,N)=>{n.set(_,N)})})}computeViews(e,n,o,u){let f=Se();const _=Er(),N=Er();return n.forEach((x,W)=>{const te=o.get(W.key);u.has(W.key)&&(void 0===te||te.mutation instanceof cu)?f=f.insert(W.key,W):void 0!==te?(_.set(W.key,te.mutation.getFieldMask()),Td(te.mutation,W,te.mutation.getFieldMask(),Hi.now())):_.set(W.key,ao.empty())}),this.recalculateAndSaveOverlays(e,f).next(x=>(x.forEach((W,te)=>_.set(W,te)),n.forEach((W,te)=>{var he;return N.set(W,new di(te,null!==(he=_.get(W))&&void 0!==he?he:null))}),N))}recalculateAndSaveOverlays(e,n){const o=Er();let u=new Mi((_,N)=>_-N),f=Xn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(_=>{for(const N of _)N.keys().forEach(x=>{const W=n.get(x);if(null===W)return;let te=o.get(x)||ao.empty();te=N.applyToLocalView(W,te),o.set(x,te);const he=(u.get(N.batchId)||Xn()).add(x);u=u.insert(N.batchId,he)})}).next(()=>{const _=[],N=u.getReverseIterator();for(;N.hasNext();){const x=N.getNext(),W=x.key,te=x.value,he=lr();te.forEach(xe=>{if(!f.has(xe)){const ot=Ac(n.get(xe),o.get(xe));null!==ot&&he.set(xe,ot),f=f.add(xe)}}),_.push(this.documentOverlayCache.saveOverlays(e,W,he))}return je.waitFor(_)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,n,o,u){return rn.isDocumentKey((_=n).path)&&null===_.collectionGroup&&0===_.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):vd(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,o,u):this.getDocumentsMatchingCollectionQuery(e,n,o,u);var _}getNextDocuments(e,n,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,o,u).next(f=>{const _=u-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,o.largestBatchId,u-f.size):je.resolve(Nn());let N=-1,x=f;return _.next(W=>je.forEach(W,(te,he)=>(N<he.largestBatchId&&(N=he.largestBatchId),f.get(te)?je.resolve():this.remoteDocumentCache.getEntry(e,te).next(xe=>{x=x.insert(te,xe)}))).next(()=>this.populateOverlays(e,W,f)).next(()=>this.computeViews(e,x,W,Xn())).next(te=>({batchId:N,changes:vn(te)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new rn(n)).next(o=>{let u=Nt();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(e,n,o,u){const f=n.collectionGroup;let _=Nt();return this.indexManager.getCollectionParents(e,f).next(N=>je.forEach(N,x=>{const W=(he=n,xe=x.child(f),new Ta(xe,null,he.explicitOrderBy.slice(),he.filters.slice(),he.limit,he.limitType,he.startAt,he.endAt));var he,xe;return this.getDocumentsMatchingCollectionQuery(e,W,o,u).next(te=>{te.forEach((he,xe)=>{_=_.insert(he,xe)})})}).next(()=>_))}getDocumentsMatchingCollectionQuery(e,n,o,u){let f;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,o.largestBatchId).next(_=>(f=_,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,o,f,u))).next(_=>{f.forEach((x,W)=>{const te=W.getKey();null===_.get(te)&&(_=_.insert(te,Pi.newInvalidDocument(te)))});let N=Nt();return _.forEach((x,W)=>{const te=f.get(x);void 0!==te&&Td(te.mutation,W,ao.empty(),Hi.now()),D(n,W)&&(N=N.insert(x,W))}),N})}}class zi{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return je.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,{id:(u=n).id,version:u.version,createTime:vs(u.createTime)}),je.resolve();var u}getNamedQuery(e,n){return je.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,{name:(u=n).name,query:bp(u.bundledQuery),readTime:vs(u.readTime)}),je.resolve();var u}}class es{constructor(){this.overlays=new Mi(rn.comparator),this.lr=new Map}getOverlay(e,n){return je.resolve(this.overlays.get(n))}getOverlays(e,n){const o=Nn();return je.forEach(n,u=>this.getOverlay(e,u).next(f=>{null!==f&&o.set(u,f)})).next(()=>o)}saveOverlays(e,n,o){return o.forEach((u,f)=>{this.lt(e,n,f)}),je.resolve()}removeOverlaysForBatchId(e,n,o){const u=this.lr.get(o);return void 0!==u&&(u.forEach(f=>this.overlays=this.overlays.remove(f)),this.lr.delete(o)),je.resolve()}getOverlaysForCollection(e,n,o){const u=Nn(),f=n.length+1,_=new rn(n.child("")),N=this.overlays.getIteratorFrom(_);for(;N.hasNext();){const x=N.getNext().value,W=x.getKey();if(!n.isPrefixOf(W.path))break;W.path.length===f&&x.largestBatchId>o&&u.set(x.getKey(),x)}return je.resolve(u)}getOverlaysForCollectionGroup(e,n,o,u){let f=new Mi((W,te)=>W-te);const _=this.overlays.getIterator();for(;_.hasNext();){const W=_.getNext().value;if(W.getKey().getCollectionGroup()===n&&W.largestBatchId>o){let te=f.get(W.largestBatchId);null===te&&(te=Nn(),f=f.insert(W.largestBatchId,te)),te.set(W.getKey(),W)}}const N=Nn(),x=f.getIterator();for(;x.hasNext()&&(x.getNext().value.forEach((W,te)=>N.set(W,te)),!(N.size()>=u)););return je.resolve(N)}lt(e,n,o){const u=this.overlays.get(o.key);if(null!==u){const _=this.lr.get(u.largestBatchId).delete(o.key);this.lr.set(u.largestBatchId,_)}this.overlays=this.overlays.insert(o.key,new pf(n,o));let f=this.lr.get(n);void 0===f&&(f=Xn(),this.lr.set(n,f)),this.lr.set(n,f.add(o.key))}}class co{constructor(){this.hr=new Qr(Lr.Pr),this.Ir=new Qr(Lr.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const o=new Lr(e,n);this.hr=this.hr.add(o),this.Ir=this.Ir.add(o)}Er(e,n){e.forEach(o=>this.addReference(o,n))}removeReference(e,n){this.dr(new Lr(e,n))}Ar(e,n){e.forEach(o=>this.removeReference(o,n))}Rr(e){const n=new rn(new Gr([])),o=new Lr(n,e),u=new Lr(n,e+1),f=[];return this.Ir.forEachInRange([o,u],_=>{this.dr(_),f.push(_.key)}),f}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new rn(new Gr([])),o=new Lr(n,e),u=new Lr(n,e+1);let f=Xn();return this.Ir.forEachInRange([o,u],_=>{f=f.add(_.key)}),f}containsKey(e){const n=new Lr(e,0),o=this.hr.firstAfterOrEqual(n);return null!==o&&e.isEqual(o.key)}}class Lr{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return rn.comparator(e.key,n.key)||Jn(e.gr,n.gr)}static Tr(e,n){return Jn(e.gr,n.gr)||rn.comparator(e.key,n.key)}}class qs{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Qr(Lr.Pr)}checkEmpty(e){return je.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,o,u){const f=this.pr;this.pr++;const _=new vh(f,n,o,u);this.mutationQueue.push(_);for(const N of u)this.yr=this.yr.add(new Lr(N.key,f)),this.indexManager.addToCollectionParentIndex(e,N.key.path.popLast());return je.resolve(_)}lookupMutationBatch(e,n){return je.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const u=this.Sr(n+1),f=u<0?0:u;return je.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return je.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return je.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const o=new Lr(n,0),u=new Lr(n,Number.POSITIVE_INFINITY),f=[];return this.yr.forEachInRange([o,u],_=>{const N=this.wr(_.gr);f.push(N)}),je.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new Qr(Jn);return n.forEach(u=>{const f=new Lr(u,0),_=new Lr(u,Number.POSITIVE_INFINITY);this.yr.forEachInRange([f,_],N=>{o=o.add(N.gr)})}),je.resolve(this.br(o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,u=o.length+1;let f=o;rn.isDocumentKey(f)||(f=f.child(""));const _=new Lr(new rn(f),0);let N=new Qr(Jn);return this.yr.forEachWhile(x=>{const W=x.key.path;return!!o.isPrefixOf(W)&&(W.length===u&&(N=N.add(x.gr)),!0)},_),je.resolve(this.br(N))}br(e){const n=[];return e.forEach(o=>{const u=this.wr(o);null!==u&&n.push(u)}),n}removeMutationBatch(e,n){Ut(0===this.Dr(n.batchId,"removed")),this.mutationQueue.shift();let o=this.yr;return je.forEach(n.mutations,u=>{const f=new Lr(u.key,n.batchId);return o=o.delete(f),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.yr=o})}Fn(e){}containsKey(e,n){const o=new Lr(n,0),u=this.yr.firstAfterOrEqual(o);return je.resolve(n.isEqual(u&&u.key))}performConsistencyCheck(e){return je.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Ha{constructor(e){this.Cr=e,this.docs=new Mi(rn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const o=n.key,u=this.docs.get(o),f=u?u.size:0,_=this.Cr(n);return this.docs=this.docs.insert(o,{document:n.mutableCopy(),size:_}),this.size+=_-f,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const o=this.docs.get(n);return je.resolve(o?o.document.mutableCopy():Pi.newInvalidDocument(n))}getEntries(e,n){let o=Se();return n.forEach(u=>{const f=this.docs.get(u);o=o.insert(u,f?f.document.mutableCopy():Pi.newInvalidDocument(u))}),je.resolve(o)}getDocumentsMatchingQuery(e,n,o,u){let f=Se();const _=n.path,N=new rn(_.child("")),x=this.docs.getIteratorFrom(N);for(;x.hasNext();){const{key:W,value:{document:te}}=x.getNext();if(!_.isPrefixOf(W.path))break;W.path.length>_.length+1||zl(io(te),o)<=0||(u.has(te.key)||D(n,te))&&(f=f.insert(te.key,te.mutableCopy()))}return je.resolve(f)}getAllFromCollectionGroup(e,n,o,u){zt()}vr(e,n){return je.forEach(this.docs,o=>n(o))}newChangeBuffer(e){return new Fo(this)}getSize(e){return je.resolve(this.size)}}class Fo extends Ot{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?n.push(this._r.addEntry(e,u)):this._r.removeEntry(o)}),je.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}class jl{constructor(e){this.persistence=e,this.Fr=new Q(n=>Rs(n),tl),this.lastRemoteSnapshotVersion=Pn.min(),this.highestTargetId=0,this.Mr=0,this.Or=new co,this.targetCount=0,this.Nr=h.On()}forEachTarget(e,n){return this.Fr.forEach((o,u)=>n(u)),je.resolve()}getLastRemoteSnapshotVersion(e){return je.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return je.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),je.resolve(this.highestTargetId)}setTargetsMetadata(e,n,o){return o&&(this.lastRemoteSnapshotVersion=o),n>this.Mr&&(this.Mr=n),je.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new h(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,je.resolve()}updateTargetData(e,n){return this.kn(n),je.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,je.resolve()}removeTargets(e,n,o){let u=0;const f=[];return this.Fr.forEach((_,N)=>{N.sequenceNumber<=n&&null===o.get(N.targetId)&&(this.Fr.delete(_),f.push(this.removeMatchingKeysForTargetId(e,N.targetId)),u++)}),je.waitFor(f).next(()=>u)}getTargetCount(e){return je.resolve(this.targetCount)}getTargetData(e,n){const o=this.Fr.get(n)||null;return je.resolve(o)}addMatchingKeys(e,n,o){return this.Or.Er(n,o),je.resolve()}removeMatchingKeys(e,n,o){this.Or.Ar(n,o);const u=this.persistence.referenceDelegate,f=[];return u&&n.forEach(_=>{f.push(u.markPotentiallyOrphaned(e,_))}),je.waitFor(f)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),je.resolve()}getMatchingKeysForTargetId(e,n){const o=this.Or.mr(n);return je.resolve(o)}containsKey(e,n){return je.resolve(this.Or.containsKey(n))}}class Dl{constructor(e,n){this.Br={},this.overlays={},this.Lr=new Xe(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new jl(this),this.indexManager=new Qy,this.remoteDocumentCache=new Ha(o=>this.referenceDelegate.Qr(o)),this.serializer=new Ip(n),this.Kr=new zi(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new es,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let o=this.Br[e.toKey()];return o||(o=new qs(n,this.referenceDelegate),this.Br[e.toKey()]=o),o}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,o){et("MemoryPersistence","Starting transaction:",e);const u=new Da(this.Lr.next());return this.referenceDelegate.$r(),o(u).next(f=>this.referenceDelegate.Ur(u).next(()=>f)).toPromise().then(f=>(u.raiseOnCommittedEvent(),f))}Wr(e,n){return je.or(Object.values(this.Br).map(o=>()=>o.containsKey(e,n)))}}class Da extends ad{constructor(e){super(),this.currentSequenceNumber=e}}class Zo{constructor(e){this.persistence=e,this.Gr=new co,this.zr=null}static jr(e){return new Zo(e)}get Hr(){if(this.zr)return this.zr;throw zt()}addReference(e,n,o){return this.Gr.addReference(o,n),this.Hr.delete(o.toString()),je.resolve()}removeReference(e,n,o){return this.Gr.removeReference(o,n),this.Hr.add(o.toString()),je.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),je.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(u=>this.Hr.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,n.targetId).next(u=>{u.forEach(f=>this.Hr.add(f.toString()))}).next(()=>o.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return je.forEach(this.Hr,o=>{const u=rn.fromPath(o);return this.Jr(e,u).next(f=>{f||n.removeEntry(u,Pn.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(o=>{o?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return je.or([()=>je.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}class wa{constructor(e,n,o,u){this.targetId=e,this.fromCache=n,this.ki=o,this.qi=u}static Qi(e,n){let o=Xn(),u=Xn();for(const f of n.docChanges)switch(f.type){case 0:o=o.add(f.doc.key);break;case 1:u=u.add(f.doc.key)}return new wa(e,n.fromCache,o,u)}}class Mh{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Al{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,o,u){const f={result:null};return this.zi(e,n).next(_=>{f.result=_}).next(()=>{if(!f.result)return this.ji(e,n,u,o).next(_=>{f.result=_})}).next(()=>{if(f.result)return;const _=new Mh;return this.Hi(e,n,_).next(N=>{if(f.result=N,this.$i)return this.Ji(e,n,_,N.size)})}).next(()=>f.result)}Ji(e,n,o,u){return o.documentReadCount<this.Ui?(un()<=Be.in.DEBUG&&et("QueryEngine","SDK will not create cache indexes for query:",su(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),je.resolve()):(un()<=Be.in.DEBUG&&et("QueryEngine","Query:",su(n),"scans",o.documentReadCount,"local documents and returns",u,"documents as results."),o.documentReadCount>this.Wi*u?(un()<=Be.in.DEBUG&&et("QueryEngine","The SDK decides to create cache indexes for query:",su(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,uo(n))):je.resolve())}zi(e,n){if(hh(n))return je.resolve(null);let o=uo(n);return this.indexManager.getIndexType(e,o).next(u=>0===u?null:(null!==n.limit&&1===u&&(n=Ed(n,null,"F"),o=uo(n)),this.indexManager.getDocumentsMatchingTarget(e,o).next(f=>{const _=Xn(...f);return this.Gi.getDocuments(e,_).next(N=>this.indexManager.getMinOffset(e,o).next(x=>{const W=this.Yi(n,N);return this.Zi(n,W,_,x.readTime)?this.zi(e,Ed(n,null,"F")):this.Xi(e,W,n,x)}))})))}ji(e,n,o,u){return hh(n)||u.isEqual(Pn.min())?je.resolve(null):this.Gi.getDocuments(e,o).next(f=>{const _=this.Yi(n,f);return this.Zi(n,_,o,u)?je.resolve(null):(un()<=Be.in.DEBUG&&et("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),su(n)),this.Xi(e,_,n,function ml(i,e){const n=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,u=Pn.fromTimestamp(1e9===o?new Hi(n+1,0):new Hi(n,o));return new Ss(u,rn.empty(),e)}(u,-1)).next(N=>N))})}Yi(e,n){let o=new Qr(y(e));return n.forEach((u,f)=>{D(e,f)&&(o=o.add(f))}),o}Zi(e,n,o,u){if(null===e.limit)return!1;if(o.size!==n.size)return!0;const f="F"===e.limitType?n.last():n.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(u)>0)}Hi(e,n,o){return un()<=Be.in.DEBUG&&et("QueryEngine","Using full collection scan to execute query:",su(n)),this.Gi.getDocumentsMatchingQuery(e,n,Ss.min(),o)}Xi(e,n,o,u){return this.Gi.getDocumentsMatchingQuery(e,o,u).next(f=>(n.forEach(_=>{f=f.insert(_.key,_)}),f))}}class $c{constructor(e,n,o,u){this.persistence=e,this.es=n,this.serializer=u,this.ts=new Mi(Jn),this.ns=new Q(f=>Rs(f),tl),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(o)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _i(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function Hc(i,e){return Gc.apply(this,arguments)}function Gc(){return Gc=(0,fe.Z)(function*(i,e){const n=qt(i);return yield n.persistence.runTransaction("Handle user change","readonly",o=>{let u;return n.mutationQueue.getAllMutationBatches(o).next(f=>(u=f,n.os(e),n.mutationQueue.getAllMutationBatches(o))).next(f=>{const _=[],N=[];let x=Xn();for(const W of u){_.push(W.batchId);for(const te of W.mutations)x=x.add(te.key)}for(const W of f){N.push(W.batchId);for(const te of W.mutations)x=x.add(te.key)}return n.localDocuments.getDocuments(o,x).next(W=>({_s:W,removedBatchIds:_,addedBatchIds:N}))})})}),Gc.apply(this,arguments)}function Yu(i){const e=qt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function kp(i,e){const n=qt(i);return n.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function ol(i,e,n){return $l.apply(this,arguments)}function $l(){return $l=(0,fe.Z)(function*(i,e,n){const o=qt(i),u=o.ts.get(e),f=n?"readwrite":"readwrite-primary";try{n||(yield o.persistence.runTransaction("Release target",f,_=>o.persistence.referenceDelegate.removeTarget(_,u)))}catch(_){if(!M(_))throw _;et("LocalStore",`Failed to update sequence numbers for target ${e}: ${_}`)}o.ts=o.ts.remove(e),o.ns.delete(u.target)}),$l.apply(this,arguments)}function Qu(i,e,n){const o=qt(i);let u=Pn.min(),f=Xn();return o.persistence.runTransaction("Execute query","readwrite",_=>function(x,W,te){const he=qt(x),xe=he.ns.get(te);return void 0!==xe?je.resolve(he.ts.get(xe)):he.qr.getTargetData(W,te)}(o,_,uo(e)).next(N=>{if(N)return u=N.lastLimboFreeSnapshotVersion,o.qr.getMatchingKeysForTargetId(_,N.targetId).next(x=>{f=x})}).next(()=>o.es.getDocumentsMatchingQuery(_,e,n?u:Pn.min(),n?f:Xn())).next(N=>(function jd(i,e,n){let o=i.rs.get(e)||Pn.min();n.forEach((u,f)=>{f.readTime.compareTo(o)>0&&(o=f.readTime)}),i.rs.set(e,o)}(o,function m(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}(e),N),{documents:N,ls:f})))}class Of{constructor(){this.activeTargetIds=function wc(){return Dc}()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Gd{constructor(){this.eo=new Of,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,o){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,o){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new Of,Promise.resolve()}handleUserChange(e,n,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Hg{ro(e){}shutdown(){}}class Vp{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){et("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){et("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let zc=null;function Oh(){return null===zc?zc=268435456+Math.round(2147483648*Math.random()):zc++,"0x"+zc.toString(16)}const xh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Gg{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const Lo="WebChannelConnection";class Bp extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const o=n.ssl?"https":"http",u=encodeURIComponent(this.databaseId.projectId),f=encodeURIComponent(this.databaseId.database);this.mo=o+"://"+n.host,this.fo=`projects/${u}/databases/${f}`,this.po="(default)"===this.databaseId.database?`project_id=${u}`:`project_id=${u}&database_id=${f}`}get yo(){return!1}wo(n,o,u,f,_){const N=Oh(),x=this.So(n,o);et("RestConnection",`Sending RPC '${n}' ${N}:`,x,u);const W={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(W,f,_),this.Do(n,x,W,u).then(te=>(et("RestConnection",`Received RPC '${n}' ${N}: `,te),te),te=>{throw _n("RestConnection",`RPC '${n}' ${N} failed with error: `,te,"url: ",x,"request:",u),te})}Co(n,o,u,f,_,N){return this.wo(n,o,u,f,_)}bo(n,o,u){n["X-Goog-Api-Client"]="gl-js/ fire/"+$i,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),o&&o.headers.forEach((f,_)=>n[_]=f),u&&u.headers.forEach((f,_)=>n[_]=f)}So(n,o){return`${this.mo}/v1/${o}:${xh[n]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,o,u){const f=Oh();return new Promise((_,N)=>{const x=new $r;x.setWithCredentials(!0),x.listenOnce(Bt.COMPLETE,()=>{try{switch(x.getLastErrorCode()){case _t.NO_ERROR:const te=x.getResponseJson();et(Lo,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(te)),_(te);break;case _t.TIMEOUT:et(Lo,`RPC '${e}' ${f} timed out`),N(new vt(st.DEADLINE_EXCEEDED,"Request time out"));break;case _t.HTTP_ERROR:const he=x.getStatus();if(et(Lo,`RPC '${e}' ${f} failed with status:`,he,"response text:",x.getResponseText()),he>0){let xe=x.getResponseJson();Array.isArray(xe)&&(xe=xe[0]);const ot=xe?.error;if(ot&&ot.status&&ot.message){const kt=function(on){const Zn=on.toLowerCase().replace(/_/g,"-");return Object.values(st).indexOf(Zn)>=0?Zn:st.UNKNOWN}(ot.status);N(new vt(kt,ot.message))}else N(new vt(st.UNKNOWN,"Server responded with status "+x.getStatus()))}else N(new vt(st.UNAVAILABLE,"Connection failed."));break;default:zt()}}finally{et(Lo,`RPC '${e}' ${f} completed.`)}});const W=JSON.stringify(u);et(Lo,`RPC '${e}' ${f} sending request:`,u),x.send(n,"POST",W,o,15)})}vo(e,n,o){const u=Oh(),f=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],_=pe(),N=Ze(),x={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},W=this.longPollingOptions.timeoutSeconds;void 0!==W&&(x.longPollingTimeout=Math.round(1e3*W)),this.useFetchStreams&&(x.xmlHttpFactory=new Kn({})),this.bo(x.initMessageHeaders,n,o),x.encodeInitMessageHeaders=!0;const te=f.join("");et(Lo,`Creating RPC '${e}' stream ${u}: ${te}`,x);const he=_.createWebChannel(te,x);let xe=!1,ot=!1;const kt=new Gg({co:on=>{ot?et(Lo,`Not sending because RPC '${e}' stream ${u} is closed:`,on):(xe||(et(Lo,`Opening RPC '${e}' stream ${u} transport.`),he.open(),xe=!0),et(Lo,`RPC '${e}' stream ${u} sending:`,on),he.send(on))},lo:()=>he.close()}),nn=(on,Zn,er)=>{on.listen(Zn,tr=>{try{er(tr)}catch(Xr){setTimeout(()=>{throw Xr},0)}})};return nn(he,Fn.EventType.OPEN,()=>{ot||et(Lo,`RPC '${e}' stream ${u} transport opened.`)}),nn(he,Fn.EventType.CLOSE,()=>{ot||(ot=!0,et(Lo,`RPC '${e}' stream ${u} transport closed`),kt.Ro())}),nn(he,Fn.EventType.ERROR,on=>{ot||(ot=!0,_n(Lo,`RPC '${e}' stream ${u} transport errored:`,on),kt.Ro(new vt(st.UNAVAILABLE,"The operation could not be completed")))}),nn(he,Fn.EventType.MESSAGE,on=>{var Zn;if(!ot){const er=on.data[0];Ut(!!er);const Xr=er.error||(null===(Zn=er[0])||void 0===Zn?void 0:Zn.error);if(Xr){et(Lo,`RPC '${e}' stream ${u} received error:`,Xr);const Wi=Xr.status;let Li=function(k0){const By=Kr[k0];if(void 0!==By)return gf(By)}(Wi),Ys=Xr.message;void 0===Li&&(Li=st.INTERNAL,Ys="Unknown error status: "+Wi+" with message "+Xr.message),ot=!0,kt.Ro(new vt(Li,Ys)),he.close()}else et(Lo,`RPC '${e}' stream ${u} received:`,er),kt.Vo(er)}}),nn(N,Dr.STAT_EVENT,on=>{on.stat===hr.PROXY?et(Lo,`RPC '${e}' stream ${u} detected buffering proxy`):on.stat===hr.NOPROXY&&et(Lo,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{kt.Ao()},0),kt}}function kh(){return typeof document<"u"?document:null}function Ju(i){return new mp(i,!0)}class zg{constructor(e,n,o=1e3,u=1.5,f=6e4){this.si=e,this.timerId=n,this.Fo=o,this.Mo=u,this.xo=f,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),o=Math.max(0,Date.now()-this.Bo),u=Math.max(0,n-o);u>0&&et("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${o} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,u,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class Wg{constructor(e,n,o,u,f,_,N,x){this.si=e,this.Ko=o,this.$o=u,this.connection=f,this.authCredentialsProvider=_,this.appCheckCredentialsProvider=N,this.listener=x,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new zg(e,n)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,fe.Z)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,fe.Z)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){var o=this;return(0,fe.Z)(function*(){o.t_(),o.n_(),o.zo.cancel(),o.Uo++,4!==e?o.zo.reset():n&&n.code===st.RESOURCE_EXHAUSTED?(Ln(n.toString()),Ln("Using maximum backoff delay to prevent overloading the backend."),o.zo.Lo()):n&&n.code===st.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.r_(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Io(n)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.Uo===n&&this.s_(o,u)},o=>{e(()=>{const u=new vt(st.UNKNOWN,"Fetching auth token failed: "+o.message);return this.o_(u)})})}s_(e,n){const o=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{o(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(u=>{o(()=>this.o_(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}Jo(){var e=this;this.state=5,this.zo.ko((0,fe.Z)(function*(){e.state=0,e.start()}))}o_(e){return et("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(et("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ev extends Wg{constructor(e,n,o,u,f,_){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,o,u,_),this.serializer=f}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=function Ep(i,e){let n;if("targetChange"in e){const o="NO_CHANGE"===(W=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===W?1:"REMOVE"===W?2:"CURRENT"===W?3:"RESET"===W?4:zt(),u=e.targetChange.targetIds||[],f=function(W,te){return W.useProto3Json?(Ut(void 0===te||"string"==typeof te),$s.fromBase64String(te||"")):(Ut(void 0===te||te instanceof Uint8Array),$s.fromUint8Array(te||new Uint8Array))}(i,e.targetChange.resumeToken),_=e.targetChange.cause,N=_&&function(W){const te=void 0===W.code?st.UNKNOWN:gf(W.code);return new vt(te,W.message||"")}(_);n=new pp(o,u,f,N||null)}else if("documentChange"in e){const o=e.documentChange,u=Ul(i,o.document.name),f=vs(o.document.updateTime),_=o.document.createTime?vs(o.document.createTime):Pn.min(),N=new fs({mapValue:{fields:o.document.fields}}),x=Pi.newFoundDocument(u,f,_,N);n=new wd(o.targetIds||[],o.removedTargetIds||[],x.key,x)}else if("documentDelete"in e){const o=e.documentDelete,u=Ul(i,o.document),f=o.readTime?vs(o.readTime):Pn.min(),_=Pi.newNoDocument(u,f);n=new wd([],o.removedTargetIds||[],_.key,_)}else if("documentRemove"in e){const o=e.documentRemove,u=Ul(i,o.document);n=new wd([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return zt();{const o=e.filter,{count:u=0,unchangedNames:f}=o,_=new hp(u,f);n=new fp(o.targetId,_)}}var W;return n}(this.serializer,e),o=function(f){if(!("targetChange"in f))return Pn.min();const _=f.targetChange;return _.targetIds&&_.targetIds.length?Pn.min():_.readTime?vs(_.readTime):Pn.min()}(e);return this.listener.a_(n,o)}u_(e){const n={};n.database=Cd(this.serializer),n.addTarget=function(f,_){let N;const x=_.target;if(N=Va(x)?{documents:zu(f,x)}:{query:Ad(f,x)},N.targetId=_.targetId,_.resumeToken.approximateByteSize()>0){N.resumeToken=hu(f,_.resumeToken);const W=du(f,_.expectedCount);null!==W&&(N.expectedCount=W)}else if(_.snapshotVersion.compareTo(Pn.min())>0){N.readTime=ko(f,_.snapshotVersion.toTimestamp());const W=du(f,_.expectedCount);null!==W&&(N.expectedCount=W)}return N}(this.serializer,e);const o=function Pg(i,e){const n=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return zt()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);o&&(n.labels=o),this.e_(n)}c_(e){const n={};n.database=Cd(this.serializer),n.removeTarget=e,this.e_(n)}}class tv extends Wg{constructor(e,n,o,u,f,_){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,o,u,_),this.serializer=f,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(Ut(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=function Mg(i,e){return i&&i.length>0?(Ut(void 0!==e),i.map(n=>function(u,f){let _=vs(u.updateTime?u.updateTime:f);return _.isEqual(Pn.min())&&(_=vs(f)),new df(_,u.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),o=vs(e.commitTime);return this.listener.I_(o,n)}return Ut(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Cd(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(o=>function xc(i,e){let n;if(e instanceof uu)n={update:Oc(i,e.key,e.value)};else if(e instanceof $u)n={delete:Gu(i,e.key)};else if(e instanceof cu)n={update:Oc(i,e.key,e.data),updateMask:xg(e.fieldMask)};else{if(!(e instanceof cp))return zt();n={verify:Gu(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(o=>function(f,_){const N=_.transform;if(N instanceof Vl)return{fieldPath:_.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(N instanceof au)return{fieldPath:_.field.canonicalString(),appendMissingElements:{values:N.elements}};if(N instanceof Ua)return{fieldPath:_.field.canonicalString(),removeAllFromArray:{values:N.elements}};if(N instanceof lu)return{fieldPath:_.field.canonicalString(),increment:N.Ie};throw zt()}(0,o))),e.precondition.isNone||(n.currentDocument=void 0!==(f=e.precondition).updateTime?{updateTime:_p(i,f.updateTime)}:void 0!==f.exists?{exists:f.exists}:zt()),n;var f}(this.serializer,o))};this.e_(n)}}class Kg extends class{}{constructor(e,n,o,u){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=o,this.serializer=u,this.d_=!1}A_(){if(this.d_)throw new vt(st.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,o){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.wo(e,n,o,u,f)).catch(u=>{throw"FirebaseError"===u.name?(u.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new vt(st.UNKNOWN,u.toString())})}Co(e,n,o,u){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,_])=>this.connection.Co(e,n,o,f,_,u)).catch(f=>{throw"FirebaseError"===f.name?(f.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new vt(st.UNKNOWN,f.toString())})}terminate(){this.d_=!0}}class nv{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Ln(n),this.f_=!1):et("OnlineStateTracker",n)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class yE{constructor(e,n,o,u,f){var _=this;this.localStore=e,this.datastore=n,this.asyncQueue=o,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=f,this.F_.ro(N=>{o.enqueueAndForget((0,fe.Z)(function*(){var x;Xu(_)&&(et("RemoteStore","Restarting streams for network reachability change."),yield(x=(0,fe.Z)(function*(te){const he=qt(te);he.C_.add(4),yield Wc(he),he.M_.set("Unknown"),he.C_.delete(4),yield kf(he)}),function W(te){return x.apply(this,arguments)})(_))}))}),this.M_=new nv(o,u)}}function kf(i){return Fh.apply(this,arguments)}function Fh(){return Fh=(0,fe.Z)(function*(i){if(Xu(i))for(const e of i.v_)yield e(!0)}),Fh.apply(this,arguments)}function Wc(i){return Yg.apply(this,arguments)}function Yg(){return Yg=(0,fe.Z)(function*(i){for(const e of i.v_)yield e(!1)}),Yg.apply(this,arguments)}function Ff(i,e){const n=qt(i);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),Zg(n)?Up(n):Wd(n).Ho()&&Lh(n,e))}function zd(i,e){const n=qt(i),o=Wd(n);n.D_.delete(e),o.Ho()&&I_(n,e),0===n.D_.size&&(o.Ho()?o.Zo():Xu(n)&&n.M_.set("Unknown"))}function Lh(i,e){if(i.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pn.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Wd(i).u_(e)}function I_(i,e){i.x_.Oe(e),Wd(i).c_(e)}function Up(i){i.x_=new yf({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>i.D_.get(e)||null,nt:()=>i.datastore.serializer.databaseId}),Wd(i).start(),i.M_.g_()}function Zg(i){return Xu(i)&&!Wd(i).jo()&&i.D_.size>0}function Xu(i){return 0===qt(i).C_.size}function rv(i){i.x_=void 0}function iv(i){return Vh.apply(this,arguments)}function Vh(){return Vh=(0,fe.Z)(function*(i){i.D_.forEach((e,n)=>{Lh(i,e)})}),Vh.apply(this,arguments)}function sv(i,e){return Kc.apply(this,arguments)}function Kc(){return Kc=(0,fe.Z)(function*(i,e){rv(i),Zg(i)?(i.M_.w_(e),Up(i)):i.M_.set("Unknown")}),Kc.apply(this,arguments)}function Lf(i,e,n){return Qg.apply(this,arguments)}function Qg(){return Qg=(0,fe.Z)(function*(i,e,n){if(i.M_.set("Online"),e instanceof pp&&2===e.state&&e.cause)try{yield(o=(0,fe.Z)(function*(f,_){const N=_.cause;for(const x of _.targetIds)f.D_.has(x)&&(yield f.remoteSyncer.rejectListen(x,N),f.D_.delete(x),f.x_.removeTarget(x))}),function u(f,_){return o.apply(this,arguments)})(i,e)}catch(o){et("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Vf(i,o)}else if(e instanceof wd?i.x_.$e(e):e instanceof fp?i.x_.Je(e):i.x_.Ge(e),!n.isEqual(Pn.min()))try{const o=yield Yu(i.localStore);n.compareTo(o)>=0&&(yield function(f,_){const N=f.x_.it(_);return N.targetChanges.forEach((x,W)=>{if(x.resumeToken.approximateByteSize()>0){const te=f.D_.get(W);te&&f.D_.set(W,te.withResumeToken(x.resumeToken,_))}}),N.targetMismatches.forEach((x,W)=>{const te=f.D_.get(x);if(!te)return;f.D_.set(x,te.withResumeToken($s.EMPTY_BYTE_STRING,te.snapshotVersion)),I_(f,x);const he=new $a(te.target,x,W,te.sequenceNumber);Lh(f,he)}),f.remoteSyncer.applyRemoteEvent(N)}(i,n))}catch(o){et("RemoteStore","Failed to raise snapshot:",o),yield Vf(i,o)}var o}),Qg.apply(this,arguments)}function Vf(i,e,n){return Jg.apply(this,arguments)}function Jg(){return Jg=(0,fe.Z)(function*(i,e,n){if(!M(e))throw e;i.C_.add(1),yield Wc(i),i.M_.set("Offline"),n||(n=()=>Yu(i.localStore)),i.asyncQueue.enqueueRetryable((0,fe.Z)(function*(){et("RemoteStore","Retrying IndexedDB access"),yield n(),i.C_.delete(1),yield kf(i)}))}),Jg.apply(this,arguments)}function b_(i,e){return e().catch(n=>Vf(i,n,e))}function Bh(i){return jp.apply(this,arguments)}function jp(){return jp=(0,fe.Z)(function*(i){const e=qt(i),n=Kd(e);let o=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;T_(e);)try{const u=yield kp(e.localStore,o);if(null===u){0===e.b_.length&&n.Zo();break}o=u.batchId,Xg(e,u)}catch(u){yield Vf(e,u)}ov(e)&&Bf(e)}),jp.apply(this,arguments)}function T_(i){return Xu(i)&&i.b_.length<10}function Xg(i,e){i.b_.push(e);const n=Kd(i);n.Ho()&&n.h_&&n.P_(e.mutations)}function ov(i){return Xu(i)&&!Kd(i).jo()&&i.b_.length>0}function Bf(i){Kd(i).start()}function D_(i){return em.apply(this,arguments)}function em(){return em=(0,fe.Z)(function*(i){Kd(i).E_()}),em.apply(this,arguments)}function av(i){return $p.apply(this,arguments)}function $p(){return $p=(0,fe.Z)(function*(i){const e=Kd(i);for(const n of i.b_)e.P_(n.mutations)}),$p.apply(this,arguments)}function lv(i,e,n){return Hp.apply(this,arguments)}function Hp(){return Hp=(0,fe.Z)(function*(i,e,n){const o=i.b_.shift(),u=ff.from(o,e,n);yield b_(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield Bh(i)}),Hp.apply(this,arguments)}function uv(i,e){return tm.apply(this,arguments)}function tm(){return tm=(0,fe.Z)(function*(i,e){var n;e&&Kd(i).h_&&(yield(n=(0,fe.Z)(function*(u,f){if(function Rc(i){switch(i){default:return zt();case st.CANCELLED:case st.UNKNOWN:case st.DEADLINE_EXCEEDED:case st.RESOURCE_EXHAUSTED:case st.INTERNAL:case st.UNAVAILABLE:case st.UNAUTHENTICATED:return!1;case st.INVALID_ARGUMENT:case st.NOT_FOUND:case st.ALREADY_EXISTS:case st.PERMISSION_DENIED:case st.FAILED_PRECONDITION:case st.ABORTED:case st.OUT_OF_RANGE:case st.UNIMPLEMENTED:case st.DATA_LOSS:return!0}}(N=f.code)&&N!==st.ABORTED){const _=u.b_.shift();Kd(u).Yo(),yield b_(u,()=>u.remoteSyncer.rejectFailedWrite(_.batchId,f)),yield Bh(u)}var N}),function o(u,f){return n.apply(this,arguments)})(i,e)),ov(i)&&Bf(i)}),tm.apply(this,arguments)}function cv(i,e){return Gp.apply(this,arguments)}function Gp(){return Gp=(0,fe.Z)(function*(i,e){const n=qt(i);n.asyncQueue.verifyOperationInProgress(),et("RemoteStore","RemoteStore received new credentials");const o=Xu(n);n.C_.add(3),yield Wc(n),o&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield kf(n)}),Gp.apply(this,arguments)}function al(){return al=(0,fe.Z)(function*(i,e){const n=qt(i);e?(n.C_.delete(2),yield kf(n)):e||(n.C_.add(2),yield Wc(n),n.M_.set("Unknown"))}),al.apply(this,arguments)}function Wd(i){return i.O_||(i.O_=function(n,o,u){const f=qt(n);return f.A_(),new ev(o,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,u)}(i.datastore,i.asyncQueue,{ho:iv.bind(null,i),Io:sv.bind(null,i),a_:Lf.bind(null,i)}),i.v_.push(function(){var e=(0,fe.Z)(function*(n){n?(i.O_.Yo(),Zg(i)?Up(i):i.M_.set("Unknown")):(yield i.O_.stop(),rv(i))});return function(n){return e.apply(this,arguments)}}())),i.O_}function Kd(i){return i.N_||(i.N_=function(n,o,u){const f=qt(n);return f.A_(),new tv(o,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,u)}(i.datastore,i.asyncQueue,{ho:D_.bind(null,i),Io:uv.bind(null,i),T_:av.bind(null,i),I_:lv.bind(null,i)}),i.v_.push(function(){var e=(0,fe.Z)(function*(n){n?(i.N_.Yo(),yield Bh(i)):(yield i.N_.stop(),i.b_.length>0&&(et("RemoteStore",`Stopping write stream with ${i.b_.length} pending writes`),i.b_=[]))});return function(n){return e.apply(this,arguments)}}())),i.N_}class Uf{constructor(e,n,o,u,f){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=o,this.op=u,this.removalCallback=f,this.deferred=new Ni,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(_=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,o,u,f){const _=Date.now()+o,N=new Uf(e,n,_,u,f);return N.start(o),N}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new vt(st.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ll(i,e){if(Ln("AsyncQueue",`${e}: ${i}`),M(i))return new vt(st.UNAVAILABLE,`${e}: ${i}`);throw i}class vu{constructor(e){this.comparator=e?(n,o)=>e(n,o)||rn.comparator(n.key,o.key):(n,o)=>rn.comparator(n.key,o.key),this.keyedMap=Nt(),this.sortedSet=new Mi(this.comparator)}static emptySet(e){return new vu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,o)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof vu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;n.hasNext();){const u=n.getNext().key,f=o.getNext().key;if(!u.isEqual(f))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const o=new vu;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=n,o}}class w_{constructor(){this.B_=new Mi(rn.comparator)}track(e){const n=e.doc.key,o=this.B_.get(n);o?0!==e.type&&3===o.type?this.B_=this.B_.insert(n,e):3===e.type&&1!==o.type?this.B_=this.B_.insert(n,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.B_=this.B_.remove(n):1===e.type&&2===o.type?this.B_=this.B_.insert(n,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):zt():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,o)=>{e.push(o)}),e}}class Uh{constructor(e,n,o,u,f,_,N,x,W){this.query=e,this.docs=n,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=f,this.fromCache=_,this.syncStateChanged=N,this.excludesMetadataChanges=x,this.hasCachedResults=W}static fromInitialDocuments(e,n,o,u,f){const _=[];return n.forEach(N=>{_.push({type:0,doc:N})}),new Uh(e,n,vu.emptySet(n),_,o,u,!0,!1,f)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Il(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,o=e.docChanges;if(n.length!==o.length)return!1;for(let u=0;u<n.length;u++)if(n[u].type!==o[u].type||!n[u].doc.isEqual(o[u].doc))return!1;return!0}}class dv{constructor(){this.k_=void 0,this.listeners=[]}}class nm{constructor(){this.queries=new Q(e=>cf(e),Il),this.onlineState="Unknown",this.q_=new Set}}function Rl(i,e){return Wp.apply(this,arguments)}function Wp(){return Wp=(0,fe.Z)(function*(i,e){const n=qt(i),o=e.query;let u=!1,f=n.queries.get(o);if(f||(u=!0,f=new dv),u)try{f.k_=yield n.onListen(o)}catch(_){const N=ll(_,`Initialization of query '${su(e.query)}' failed`);return void e.onError(N)}n.queries.set(o,f),f.listeners.push(e),e.Q_(n.onlineState),f.k_&&e.K_(f.k_)&&jf(n)}),Wp.apply(this,arguments)}function rm(i,e){return C_.apply(this,arguments)}function C_(){return C_=(0,fe.Z)(function*(i,e){const n=qt(i),o=e.query;let u=!1;const f=n.queries.get(o);if(f){const _=f.listeners.indexOf(e);_>=0&&(f.listeners.splice(_,1),u=0===f.listeners.length)}if(u)return n.queries.delete(o),n.onUnlisten(o)}),C_.apply(this,arguments)}function Vo(i,e){const n=qt(i);let o=!1;for(const u of e){const _=n.queries.get(u.query);if(_){for(const N of _.listeners)N.K_(u)&&(o=!0);_.k_=u}}o&&jf(n)}function hv(i,e,n){const o=qt(i),u=o.queries.get(e);if(u)for(const f of u.listeners)f.onError(n);o.queries.delete(e)}function jf(i){i.q_.forEach(e=>{e.next()})}class im{constructor(e,n,o){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=o||{}}K_(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new Uh(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){return!e.fromCache||(!this.options.J_||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=Uh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class A_{constructor(e){this.key=e}}class om{constructor(e){this.key=e}}class am{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Xn(),this.mutatedKeys=Xn(),this._a=y(e),this.aa=new vu(this._a)}get ua(){return this.ia}ca(e,n){const o=n?n.la:new w_,u=n?n.aa:this.aa;let f=n?n.mutatedKeys:this.mutatedKeys,_=u,N=!1;const x="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,W="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((te,he)=>{const xe=u.get(te),ot=D(this.query,he)?he:null,kt=!!xe&&this.mutatedKeys.has(xe.key),nn=!!ot&&(ot.hasLocalMutations||this.mutatedKeys.has(ot.key)&&ot.hasCommittedMutations);let on=!1;xe&&ot?xe.data.isEqual(ot.data)?kt!==nn&&(o.track({type:3,doc:ot}),on=!0):this.ha(xe,ot)||(o.track({type:2,doc:ot}),on=!0,(x&&this._a(ot,x)>0||W&&this._a(ot,W)<0)&&(N=!0)):!xe&&ot?(o.track({type:0,doc:ot}),on=!0):xe&&!ot&&(o.track({type:1,doc:xe}),on=!0,(x||W)&&(N=!0)),on&&(ot?(_=_.add(ot),f=nn?f.add(te):f.delete(te)):(_=_.delete(te),f=f.delete(te)))}),null!==this.query.limit)for(;_.size>this.query.limit;){const te="F"===this.query.limitType?_.last():_.first();_=_.delete(te.key),f=f.delete(te.key),o.track({type:1,doc:te})}return{aa:_,la:o,Zi:N,mutatedKeys:f}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,o){const u=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const f=e.la.L_();f.sort((W,te)=>function(xe,ot){const kt=nn=>{switch(nn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return zt()}};return kt(xe)-kt(ot)}(W.type,te.type)||this._a(W.doc,te.doc)),this.Pa(o);const _=n?this.Ia():[],N=0===this.oa.size&&this.current?1:0,x=N!==this.sa;return this.sa=N,0!==f.length||x?{snapshot:new Uh(this.query,e.aa,u,f,e.mutatedKeys,0===N,x,!1,!!o&&o.resumeToken.approximateByteSize()>0),Ta:_}:{Ta:_}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new w_,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=Xn(),this.aa.forEach(o=>{this.Ea(o.key)&&(this.oa=this.oa.add(o.key))});const n=[];return e.forEach(o=>{this.oa.has(o)||n.push(new om(o))}),this.oa.forEach(o=>{e.has(o)||n.push(new A_(o))}),n}da(e){this.ia=e.ls,this.oa=Xn();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return Uh.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class pv{constructor(e,n,o){this.query=e,this.targetId=n,this.view=o}}class gv{constructor(e){this.key=e,this.Ra=!1}}class mv{constructor(e,n,o,u,f,_){this.localStore=e,this.remoteStore=n,this.eventManager=o,this.sharedClientState=u,this.currentUser=f,this.maxConcurrentLimboResolutions=_,this.Va={},this.ma=new Q(N=>cf(N),Il),this.fa=new Map,this.ga=new Set,this.pa=new Mi(rn.comparator),this.ya=new Map,this.wa=new co,this.Sa={},this.ba=new Map,this.Da=h.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function R_(i,e){return qc.apply(this,arguments)}function qc(){return qc=(0,fe.Z)(function*(i,e){const n=function _m(i){const e=qt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Yp.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=k_.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=M_.bind(null,e),e.Va.a_=Vo.bind(null,e.eventManager),e.Va.Fa=hv.bind(null,e.eventManager),e}(i);let o,u;const f=n.ma.get(e);if(f)o=f.targetId,n.sharedClientState.addLocalQueryTarget(o),u=f.view.Aa();else{const _=yield function Zu(i,e){const n=qt(i);return n.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return n.qr.getTargetData(o,e).next(f=>f?(u=f,je.resolve(u)):n.qr.allocateTargetId(o).next(_=>(u=new $a(e,_,"TargetPurposeListen",o.currentSequenceNumber),n.qr.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=n.ts.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(n.ts=n.ts.insert(o.targetId,o),n.ns.set(e,o.targetId)),o})}(n.localStore,uo(e)),N=n.sharedClientState.addLocalQueryTarget(_.targetId);o=_.targetId,u=yield function Hl(i,e,n,o,u){return Yc.apply(this,arguments)}(n,e,o,"current"===N,_.resumeToken),n.isPrimaryClient&&Ff(n.remoteStore,_)}return u}),qc.apply(this,arguments)}function Yc(){return Yc=(0,fe.Z)(function*(i,e,n,o,u){i.va=(he,xe,ot)=>{return(kt=(0,fe.Z)(function*(on,Zn,er,tr){let Xr=Zn.view.ca(er);Xr.Zi&&(Xr=yield Qu(on.localStore,Zn.query,!1).then(({documents:Ys})=>Zn.view.ca(Ys,Xr)));const Wi=tr&&tr.targetChanges.get(Zn.targetId),Li=Zn.view.applyChanges(Xr,on.isPrimaryClient,Wi);return Qp(on,Zn.targetId,Li.Ta),Li.snapshot}),function nn(on,Zn,er,tr){return kt.apply(this,arguments)})(i,he,xe,ot);var kt};const f=yield Qu(i.localStore,e,!0),_=new am(e,f.ls),N=_.ca(f.documents),x=Hu.createSynthesizedTargetChangeForCurrentChange(n,o&&"Offline"!==i.onlineState,u),W=_.applyChanges(N,i.isPrimaryClient,x);Qp(i,n,W.Ta);const te=new pv(e,n,_);return i.ma.set(e,te),i.fa.has(n)?i.fa.get(n).push(e):i.fa.set(n,[e]),W.snapshot}),Yc.apply(this,arguments)}function _v(i,e){return lm.apply(this,arguments)}function lm(){return lm=(0,fe.Z)(function*(i,e){const n=qt(i),o=n.ma.get(e),u=n.fa.get(o.targetId);if(u.length>1)return n.fa.set(o.targetId,u.filter(f=>!Il(f,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(o.targetId),n.sharedClientState.isActiveQueryTarget(o.targetId)||(yield ol(n.localStore,o.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(o.targetId),zd(n.remoteStore,o.targetId),Hf(n,o.targetId)}).catch(oa))):(Hf(n,o.targetId),yield ol(n.localStore,o.targetId,!0))}),lm.apply(this,arguments)}function qp(){return qp=(0,fe.Z)(function*(i,e,n){const o=function ym(i){const e=qt(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yv.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vv.bind(null,e),e}(i);try{const u=yield function(_,N){const x=qt(_),W=Hi.now(),te=N.reduce((ot,kt)=>ot.add(kt.key),Xn());let he,xe;return x.persistence.runTransaction("Locally write mutations","readwrite",ot=>{let kt=Se(),nn=Xn();return x.ss.getEntries(ot,te).next(on=>{kt=on,kt.forEach((Zn,er)=>{er.isValidDocument()||(nn=nn.add(Zn))})}).next(()=>x.localDocuments.getOverlayedDocuments(ot,kt)).next(on=>{he=on;const Zn=[];for(const er of N){const tr=hf(er,he.get(er.key).overlayedDocument);null!=tr&&Zn.push(new cu(er.key,tr,Jr(tr.value.mapValue),ps.exists(!0)))}return x.mutationQueue.addMutationBatch(ot,W,Zn,N)}).next(on=>{xe=on;const Zn=on.applyToLocalDocumentSet(he,nn);return x.documentOverlayCache.saveOverlays(ot,on.batchId,Zn)})}).then(()=>({batchId:xe.batchId,changes:vn(he)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(_,N,x){let W=_.Sa[_.currentUser.toKey()];W||(W=new Mi(Jn)),W=W.insert(N,x),_.Sa[_.currentUser.toKey()]=W}(o,u.batchId,n),yield Eu(o,u.changes),yield Bh(o.remoteStore)}catch(u){const f=ll(u,"Failed to persist write");n.reject(f)}}),qp.apply(this,arguments)}function Yp(i,e){return qd.apply(this,arguments)}function qd(){return qd=(0,fe.Z)(function*(i,e){const n=qt(i);try{const o=yield function Rf(i,e){const n=qt(i),o=e.snapshotVersion;let u=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",f=>{const _=n.ss.newChangeBuffer({trackRemovals:!0});u=n.ts;const N=[];e.targetChanges.forEach((te,he)=>{const xe=u.get(he);if(!xe)return;N.push(n.qr.removeMatchingKeys(f,te.removedDocuments,he).next(()=>n.qr.addMatchingKeys(f,te.addedDocuments,he)));let ot=xe.withSequenceNumber(f.currentSequenceNumber);var nn,on,Zn;null!==e.targetMismatches.get(he)?ot=ot.withResumeToken($s.EMPTY_BYTE_STRING,Pn.min()).withLastLimboFreeSnapshotVersion(Pn.min()):te.resumeToken.approximateByteSize()>0&&(ot=ot.withResumeToken(te.resumeToken,o)),u=u.insert(he,ot),on=ot,Zn=te,(0===(nn=xe).resumeToken.approximateByteSize()||on.snapshotVersion.toMicroseconds()-nn.snapshotVersion.toMicroseconds()>=3e8||Zn.addedDocuments.size+Zn.modifiedDocuments.size+Zn.removedDocuments.size>0)&&N.push(n.qr.updateTargetData(f,ot))});let x=Se(),W=Xn();if(e.documentUpdates.forEach(te=>{e.resolvedLimboDocuments.has(te)&&N.push(n.persistence.referenceDelegate.updateLimboDocument(f,te))}),N.push(function Nf(i,e,n){let o=Xn(),u=Xn();return n.forEach(f=>o=o.add(f)),e.getEntries(i,o).next(f=>{let _=Se();return n.forEach((N,x)=>{const W=f.get(N);x.isFoundDocument()!==W.isFoundDocument()&&(u=u.add(N)),x.isNoDocument()&&x.version.isEqual(Pn.min())?(e.removeEntry(N,x.readTime),_=_.insert(N,x)):!W.isValidDocument()||x.version.compareTo(W.version)>0||0===x.version.compareTo(W.version)&&W.hasPendingWrites?(e.addEntry(x),_=_.insert(N,x)):et("LocalStore","Ignoring outdated watch update for ",N,". Current version:",W.version," Watch version:",x.version)}),{us:_,cs:u}})}(f,_,e.documentUpdates).next(te=>{x=te.us,W=te.cs})),!o.isEqual(Pn.min())){const te=n.qr.getLastRemoteSnapshotVersion(f).next(he=>n.qr.setTargetsMetadata(f,f.currentSequenceNumber,o));N.push(te)}return je.waitFor(N).next(()=>_.apply(f)).next(()=>n.localDocuments.getLocalViewOfDocuments(f,x,W)).next(()=>x)}).then(f=>(n.ts=u,f))}(n.localStore,e);e.targetChanges.forEach((u,f)=>{const _=n.ya.get(f);_&&(Ut(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?_.Ra=!0:u.modifiedDocuments.size>0?Ut(_.Ra):u.removedDocuments.size>0&&(Ut(_.Ra),_.Ra=!1))}),yield Eu(n,o,e)}catch(o){yield oa(o)}}),qd.apply(this,arguments)}function $f(i,e,n){const o=qt(i);if(o.isPrimaryClient&&0===n||!o.isPrimaryClient&&1===n){const u=[];o.ma.forEach((f,_)=>{const N=_.view.Q_(e);N.snapshot&&u.push(N.snapshot)}),function(_,N){const x=qt(_);x.onlineState=N;let W=!1;x.queries.forEach((te,he)=>{for(const xe of he.listeners)xe.Q_(N)&&(W=!0)}),W&&jf(x)}(o.eventManager,e),u.length&&o.Va.a_(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function M_(i,e,n){return Zp.apply(this,arguments)}function Zp(){return Zp=(0,fe.Z)(function*(i,e,n){const o=qt(i);o.sharedClientState.updateQueryState(e,"rejected",n);const u=o.ya.get(e),f=u&&u.key;if(f){let _=new Mi(rn.comparator);_=_.insert(f,Pi.newNoDocument(f,Pn.min()));const N=Xn().add(f),x=new Nc(Pn.min(),new Map,new Mi(Jn),_,N);yield Yp(o,x),o.pa=o.pa.remove(f),o.ya.delete(e),jh(o)}else yield ol(o.localStore,e,!1).then(()=>Hf(o,e,n)).catch(oa)}),Zp.apply(this,arguments)}function yv(i,e){return um.apply(this,arguments)}function um(){return um=(0,fe.Z)(function*(i,e){const n=qt(i),o=e.batch.batchId;try{const u=yield function sl(i,e){const n=qt(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),f=n.ss.newChangeBuffer({trackRemovals:!0});return function(N,x,W,te){const he=W.batch,xe=he.keys();let ot=je.resolve();return xe.forEach(kt=>{ot=ot.next(()=>te.getEntry(x,kt)).next(nn=>{const on=W.docVersions.get(kt);Ut(null!==on),nn.version.compareTo(on)<0&&(he.applyToRemoteDocument(nn,W),nn.isValidDocument()&&(nn.setReadTime(W.commitVersion),te.addEntry(nn)))})}),ot.next(()=>N.mutationQueue.removeMutationBatch(x,he))}(n,o,e,f).next(()=>f.apply(o)).next(()=>n.mutationQueue.performConsistencyCheck(o)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(o,u,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(N){let x=Xn();for(let W=0;W<N.mutationResults.length;++W)N.mutationResults[W].transformResults.length>0&&(x=x.add(N.batch.mutations[W].key));return x}(e))).next(()=>n.localDocuments.getDocuments(o,u))})}(n.localStore,e);x_(n,o,null),dm(n,o),n.sharedClientState.updateMutationState(o,"acknowledged"),yield Eu(n,u)}catch(u){yield oa(u)}}),um.apply(this,arguments)}function vv(i,e,n){return cm.apply(this,arguments)}function cm(){return cm=(0,fe.Z)(function*(i,e,n){const o=qt(i);try{const u=yield function(_,N){const x=qt(_);return x.persistence.runTransaction("Reject batch","readwrite-primary",W=>{let te;return x.mutationQueue.lookupMutationBatch(W,N).next(he=>(Ut(null!==he),te=he.keys(),x.mutationQueue.removeMutationBatch(W,he))).next(()=>x.mutationQueue.performConsistencyCheck(W)).next(()=>x.documentOverlayCache.removeOverlaysForBatchId(W,te,N)).next(()=>x.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(W,te)).next(()=>x.localDocuments.getDocuments(W,te))})}(o.localStore,e);x_(o,e,n),dm(o,e),o.sharedClientState.updateMutationState(e,"rejected",n),yield Eu(o,u)}catch(u){yield oa(u)}}),cm.apply(this,arguments)}function dm(i,e){(i.ba.get(e)||[]).forEach(n=>{n.resolve()}),i.ba.delete(e)}function x_(i,e,n){const o=qt(i);let u=o.Sa[o.currentUser.toKey()];if(u){const f=u.get(e);f&&(n?f.reject(n):f.resolve(),u=u.remove(e)),o.Sa[o.currentUser.toKey()]=u}}function Hf(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.fa.get(e))i.ma.delete(o),n&&i.Va.Fa(o,n);i.fa.delete(e),i.isPrimaryClient&&i.wa.Rr(e).forEach(o=>{i.wa.containsKey(o)||hm(i,o)})}function hm(i,e){i.ga.delete(e.path.canonicalString());const n=i.pa.get(e);null!==n&&(zd(i.remoteStore,n),i.pa=i.pa.remove(e),i.ya.delete(n),jh(i))}function Qp(i,e,n){for(const o of n)o instanceof A_?(i.wa.addReference(o.key,e),vE(i,o)):o instanceof om?(et("SyncEngine","Document no longer in limbo: "+o.key),i.wa.removeReference(o.key,e),i.wa.containsKey(o.key)||hm(i,o.key)):zt()}function vE(i,e){const n=e.key,o=n.path.canonicalString();i.pa.get(n)||i.ga.has(o)||(et("SyncEngine","New document in limbo: "+n),i.ga.add(o),jh(i))}function jh(i){for(;i.ga.size>0&&i.pa.size<i.maxConcurrentLimboResolutions;){const e=i.ga.values().next().value;i.ga.delete(e);const n=new rn(Gr.fromString(e)),o=i.Da.next();i.ya.set(o,new gv(n)),i.pa=i.pa.insert(n,o),Ff(i.remoteStore,new $a(uo(El(n.path)),o,"TargetPurposeLimboResolution",Xe._e))}}function Eu(i,e,n){return Jp.apply(this,arguments)}function Jp(){return Jp=(0,fe.Z)(function*(i,e,n){const o=qt(i),u=[],f=[],_=[];var N;o.ma.isEmpty()||(o.ma.forEach((N,x)=>{_.push(o.va(x,e,n).then(W=>{if((W||n)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(x.targetId,W?.fromCache?"not-current":"current"),W){u.push(W);const te=wa.Qi(x.targetId,W);f.push(te)}}))}),yield Promise.all(_),o.Va.a_(u),yield(N=(0,fe.Z)(function*(W,te){const he=qt(W);try{yield he.persistence.runTransaction("notifyLocalViewChanges","readwrite",xe=>je.forEach(te,ot=>je.forEach(ot.ki,kt=>he.persistence.referenceDelegate.addReference(xe,ot.targetId,kt)).next(()=>je.forEach(ot.qi,kt=>he.persistence.referenceDelegate.removeReference(xe,ot.targetId,kt)))))}catch(xe){if(!M(xe))throw xe;et("LocalStore","Failed to update sequence numbers: "+xe)}for(const xe of te){const ot=xe.targetId;if(!xe.fromCache){const kt=he.ts.get(ot),on=kt.withLastLimboFreeSnapshotVersion(kt.snapshotVersion);he.ts=he.ts.insert(ot,on)}}}),function x(W,te){return N.apply(this,arguments)})(o.localStore,f))}),Jp.apply(this,arguments)}function Ev(i,e){return Xp.apply(this,arguments)}function Xp(){return Xp=(0,fe.Z)(function*(i,e){const n=qt(i);if(!n.currentUser.isEqual(e)){et("SyncEngine","User change. New user:",e.toKey());const o=yield Hc(n.localStore,e);n.currentUser=e,(f=n).ba.forEach(N=>{N.forEach(x=>{x.reject(new vt(st.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),f.ba.clear(),n.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Eu(n,o._s)}var f}),Xp.apply(this,arguments)}function k_(i,e){const n=qt(i),o=n.ya.get(e);if(o&&o.Ra)return Xn().add(o.key);{let u=Xn();const f=n.fa.get(e);if(!f)return u;for(const _ of f){const N=n.ma.get(_);u=u.unionWith(N.view.ua)}return u}}class Wf{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,fe.Z)(function*(){n.serializer=Ju(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function xp(i,e,n,o){return new $c(i,e,n,o)}(this.persistence,new Al,e.initialUser,this.serializer)}createPersistence(e){return new Dl(Zo.jr,this.serializer)}createSharedClientState(e){return new Gd}terminate(){var e=this;return(0,fe.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class $h{initialize(e,n){var o=this;return(0,fe.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(n),o.remoteStore=o.createRemoteStore(n),o.eventManager=o.createEventManager(n),o.syncEngine=o.createSyncEngine(n,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>$f(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=Ev.bind(null,o.syncEngine),yield function zp(i,e){return al.apply(this,arguments)}(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new nm}createDatastore(e){const n=Ju(e.databaseInfo.databaseId),o=new Bp(e.databaseInfo);return new Kg(e.authCredentials,e.appCheckCredentials,o,n)}createRemoteStore(e){return o=this.localStore,u=this.datastore,f=e.asyncQueue,_=n=>$f(this.syncEngine,n,0),N=Vp.D()?new Vp:new Hg,new yE(o,u,f,_,N);var o,u,f,_,N}createSyncEngine(e,n){return function(u,f,_,N,x,W,te){const he=new mv(u,f,_,N,x,W);return te&&(he.Ca=!0),he}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,fe.Z)(function*(o){const u=qt(o);et("RemoteStore","RemoteStore shutting down."),u.C_.add(5),yield Wc(u),u.F_.shutdown(),u.M_.set("Unknown")}),function n(o){return e.apply(this,arguments)})(this.remoteStore);var e}}class Kf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Ln("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class wv{constructor(e,n,o,u){var f=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=o,this.databaseInfo=u,this.user=kr.UNAUTHENTICATED,this.clientId=cc.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var _=(0,fe.Z)(function*(N){et("FirestoreClient","Received user=",N.uid),yield f.authCredentialListener(N),f.user=N});return function(N){return _.apply(this,arguments)}}()),this.appCheckCredentials.start(o,_=>(et("FirestoreClient","Received new app check token=",_),this.appCheckCredentialListener(_,this.user)))}getConfiguration(){var e=this;return(0,fe.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new vt(st.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Ni;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,fe.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(o){const u=ll(o,"Failed to shutdown persistence");n.reject(u)}})),n.promise}}function rg(i,e){return j_.apply(this,arguments)}function j_(){return j_=(0,fe.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),et("FirestoreClient","Initializing OfflineComponentProvider");const n=yield i.getConfiguration();yield e.initialize(n);let o=n.initialUser;i.setCredentialChangeListener(function(){var u=(0,fe.Z)(function*(f){o.isEqual(f)||(yield Hc(e.localStore,f),o=f)});return function(f){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),j_.apply(this,arguments)}function qf(i,e){return ig.apply(this,arguments)}function ig(){return ig=(0,fe.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const n=yield function Em(i){return Im.apply(this,arguments)}(i);et("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(n,o),i.setCredentialChangeListener(u=>cv(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,f)=>cv(e.remoteStore,f)),i._onlineComponents=e}),ig.apply(this,arguments)}function Im(){return Im=(0,fe.Z)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){et("FirestoreClient","Using user provided OfflineComponentProvider");try{yield rg(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function $_(i){return"FirebaseError"===i.name?i.code===st.FAILED_PRECONDITION||i.code===st.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}(n))throw n;_n("Error using user provided cache. Falling back to memory cache: "+n),yield rg(i,new Wf)}}else et("FirestoreClient","Using default OfflineComponentProvider"),yield rg(i,new Wf);return i._offlineComponents}),Im.apply(this,arguments)}function Yf(i){return bm.apply(this,arguments)}function bm(){return bm=(0,fe.Z)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(et("FirestoreClient","Using user provided OnlineComponentProvider"),yield qf(i,i._uninitializedComponentsProvider._online)):(et("FirestoreClient","Using default OnlineComponentProvider"),yield qf(i,new $h))),i._onlineComponents}),bm.apply(this,arguments)}function Hh(i){return Dm.apply(this,arguments)}function Dm(){return Dm=(0,fe.Z)(function*(i){const e=yield Yf(i),n=e.eventManager;return n.onListen=R_.bind(null,e.syncEngine),n.onUnlisten=_v.bind(null,e.syncEngine),n}),Dm.apply(this,arguments)}function Rm(i){const e={};return void 0!==i.timeoutSeconds&&(e.timeoutSeconds=i.timeoutSeconds),e}const Nm=new Map;function Zf(i,e,n){if(!n)throw new vt(st.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Y_(i){if(!rn.isDocumentKey(i))throw new vt(st.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Z_(i){if(rn.isDocumentKey(i))throw new vt(st.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Gh(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(o=i).constructor?o.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var o;return"function"==typeof i?"a function":zt()}function oi(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new vt(st.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Gh(i);throw new vt(st.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}class Q_{constructor(e){var n,o;if(void 0===e.host){if(void 0!==e.ssl)throw new vt(st.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new vt(st.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function ec(i,e,n,o){if(!0===e&&!0===o)throw new vt(st.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Rm(null!==(o=e.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(f){if(void 0!==f.timeoutSeconds){if(isNaN(f.timeoutSeconds))throw new vt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (must not be NaN)`);if(f.timeoutSeconds<5)throw new vt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (minimum allowed value is 5)`);if(f.timeoutSeconds>30)throw new vt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xc{constructor(e,n,o,u){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=o,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Q_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new vt(st.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new vt(st.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Q_(e),void 0!==e.credentials&&(this._authCredentials=function(o){if(!o)return new Na;switch(o.type){case"firstParty":return new Co(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new vt(st.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const o=Nm.get(n);o&&(et("ComponentProvider","Removing Datastore"),Nm.delete(n),o.terminate())}(this),Promise.resolve()}}class Bo{constructor(e,n,o){this.converter=n,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Bo(this.firestore,e,this._query)}}class Ns{constructor(e,n,o){this.converter=n,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new tc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ns(this.firestore,e,this._key)}}class tc extends Bo{constructor(e,n,o){super(e,n,El(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ns(this.firestore,null,new rn(e))}withConverter(e){return new tc(this.firestore,e,this._path)}}function Av(i,e,...n){if(i=(0,ce.m9)(i),Zf("collection","path",e),i instanceof Xc){const o=Gr.fromString(e,...n);return Z_(o),new tc(i,null,o)}{if(!(i instanceof Ns||i instanceof tc))throw new vt(st.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Gr.fromString(e,...n));return Z_(o),new tc(i.firestore,null,o)}}class ey{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new zg(this,"async_queue_retry"),this.iu=()=>{const n=kh();n&&et("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=kh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=kh();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new Ni;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,fe.Z)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(n){if(!M(n))throw n;et("AsyncQueue","Operation failed with retryable error: "+n)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(o=>{throw this.eu=o,this.tu=!1,Ln("INTERNAL UNHANDLED ERROR: ",function(_){let N=_.message||"";return _.stack&&(N=_.stack.includes(_.message)?_.stack:_.message+"\n"+_.stack),N}(o)),o}).then(o=>(this.tu=!1,o))));return this.Ja=n,n}enqueueAfterDelay(e,n,o){this.su(),this.ru.indexOf(e)>-1&&(n=0);const u=Uf.createAndSchedule(this,e,n,o,f=>this.au(f));return this.Xa.push(u),u}su(){this.eu&&zt()}verifyOperationInProgress(){}uu(){var e=this;return(0,fe.Z)(function*(){let n;do{n=e.Ja,yield n}while(n!==e.Ja)})()}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,o)=>n.targetTimeMs-o.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function og(i){return function(n,o){if("object"!=typeof n||null===n)return!1;const u=n;for(const f of["next","error","complete"])if(f in u&&"function"==typeof u[f])return!0;return!1}(i)}class ts extends Xc{constructor(e,n,o,u){super(e,n,o,u),this.type="firestore",this._queue=new ey,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||zh(this),this._firestoreClient.terminate()}}function Mv(i,e){const n="object"==typeof i?i:(0,Pe.getApp)(),o="string"==typeof i?i:e||"(default)",u=(0,Pe._getProvider)(n,"firestore").getImmediate({identifier:o});if(!u._initialized){const f=(0,ce.P0)("firestore");f&&function Qf(i,e,n,o={}){var u;const f=(i=oi(i,Xc))._getSettings(),_=`${e}:${n}`;if("firestore.googleapis.com"!==f.host&&f.host!==_&&_n("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},f),{host:_,ssl:!1})),o.mockUserToken){let N,x;if("string"==typeof o.mockUserToken)N=o.mockUserToken,x=kr.MOCK_USER;else{N=(0,ce.Sg)(o.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const W=o.mockUserToken.sub||o.mockUserToken.user_id;if(!W)throw new vt(st.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new kr(W)}i._authCredentials=new ro(new no(N,x))}}(u,...f)}return u}function ho(i){return i._firestoreClient||zh(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function zh(i){var e,n,o;const u=i._freezeSettings(),f=(x=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new ku(i._databaseId,x,i._persistenceKey,(te=u).host,te.ssl,te.experimentalForceLongPolling,te.experimentalAutoDetectLongPolling,Rm(te.experimentalLongPollingOptions),te.useFetchStreams));var x,te;i._firestoreClient=new wv(i._authCredentials,i._appCheckCredentials,i._queue,f),null!==(n=u.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(o=u.localCache)&&void 0!==o&&o._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:u.localCache.kind,_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider})}class Zd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zd($s.fromBase64String(e))}catch(n){throw new vt(st.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Zd($s.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Wh{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new vt(st.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Pm{constructor(e){this._methodName=e}}class Om{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new vt(st.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new vt(st.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Jn(this._lat,e._lat)||Jn(this._long,e._long)}}const iy=/^__.*__$/;class sy{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return null!==this.fieldMask?new cu(e,this.data,this.fieldMask,n,this.fieldTransforms):new uu(e,this.data,n,this.fieldTransforms)}}function oy(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw zt()}}class km{constructor(e,n,o,u,f,_){this.settings=e,this.databaseId=n,this.serializer=o,this.ignoreUndefinedProperties=u,void 0===f&&this.Pu(),this.fieldTransforms=f||[],this.fieldMask=_||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new km(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.Tu({path:o,du:!1});return u.Au(e),u}Ru(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.Tu({path:o,du:!1});return u.Pu(),u}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return rc(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(oy(this.Iu)&&iy.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class ay{constructor(e,n,o){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=o||Ju(e)}pu(e,n,o,u=!1){return new km({Iu:e,methodName:n,gu:o,path:Bi.emptyPath(),du:!1,fu:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qd(i){const e=i._freezeSettings(),n=Ju(i._databaseId);return new ay(i._databaseId,!!e.ignoreUndefinedProperties,n)}function ly(i,e,n,o,u,f={}){const _=i.pu(f.merge||f.mergeFields?2:0,e,n,u);rd("Data must be an object, but it was:",_,o);const N=cl(o,_);let x,W;if(f.merge)x=new ao(_.fieldMask),W=_.fieldTransforms;else if(f.mergeFields){const te=[];for(const he of f.mergeFields){const xe=Du(e,he,n);if(!_.contains(xe))throw new vt(st.INVALID_ARGUMENT,`Field '${xe}' is specified in your field mask but missing from your input data.`);Jd(te,xe)||te.push(xe)}x=new ao(te),W=_.fieldTransforms.filter(he=>x.covers(he.field))}else x=null,W=_.fieldTransforms;return new sy(new fs(N),x,W)}class Fm extends Pm{_toFieldTransform(e){return new nl(e.path,new Vl)}isEqual(e){return e instanceof Fm}}function Tu(i,e){if(ag(i=(0,ce.m9)(i)))return rd("Unsupported field value:",e,i),cl(i,e);if(i instanceof Pm)return function(o,u){if(!oy(u.Iu))throw u.mu(`${o._methodName}() can only be used with update() and set()`);if(!u.path)throw u.mu(`${o._methodName}() is not currently supported inside arrays`);const f=o._toFieldTransform(u);f&&u.fieldTransforms.push(f)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(o,u){const f=[];let _=0;for(const N of o){let x=Tu(N,u.Vu(_));null==x&&(x={nullValue:"NULL_VALUE"}),f.push(x),_++}return{arrayValue:{values:f}}}(i,e)}return function(o,u){if(null===(o=(0,ce.m9)(o)))return{nullValue:"NULL_VALUE"};if("number"==typeof o)return bl(u.serializer,o);if("boolean"==typeof o)return{booleanValue:o};if("string"==typeof o)return{stringValue:o};if(o instanceof Date){const f=Hi.fromDate(o);return{timestampValue:ko(u.serializer,f)}}if(o instanceof Hi){const f=new Hi(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:ko(u.serializer,f)}}if(o instanceof Om)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof Zd)return{bytesValue:hu(u.serializer,o._byteString)};if(o instanceof Ns){const f=u.databaseId,_=o.firestore._databaseId;if(!_.isEqual(f))throw u.mu(`Document reference is for database ${_.projectId}/${_.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:Pc(o.firestore._databaseId||u.databaseId,o._key.path)}}throw u.mu(`Unsupported field value: ${Gh(o)}`)}(i,e)}function cl(i,e){const n={};return sf(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_l(i,(o,u)=>{const f=Tu(u,e.Eu(o));null!=f&&(n[o]=f)}),{mapValue:{fields:n}}}function ag(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Hi||i instanceof Om||i instanceof Zd||i instanceof Ns||i instanceof Pm)}function rd(i,e,n){if(!ag(n)||"object"!=typeof(u=n)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const o=Gh(n);throw e.mu("an object"===o?i+" a custom object":i+" "+o)}var u}function Du(i,e,n){if((e=(0,ce.m9)(e))instanceof Wh)return e._internalPath;if("string"==typeof e)return nc(i,e);throw rc("Field path arguments must be of type string or ",i,!1,void 0,n)}const qh=new RegExp("[~\\*/\\[\\]]");function nc(i,e,n){if(e.search(qh)>=0)throw rc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Wh(...e.split("."))._internalPath}catch{throw rc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function rc(i,e,n,o,u){const f=o&&!o.isEmpty(),_=void 0!==u;let N=`Function ${e}() called with invalid data`;n&&(N+=" (via `toFirestore()`)"),N+=". ";let x="";return(f||_)&&(x+=" (found",f&&(x+=` in field ${o}`),_&&(x+=` in document ${u}`),x+=")"),new vt(st.INVALID_ARGUMENT,N+i+x)}function Jd(i,e){return i.some(n=>n.isEqual(e))}class id{constructor(e,n,o,u,f){this._firestore=e,this._userDataWriter=n,this._key=o,this._document=u,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new Ns(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Yh(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ic("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Yh extends id{data(){return super.data()}}function ic(i,e){return"string"==typeof e?nc(i,e):e instanceof Wh?e._internalPath:e._delegate._internalPath}function Vm(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new vt(st.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class lg{}class Bm extends lg{}function cy(i,e,...n){let o=[];e instanceof lg&&o.push(e),o=o.concat(n),function(f){const _=f.filter(x=>x instanceof Xd).length,N=f.filter(x=>x instanceof Zh).length;if(_>1||_>0&&N>0)throw new vt(st.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const u of o)i=u._apply(i);return i}class Zh extends Bm{constructor(e,n,o){super(),this._field=e,this._op=n,this._value=o,this.type="where"}static _create(e,n,o){return new Zh(e,n,o)}_apply(e){const n=this._parse(e);return dg(e._query,n),new Bo(e.firestore,e.converter,Uu(e._query,n))}_parse(e){const n=Qd(e.firestore);return function(f,_,N,x,W,te,he){let xe;if(W.isKeyField()){if("array-contains"===te||"array-contains-any"===te)throw new vt(st.INVALID_ARGUMENT,`Invalid Query. You can't perform '${te}' queries on documentId().`);if("in"===te||"not-in"===te){Qh(he,te);const ot=[];for(const kt of he)ot.push(cg(x,f,kt));xe={arrayValue:{values:ot}}}else xe=cg(x,f,he)}else"in"!==te&&"not-in"!==te&&"array-contains-any"!==te||Qh(he,te),xe=function nd(i,e,n,o=!1){return Tu(n,i.pu(o?4:3,e))}(N,"where",he,"in"===te||"not-in"===te);return Br.create(W,te,xe)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function dy(i,e,n){const o=e,u=ic("where",i);return Zh._create(u,o,n)}class Xd extends lg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Xd(e,n)}_parse(e){const n=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===n.length?n[0]:ci.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(u,f){let _=u;const N=f.getFlattenedFilters();for(const x of N)dg(_,x),_=Uu(_,x)}(e._query,n),new Bo(e.firestore,e.converter,Uu(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Xf extends Bm{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Xf(e,n)}_apply(e){const n=function(u,f,_){if(null!==u.startAt)throw new vt(st.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==u.endAt)throw new vt(st.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Vu(f,_)}(e._query,this._field,this._direction);return new Bo(e.firestore,e.converter,function(u,f){const _=u.explicitOrderBy.concat([f]);return new Ta(u.path,u.collectionGroup,_,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(e._query,n))}}function Lv(i,e="asc"){const n=e,o=ic("orderBy",i);return Xf._create(o,n)}function cg(i,e,n){if("string"==typeof(n=(0,ce.m9)(n))){if(""===n)throw new vt(st.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vd(e)&&-1!==n.indexOf("/"))throw new vt(st.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const o=e.path.child(Gr.fromString(n));if(!rn.isDocumentKey(o))throw new vt(st.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return ba(i,new rn(o))}if(n instanceof Ns)return ba(i,n._key);throw new vt(st.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Gh(n)}.`)}function Qh(i,e){if(!Array.isArray(i)||0===i.length)throw new vt(st.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function dg(i,e){const n=function(u,f){for(const _ of u)for(const N of _.getFlattenedFilters())if(f.indexOf(N.op)>=0)return N.op;return null}(i.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new vt(st.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class fy{convertValue(e,n="none"){switch(ya(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(As(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw zt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const o={};return _l(e,(u,f)=>{o[u]=this.convertValue(f,n)}),o}convertGeoPoint(e){return new Om(Xi(e.latitude),Xi(e.longitude))}convertArray(e,n){return(e.values||[]).map(o=>this.convertValue(o,n))}convertServerTimestamp(e,n){switch(n){case"previous":const o=Ui(e);return null==o?null:this.convertValue(o,n);case"estimate":return this.convertTimestamp(ua(e));default:return null}}convertTimestamp(e){const n=yl(e);return new Hi(n.seconds,n.nanos)}convertDocumentKey(e,n){const o=Gr.fromString(e);Ut(Fc(o));const u=new Oa(o.get(1),o.get(3)),f=new rn(o.popFirst(5));return u.isEqual(n)||Ln(`Document ${f} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),f}}function eh(i,e,n){let o;return o=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,o}class th{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sd extends id{constructor(e,n,o,u,f,_){super(e,n,o,u,_),this._firestore=e,this._firestoreImpl=e,this.metadata=f}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new nh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const o=this._document.data.field(ic("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,n.serverTimestamps)}}}class nh extends sd{data(e={}){return super.data(e)}}class sc{constructor(e,n,o,u){this._firestore=e,this._userDataWriter=n,this._snapshot=u,this.metadata=new th(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(o=>{e.call(n,new nh(this._firestore,this._userDataWriter,o.key,o,new th(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new vt(st.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(u,f){if(u._snapshot.oldDocs.isEmpty()){let _=0;return u._snapshot.docChanges.map(N=>({type:"added",doc:new nh(u._firestore,u._userDataWriter,N.doc.key,N.doc,new th(u._snapshot.mutatedKeys.has(N.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:_++}))}{let _=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(N=>f||3!==N.type).map(N=>{const x=new nh(u._firestore,u._userDataWriter,N.doc.key,N.doc,new th(u._snapshot.mutatedKeys.has(N.doc.key),u._snapshot.fromCache),u.query.converter);let W=-1,te=-1;return 0!==N.type&&(W=_.indexOf(N.doc.key),_=_.delete(N.doc.key)),1!==N.type&&(_=_.add(N.doc),te=_.indexOf(N.doc.key)),{type:VE(N.type),doc:x,oldIndex:W,newIndex:te}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function VE(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return zt()}}class wu extends fy{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zd(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ns(this.firestore,null,n)}}function jv(i){i=oi(i,Bo);const e=oi(i.firestore,ts),n=ho(e),o=new wu(e);return Vm(i._query),function Sm(i,e,n={}){const o=new Ni;return i.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return function(f,_,N,x,W){const te=new Kf({next:xe=>{_.enqueueAndForget(()=>rm(f,he)),xe.fromCache&&"server"===x.source?W.reject(new vt(st.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):W.resolve(xe)},error:xe=>W.reject(xe)}),he=new im(N,te,{includeMetadataChanges:!0,J_:!0});return Rl(f,he)}(yield Hh(i),i.asyncQueue,e,n,o)})),o.promise}(n,i._query).then(u=>new sc(e,o,i,u))}function py(i,e,n){i=oi(i,Ns);const o=oi(i.firestore,ts),u=eh(i.converter,e,n);return rh(o,[ly(Qd(o),"setDoc",i._key,u,null!==i.converter,n).toMutation(i._key,ps.none())])}function Gv(i,e){const n=oi(i.firestore,ts),o=function J_(i,e,...n){if(i=(0,ce.m9)(i),1===arguments.length&&(e=cc.newId()),Zf("doc","path",e),i instanceof Xc){const o=Gr.fromString(e,...n);return Y_(o),new Ns(i,null,new rn(o))}{if(!(i instanceof Ns||i instanceof tc))throw new vt(st.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Gr.fromString(e,...n));return Y_(o),new Ns(i.firestore,i instanceof tc?i.converter:null,new rn(o))}}(i),u=eh(i.converter,e);return rh(n,[ly(Qd(i.firestore),"addDoc",o._key,u,null!==i.converter,{}).toMutation(o._key,ps.exists(!1))]).then(()=>o)}function rh(i,e){return function(o,u){const f=new Ni;return o.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return function N_(i,e,n){return qp.apply(this,arguments)}(yield function Tm(i){return Yf(i).then(e=>e.syncEngine)}(o),u,f)})),f.promise}(ho(i),e)}function vy(){return new Fm("serverTimestamp")}!function(e,n=!0){$i=Pe.SDK_VERSION,(0,Pe._registerComponent)(new We.wA("firestore",(o,{instanceIdentifier:u,options:f})=>{const _=o.getProvider("app").getImmediate(),N=new ts(new Nu(o.getProvider("auth-internal")),new od(o.getProvider("app-check-internal")),function(W,te){if(!Object.prototype.hasOwnProperty.apply(W.options,["projectId"]))throw new vt(st.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Oa(W.options.projectId,te)}(_,u),_);return f=Object.assign({useFetchStreams:n},f),N._setSettings(f),N},"PUBLIC").setMultipleInstances(!0)),(0,Pe.registerVersion)(Bs,"4.3.2",e),(0,Pe.registerVersion)(Bs,"4.3.2","esm2017")}();var mg=B(5592),oc=B(7398),_g=function(){return _g=Object.assign||function(e){for(var n,o=1,u=arguments.length;o<u;o++)for(var f in n=arguments[o])Object.prototype.hasOwnProperty.call(n,f)&&(e[f]=n[f]);return e},_g.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var Xm={includeMetadataChanges:!1};function ac(i,e){return void 0===e&&(e=Xm),new mg.y(function(n){var o=function zv(i,...e){var n,o,u;i=(0,ce.m9)(i);let f={includeMetadataChanges:!1},_=0;"object"!=typeof e[_]||og(e[_])||(f=e[_],_++);const N={includeMetadataChanges:f.includeMetadataChanges};if(og(e[_])){const he=e[_];e[_]=null===(n=he.next)||void 0===n?void 0:n.bind(he),e[_+1]=null===(o=he.error)||void 0===o?void 0:o.bind(he),e[_+2]=null===(u=he.complete)||void 0===u?void 0:u.bind(he)}let x,W,te;if(i instanceof Ns)W=oi(i.firestore,ts),te=El(i._key.path),x={next:he=>{e[_]&&e[_](function tp(i,e,n){const o=n.docs.get(e._key),u=new wu(i);return new sd(i,u,e._key,o,new th(n.hasPendingWrites,n.fromCache),e.converter)}(W,i,he))},error:e[_+1],complete:e[_+2]};else{const he=oi(i,Bo);W=oi(he.firestore,ts),te=he._query;const xe=new wu(W);x={next:ot=>{e[_]&&e[_](new sc(W,xe,he,ot))},error:e[_+1],complete:e[_+2]},Vm(i._query)}return function(xe,ot,kt,nn){const on=new Kf(nn),Zn=new im(ot,on,kt);return xe.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return Rl(yield Hh(xe),Zn)})),()=>{on.Na(),xe.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return rm(yield Hh(xe),Zn)}))}}(ho(W),te,N,x)}(i,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:o}})}function wy(i,e){return void 0===e&&(e={}),function o0(i){return ac(i,{includeMetadataChanges:!0}).pipe((0,oc.U)(function(e){return e.docs}))}(i).pipe((0,oc.U)(function(n){return n.map(function(o){return function yg(i,e){var n;void 0===e&&(e={});var o=i.data(e);return i.exists()&&"object"==typeof o&&null!==o&&e.idField?_g(_g({},o),((n={})[e.idField]=i.id,n)):o}(o,e)})}))}class vg{constructor(e){return e}}const Sy="firestore",Eg=new j.OlP("angularfire2.firestore-instances");function n_(i){return(e,n)=>{const o=e.runOutsideAngular(()=>i(n));return new vg(o)}}const r_={provide:class Ay{constructor(){return(0,l.vb)(Sy)}},deps:[[new j.FiY,Eg]]},Cu={provide:vg,useFactory:function eI(i,e){const n=(0,l.JM)(Sy,i,e);return n&&new vg(n)},deps:[[new j.FiY,Eg],se.Ot]};let l0=(()=>{class i{constructor(){(0,De.KN)("angularfire",l.q4.full,"fst")}static \u0275fac=function(o){return new(o||i)};static \u0275mod=j.oAB({type:i});static \u0275inj=j.cJS({providers:[Cu,r_]})}return i})();function Ry(i,...e){return{ngModule:l0,providers:[{provide:Eg,useFactory:n_(i),multi:!0,deps:[j.R0b,j.zs3,l.HU,se.z6,[new j.FiY,ve.dh],[new j.FiY,l.Rf],...e]}]}}const Ny=(0,l.u3)(wy,!0),c0=(0,l.u3)(Gv,!0),Py=(0,l.u3)(Av,!0),T0=(0,l.u3)(jv,!0),D0=(0,l.u3)(Mv,!0),ky=(0,l.u3)(Lv,!0),Ly=(0,l.u3)(cy,!0),Xh=(0,l.u3)(vy,!0),AI=(0,l.u3)(py,!0),ef=(0,l.u3)(dy,!0)},1920:($t,qe,B)=>{B.d(qe,{q4:()=>Ye,iC:()=>In,HU:()=>Ee,Rf:()=>ht,vb:()=>mt,JM:()=>lt,u3:()=>Vr});var l=B(5879),j=B(3182),se=B(1954),De=B(2631);const Pe=new class fe extends De.v{}(class ve extends se.o{constructor(dn,Qt){super(dn,Qt),this.scheduler=dn,this.work=Qt}schedule(dn,Qt=0){return Qt>0?super.schedule(dn,Qt):(this.delay=Qt,this.state=dn,this.scheduler.flush(this),this)}execute(dn,Qt){return Qt>0||this.closed?super.execute(dn,Qt):this._execute(dn,Qt)}requestAsyncId(dn,Qt,Ue=0){return null!=Ue&&Ue>0||null==Ue&&this.delay>0?super.requestAsyncId(dn,Qt,Ue):(dn.flush(this),0)}});var Be=B(6321),ce=B(5592),ye=B(9397),Ae=B(5137),Ne=B(3093);const Ye=new l.GfV("ANGULARFIRE2_VERSION");function lt(At,dn,Qt){if(dn){if(1===dn.length)return dn[0];const Ke=dn.filter(Ce=>Ce.app===Qt);if(1===Ke.length)return Ke[0]}return Qt.container.getProvider(At).getImmediate({optional:!0})}const mt=(At,dn)=>{const Qt=dn?[dn]:(0,j.C6)(),Ue=[];return Qt.forEach(ke=>{ke.container.getProvider(At).instances.forEach(Ce=>{Ue.includes(Ce)||Ue.push(Ce)})}),Ue};class ht{constructor(){return mt(jt)}}const jt="app-check";function bt(){}class ue{zone;delegate;constructor(dn,Qt=Pe){this.zone=dn,this.delegate=Qt}now(){return this.delegate.now()}schedule(dn,Qt,Ue){const ke=this.zone;return this.delegate.schedule(function(Ce){ke.runGuarded(()=>{dn.apply(this,[Ce])})},Qt,Ue)}}class $e{zone;task=null;constructor(dn){this.zone=dn}call(dn,Qt){const Ue=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",bt,{},bt,bt)),Qt.pipe((0,ye.b)({next:Ue,complete:Ue,error:Ue})).subscribe(dn).add(Ue)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ee=(()=>{class At{ngZone;outsideAngular;insideAngular;constructor(Qt){this.ngZone=Qt,this.outsideAngular=Qt.runOutsideAngular(()=>new ue(Zone.current)),this.insideAngular=Qt.run(()=>new ue(Zone.current,Be.z)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(Ue){return new(Ue||At)(l.LFG(l.R0b))};static \u0275prov=l.Yz7({token:At,factory:At.\u0275fac,providedIn:"root"})}return At})();function rt(){const At=globalThis.\u0275AngularFireScheduler;if(!At)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return At}function Oe(At){return rt().ngZone.run(()=>At())}function In(At){return function Cn(At){return function(Qt){return(Qt=Qt.lift(new $e(At.ngZone))).pipe((0,Ae.R)(At.outsideAngular),(0,Ne.Q)(At.insideAngular))}}(rt())(At)}const On=(At,dn)=>function(){const Ue=arguments;return dn&&setTimeout(()=>{"scheduled"===dn.state&&dn.invoke()},10),Oe(()=>At.apply(void 0,Ue))},Vr=(At,dn)=>function(){let Qt;const Ue=arguments;for(let Ke=0;Ke<arguments.length;Ke++)"function"==typeof Ue[Ke]&&(dn&&(Qt||=Oe(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",bt,{},bt,bt))),Ue[Ke]=On(Ue[Ke],Qt));const ke=function ut(At){return rt().ngZone.runOutsideAngular(()=>At())}(()=>At.apply(this,Ue));if(!dn){if(ke instanceof ce.y){const Ke=rt();return ke.pipe((0,Ae.R)(Ke.outsideAngular),(0,Ne.Q)(Ke.insideAngular))}return Oe(()=>ke)}return ke instanceof ce.y?ke.pipe(In):ke instanceof Promise?Oe(()=>new Promise((Ke,Ce)=>ke.then(He=>Oe(()=>Ke(He)),He=>Oe(()=>Ce(He))))):"function"==typeof ke&&Qt?function(){return setTimeout(()=>{Qt&&"scheduled"===Qt.state&&Qt.invoke()},10),ke.apply(this,arguments)}:Oe(()=>ke)}},6223:($t,qe,B)=>{B.d(qe,{Cf:()=>mt,EJ:()=>bi,Fj:()=>Ye,JJ:()=>tt,JL:()=>gt,JU:()=>We,K7:()=>kn,Kr:()=>Xs,NI:()=>Ur,On:()=>Oi,UX:()=>ta,YN:()=>jr,_Y:()=>Js,a5:()=>zn,cw:()=>re,kI:()=>bt,qu:()=>cr,sg:()=>ti,u:()=>Gt,u5:()=>ea,wV:()=>li});var l=B(5879),j=B(6814),se=B(2459),ve=B(9315),De=B(7398);let fe=(()=>{class K{constructor(F,oe){this._renderer=F,this._elementRef=oe,this.onChange=me=>{},this.onTouched=()=>{}}setProperty(F,oe){this._renderer.setProperty(this._elementRef.nativeElement,F,oe)}registerOnTouched(F){this.onTouched=F}registerOnChange(F){this.onChange=F}setDisabledState(F){this.setProperty("disabled",F)}static#e=this.\u0275fac=function(oe){return new(oe||K)(l.Y36(l.Qsj),l.Y36(l.SBq))};static#t=this.\u0275dir=l.lG2({type:K})}return K})(),Pe=(()=>{class K extends fe{static#e=this.\u0275fac=function(){let F;return function(me){return(F||(F=l.n5z(K)))(me||K)}}();static#t=this.\u0275dir=l.lG2({type:K,features:[l.qOj]})}return K})();const We=new l.OlP("NgValueAccessor"),ye={provide:We,useExisting:(0,l.Gpc)(()=>Ye),multi:!0},Ne=new l.OlP("CompositionEventMode");let Ye=(()=>{class K extends fe{constructor(F,oe,me){super(F,oe),this._compositionMode=me,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ae(){const K=(0,j.q)()?(0,j.q)().getUserAgent():"";return/android (\d+)/.test(K.toLowerCase())}())}writeValue(F){this.setProperty("value",F??"")}_handleInput(F){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(F)}_compositionStart(){this._composing=!0}_compositionEnd(F){this._composing=!1,this._compositionMode&&this.onChange(F)}static#e=this.\u0275fac=function(oe){return new(oe||K)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(Ne,8))};static#t=this.\u0275dir=l.lG2({type:K,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(oe,me){1&oe&&l.NdJ("input",function(rr){return me._handleInput(rr.target.value)})("blur",function(){return me.onTouched()})("compositionstart",function(){return me._compositionStart()})("compositionend",function(rr){return me._compositionEnd(rr.target.value)})},features:[l._Bn([ye]),l.qOj]})}return K})();function ze(K){return null==K||("string"==typeof K||Array.isArray(K))&&0===K.length}function lt(K){return null!=K&&"number"==typeof K.length}const mt=new l.OlP("NgValidators"),ht=new l.OlP("NgAsyncValidators"),jt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class bt{static min(J){return function ue(K){return J=>{if(ze(J.value)||ze(K))return null;const F=parseFloat(J.value);return!isNaN(F)&&F<K?{min:{min:K,actual:J.value}}:null}}(J)}static max(J){return function $e(K){return J=>{if(ze(J.value)||ze(K))return null;const F=parseFloat(J.value);return!isNaN(F)&&F>K?{max:{max:K,actual:J.value}}:null}}(J)}static required(J){return function Ee(K){return ze(K.value)?{required:!0}:null}(J)}static requiredTrue(J){return function rt(K){return!0===K.value?null:{required:!0}}(J)}static email(J){return function ut(K){return ze(K.value)||jt.test(K.value)?null:{email:!0}}(J)}static minLength(J){return function Oe(K){return J=>ze(J.value)||!lt(J.value)?null:J.value.length<K?{minlength:{requiredLength:K,actualLength:J.value.length}}:null}(J)}static maxLength(J){return function Yt(K){return J=>lt(J.value)&&J.value.length>K?{maxlength:{requiredLength:K,actualLength:J.value.length}}:null}(J)}static pattern(J){return function Xt(K){if(!K)return In;let J,F;return"string"==typeof K?(F="","^"!==K.charAt(0)&&(F+="^"),F+=K,"$"!==K.charAt(K.length-1)&&(F+="$"),J=new RegExp(F)):(F=K.toString(),J=K),oe=>{if(ze(oe.value))return null;const me=oe.value;return J.test(me)?null:{pattern:{requiredPattern:F,actualValue:me}}}}(J)}static nullValidator(J){return null}static compose(J){return Ue(J)}static composeAsync(J){return Ke(J)}}function In(K){return null}function Cn(K){return null!=K}function On(K){return(0,l.QGY)(K)?(0,se.D)(K):K}function Vr(K){let J={};return K.forEach(F=>{J=null!=F?{...J,...F}:J}),0===Object.keys(J).length?null:J}function At(K,J){return J.map(F=>F(K))}function Qt(K){return K.map(J=>function dn(K){return!K.validate}(J)?J:F=>J.validate(F))}function Ue(K){if(!K)return null;const J=K.filter(Cn);return 0==J.length?null:function(F){return Vr(At(F,J))}}function ke(K){return null!=K?Ue(Qt(K)):null}function Ke(K){if(!K)return null;const J=K.filter(Cn);return 0==J.length?null:function(F){const oe=At(F,J).map(On);return(0,ve.D)(oe).pipe((0,De.U)(Vr))}}function Ce(K){return null!=K?Ke(Qt(K)):null}function He(K,J){return null===K?[J]:Array.isArray(K)?[...K,J]:[K,J]}function ct(K){return K._rawValidators}function St(K){return K._rawAsyncValidators}function Et(K){return K?Array.isArray(K)?K:[K]:[]}function An(K,J){return Array.isArray(K)?K.includes(J):K===J}function It(K,J){const F=Et(J);return Et(K).forEach(me=>{An(F,me)||F.push(me)}),F}function Mn(K,J){return Et(J).filter(F=>!An(K,F))}class yn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(J){this._rawValidators=J||[],this._composedValidatorFn=ke(this._rawValidators)}_setAsyncValidators(J){this._rawAsyncValidators=J||[],this._composedAsyncValidatorFn=Ce(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(J){this._onDestroyCallbacks.push(J)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(J=>J()),this._onDestroyCallbacks=[]}reset(J=void 0){this.control&&this.control.reset(J)}hasError(J,F){return!!this.control&&this.control.hasError(J,F)}getError(J,F){return this.control?this.control.getError(J,F):null}}class bn extends yn{get formDirective(){return null}get path(){return null}}class zn extends yn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class hn{constructor(J){this._cd=J}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let tt=(()=>{class K extends hn{constructor(F){super(F)}static#e=this.\u0275fac=function(oe){return new(oe||K)(l.Y36(zn,2))};static#t=this.\u0275dir=l.lG2({type:K,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(oe,me){2&oe&&l.ekj("ng-untouched",me.isUntouched)("ng-touched",me.isTouched)("ng-pristine",me.isPristine)("ng-dirty",me.isDirty)("ng-valid",me.isValid)("ng-invalid",me.isInvalid)("ng-pending",me.isPending)},features:[l.qOj]})}return K})(),gt=(()=>{class K extends hn{constructor(F){super(F)}static#e=this.\u0275fac=function(oe){return new(oe||K)(l.Y36(bn,10))};static#t=this.\u0275dir=l.lG2({type:K,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(oe,me){2&oe&&l.ekj("ng-untouched",me.isUntouched)("ng-touched",me.isTouched)("ng-pristine",me.isPristine)("ng-dirty",me.isDirty)("ng-valid",me.isValid)("ng-invalid",me.isInvalid)("ng-pending",me.isPending)("ng-submitted",me.isSubmitted)},features:[l.qOj]})}return K})();const hi="VALID",yi="INVALID",or="PENDING",zr="DISABLED";function Zr(K){return(nr(K)?K.validators:K)||null}function pr(K,J){return(nr(J)?J.asyncValidators:K)||null}function nr(K){return null!=K&&!Array.isArray(K)&&"object"==typeof K}function Ki(K,J,F){const oe=K.controls;if(!(J?Object.keys(oe):oe).length)throw new l.vHH(1e3,"");if(!oe[F])throw new l.vHH(1001,"")}function rs(K,J,F){K._forEachChild((oe,me)=>{if(void 0===F[me])throw new l.vHH(1002,"")})}class Ie{constructor(J,F){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(J),this._assignAsyncValidators(F)}get validator(){return this._composedValidatorFn}set validator(J){this._rawValidators=this._composedValidatorFn=J}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(J){this._rawAsyncValidators=this._composedAsyncValidatorFn=J}get parent(){return this._parent}get valid(){return this.status===hi}get invalid(){return this.status===yi}get pending(){return this.status==or}get disabled(){return this.status===zr}get enabled(){return this.status!==zr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(J){this._assignValidators(J)}setAsyncValidators(J){this._assignAsyncValidators(J)}addValidators(J){this.setValidators(It(J,this._rawValidators))}addAsyncValidators(J){this.setAsyncValidators(It(J,this._rawAsyncValidators))}removeValidators(J){this.setValidators(Mn(J,this._rawValidators))}removeAsyncValidators(J){this.setAsyncValidators(Mn(J,this._rawAsyncValidators))}hasValidator(J){return An(this._rawValidators,J)}hasAsyncValidator(J){return An(this._rawAsyncValidators,J)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(J={}){this.touched=!0,this._parent&&!J.onlySelf&&this._parent.markAsTouched(J)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(J=>J.markAllAsTouched())}markAsUntouched(J={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(F=>{F.markAsUntouched({onlySelf:!0})}),this._parent&&!J.onlySelf&&this._parent._updateTouched(J)}markAsDirty(J={}){this.pristine=!1,this._parent&&!J.onlySelf&&this._parent.markAsDirty(J)}markAsPristine(J={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(F=>{F.markAsPristine({onlySelf:!0})}),this._parent&&!J.onlySelf&&this._parent._updatePristine(J)}markAsPending(J={}){this.status=or,!1!==J.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!J.onlySelf&&this._parent.markAsPending(J)}disable(J={}){const F=this._parentMarkedDirty(J.onlySelf);this.status=zr,this.errors=null,this._forEachChild(oe=>{oe.disable({...J,onlySelf:!0})}),this._updateValue(),!1!==J.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...J,skipPristineCheck:F}),this._onDisabledChange.forEach(oe=>oe(!0))}enable(J={}){const F=this._parentMarkedDirty(J.onlySelf);this.status=hi,this._forEachChild(oe=>{oe.enable({...J,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:J.emitEvent}),this._updateAncestors({...J,skipPristineCheck:F}),this._onDisabledChange.forEach(oe=>oe(!1))}_updateAncestors(J){this._parent&&!J.onlySelf&&(this._parent.updateValueAndValidity(J),J.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(J){this._parent=J}getRawValue(){return this.value}updateValueAndValidity(J={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===hi||this.status===or)&&this._runAsyncValidator(J.emitEvent)),!1!==J.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!J.onlySelf&&this._parent.updateValueAndValidity(J)}_updateTreeValidity(J={emitEvent:!0}){this._forEachChild(F=>F._updateTreeValidity(J)),this.updateValueAndValidity({onlySelf:!0,emitEvent:J.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?zr:hi}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(J){if(this.asyncValidator){this.status=or,this._hasOwnPendingAsyncValidator=!0;const F=On(this.asyncValidator(this));this._asyncValidationSubscription=F.subscribe(oe=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(oe,{emitEvent:J})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(J,F={}){this.errors=J,this._updateControlsErrors(!1!==F.emitEvent)}get(J){let F=J;return null==F||(Array.isArray(F)||(F=F.split(".")),0===F.length)?null:F.reduce((oe,me)=>oe&&oe._find(me),this)}getError(J,F){const oe=F?this.get(F):this;return oe&&oe.errors?oe.errors[J]:null}hasError(J,F){return!!this.getError(J,F)}get root(){let J=this;for(;J._parent;)J=J._parent;return J}_updateControlsErrors(J){this.status=this._calculateStatus(),J&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(J)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?zr:this.errors?yi:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(or)?or:this._anyControlsHaveStatus(yi)?yi:hi}_anyControlsHaveStatus(J){return this._anyControls(F=>F.status===J)}_anyControlsDirty(){return this._anyControls(J=>J.dirty)}_anyControlsTouched(){return this._anyControls(J=>J.touched)}_updatePristine(J={}){this.pristine=!this._anyControlsDirty(),this._parent&&!J.onlySelf&&this._parent._updatePristine(J)}_updateTouched(J={}){this.touched=this._anyControlsTouched(),this._parent&&!J.onlySelf&&this._parent._updateTouched(J)}_registerOnCollectionChange(J){this._onCollectionChange=J}_setUpdateStrategy(J){nr(J)&&null!=J.updateOn&&(this._updateOn=J.updateOn)}_parentMarkedDirty(J){return!J&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(J){return null}_assignValidators(J){this._rawValidators=Array.isArray(J)?J.slice():J,this._composedValidatorFn=function br(K){return Array.isArray(K)?ke(K):K||null}(this._rawValidators)}_assignAsyncValidators(J){this._rawAsyncValidators=Array.isArray(J)?J.slice():J,this._composedAsyncValidatorFn=function jn(K){return Array.isArray(K)?Ce(K):K||null}(this._rawAsyncValidators)}}class re extends Ie{constructor(J,F,oe){super(Zr(F),pr(oe,F)),this.controls=J,this._initObservables(),this._setUpdateStrategy(F),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(J,F){return this.controls[J]?this.controls[J]:(this.controls[J]=F,F.setParent(this),F._registerOnCollectionChange(this._onCollectionChange),F)}addControl(J,F,oe={}){this.registerControl(J,F),this.updateValueAndValidity({emitEvent:oe.emitEvent}),this._onCollectionChange()}removeControl(J,F={}){this.controls[J]&&this.controls[J]._registerOnCollectionChange(()=>{}),delete this.controls[J],this.updateValueAndValidity({emitEvent:F.emitEvent}),this._onCollectionChange()}setControl(J,F,oe={}){this.controls[J]&&this.controls[J]._registerOnCollectionChange(()=>{}),delete this.controls[J],F&&this.registerControl(J,F),this.updateValueAndValidity({emitEvent:oe.emitEvent}),this._onCollectionChange()}contains(J){return this.controls.hasOwnProperty(J)&&this.controls[J].enabled}setValue(J,F={}){rs(this,0,J),Object.keys(J).forEach(oe=>{Ki(this,!0,oe),this.controls[oe].setValue(J[oe],{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F)}patchValue(J,F={}){null!=J&&(Object.keys(J).forEach(oe=>{const me=this.controls[oe];me&&me.patchValue(J[oe],{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F))}reset(J={},F={}){this._forEachChild((oe,me)=>{oe.reset(J?J[me]:null,{onlySelf:!0,emitEvent:F.emitEvent})}),this._updatePristine(F),this._updateTouched(F),this.updateValueAndValidity(F)}getRawValue(){return this._reduceChildren({},(J,F,oe)=>(J[oe]=F.getRawValue(),J))}_syncPendingControls(){let J=this._reduceChildren(!1,(F,oe)=>!!oe._syncPendingControls()||F);return J&&this.updateValueAndValidity({onlySelf:!0}),J}_forEachChild(J){Object.keys(this.controls).forEach(F=>{const oe=this.controls[F];oe&&J(oe,F)})}_setUpControls(){this._forEachChild(J=>{J.setParent(this),J._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(J){for(const[F,oe]of Object.entries(this.controls))if(this.contains(F)&&J(oe))return!0;return!1}_reduceValue(){return this._reduceChildren({},(F,oe,me)=>((oe.enabled||this.disabled)&&(F[me]=oe.value),F))}_reduceChildren(J,F){let oe=J;return this._forEachChild((me,cn)=>{oe=F(oe,me,cn)}),oe}_allControlsDisabled(){for(const J of Object.keys(this.controls))if(this.controls[J].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(J){return this.controls.hasOwnProperty(J)?this.controls[J]:null}}class V extends re{}const Fe=new l.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>yt}),yt="always";function Rt(K,J){return[...J.path,K]}function Kt(K,J,F=yt){Sn(K,J),J.valueAccessor.writeValue(K.value),(K.disabled||"always"===F)&&J.valueAccessor.setDisabledState?.(K.disabled),function Vi(K,J){J.valueAccessor.registerOnChange(F=>{K._pendingValue=F,K._pendingChange=!0,K._pendingDirty=!0,"change"===K.updateOn&&Ge(K,J)})}(K,J),function Ct(K,J){const F=(oe,me)=>{J.valueAccessor.writeValue(oe),me&&J.viewToModelUpdate(oe)};K.registerOnChange(F),J._registerOnDestroy(()=>{K._unregisterOnChange(F)})}(K,J),function ft(K,J){J.valueAccessor.registerOnTouched(()=>{K._pendingTouched=!0,"blur"===K.updateOn&&K._pendingChange&&Ge(K,J),"submit"!==K.updateOn&&K.markAsTouched()})}(K,J),function Wn(K,J){if(J.valueAccessor.setDisabledState){const F=oe=>{J.valueAccessor.setDisabledState(oe)};K.registerOnDisabledChange(F),J._registerOnDestroy(()=>{K._unregisterOnDisabledChange(F)})}}(K,J)}function Ht(K,J,F=!0){const oe=()=>{};J.valueAccessor&&(J.valueAccessor.registerOnChange(oe),J.valueAccessor.registerOnTouched(oe)),ei(K,J),K&&(J._invokeOnDestroyCallbacks(),K._registerOnCollectionChange(()=>{}))}function fn(K,J){K.forEach(F=>{F.registerOnValidatorChange&&F.registerOnValidatorChange(J)})}function Sn(K,J){const F=ct(K);null!==J.validator?K.setValidators(He(F,J.validator)):"function"==typeof F&&K.setValidators([F]);const oe=St(K);null!==J.asyncValidator?K.setAsyncValidators(He(oe,J.asyncValidator)):"function"==typeof oe&&K.setAsyncValidators([oe]);const me=()=>K.updateValueAndValidity();fn(J._rawValidators,me),fn(J._rawAsyncValidators,me)}function ei(K,J){let F=!1;if(null!==K){if(null!==J.validator){const me=ct(K);if(Array.isArray(me)&&me.length>0){const cn=me.filter(rr=>rr!==J.validator);cn.length!==me.length&&(F=!0,K.setValidators(cn))}}if(null!==J.asyncValidator){const me=St(K);if(Array.isArray(me)&&me.length>0){const cn=me.filter(rr=>rr!==J.asyncValidator);cn.length!==me.length&&(F=!0,K.setAsyncValidators(cn))}}}const oe=()=>{};return fn(J._rawValidators,oe),fn(J._rawAsyncValidators,oe),F}function Ge(K,J){K._pendingDirty&&K.markAsDirty(),K.setValue(K._pendingValue,{emitModelToViewChange:!1}),J.viewToModelUpdate(K._pendingValue),K._pendingChange=!1}function vi(K,J){if(!K.hasOwnProperty("model"))return!1;const F=K.model;return!!F.isFirstChange()||!Object.is(J,F.currentValue)}function wi(K,J){if(!J)return null;let F,oe,me;return Array.isArray(J),J.forEach(cn=>{cn.constructor===Ye?F=cn:function qi(K){return Object.getPrototypeOf(K.constructor)===Pe}(cn)?oe=cn:me=cn}),me||oe||F||null}function Ci(K,J){const F=K.indexOf(J);F>-1&&K.splice(F,1)}function Zs(K){return"object"==typeof K&&null!==K&&2===Object.keys(K).length&&"value"in K&&"disabled"in K}const Ur=class extends Ie{constructor(J=null,F,oe){super(Zr(F),pr(oe,F)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(J),this._setUpdateStrategy(F),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),nr(F)&&(F.nonNullable||F.initialValueIsDefault)&&(this.defaultValue=Zs(J)?J.value:J)}setValue(J,F={}){this.value=this._pendingValue=J,this._onChange.length&&!1!==F.emitModelToViewChange&&this._onChange.forEach(oe=>oe(this.value,!1!==F.emitViewToModelChange)),this.updateValueAndValidity(F)}patchValue(J,F={}){this.setValue(J,F)}reset(J=this.defaultValue,F={}){this._applyFormState(J),this.markAsPristine(F),this.markAsUntouched(F),this.setValue(this.value,F),this._pendingChange=!1}_updateValue(){}_anyControls(J){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(J){this._onChange.push(J)}_unregisterOnChange(J){Ci(this._onChange,J)}registerOnDisabledChange(J){this._onDisabledChange.push(J)}_unregisterOnDisabledChange(J){Ci(this._onDisabledChange,J)}_forEachChild(J){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(J){Zs(J)?(this.value=this._pendingValue=J.value,J.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=J}},Uo={provide:zn,useExisting:(0,l.Gpc)(()=>Oi)},Ca=(()=>Promise.resolve())();let Oi=(()=>{class K extends zn{constructor(F,oe,me,cn,rr,Vs){super(),this._changeDetectorRef=rr,this.callSetDisabledState=Vs,this.control=new Ur,this._registered=!1,this.name="",this.update=new l.vpe,this._parent=F,this._setValidators(oe),this._setAsyncValidators(me),this.valueAccessor=wi(0,cn)}ngOnChanges(F){if(this._checkForErrors(),!this._registered||"name"in F){if(this._registered&&(this._checkName(),this.formDirective)){const oe=F.name.previousValue;this.formDirective.removeControl({name:oe,path:this._getPath(oe)})}this._setUpControl()}"isDisabled"in F&&this._updateDisabled(F),vi(F,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(F){this.viewModel=F,this.update.emit(F)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Kt(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(F){Ca.then(()=>{this.control.setValue(F,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(F){const oe=F.isDisabled.currentValue,me=0!==oe&&(0,l.VuI)(oe);Ca.then(()=>{me&&!this.control.disabled?this.control.disable():!me&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(F){return this._parent?Rt(F,this._parent):[F]}static#e=this.\u0275fac=function(oe){return new(oe||K)(l.Y36(bn,9),l.Y36(mt,10),l.Y36(ht,10),l.Y36(We,10),l.Y36(l.sBO,8),l.Y36(Fe,8))};static#t=this.\u0275dir=l.lG2({type:K,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l._Bn([Uo]),l.qOj,l.TTD]})}return K})(),Js=(()=>{class K{static#e=this.\u0275fac=function(oe){return new(oe||K)};static#t=this.\u0275dir=l.lG2({type:K,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return K})();const jo={provide:We,useExisting:(0,l.Gpc)(()=>li),multi:!0};let li=(()=>{class K extends Pe{writeValue(F){this.setProperty("value",F??"")}registerOnChange(F){this.onChange=oe=>{F(""==oe?null:parseFloat(oe))}}static#e=this.\u0275fac=function(){let F;return function(me){return(F||(F=l.n5z(K)))(me||K)}}();static#t=this.\u0275dir=l.lG2({type:K,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(oe,me){1&oe&&l.NdJ("input",function(rr){return me.onChange(rr.target.value)})("blur",function(){return me.onTouched()})},features:[l._Bn([jo]),l.qOj]})}return K})(),Eo=(()=>{class K{static#e=this.\u0275fac=function(oe){return new(oe||K)};static#t=this.\u0275mod=l.oAB({type:K});static#n=this.\u0275inj=l.cJS({})}return K})();const Vn=new l.OlP("NgModelWithFormControlWarning"),Os={provide:bn,useExisting:(0,l.Gpc)(()=>ti)};let ti=(()=>{class K extends bn{constructor(F,oe,me){super(),this.callSetDisabledState=me,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(F),this._setAsyncValidators(oe)}ngOnChanges(F){this._checkFormPresent(),F.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ei(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(F){const oe=this.form.get(F.path);return Kt(oe,F,this.callSetDisabledState),oe.updateValueAndValidity({emitEvent:!1}),this.directives.push(F),oe}getControl(F){return this.form.get(F.path)}removeControl(F){Ht(F.control||null,F,!1),function qn(K,J){const F=K.indexOf(J);F>-1&&K.splice(F,1)}(this.directives,F)}addFormGroup(F){this._setUpFormContainer(F)}removeFormGroup(F){this._cleanUpFormContainer(F)}getFormGroup(F){return this.form.get(F.path)}addFormArray(F){this._setUpFormContainer(F)}removeFormArray(F){this._cleanUpFormContainer(F)}getFormArray(F){return this.form.get(F.path)}updateModel(F,oe){this.form.get(F.path).setValue(oe)}onSubmit(F){return this.submitted=!0,function ai(K,J){K._syncPendingControls(),J.forEach(F=>{const oe=F.control;"submit"===oe.updateOn&&oe._pendingChange&&(F.viewToModelUpdate(oe._pendingValue),oe._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(F),"dialog"===F?.target?.method}onReset(){this.resetForm()}resetForm(F=void 0){this.form.reset(F),this.submitted=!1}_updateDomValue(){this.directives.forEach(F=>{const oe=F.control,me=this.form.get(F.path);oe!==me&&(Ht(oe||null,F),(K=>K instanceof Ur)(me)&&(Kt(me,F,this.callSetDisabledState),F.control=me))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(F){const oe=this.form.get(F.path);(function an(K,J){Sn(K,J)})(oe,F),oe.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(F){if(this.form){const oe=this.form.get(F.path);oe&&function Rn(K,J){return ei(K,J)}(oe,F)&&oe.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Sn(this.form,this),this._oldForm&&ei(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(oe){return new(oe||K)(l.Y36(mt,10),l.Y36(ht,10),l.Y36(Fe,8))};static#t=this.\u0275dir=l.lG2({type:K,selectors:[["","formGroup",""]],hostBindings:function(oe,me){1&oe&&l.NdJ("submit",function(rr){return me.onSubmit(rr)})("reset",function(){return me.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([Os]),l.qOj,l.TTD]})}return K})();const Or={provide:zn,useExisting:(0,l.Gpc)(()=>Gt)};let Gt=(()=>{class K extends zn{set isDisabled(F){}static#e=this._ngModelWarningSentOnce=!1;constructor(F,oe,me,cn,rr){super(),this._ngModelWarningConfig=rr,this._added=!1,this.name=null,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=F,this._setValidators(oe),this._setAsyncValidators(me),this.valueAccessor=wi(0,cn)}ngOnChanges(F){this._added||this._setUpControl(),vi(F,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(F){this.viewModel=F,this.update.emit(F)}get path(){return Rt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(oe){return new(oe||K)(l.Y36(bn,13),l.Y36(mt,10),l.Y36(ht,10),l.Y36(We,10),l.Y36(Vn,8))};static#n=this.\u0275dir=l.lG2({type:K,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([Or]),l.qOj,l.TTD]})}return K})();const tn={provide:We,useExisting:(0,l.Gpc)(()=>bi),multi:!0};function dr(K,J){return null==K?`${J}`:(J&&"object"==typeof J&&(J="Object"),`${K}: ${J}`.slice(0,50))}let bi=(()=>{class K extends Pe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(F){this._compareWith=F}writeValue(F){this.value=F;const me=dr(this._getOptionId(F),F);this.setProperty("value",me)}registerOnChange(F){this.onChange=oe=>{this.value=this._getOptionValue(oe),F(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(F){for(const oe of this._optionMap.keys())if(this._compareWith(this._optionMap.get(oe),F))return oe;return null}_getOptionValue(F){const oe=function ni(K){return K.split(":")[0]}(F);return this._optionMap.has(oe)?this._optionMap.get(oe):F}static#e=this.\u0275fac=function(){let F;return function(me){return(F||(F=l.n5z(K)))(me||K)}}();static#t=this.\u0275dir=l.lG2({type:K,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(oe,me){1&oe&&l.NdJ("change",function(rr){return me.onChange(rr.target.value)})("blur",function(){return me.onTouched()})},inputs:{compareWith:"compareWith"},features:[l._Bn([tn]),l.qOj]})}return K})(),jr=(()=>{class K{constructor(F,oe,me){this._element=F,this._renderer=oe,this._select=me,this._select&&(this.id=this._select._registerOption())}set ngValue(F){null!=this._select&&(this._select._optionMap.set(this.id,F),this._setElementValue(dr(this.id,F)),this._select.writeValue(this._select.value))}set value(F){this._setElementValue(F),this._select&&this._select.writeValue(this._select.value)}_setElementValue(F){this._renderer.setProperty(this._element.nativeElement,"value",F)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(oe){return new(oe||K)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(bi,9))};static#t=this.\u0275dir=l.lG2({type:K,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return K})();const os={provide:We,useExisting:(0,l.Gpc)(()=>kn),multi:!0};function Wr(K,J){return null==K?`${J}`:("string"==typeof J&&(J=`'${J}'`),J&&"object"==typeof J&&(J="Object"),`${K}: ${J}`.slice(0,50))}let kn=(()=>{class K extends Pe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(F){this._compareWith=F}writeValue(F){let oe;if(this.value=F,Array.isArray(F)){const me=F.map(cn=>this._getOptionId(cn));oe=(cn,rr)=>{cn._setSelected(me.indexOf(rr.toString())>-1)}}else oe=(me,cn)=>{me._setSelected(!1)};this._optionMap.forEach(oe)}registerOnChange(F){this.onChange=oe=>{const me=[],cn=oe.selectedOptions;if(void 0!==cn){const rr=cn;for(let Vs=0;Vs<rr.length;Vs++){const _s=this._getOptionValue(rr[Vs].value);me.push(_s)}}else{const rr=oe.options;for(let Vs=0;Vs<rr.length;Vs++){const Gs=rr[Vs];if(Gs.selected){const _s=this._getOptionValue(Gs.value);me.push(_s)}}}this.value=me,F(me)}}_registerOption(F){const oe=(this._idCounter++).toString();return this._optionMap.set(oe,F),oe}_getOptionId(F){for(const oe of this._optionMap.keys())if(this._compareWith(this._optionMap.get(oe)._value,F))return oe;return null}_getOptionValue(F){const oe=function ji(K){return K.split(":")[0]}(F);return this._optionMap.has(oe)?this._optionMap.get(oe)._value:F}static#e=this.\u0275fac=function(){let F;return function(me){return(F||(F=l.n5z(K)))(me||K)}}();static#t=this.\u0275dir=l.lG2({type:K,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(oe,me){1&oe&&l.NdJ("change",function(rr){return me.onChange(rr.target)})("blur",function(){return me.onTouched()})},inputs:{compareWith:"compareWith"},features:[l._Bn([os]),l.qOj]})}return K})(),Xs=(()=>{class K{constructor(F,oe,me){this._element=F,this._renderer=oe,this._select=me,this._select&&(this.id=this._select._registerOption(this))}set ngValue(F){null!=this._select&&(this._value=F,this._setElementValue(Wr(this.id,F)),this._select.writeValue(this._select.value))}set value(F){this._select?(this._value=F,this._setElementValue(Wr(this.id,F)),this._select.writeValue(this._select.value)):this._setElementValue(F)}_setElementValue(F){this._renderer.setProperty(this._element.nativeElement,"value",F)}_setSelected(F){this._renderer.setProperty(this._element.nativeElement,"selected",F)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(oe){return new(oe||K)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(kn,9))};static#t=this.\u0275dir=l.lG2({type:K,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return K})(),ki=(()=>{class K{static#e=this.\u0275fac=function(oe){return new(oe||K)};static#t=this.\u0275mod=l.oAB({type:K});static#n=this.\u0275inj=l.cJS({imports:[Eo]})}return K})();class Mr extends Ie{constructor(J,F,oe){super(Zr(F),pr(oe,F)),this.controls=J,this._initObservables(),this._setUpdateStrategy(F),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(J){return this.controls[this._adjustIndex(J)]}push(J,F={}){this.controls.push(J),this._registerControl(J),this.updateValueAndValidity({emitEvent:F.emitEvent}),this._onCollectionChange()}insert(J,F,oe={}){this.controls.splice(J,0,F),this._registerControl(F),this.updateValueAndValidity({emitEvent:oe.emitEvent})}removeAt(J,F={}){let oe=this._adjustIndex(J);oe<0&&(oe=0),this.controls[oe]&&this.controls[oe]._registerOnCollectionChange(()=>{}),this.controls.splice(oe,1),this.updateValueAndValidity({emitEvent:F.emitEvent})}setControl(J,F,oe={}){let me=this._adjustIndex(J);me<0&&(me=0),this.controls[me]&&this.controls[me]._registerOnCollectionChange(()=>{}),this.controls.splice(me,1),F&&(this.controls.splice(me,0,F),this._registerControl(F)),this.updateValueAndValidity({emitEvent:oe.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(J,F={}){rs(this,0,J),J.forEach((oe,me)=>{Ki(this,!1,me),this.at(me).setValue(oe,{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F)}patchValue(J,F={}){null!=J&&(J.forEach((oe,me)=>{this.at(me)&&this.at(me).patchValue(oe,{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F))}reset(J=[],F={}){this._forEachChild((oe,me)=>{oe.reset(J[me],{onlySelf:!0,emitEvent:F.emitEvent})}),this._updatePristine(F),this._updateTouched(F),this.updateValueAndValidity(F)}getRawValue(){return this.controls.map(J=>J.getRawValue())}clear(J={}){this.controls.length<1||(this._forEachChild(F=>F._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:J.emitEvent}))}_adjustIndex(J){return J<0?J+this.length:J}_syncPendingControls(){let J=this.controls.reduce((F,oe)=>!!oe._syncPendingControls()||F,!1);return J&&this.updateValueAndValidity({onlySelf:!0}),J}_forEachChild(J){this.controls.forEach((F,oe)=>{J(F,oe)})}_updateValue(){this.value=this.controls.filter(J=>J.enabled||this.disabled).map(J=>J.value)}_anyControls(J){return this.controls.some(F=>F.enabled&&J(F))}_setUpControls(){this._forEachChild(J=>this._registerControl(J))}_allControlsDisabled(){for(const J of this.controls)if(J.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(J){J.setParent(this),J._registerOnCollectionChange(this._onCollectionChange)}_find(J){return this.at(J)??null}}function Ds(K){return!!K&&(void 0!==K.asyncValidators||void 0!==K.validators||void 0!==K.updateOn)}let cr=(()=>{class K{constructor(){this.useNonNullable=!1}get nonNullable(){const F=new K;return F.useNonNullable=!0,F}group(F,oe=null){const me=this._reduceControls(F);let cn={};return Ds(oe)?cn=oe:null!==oe&&(cn.validators=oe.validator,cn.asyncValidators=oe.asyncValidator),new re(me,cn)}record(F,oe=null){const me=this._reduceControls(F);return new V(me,oe)}control(F,oe,me){let cn={};return this.useNonNullable?(Ds(oe)?cn=oe:(cn.validators=oe,cn.asyncValidators=me),new Ur(F,{...cn,nonNullable:!0})):new Ur(F,oe,me)}array(F,oe,me){const cn=F.map(rr=>this._createControl(rr));return new Mr(cn,oe,me)}_reduceControls(F){const oe={};return Object.keys(F).forEach(me=>{oe[me]=this._createControl(F[me])}),oe}_createControl(F){return F instanceof Ur||F instanceof Ie?F:Array.isArray(F)?this.control(F[0],F.length>1?F[1]:null,F.length>2?F[2]:null):this.control(F)}static#e=this.\u0275fac=function(oe){return new(oe||K)};static#t=this.\u0275prov=l.Yz7({token:K,factory:K.\u0275fac,providedIn:"root"})}return K})(),ea=(()=>{class K{static withConfig(F){return{ngModule:K,providers:[{provide:Fe,useValue:F.callSetDisabledState??yt}]}}static#e=this.\u0275fac=function(oe){return new(oe||K)};static#t=this.\u0275mod=l.oAB({type:K});static#n=this.\u0275inj=l.cJS({imports:[ki]})}return K})(),ta=(()=>{class K{static withConfig(F){return{ngModule:K,providers:[{provide:Vn,useValue:F.warnOnNgModelWithFormControl??"always"},{provide:Fe,useValue:F.callSetDisabledState??yt}]}}static#e=this.\u0275fac=function(oe){return new(oe||K)};static#t=this.\u0275mod=l.oAB({type:K});static#n=this.\u0275inj=l.cJS({imports:[ki]})}return K})()},2614:()=>{const $t=":";const bn=function(Re,...Me){if(bn.translate){const gt=bn.translate(Re,Me);Re=gt[0],Me=gt[1]}let tt=hn(Re[0],Re.raw[0]);for(let gt=1;gt<Re.length;gt++)tt+=Me[gt-1]+hn(Re[gt],Re.raw[gt]);return tt},zn=":";function hn(Re,Me){return Me.charAt(0)===zn?Re.substring(function ke(Re,Me){for(let tt=1,gt=1;tt<Re.length;tt++,gt++)if("\\"===Me[gt])gt++;else if(Re[tt]===$t)return tt;throw new Error(`Unterminated $localize metadata block in "${Me}".`)}(Re,Me)+1):Re}globalThis.$localize=bn},6593:($t,qe,B)=>{B.d(qe,{Dx:()=>Tt,b2:()=>Re,q6:()=>yn,se:()=>Oe});var l=B(5879),j=B(6814);class se extends j.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ve extends se{static makeCurrent(){(0,j.HT)(new ve)}onAndCancel(z,$,V){return z.addEventListener($,V),()=>{z.removeEventListener($,V)}}dispatchEvent(z,$){z.dispatchEvent($)}remove(z){z.parentNode&&z.parentNode.removeChild(z)}createElement(z,$){return($=$||this.getDefaultDocument()).createElement(z)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(z){return z.nodeType===Node.ELEMENT_NODE}isShadowRoot(z){return z instanceof DocumentFragment}getGlobalEventTarget(z,$){return"window"===$?window:"document"===$?z:"body"===$?z.body:null}getBaseHref(z){const $=function fe(){return De=De||document.querySelector("base"),De?De.getAttribute("href"):null}();return null==$?null:function We(re){Pe=Pe||document.createElement("a"),Pe.setAttribute("href",re);const z=Pe.pathname;return"/"===z.charAt(0)?z:`/${z}`}($)}resetBaseElement(){De=null}getUserAgent(){return window.navigator.userAgent}getCookie(z){return(0,j.Mx)(document.cookie,z)}}let Pe,De=null,ce=(()=>{class re{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(V){return new(V||re)};static#t=this.\u0275prov=l.Yz7({token:re,factory:re.\u0275fac})}return re})();const ye=new l.OlP("EventManagerPlugins");let Ae=(()=>{class re{constructor($,V){this._zone=V,this._eventNameToPlugin=new Map,$.forEach(de=>{de.manager=this}),this._plugins=$.slice().reverse()}addEventListener($,V,de){return this._findPluginFor(V).addEventListener($,V,de)}getZone(){return this._zone}_findPluginFor($){let V=this._eventNameToPlugin.get($);if(V)return V;if(V=this._plugins.find(Fe=>Fe.supports($)),!V)throw new l.vHH(5101,!1);return this._eventNameToPlugin.set($,V),V}static#e=this.\u0275fac=function(V){return new(V||re)(l.LFG(ye),l.LFG(l.R0b))};static#t=this.\u0275prov=l.Yz7({token:re,factory:re.\u0275fac})}return re})();class Ne{constructor(z){this._doc=z}}const Ye="ng-app-id";let ze=(()=>{class re{constructor($,V,de,Fe={}){this.doc=$,this.appId=V,this.nonce=de,this.platformId=Fe,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,j.PM)(Fe),this.resetHostNodes()}addStyles($){for(const V of $)1===this.changeUsageCount(V,1)&&this.onStyleAdded(V)}removeStyles($){for(const V of $)this.changeUsageCount(V,-1)<=0&&this.onStyleRemoved(V)}ngOnDestroy(){const $=this.styleNodesInDOM;$&&($.forEach(V=>V.remove()),$.clear());for(const V of this.getAllStyles())this.onStyleRemoved(V);this.resetHostNodes()}addHost($){this.hostNodes.add($);for(const V of this.getAllStyles())this.addStyleToHost($,V)}removeHost($){this.hostNodes.delete($)}getAllStyles(){return this.styleRef.keys()}onStyleAdded($){for(const V of this.hostNodes)this.addStyleToHost(V,$)}onStyleRemoved($){const V=this.styleRef;V.get($)?.elements?.forEach(de=>de.remove()),V.delete($)}collectServerRenderedStyles(){const $=this.doc.head?.querySelectorAll(`style[${Ye}="${this.appId}"]`);if($?.length){const V=new Map;return $.forEach(de=>{null!=de.textContent&&V.set(de.textContent,de)}),V}return null}changeUsageCount($,V){const de=this.styleRef;if(de.has($)){const Fe=de.get($);return Fe.usage+=V,Fe.usage}return de.set($,{usage:V,elements:[]}),V}getStyleElement($,V){const de=this.styleNodesInDOM,Fe=de?.get(V);if(Fe?.parentNode===$)return de.delete(V),Fe.removeAttribute(Ye),Fe;{const yt=this.doc.createElement("style");return this.nonce&&yt.setAttribute("nonce",this.nonce),yt.textContent=V,this.platformIsServer&&yt.setAttribute(Ye,this.appId),yt}}addStyleToHost($,V){const de=this.getStyleElement($,V);$.appendChild(de);const Fe=this.styleRef,yt=Fe.get(V)?.elements;yt?yt.push(de):Fe.set(V,{elements:[de],usage:1})}resetHostNodes(){const $=this.hostNodes;$.clear(),$.add(this.doc.head)}static#e=this.\u0275fac=function(V){return new(V||re)(l.LFG(j.K0),l.LFG(l.AFp),l.LFG(l.Ojb,8),l.LFG(l.Lbi))};static#t=this.\u0275prov=l.Yz7({token:re,factory:re.\u0275fac})}return re})();const lt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},mt=/%COMP%/g,$e=new l.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function ut(re,z){return z.map($=>$.replace(mt,re))}let Oe=(()=>{class re{constructor($,V,de,Fe,yt,Rt,Kt,Ht=null){this.eventManager=$,this.sharedStylesHost=V,this.appId=de,this.removeStylesOnCompDestroy=Fe,this.doc=yt,this.platformId=Rt,this.ngZone=Kt,this.nonce=Ht,this.rendererByCompId=new Map,this.platformIsServer=(0,j.PM)(Rt),this.defaultRenderer=new Yt($,yt,Kt,this.platformIsServer)}createRenderer($,V){if(!$||!V)return this.defaultRenderer;this.platformIsServer&&V.encapsulation===l.ifc.ShadowDom&&(V={...V,encapsulation:l.ifc.Emulated});const de=this.getOrCreateRenderer($,V);return de instanceof At?de.applyToHost($):de instanceof Vr&&de.applyStyles(),de}getOrCreateRenderer($,V){const de=this.rendererByCompId;let Fe=de.get(V.id);if(!Fe){const yt=this.doc,Rt=this.ngZone,Kt=this.eventManager,Ht=this.sharedStylesHost,fn=this.removeStylesOnCompDestroy,Wn=this.platformIsServer;switch(V.encapsulation){case l.ifc.Emulated:Fe=new At(Kt,Ht,V,this.appId,fn,yt,Rt,Wn);break;case l.ifc.ShadowDom:return new On(Kt,Ht,$,V,yt,Rt,this.nonce,Wn);default:Fe=new Vr(Kt,Ht,V,fn,yt,Rt,Wn)}de.set(V.id,Fe)}return Fe}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(V){return new(V||re)(l.LFG(Ae),l.LFG(ze),l.LFG(l.AFp),l.LFG($e),l.LFG(j.K0),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(l.Ojb))};static#t=this.\u0275prov=l.Yz7({token:re,factory:re.\u0275fac})}return re})();class Yt{constructor(z,$,V,de){this.eventManager=z,this.doc=$,this.ngZone=V,this.platformIsServer=de,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(z,$){return $?this.doc.createElementNS(lt[$]||$,z):this.doc.createElement(z)}createComment(z){return this.doc.createComment(z)}createText(z){return this.doc.createTextNode(z)}appendChild(z,$){(Cn(z)?z.content:z).appendChild($)}insertBefore(z,$,V){z&&(Cn(z)?z.content:z).insertBefore($,V)}removeChild(z,$){z&&z.removeChild($)}selectRootElement(z,$){let V="string"==typeof z?this.doc.querySelector(z):z;if(!V)throw new l.vHH(-5104,!1);return $||(V.textContent=""),V}parentNode(z){return z.parentNode}nextSibling(z){return z.nextSibling}setAttribute(z,$,V,de){if(de){$=de+":"+$;const Fe=lt[de];Fe?z.setAttributeNS(Fe,$,V):z.setAttribute($,V)}else z.setAttribute($,V)}removeAttribute(z,$,V){if(V){const de=lt[V];de?z.removeAttributeNS(de,$):z.removeAttribute(`${V}:${$}`)}else z.removeAttribute($)}addClass(z,$){z.classList.add($)}removeClass(z,$){z.classList.remove($)}setStyle(z,$,V,de){de&(l.JOm.DashCase|l.JOm.Important)?z.style.setProperty($,V,de&l.JOm.Important?"important":""):z.style[$]=V}removeStyle(z,$,V){V&l.JOm.DashCase?z.style.removeProperty($):z.style[$]=""}setProperty(z,$,V){z[$]=V}setValue(z,$){z.nodeValue=$}listen(z,$,V){if("string"==typeof z&&!(z=(0,j.q)().getGlobalEventTarget(this.doc,z)))throw new Error(`Unsupported event target ${z} for event ${$}`);return this.eventManager.addEventListener(z,$,this.decoratePreventDefault(V))}decoratePreventDefault(z){return $=>{if("__ngUnwrap__"===$)return z;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>z($)):z($))&&$.preventDefault()}}}function Cn(re){return"TEMPLATE"===re.tagName&&void 0!==re.content}class On extends Yt{constructor(z,$,V,de,Fe,yt,Rt,Kt){super(z,Fe,yt,Kt),this.sharedStylesHost=$,this.hostEl=V,this.shadowRoot=V.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Ht=ut(de.id,de.styles);for(const fn of Ht){const Wn=document.createElement("style");Rt&&Wn.setAttribute("nonce",Rt),Wn.textContent=fn,this.shadowRoot.appendChild(Wn)}}nodeOrShadowRoot(z){return z===this.hostEl?this.shadowRoot:z}appendChild(z,$){return super.appendChild(this.nodeOrShadowRoot(z),$)}insertBefore(z,$,V){return super.insertBefore(this.nodeOrShadowRoot(z),$,V)}removeChild(z,$){return super.removeChild(this.nodeOrShadowRoot(z),$)}parentNode(z){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(z)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Vr extends Yt{constructor(z,$,V,de,Fe,yt,Rt,Kt){super(z,Fe,yt,Rt),this.sharedStylesHost=$,this.removeStylesOnCompDestroy=de,this.styles=Kt?ut(Kt,V.styles):V.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class At extends Vr{constructor(z,$,V,de,Fe,yt,Rt,Kt){const Ht=de+"-"+V.id;super(z,$,V,Fe,yt,Rt,Kt,Ht),this.contentAttr=function Ee(re){return"_ngcontent-%COMP%".replace(mt,re)}(Ht),this.hostAttr=function rt(re){return"_nghost-%COMP%".replace(mt,re)}(Ht)}applyToHost(z){this.applyStyles(),this.setAttribute(z,this.hostAttr,"")}createElement(z,$){const V=super.createElement(z,$);return super.setAttribute(V,this.contentAttr,""),V}}let dn=(()=>{class re extends Ne{constructor($){super($)}supports($){return!0}addEventListener($,V,de){return $.addEventListener(V,de,!1),()=>this.removeEventListener($,V,de)}removeEventListener($,V,de){return $.removeEventListener(V,de)}static#e=this.\u0275fac=function(V){return new(V||re)(l.LFG(j.K0))};static#t=this.\u0275prov=l.Yz7({token:re,factory:re.\u0275fac})}return re})();const Qt=["alt","control","meta","shift"],Ue={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ke={alt:re=>re.altKey,control:re=>re.ctrlKey,meta:re=>re.metaKey,shift:re=>re.shiftKey};let Ke=(()=>{class re extends Ne{constructor($){super($)}supports($){return null!=re.parseEventName($)}addEventListener($,V,de){const Fe=re.parseEventName(V),yt=re.eventCallback(Fe.fullKey,de,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,j.q)().onAndCancel($,Fe.domEventName,yt))}static parseEventName($){const V=$.toLowerCase().split("."),de=V.shift();if(0===V.length||"keydown"!==de&&"keyup"!==de)return null;const Fe=re._normalizeKey(V.pop());let yt="",Rt=V.indexOf("code");if(Rt>-1&&(V.splice(Rt,1),yt="code."),Qt.forEach(Ht=>{const fn=V.indexOf(Ht);fn>-1&&(V.splice(fn,1),yt+=Ht+".")}),yt+=Fe,0!=V.length||0===Fe.length)return null;const Kt={};return Kt.domEventName=de,Kt.fullKey=yt,Kt}static matchEventFullKeyCode($,V){let de=Ue[$.key]||$.key,Fe="";return V.indexOf("code.")>-1&&(de=$.code,Fe="code."),!(null==de||!de)&&(de=de.toLowerCase()," "===de?de="space":"."===de&&(de="dot"),Qt.forEach(yt=>{yt!==de&&(0,ke[yt])($)&&(Fe+=yt+".")}),Fe+=de,Fe===V)}static eventCallback($,V,de){return Fe=>{re.matchEventFullKeyCode(Fe,$)&&de.runGuarded(()=>V(Fe))}}static _normalizeKey($){return"esc"===$?"escape":$}static#e=this.\u0275fac=function(V){return new(V||re)(l.LFG(j.K0))};static#t=this.\u0275prov=l.Yz7({token:re,factory:re.\u0275fac})}return re})();const yn=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:j.bD},{provide:l.g9A,useValue:function Et(){ve.makeCurrent()},multi:!0},{provide:j.K0,useFactory:function It(){return(0,l.RDi)(document),document},deps:[]}]),bn=new l.OlP(""),zn=[{provide:l.rWj,useClass:class Be{addToWindow(z){l.dqk.getAngularTestability=(V,de=!0)=>{const Fe=z.findTestabilityInTree(V,de);if(null==Fe)throw new l.vHH(5103,!1);return Fe},l.dqk.getAllAngularTestabilities=()=>z.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>z.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(V=>{const de=l.dqk.getAllAngularTestabilities();let Fe=de.length,yt=!1;const Rt=function(Kt){yt=yt||Kt,Fe--,0==Fe&&V(yt)};de.forEach(Kt=>{Kt.whenStable(Rt)})})}findTestabilityInTree(z,$,V){return null==$?null:z.getTestability($)??(V?(0,j.q)().isShadowRoot($)?this.findTestabilityInTree(z,$.host,!0):this.findTestabilityInTree(z,$.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],hn=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function An(){return new l.qLn},deps:[]},{provide:ye,useClass:dn,multi:!0,deps:[j.K0,l.R0b,l.Lbi]},{provide:ye,useClass:Ke,multi:!0,deps:[j.K0]},Oe,ze,Ae,{provide:l.FYo,useExisting:Oe},{provide:j.JF,useClass:ce,deps:[]},[]];let Re=(()=>{class re{constructor($){}static withServerTransition($){return{ngModule:re,providers:[{provide:l.AFp,useValue:$.appId}]}}static#e=this.\u0275fac=function(V){return new(V||re)(l.LFG(bn,12))};static#t=this.\u0275mod=l.oAB({type:re});static#n=this.\u0275inj=l.cJS({providers:[...hn,...zn],imports:[j.ez,l.hGG]})}return re})(),Tt=(()=>{class re{constructor($){this._doc=$}getTitle(){return this._doc.title}setTitle($){this._doc.title=$||""}static#e=this.\u0275fac=function(V){return new(V||re)(l.LFG(j.K0))};static#t=this.\u0275prov=l.Yz7({token:re,factory:function(V){let de=null;return de=V?new V:function Pt(){return new Tt((0,l.LFG)(j.K0))}(),de},providedIn:"root"})}return re})();typeof window<"u"&&window},9517:($t,qe,B)=>{B.d(qe,{F0:()=>_n,rH:()=>Ut,Bz:()=>zs,lC:()=>bi});var l=B(5879),j=B(5592),se=B(4674),De=B(2459),fe=B(2096),Pe=B(5619),We=B(2572),Be=B(6973),ce=B(5211),ye=B(4829);function Ae(C){return new j.y(M=>{(0,ye.Xf)(C()).subscribe(M)})}var Ne=B(8407);function Ye(C,M){const T=(0,se.m)(C)?C:()=>C,O=H=>H.error(T());return new j.y(M?H=>M.schedule(O,0,H):O)}var ze=B(6232),lt=B(7394),mt=B(9360),ht=B(8251);function jt(){return(0,mt.e)((C,M)=>{let T=null;C._refCount++;const O=(0,ht.x)(M,void 0,void 0,void 0,()=>{if(!C||C._refCount<=0||0<--C._refCount)return void(T=null);const H=C._connection,ie=T;T=null,H&&(!ie||H===ie)&&H.unsubscribe(),M.unsubscribe()});C.subscribe(O),O.closed||(T=C.connect())})}class bt extends j.y{constructor(M,T){super(),this.source=M,this.subjectFactory=T,this._subject=null,this._refCount=0,this._connection=null,(0,mt.A)(M)&&(this.lift=M.lift)}_subscribe(M){return this.getSubject().subscribe(M)}getSubject(){const M=this._subject;return(!M||M.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:M}=this;this._subject=this._connection=null,M?.unsubscribe()}connect(){let M=this._connection;if(!M){M=this._connection=new lt.w0;const T=this.getSubject();M.add(this.source.subscribe((0,ht.x)(T,void 0,()=>{this._teardown(),T.complete()},O=>{this._teardown(),T.error(O)},()=>this._teardown()))),M.closed&&(this._connection=null,M=lt.w0.EMPTY)}return M}refCount(){return jt()(this)}}var ue=B(8645),$e=B(6814),Ee=B(7398),rt=B(4664),ut=B(8180),Oe=B(7921),Yt=B(2181),Xt=B(1631),In=B(1374);function Cn(C,M){return(0,se.m)(M)?(0,Xt.z)(C,M,1):(0,Xt.z)(C,1)}var On=B(9397);function Vr(C){return(0,mt.e)((M,T)=>{let ie,O=null,H=!1;O=M.subscribe((0,ht.x)(T,void 0,void 0,_e=>{ie=(0,ye.Xf)(C(_e,Vr(C)(M))),O?(O.unsubscribe(),O=null,ie.subscribe(T)):H=!0})),H&&(O.unsubscribe(),O=null,ie.subscribe(T))})}var Qt=B(3572);function Ue(C){return C<=0?()=>ze.E:(0,mt.e)((M,T)=>{let O=[];M.subscribe((0,ht.x)(T,H=>{O.push(H),C<O.length&&O.shift()},()=>{for(const H of O)T.next(H);T.complete()},void 0,()=>{O=null}))})}var ke=B(3026),Ke=B(2737),He=B(975);function ct(C){return(0,mt.e)((M,T)=>{try{M.subscribe(T)}finally{T.add(C)}})}var St=B(9773),Et=B(7537),An=B(6593);const It="primary",Mn=Symbol("RouteTitle");class yn{constructor(M){this.params=M||{}}has(M){return Object.prototype.hasOwnProperty.call(this.params,M)}get(M){if(this.has(M)){const T=this.params[M];return Array.isArray(T)?T[0]:T}return null}getAll(M){if(this.has(M)){const T=this.params[M];return Array.isArray(T)?T:[T]}return[]}get keys(){return Object.keys(this.params)}}function bn(C){return new yn(C)}function zn(C,M,T){const O=T.path.split("/");if(O.length>C.length||"full"===T.pathMatch&&(M.hasChildren()||O.length<C.length))return null;const H={};for(let ie=0;ie<O.length;ie++){const _e=O[ie],nt=C[ie];if(_e.startsWith(":"))H[_e.substring(1)]=nt;else if(_e!==nt.path)return null}return{consumed:C.slice(0,O.length),posParams:H}}function Re(C,M){const T=C?Object.keys(C):void 0,O=M?Object.keys(M):void 0;if(!T||!O||T.length!=O.length)return!1;let H;for(let ie=0;ie<T.length;ie++)if(H=T[ie],!Me(C[H],M[H]))return!1;return!0}function Me(C,M){if(Array.isArray(C)&&Array.isArray(M)){if(C.length!==M.length)return!1;const T=[...C].sort(),O=[...M].sort();return T.every((H,ie)=>O[ie]===H)}return C===M}function tt(C){return C.length>0?C[C.length-1]:null}function gt(C){return function ve(C){return!!C&&(C instanceof j.y||(0,se.m)(C.lift)&&(0,se.m)(C.subscribe))}(C)?C:(0,l.QGY)(C)?(0,De.D)(Promise.resolve(C)):(0,fe.of)(C)}const Pt={exact:function Lt(C,M,T){if(!Wt(C.segments,M.segments)||!Un(C.segments,M.segments,T)||C.numberOfChildren!==M.numberOfChildren)return!1;for(const O in M.children)if(!C.children[O]||!Lt(C.children[O],M.children[O],T))return!1;return!0},subset:wn},Tt={exact:function Dn(C,M){return Re(C,M)},subset:function gn(C,M){return Object.keys(M).length<=Object.keys(C).length&&Object.keys(M).every(T=>Me(C[T],M[T]))},ignored:()=>!0};function Tn(C,M,T){return Pt[T.paths](C.root,M.root,T.matrixParams)&&Tt[T.queryParams](C.queryParams,M.queryParams)&&!("exact"===T.fragment&&C.fragment!==M.fragment)}function wn(C,M,T){return sr(C,M,M.segments,T)}function sr(C,M,T,O){if(C.segments.length>T.length){const H=C.segments.slice(0,T.length);return!(!Wt(H,T)||M.hasChildren()||!Un(H,T,O))}if(C.segments.length===T.length){if(!Wt(C.segments,T)||!Un(C.segments,T,O))return!1;for(const H in M.children)if(!C.children[H]||!wn(C.children[H],M.children[H],O))return!1;return!0}{const H=T.slice(0,C.segments.length),ie=T.slice(C.segments.length);return!!(Wt(C.segments,H)&&Un(C.segments,H,O)&&C.children[It])&&sr(C.children[It],M,ie,O)}}function Un(C,M,T){return M.every((O,H)=>Tt[T](C[H].parameters,O.parameters))}class Hr{constructor(M=new Vt([],{}),T={},O=null){this.root=M,this.queryParams=T,this.fragment=O}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bn(this.queryParams)),this._queryParamMap}toString(){return hi.serialize(this)}}class Vt{constructor(M,T){this.segments=M,this.children=T,this.parent=null,Object.values(T).forEach(O=>O.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return yi(this)}}class yr{constructor(M,T){this.path=M,this.parameters=T}get parameterMap(){return this._parameterMap||(this._parameterMap=bn(this.parameters)),this._parameterMap}toString(){return Ki(this)}}function Wt(C,M){return C.length===M.length&&C.every((T,O)=>T.path===M[O].path)}let En=(()=>{class C{static#e=this.\u0275fac=function(O){return new(O||C)};static#t=this.\u0275prov=l.Yz7({token:C,factory:function(){return new Rr},providedIn:"root"})}return C})();class Rr{parse(M){const T=new Kt(M);return new Hr(T.parseRootSegment(),T.parseQueryParams(),T.parseFragment())}serialize(M){const T=`/${or(M.root,!0)}`,O=function Ie(C){const M=Object.keys(C).map(T=>{const O=C[T];return Array.isArray(O)?O.map(H=>`${Zr(T)}=${Zr(H)}`).join("&"):`${Zr(T)}=${Zr(O)}`}).filter(T=>!!T);return M.length?`?${M.join("&")}`:""}(M.queryParams);return`${T}${O}${"string"==typeof M.fragment?`#${function br(C){return encodeURI(C)}(M.fragment)}`:""}`}}const hi=new Rr;function yi(C){return C.segments.map(M=>Ki(M)).join("/")}function or(C,M){if(!C.hasChildren())return yi(C);if(M){const T=C.children[It]?or(C.children[It],!1):"",O=[];return Object.entries(C.children).forEach(([H,ie])=>{H!==It&&O.push(`${H}:${or(ie,!1)}`)}),O.length>0?`${T}(${O.join("//")})`:T}{const T=function Ei(C,M){let T=[];return Object.entries(C.children).forEach(([O,H])=>{O===It&&(T=T.concat(M(H,O)))}),Object.entries(C.children).forEach(([O,H])=>{O!==It&&(T=T.concat(M(H,O)))}),T}(C,(O,H)=>H===It?[or(C.children[It],!1)]:[`${H}:${or(O,!1)}`]);return 1===Object.keys(C.children).length&&null!=C.children[It]?`${yi(C)}/${T[0]}`:`${yi(C)}/(${T.join("//")})`}}function zr(C){return encodeURIComponent(C).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Zr(C){return zr(C).replace(/%3B/gi,";")}function pr(C){return zr(C).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function jn(C){return decodeURIComponent(C)}function nr(C){return jn(C.replace(/\+/g,"%20"))}function Ki(C){return`${pr(C.path)}${function rs(C){return Object.keys(C).map(M=>`;${pr(M)}=${pr(C[M])}`).join("")}(C.parameters)}`}const re=/^[^\/()?;#]+/;function z(C){const M=C.match(re);return M?M[0]:""}const $=/^[^\/()?;=#]+/,de=/^[^=?&#]+/,yt=/^[^&#]+/;class Kt{constructor(M){this.url=M,this.remaining=M}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Vt([],{}):new Vt([],this.parseChildren())}parseQueryParams(){const M={};if(this.consumeOptional("?"))do{this.parseQueryParam(M)}while(this.consumeOptional("&"));return M}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const M=[];for(this.peekStartsWith("(")||M.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),M.push(this.parseSegment());let T={};this.peekStartsWith("/(")&&(this.capture("/"),T=this.parseParens(!0));let O={};return this.peekStartsWith("(")&&(O=this.parseParens(!1)),(M.length>0||Object.keys(T).length>0)&&(O[It]=new Vt(M,T)),O}parseSegment(){const M=z(this.remaining);if(""===M&&this.peekStartsWith(";"))throw new l.vHH(4009,!1);return this.capture(M),new yr(jn(M),this.parseMatrixParams())}parseMatrixParams(){const M={};for(;this.consumeOptional(";");)this.parseParam(M);return M}parseParam(M){const T=function V(C){const M=C.match($);return M?M[0]:""}(this.remaining);if(!T)return;this.capture(T);let O="";if(this.consumeOptional("=")){const H=z(this.remaining);H&&(O=H,this.capture(O))}M[jn(T)]=jn(O)}parseQueryParam(M){const T=function Fe(C){const M=C.match(de);return M?M[0]:""}(this.remaining);if(!T)return;this.capture(T);let O="";if(this.consumeOptional("=")){const _e=function Rt(C){const M=C.match(yt);return M?M[0]:""}(this.remaining);_e&&(O=_e,this.capture(O))}const H=nr(T),ie=nr(O);if(M.hasOwnProperty(H)){let _e=M[H];Array.isArray(_e)||(_e=[_e],M[H]=_e),_e.push(ie)}else M[H]=ie}parseParens(M){const T={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const O=z(this.remaining),H=this.remaining[O.length];if("/"!==H&&")"!==H&&";"!==H)throw new l.vHH(4010,!1);let ie;O.indexOf(":")>-1?(ie=O.slice(0,O.indexOf(":")),this.capture(ie),this.capture(":")):M&&(ie=It);const _e=this.parseChildren();T[ie]=1===Object.keys(_e).length?_e[It]:new Vt([],_e),this.consumeOptional("//")}return T}peekStartsWith(M){return this.remaining.startsWith(M)}consumeOptional(M){return!!this.peekStartsWith(M)&&(this.remaining=this.remaining.substring(M.length),!0)}capture(M){if(!this.consumeOptional(M))throw new l.vHH(4011,!1)}}function Ht(C){return C.segments.length>0?new Vt([],{[It]:C}):C}function fn(C){const M={};for(const O of Object.keys(C.children)){const ie=fn(C.children[O]);if(O===It&&0===ie.segments.length&&ie.hasChildren())for(const[_e,nt]of Object.entries(ie.children))M[_e]=nt;else(ie.segments.length>0||ie.hasChildren())&&(M[O]=ie)}return function Wn(C){if(1===C.numberOfChildren&&C.children[It]){const M=C.children[It];return new Vt(C.segments.concat(M.segments),M.children)}return C}(new Vt(C.segments,M))}function Sn(C){return C instanceof Hr}function Vi(C){let M;const H=Ht(function T(ie){const _e={};for(const Xe of ie.children){const sn=T(Xe);_e[Xe.outlet]=sn}const nt=new Vt(ie.url,_e);return ie===C&&(M=nt),nt}(C.root));return M??H}function ft(C,M,T,O){let H=C;for(;H.parent;)H=H.parent;if(0===M.length)return an(H,H,H,T,O);const ie=function ur(C){if("string"==typeof C[0]&&1===C.length&&"/"===C[0])return new en(!0,0,C);let M=0,T=!1;const O=C.reduce((H,ie,_e)=>{if("object"==typeof ie&&null!=ie){if(ie.outlets){const nt={};return Object.entries(ie.outlets).forEach(([Xe,sn])=>{nt[Xe]="string"==typeof sn?sn.split("/"):sn}),[...H,{outlets:nt}]}if(ie.segmentPath)return[...H,ie.segmentPath]}return"string"!=typeof ie?[...H,ie]:0===_e?(ie.split("/").forEach((nt,Xe)=>{0==Xe&&"."===nt||(0==Xe&&""===nt?T=!0:".."===nt?M++:""!=nt&&H.push(nt))}),H):[...H,ie]},[]);return new en(T,M,O)}(M);if(ie.toRoot())return an(H,H,new Vt([],{}),T,O);const _e=function ar(C,M,T){if(C.isAbsolute)return new Tr(M,!0,0);if(!T)return new Tr(M,!1,NaN);if(null===T.parent)return new Tr(T,!0,0);const O=Ge(C.commands[0])?0:1;return function fi(C,M,T){let O=C,H=M,ie=T;for(;ie>H;){if(ie-=H,O=O.parent,!O)throw new l.vHH(4005,!1);H=O.segments.length}return new Tr(O,!1,H-ie)}(T,T.segments.length-1+O,C.numberOfDoubleDots)}(ie,H,C),nt=_e.processChildren?ai(_e.segmentGroup,_e.index,ie.commands):qi(_e.segmentGroup,_e.index,ie.commands);return an(H,_e.segmentGroup,nt,T,O)}function Ge(C){return"object"==typeof C&&null!=C&&!C.outlets&&!C.segmentPath}function Ct(C){return"object"==typeof C&&null!=C&&C.outlets}function an(C,M,T,O,H){let _e,ie={};O&&Object.entries(O).forEach(([Xe,sn])=>{ie[Xe]=Array.isArray(sn)?sn.map(Hn=>`${Hn}`):`${sn}`}),_e=C===M?T:Rn(C,M,T);const nt=Ht(fn(_e));return new Hr(nt,ie,H)}function Rn(C,M,T){const O={};return Object.entries(C.children).forEach(([H,ie])=>{O[H]=ie===M?T:Rn(ie,M,T)}),new Vt(C.segments,O)}class en{constructor(M,T,O){if(this.isAbsolute=M,this.numberOfDoubleDots=T,this.commands=O,M&&O.length>0&&Ge(O[0]))throw new l.vHH(4003,!1);const H=O.find(Ct);if(H&&H!==tt(O))throw new l.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Tr{constructor(M,T,O){this.segmentGroup=M,this.processChildren=T,this.index=O}}function qi(C,M,T){if(C||(C=new Vt([],{})),0===C.segments.length&&C.hasChildren())return ai(C,M,T);const O=function wi(C,M,T){let O=0,H=M;const ie={match:!1,pathIndex:0,commandIndex:0};for(;H<C.segments.length;){if(O>=T.length)return ie;const _e=C.segments[H],nt=T[O];if(Ct(nt))break;const Xe=`${nt}`,sn=O<T.length-1?T[O+1]:null;if(H>0&&void 0===Xe)break;if(Xe&&sn&&"object"==typeof sn&&void 0===sn.outlets){if(!gr(Xe,sn,_e))return ie;O+=2}else{if(!gr(Xe,{},_e))return ie;O++}H++}return{match:!0,pathIndex:H,commandIndex:O}}(C,M,T),H=T.slice(O.commandIndex);if(O.match&&O.pathIndex<C.segments.length){const ie=new Vt(C.segments.slice(0,O.pathIndex),{});return ie.children[It]=new Vt(C.segments.slice(O.pathIndex),C.children),ai(ie,0,H)}return O.match&&0===H.length?new Vt(C.segments,{}):O.match&&!C.hasChildren()?qn(C,M,T):O.match?ai(C,0,H):qn(C,M,T)}function ai(C,M,T){if(0===T.length)return new Vt(C.segments,{});{const O=function vi(C){return Ct(C[0])?C[0].outlets:{[It]:C}}(T),H={};if(Object.keys(O).some(ie=>ie!==It)&&C.children[It]&&1===C.numberOfChildren&&0===C.children[It].segments.length){const ie=ai(C.children[It],M,T);return new Vt(C.segments,ie.children)}return Object.entries(O).forEach(([ie,_e])=>{"string"==typeof _e&&(_e=[_e]),null!==_e&&(H[ie]=qi(C.children[ie],M,_e))}),Object.entries(C.children).forEach(([ie,_e])=>{void 0===O[ie]&&(H[ie]=_e)}),new Vt(C.segments,H)}}function qn(C,M,T){const O=C.segments.slice(0,M);let H=0;for(;H<T.length;){const ie=T[H];if(Ct(ie)){const Xe=pi(ie.outlets);return new Vt(O,Xe)}if(0===H&&Ge(T[0])){O.push(new yr(C.segments[M].path,So(T[0]))),H++;continue}const _e=Ct(ie)?ie.outlets[It]:`${ie}`,nt=H<T.length-1?T[H+1]:null;_e&&nt&&Ge(nt)?(O.push(new yr(_e,So(nt))),H+=2):(O.push(new yr(_e,{})),H++)}return new Vt(O,{})}function pi(C){const M={};return Object.entries(C).forEach(([T,O])=>{"string"==typeof O&&(O=[O]),null!==O&&(M[T]=qn(new Vt([],{}),0,O))}),M}function So(C){const M={};return Object.entries(C).forEach(([T,O])=>M[T]=`${O}`),M}function gr(C,M,T){return C==T.path&&Re(M,T.parameters)}const Yi="imperative";class Ci{constructor(M,T){this.id=M,this.url=T}}class Zs extends Ci{constructor(M,T,O="imperative",H=null){super(M,T),this.type=0,this.navigationTrigger=O,this.restoredState=H}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ur extends Ci{constructor(M,T,O){super(M,T),this.urlAfterRedirects=O,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class gs extends Ci{constructor(M,T,O,H){super(M,T),this.reason=O,this.code=H,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Qs extends Ci{constructor(M,T,O,H){super(M,T),this.reason=O,this.code=H,this.type=16}}class Ii extends Ci{constructor(M,T,O,H){super(M,T),this.error=O,this.target=H,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class po extends Ci{constructor(M,T,O,H){super(M,T),this.urlAfterRedirects=O,this.state=H,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jo extends Ci{constructor(M,T,O,H){super(M,T),this.urlAfterRedirects=O,this.state=H,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hl extends Ci{constructor(M,T,O,H,ie){super(M,T),this.urlAfterRedirects=O,this.state=H,this.shouldActivate=ie,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Xo extends Ci{constructor(M,T,O,H){super(M,T),this.urlAfterRedirects=O,this.state=H,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vo extends Ci{constructor(M,T,O,H){super(M,T),this.urlAfterRedirects=O,this.state=H,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ao{constructor(M){this.route=M,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Uo{constructor(M){this.route=M,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ca{constructor(M){this.snapshot=M,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Oi{constructor(M){this.snapshot=M,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Js{constructor(M){this.snapshot=M,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jo{constructor(M){this.snapshot=M,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class li{constructor(M,T,O){this.routerEvent=M,this.position=T,this.anchor=O,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ms{}class xi{constructor(M){this.url=M}}class is{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Zi,this.attachRef=null}}let Zi=(()=>{class C{constructor(){this.contexts=new Map}onChildOutletCreated(T,O){const H=this.getOrCreateContext(T);H.outlet=O,this.contexts.set(T,H)}onChildOutletDestroyed(T){const O=this.getContext(T);O&&(O.outlet=null,O.attachRef=null)}onOutletDeactivated(){const T=this.contexts;return this.contexts=new Map,T}onOutletReAttached(T){this.contexts=T}getOrCreateContext(T){let O=this.getContext(T);return O||(O=new is,this.contexts.set(T,O)),O}getContext(T){return this.contexts.get(T)||null}static#e=this.\u0275fac=function(O){return new(O||C)};static#t=this.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();class Ps{constructor(M){this._root=M}get root(){return this._root.value}parent(M){const T=this.pathFromRoot(M);return T.length>1?T[T.length-2]:null}children(M){const T=ss(M,this._root);return T?T.children.map(O=>O.value):[]}firstChild(M){const T=ss(M,this._root);return T&&T.children.length>0?T.children[0].value:null}siblings(M){const T=Vn(M,this._root);return T.length<2?[]:T[T.length-2].children.map(H=>H.value).filter(H=>H!==M)}pathFromRoot(M){return Vn(M,this._root).map(T=>T.value)}}function ss(C,M){if(C===M.value)return M;for(const T of M.children){const O=ss(C,T);if(O)return O}return null}function Vn(C,M){if(C===M.value)return[M];for(const T of M.children){const O=Vn(C,T);if(O.length)return O.unshift(M),O}return[]}class Nr{constructor(M,T){this.value=M,this.children=T}toString(){return`TreeNode(${this.value})`}}function mr(C){const M={};return C&&C.children.forEach(T=>M[T.value.outlet]=T),M}class Os extends Ps{constructor(M,T){super(M),this.snapshot=T,Gt(this,M)}toString(){return this.snapshot.toString()}}function ti(C,M){const T=function Ro(C,M){const _e=new Is([],{},{},"",{},It,M,null,{});return new Or("",new Nr(_e,[]))}(0,M),O=new Pe.X([new yr("",{})]),H=new Pe.X({}),ie=new Pe.X({}),_e=new Pe.X({}),nt=new Pe.X(""),Xe=new Si(O,H,_e,nt,ie,It,M,T.root);return Xe.snapshot=T.root,new Os(new Nr(Xe,[]),T)}class Si{constructor(M,T,O,H,ie,_e,nt,Xe){this.urlSubject=M,this.paramsSubject=T,this.queryParamsSubject=O,this.fragmentSubject=H,this.dataSubject=ie,this.outlet=_e,this.component=nt,this._futureSnapshot=Xe,this.title=this.dataSubject?.pipe((0,Ee.U)(sn=>sn[Mn]))??(0,fe.of)(void 0),this.url=M,this.params=T,this.queryParams=O,this.fragment=H,this.data=ie}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ee.U)(M=>bn(M)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ee.U)(M=>bn(M)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function xs(C,M="emptyOnly"){const T=C.pathFromRoot;let O=0;if("always"!==M)for(O=T.length-1;O>=1;){const H=T[O],ie=T[O-1];if(H.routeConfig&&""===H.routeConfig.path)O--;else{if(ie.component)break;O--}}return function gi(C){return C.reduce((M,T)=>({params:{...M.params,...T.params},data:{...M.data,...T.data},resolve:{...T.data,...M.resolve,...T.routeConfig?.data,...T._resolvedData}}),{params:{},data:{},resolve:{}})}(T.slice(O))}class Is{get title(){return this.data?.[Mn]}constructor(M,T,O,H,ie,_e,nt,Xe,sn){this.url=M,this.params=T,this.queryParams=O,this.fragment=H,this.data=ie,this.outlet=_e,this.component=nt,this.routeConfig=Xe,this._resolve=sn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=bn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(O=>O.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Or extends Ps{constructor(M,T){super(T),this.url=M,Gt(this,T)}toString(){return tn(this._root)}}function Gt(C,M){M.value._routerState=C,M.children.forEach(T=>Gt(C,T))}function tn(C){const M=C.children.length>0?` { ${C.children.map(tn).join(", ")} } `:"";return`${C.value}${M}`}function dr(C){if(C.snapshot){const M=C.snapshot,T=C._futureSnapshot;C.snapshot=T,Re(M.queryParams,T.queryParams)||C.queryParamsSubject.next(T.queryParams),M.fragment!==T.fragment&&C.fragmentSubject.next(T.fragment),Re(M.params,T.params)||C.paramsSubject.next(T.params),function hn(C,M){if(C.length!==M.length)return!1;for(let T=0;T<C.length;++T)if(!Re(C[T],M[T]))return!1;return!0}(M.url,T.url)||C.urlSubject.next(T.url),Re(M.data,T.data)||C.dataSubject.next(T.data)}else C.snapshot=C._futureSnapshot,C.dataSubject.next(C._futureSnapshot.data)}function ni(C,M){const T=Re(C.params,M.params)&&function Ar(C,M){return Wt(C,M)&&C.every((T,O)=>Re(T.parameters,M[O].parameters))}(C.url,M.url);return T&&!(!C.parent!=!M.parent)&&(!C.parent||ni(C.parent,M.parent))}let bi=(()=>{class C{constructor(){this.activated=null,this._activatedRoute=null,this.name=It,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.parentContexts=(0,l.f3M)(Zi),this.location=(0,l.f3M)(l.s_b),this.changeDetector=(0,l.f3M)(l.sBO),this.environmentInjector=(0,l.f3M)(l.lqb),this.inputBinder=(0,l.f3M)(os,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(T){if(T.name){const{firstChange:O,previousValue:H}=T.name;if(O)return;this.isTrackedInParentContexts(H)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(H)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(T){return this.parentContexts.getContext(T)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const T=this.parentContexts.getContext(this.name);T?.route&&(T.attachRef?this.attach(T.attachRef,T.route):this.activateWith(T.route,T.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,!1);this.location.detach();const T=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(T.instance),T}attach(T,O){this.activated=T,this._activatedRoute=O,this.location.insert(T.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(T.instance)}deactivate(){if(this.activated){const T=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(T)}}activateWith(T,O){if(this.isActivated)throw new l.vHH(4013,!1);this._activatedRoute=T;const H=this.location,_e=T.snapshot.component,nt=this.parentContexts.getOrCreateContext(this.name).children,Xe=new jr(T,nt,H.injector);this.activated=H.createComponent(_e,{index:H.length,injector:Xe,environmentInjector:O??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(O){return new(O||C)};static#t=this.\u0275dir=l.lG2({type:C,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[l.TTD]})}return C})();class jr{constructor(M,T,O){this.route=M,this.childContexts=T,this.parent=O}get(M,T){return M===Si?this.route:M===Zi?this.childContexts:this.parent.get(M,T)}}const os=new l.OlP("");let Wr=(()=>{class C{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(T){this.unsubscribeFromRouteData(T),this.subscribeToRouteData(T)}unsubscribeFromRouteData(T){this.outletDataSubscriptions.get(T)?.unsubscribe(),this.outletDataSubscriptions.delete(T)}subscribeToRouteData(T){const{activatedRoute:O}=T,H=(0,We.a)([O.queryParams,O.params,O.data]).pipe((0,rt.w)(([ie,_e,nt],Xe)=>(nt={...ie,..._e,...nt},0===Xe?(0,fe.of)(nt):Promise.resolve(nt)))).subscribe(ie=>{if(!T.isActivated||!T.activatedComponentRef||T.activatedRoute!==O||null===O.component)return void this.unsubscribeFromRouteData(T);const _e=(0,l.qFp)(O.component);if(_e)for(const{templateName:nt}of _e.inputs)T.activatedComponentRef.setInput(nt,ie[nt]);else this.unsubscribeFromRouteData(T)});this.outletDataSubscriptions.set(T,H)}static#e=this.\u0275fac=function(O){return new(O||C)};static#t=this.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac})}return C})();function bs(C,M,T){if(T&&C.shouldReuseRoute(M.value,T.value.snapshot)){const O=T.value;O._futureSnapshot=M.value;const H=function kn(C,M,T){return M.children.map(O=>{for(const H of T.children)if(C.shouldReuseRoute(O.value,H.value.snapshot))return bs(C,O,H);return bs(C,O)})}(C,M,T);return new Nr(O,H)}{if(C.shouldAttach(M.value)){const ie=C.retrieve(M.value);if(null!==ie){const _e=ie.route;return _e.value._futureSnapshot=M.value,_e.children=M.children.map(nt=>bs(C,nt)),_e}}const O=function Xs(C){return new Si(new Pe.X(C.url),new Pe.X(C.params),new Pe.X(C.queryParams),new Pe.X(C.fragment),new Pe.X(C.data),C.outlet,C.component,C)}(M.value),H=M.children.map(ie=>bs(C,ie));return new Nr(O,H)}}const Ai="ngNavigationCancelingError";function ks(C,M){const{redirectTo:T,navigationBehaviorOptions:O}=Sn(M)?{redirectTo:M,navigationBehaviorOptions:void 0}:M,H=vr(!1,0,M);return H.url=T,H.navigationBehaviorOptions=O,H}function vr(C,M,T){const O=new Error("NavigationCancelingError: "+(C||""));return O[Ai]=!0,O.cancellationCode=M,T&&(O.url=T),O}function ms(C){return C&&C[Ai]}let as=(()=>{class C{static#e=this.\u0275fac=function(O){return new(O||C)};static#t=this.\u0275cmp=l.Xpm({type:C,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(O,H){1&O&&l._UZ(0,"router-outlet")},dependencies:[bi],encapsulation:2})}return C})();function Do(C){const M=C.children&&C.children.map(Do),T=M?{...C,children:M}:{...C};return!T.component&&!T.loadComponent&&(M||T.loadChildren)&&T.outlet&&T.outlet!==It&&(T.component=as),T}function ui(C){return C.outlet||It}function Fs(C){if(!C)return null;if(C.routeConfig?._injector)return C.routeConfig._injector;for(let M=C.parent;M;M=M.parent){const T=M.routeConfig;if(T?._loadedInjector)return T._loadedInjector;if(T?._injector)return T._injector}return null}class $o{constructor(M,T,O,H,ie){this.routeReuseStrategy=M,this.futureState=T,this.currState=O,this.forwardEvent=H,this.inputBindingEnabled=ie}activate(M){const T=this.futureState._root,O=this.currState?this.currState._root:null;this.deactivateChildRoutes(T,O,M),dr(this.futureState.root),this.activateChildRoutes(T,O,M)}deactivateChildRoutes(M,T,O){const H=mr(T);M.children.forEach(ie=>{const _e=ie.value.outlet;this.deactivateRoutes(ie,H[_e],O),delete H[_e]}),Object.values(H).forEach(ie=>{this.deactivateRouteAndItsChildren(ie,O)})}deactivateRoutes(M,T,O){const H=M.value,ie=T?T.value:null;if(H===ie)if(H.component){const _e=O.getContext(H.outlet);_e&&this.deactivateChildRoutes(M,T,_e.children)}else this.deactivateChildRoutes(M,T,O);else ie&&this.deactivateRouteAndItsChildren(T,O)}deactivateRouteAndItsChildren(M,T){M.value.component&&this.routeReuseStrategy.shouldDetach(M.value.snapshot)?this.detachAndStoreRouteSubtree(M,T):this.deactivateRouteAndOutlet(M,T)}detachAndStoreRouteSubtree(M,T){const O=T.getContext(M.value.outlet),H=O&&M.value.component?O.children:T,ie=mr(M);for(const _e of Object.keys(ie))this.deactivateRouteAndItsChildren(ie[_e],H);if(O&&O.outlet){const _e=O.outlet.detach(),nt=O.children.onOutletDeactivated();this.routeReuseStrategy.store(M.value.snapshot,{componentRef:_e,route:M,contexts:nt})}}deactivateRouteAndOutlet(M,T){const O=T.getContext(M.value.outlet),H=O&&M.value.component?O.children:T,ie=mr(M);for(const _e of Object.keys(ie))this.deactivateRouteAndItsChildren(ie[_e],H);O&&(O.outlet&&(O.outlet.deactivate(),O.children.onOutletDeactivated()),O.attachRef=null,O.route=null)}activateChildRoutes(M,T,O){const H=mr(T);M.children.forEach(ie=>{this.activateRoutes(ie,H[ie.value.outlet],O),this.forwardEvent(new jo(ie.value.snapshot))}),M.children.length&&this.forwardEvent(new Oi(M.value.snapshot))}activateRoutes(M,T,O){const H=M.value,ie=T?T.value:null;if(dr(H),H===ie)if(H.component){const _e=O.getOrCreateContext(H.outlet);this.activateChildRoutes(M,T,_e.children)}else this.activateChildRoutes(M,T,O);else if(H.component){const _e=O.getOrCreateContext(H.outlet);if(this.routeReuseStrategy.shouldAttach(H.snapshot)){const nt=this.routeReuseStrategy.retrieve(H.snapshot);this.routeReuseStrategy.store(H.snapshot,null),_e.children.onOutletReAttached(nt.contexts),_e.attachRef=nt.componentRef,_e.route=nt.route.value,_e.outlet&&_e.outlet.attach(nt.componentRef,nt.route.value),dr(nt.route.value),this.activateChildRoutes(M,null,_e.children)}else{const nt=Fs(H.snapshot);_e.attachRef=null,_e.route=H,_e.injector=nt,_e.outlet&&_e.outlet.activateWith(H,_e.injector),this.activateChildRoutes(M,null,_e.children)}}else this.activateChildRoutes(M,null,O)}}class ki{constructor(M){this.path=M,this.route=this.path[this.path.length-1]}}class Mr{constructor(M,T){this.component=M,this.route=T}}function Hs(C,M,T){const O=C._root;return cr(O,M?M._root:null,T,[O.value])}function Ds(C,M){const T=Symbol(),O=M.get(C,T);return O===T?"function"!=typeof C||(0,l.Z0I)(C)?M.get(C):C:O}function cr(C,M,T,O,H={canDeactivateChecks:[],canActivateChecks:[]}){const ie=mr(M);return C.children.forEach(_e=>{(function Ho(C,M,T,O,H={canDeactivateChecks:[],canActivateChecks:[]}){const ie=C.value,_e=M?M.value:null,nt=T?T.getContext(C.value.outlet):null;if(_e&&ie.routeConfig===_e.routeConfig){const Xe=function Mo(C,M,T){if("function"==typeof T)return T(C,M);switch(T){case"pathParamsChange":return!Wt(C.url,M.url);case"pathParamsOrQueryParamsChange":return!Wt(C.url,M.url)||!Re(C.queryParams,M.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ni(C,M)||!Re(C.queryParams,M.queryParams);default:return!ni(C,M)}}(_e,ie,ie.routeConfig.runGuardsAndResolvers);Xe?H.canActivateChecks.push(new ki(O)):(ie.data=_e.data,ie._resolvedData=_e._resolvedData),cr(C,M,ie.component?nt?nt.children:null:T,O,H),Xe&&nt&&nt.outlet&&nt.outlet.isActivated&&H.canDeactivateChecks.push(new Mr(nt.outlet.component,_e))}else _e&&Go(M,nt,H),H.canActivateChecks.push(new ki(O)),cr(C,null,ie.component?nt?nt.children:null:T,O,H)})(_e,ie[_e.value.outlet],T,O.concat([_e.value]),H),delete ie[_e.value.outlet]}),Object.entries(ie).forEach(([_e,nt])=>Go(nt,T.getContext(_e),H)),H}function Go(C,M,T){const O=mr(C),H=C.value;Object.entries(O).forEach(([ie,_e])=>{Go(_e,H.component?M?M.children.getContext(ie):null:M,T)}),T.canDeactivateChecks.push(new Mr(H.component&&M&&M.outlet&&M.outlet.isActivated?M.outlet.component:null,H))}function ea(C){return"function"==typeof C}function Vs(C){return C instanceof Be.K||"EmptyError"===C?.name}const Gs=Symbol("INITIAL_VALUE");function _s(){return(0,rt.w)(C=>(0,We.a)(C.map(M=>M.pipe((0,ut.q)(1),(0,Oe.O)(Gs)))).pipe((0,Ee.U)(M=>{for(const T of M)if(!0!==T){if(T===Gs)return Gs;if(!1===T||T instanceof Hr)return T}return!0}),(0,Yt.h)(M=>M!==Gs),(0,ut.q)(1)))}function cs(C){return(0,Ne.z)((0,On.b)(M=>{if(Sn(M))throw ks(0,M)}),(0,Ee.U)(M=>!0===M))}class zo{constructor(M){this.segmentGroup=M||null}}class mi{constructor(M){this.urlTree=M}}function ds(C){return Ye(new zo(C))}function Qi(C){return Ye(new mi(C))}class pl{constructor(M,T){this.urlSerializer=M,this.urlTree=T}noMatchError(M){return new l.vHH(4002,!1)}lineralizeSegments(M,T){let O=[],H=T.root;for(;;){if(O=O.concat(H.segments),0===H.numberOfChildren)return(0,fe.of)(O);if(H.numberOfChildren>1||!H.children[It])return Ye(new l.vHH(4e3,!1));H=H.children[It]}}applyRedirectCommands(M,T,O){return this.applyRedirectCreateUrlTree(T,this.urlSerializer.parse(T),M,O)}applyRedirectCreateUrlTree(M,T,O,H){const ie=this.createSegmentGroup(M,T.root,O,H);return new Hr(ie,this.createQueryParams(T.queryParams,this.urlTree.queryParams),T.fragment)}createQueryParams(M,T){const O={};return Object.entries(M).forEach(([H,ie])=>{if("string"==typeof ie&&ie.startsWith(":")){const nt=ie.substring(1);O[H]=T[nt]}else O[H]=ie}),O}createSegmentGroup(M,T,O,H){const ie=this.createSegments(M,T.segments,O,H);let _e={};return Object.entries(T.children).forEach(([nt,Xe])=>{_e[nt]=this.createSegmentGroup(M,Xe,O,H)}),new Vt(ie,_e)}createSegments(M,T,O,H){return T.map(ie=>ie.path.startsWith(":")?this.findPosParam(M,ie,H):this.findOrReturn(ie,O))}findPosParam(M,T,O){const H=O[T.path.substring(1)];if(!H)throw new l.vHH(4001,!1);return H}findOrReturn(M,T){let O=0;for(const H of T){if(H.path===M.path)return T.splice(O),H;O++}return M}}const xo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function gl(C,M,T,O,H){const ie=ga(C,M,T);return ie.matched?(O=function ls(C,M){return C.providers&&!C._injector&&(C._injector=(0,l.MMx)(C.providers,M,`Route: ${C.path}`)),C._injector??M}(M,O),function Oo(C,M,T,O){const H=M.canMatch;if(!H||0===H.length)return(0,fe.of)(!0);const ie=H.map(_e=>{const nt=Ds(_e,C);return gt(function me(C){return C&&ea(C.canMatch)}(nt)?nt.canMatch(M,T):C.runInContext(()=>nt(M,T)))});return(0,fe.of)(ie).pipe(_s(),cs())}(O,M,T).pipe((0,Ee.U)(_e=>!0===_e?ie:{...xo}))):(0,fe.of)(ie)}function ga(C,M,T){if(""===M.path)return"full"===M.pathMatch&&(C.hasChildren()||T.length>0)?{...xo}:{matched:!0,consumedSegments:[],remainingSegments:T,parameters:{},positionalParamSegments:{}};const H=(M.matcher||zn)(T,C,M);if(!H)return{...xo};const ie={};Object.entries(H.posParams??{}).forEach(([nt,Xe])=>{ie[nt]=Xe.path});const _e=H.consumed.length>0?{...ie,...H.consumed[H.consumed.length-1].parameters}:ie;return{matched:!0,consumedSegments:H.consumed,remainingSegments:T.slice(H.consumed.length),parameters:_e,positionalParamSegments:H.posParams??{}}}function na(C,M,T,O){return T.length>0&&function ma(C,M,T){return T.some(O=>Wo(C,M,O)&&ui(O)!==It)}(C,T,O)?{segmentGroup:new Vt(M,Ra(O,new Vt(T,C.children))),slicedSegments:[]}:0===T.length&&function ra(C,M,T){return T.some(O=>Wo(C,M,O))}(C,T,O)?{segmentGroup:new Vt(C.segments,Ji(C,0,T,O,C.children)),slicedSegments:T}:{segmentGroup:new Vt(C.segments,C.children),slicedSegments:T}}function Ji(C,M,T,O,H){const ie={};for(const _e of O)if(Wo(C,T,_e)&&!H[ui(_e)]){const nt=new Vt([],{});ie[ui(_e)]=nt}return{...H,...ie}}function Ra(C,M){const T={};T[It]=M;for(const O of C)if(""===O.path&&ui(O)!==It){const H=new Vt([],{});T[ui(O)]=H}return T}function Wo(C,M,T){return(!(C.hasChildren()||M.length>0)||"full"!==T.pathMatch)&&""===T.path}class Z{constructor(M,T,O,H,ie,_e,nt){this.injector=M,this.configLoader=T,this.rootComponentType=O,this.config=H,this.urlTree=ie,this.paramsInheritanceStrategy=_e,this.urlSerializer=nt,this.allowRedirects=!0,this.applyRedirects=new pl(this.urlSerializer,this.urlTree)}noMatchError(M){return new l.vHH(4002,!1)}recognize(){const M=na(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,M,It).pipe(Vr(T=>{if(T instanceof mi)return this.allowRedirects=!1,this.urlTree=T.urlTree,this.match(T.urlTree);throw T instanceof zo?this.noMatchError(T):T}),(0,Ee.U)(T=>{const O=new Is([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},It,this.rootComponentType,null,{}),H=new Nr(O,T),ie=new Or("",H),_e=function ei(C,M,T=null,O=null){return ft(Vi(C),M,T,O)}(O,[],this.urlTree.queryParams,this.urlTree.fragment);return _e.queryParams=this.urlTree.queryParams,ie.url=this.urlSerializer.serialize(_e),this.inheritParamsAndData(ie._root),{state:ie,tree:_e}}))}match(M){return this.processSegmentGroup(this.injector,this.config,M.root,It).pipe(Vr(O=>{throw O instanceof zo?this.noMatchError(O):O}))}inheritParamsAndData(M){const T=M.value,O=xs(T,this.paramsInheritanceStrategy);T.params=Object.freeze(O.params),T.data=Object.freeze(O.data),M.children.forEach(H=>this.inheritParamsAndData(H))}processSegmentGroup(M,T,O,H){return 0===O.segments.length&&O.hasChildren()?this.processChildren(M,T,O):this.processSegment(M,T,O,O.segments,H,!0)}processChildren(M,T,O){const H=[];for(const ie of Object.keys(O.children))"primary"===ie?H.unshift(ie):H.push(ie);return(0,De.D)(H).pipe(Cn(ie=>{const _e=O.children[ie],nt=function ha(C,M){const T=C.filter(O=>ui(O)===M);return T.push(...C.filter(O=>ui(O)!==M)),T}(T,ie);return this.processSegmentGroup(M,nt,_e,ie)}),function dn(C,M){return(0,mt.e)(function At(C,M,T,O,H){return(ie,_e)=>{let nt=T,Xe=M,sn=0;ie.subscribe((0,ht.x)(_e,Hn=>{const si=sn++;Xe=nt?C(Xe,Hn,si):(nt=!0,Hn),O&&_e.next(Xe)},H&&(()=>{nt&&_e.next(Xe),_e.complete()})))}}(C,M,arguments.length>=2,!0))}((ie,_e)=>(ie.push(..._e),ie)),(0,Qt.d)(null),function Ce(C,M){const T=arguments.length>=2;return O=>O.pipe(C?(0,Yt.h)((H,ie)=>C(H,ie,O)):Ke.y,Ue(1),T?(0,Qt.d)(M):(0,ke.T)(()=>new Be.K))}(),(0,Xt.z)(ie=>{if(null===ie)return ds(O);const _e=L(ie);return function b(C){C.sort((M,T)=>M.value.outlet===It?-1:T.value.outlet===It?1:M.value.outlet.localeCompare(T.value.outlet))}(_e),(0,fe.of)(_e)}))}processSegment(M,T,O,H,ie,_e){return(0,De.D)(T).pipe(Cn(nt=>this.processSegmentAgainstRoute(nt._injector??M,T,nt,O,H,ie,_e).pipe(Vr(Xe=>{if(Xe instanceof zo)return(0,fe.of)(null);throw Xe}))),(0,In.P)(nt=>!!nt),Vr(nt=>{if(Vs(nt))return function ia(C,M,T){return 0===M.length&&!C.children[T]}(O,H,ie)?(0,fe.of)([]):ds(O);throw nt}))}processSegmentAgainstRoute(M,T,O,H,ie,_e,nt){return function ws(C,M,T,O){return!!(ui(C)===O||O!==It&&Wo(M,T,C))&&("**"===C.path||ga(M,C,T).matched)}(O,H,ie,_e)?void 0===O.redirectTo?this.matchSegmentAgainstRoute(M,H,O,ie,_e,nt):nt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(M,H,T,O,ie,_e):ds(H):ds(H)}expandSegmentAgainstRouteUsingRedirect(M,T,O,H,ie,_e){return"**"===H.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(M,O,H,_e):this.expandRegularSegmentAgainstRouteUsingRedirect(M,T,O,H,ie,_e)}expandWildCardWithParamsAgainstRouteUsingRedirect(M,T,O,H){const ie=this.applyRedirects.applyRedirectCommands([],O.redirectTo,{});return O.redirectTo.startsWith("/")?Qi(ie):this.applyRedirects.lineralizeSegments(O,ie).pipe((0,Xt.z)(_e=>{const nt=new Vt(_e,{});return this.processSegment(M,T,nt,_e,H,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(M,T,O,H,ie,_e){const{matched:nt,consumedSegments:Xe,remainingSegments:sn,positionalParamSegments:Hn}=ga(T,H,ie);if(!nt)return ds(T);const si=this.applyRedirects.applyRedirectCommands(Xe,H.redirectTo,Hn);return H.redirectTo.startsWith("/")?Qi(si):this.applyRedirects.lineralizeSegments(H,si).pipe((0,Xt.z)(Gn=>this.processSegment(M,O,T,Gn.concat(sn),_e,!1)))}matchSegmentAgainstRoute(M,T,O,H,ie,_e){let nt;if("**"===O.path){const Xe=H.length>0?tt(H).parameters:{},sn=new Is(H,Xe,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,le(O),ui(O),O.component??O._loadedComponent??null,O,be(O));nt=(0,fe.of)({snapshot:sn,consumedSegments:[],remainingSegments:[]}),T.children={}}else nt=gl(T,O,H,M).pipe((0,Ee.U)(({matched:Xe,consumedSegments:sn,remainingSegments:Hn,parameters:si})=>Xe?{snapshot:new Is(sn,si,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,le(O),ui(O),O.component??O._loadedComponent??null,O,be(O)),consumedSegments:sn,remainingSegments:Hn}:null));return nt.pipe((0,rt.w)(Xe=>null===Xe?ds(T):this.getChildConfig(M=O._injector??M,O,H).pipe((0,rt.w)(({routes:sn})=>{const Hn=O._loadedInjector??M,{snapshot:si,consumedSegments:Gn,remainingSegments:aa}=Xe,{segmentGroup:Ya,slicedSegments:hs}=na(T,Gn,aa,sn);if(0===hs.length&&Ya.hasChildren())return this.processChildren(Hn,sn,Ya).pipe((0,Ee.U)(_a=>null===_a?null:[new Nr(si,_a)]));if(0===sn.length&&0===hs.length)return(0,fe.of)([new Nr(si,[])]);const Us=ui(O)===ie;return this.processSegment(Hn,sn,Ya,hs,Us?It:ie,!0).pipe((0,Ee.U)(_a=>[new Nr(si,_a)]))}))))}getChildConfig(M,T,O){return T.children?(0,fe.of)({routes:T.children,injector:M}):T.loadChildren?void 0!==T._loadedRoutes?(0,fe.of)({routes:T._loadedRoutes,injector:T._loadedInjector}):function go(C,M,T,O){const H=M.canLoad;if(void 0===H||0===H.length)return(0,fe.of)(!0);const ie=H.map(_e=>{const nt=Ds(_e,C);return gt(function K(C){return C&&ea(C.canLoad)}(nt)?nt.canLoad(M,T):C.runInContext(()=>nt(M,T)))});return(0,fe.of)(ie).pipe(_s(),cs())}(M,T,O).pipe((0,Xt.z)(H=>H?this.configLoader.loadChildren(M,T).pipe((0,On.b)(ie=>{T._loadedRoutes=ie.routes,T._loadedInjector=ie.injector})):function wo(C){return Ye(vr(!1,3))}())):(0,fe.of)({routes:[],injector:M})}}function w(C){const M=C.value.routeConfig;return M&&""===M.path}function L(C){const M=[],T=new Set;for(const O of C){if(!w(O)){M.push(O);continue}const H=M.find(ie=>O.value.routeConfig===ie.value.routeConfig);void 0!==H?(H.children.push(...O.children),T.add(H)):M.push(O)}for(const O of T){const H=L(O.children);M.push(new Nr(O.value,H))}return M.filter(O=>!T.has(O))}function le(C){return C.data||{}}function be(C){return C.resolve||{}}function A(C){return"string"==typeof C.title||null===C.title}function Y(C){return(0,rt.w)(M=>{const T=C(M);return T?(0,De.D)(T).pipe((0,Ee.U)(()=>M)):(0,fe.of)(M)})}const k=new l.OlP("ROUTES");let q=(()=>{class C{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,l.f3M)(l.Sil)}loadComponent(T){if(this.componentLoaders.get(T))return this.componentLoaders.get(T);if(T._loadedComponent)return(0,fe.of)(T._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(T);const O=gt(T.loadComponent()).pipe((0,Ee.U)(_t),(0,On.b)(ie=>{this.onLoadEndListener&&this.onLoadEndListener(T),T._loadedComponent=ie}),ct(()=>{this.componentLoaders.delete(T)})),H=new bt(O,()=>new ue.x).pipe(jt());return this.componentLoaders.set(T,H),H}loadChildren(T,O){if(this.childrenLoaders.get(O))return this.childrenLoaders.get(O);if(O._loadedRoutes)return(0,fe.of)({routes:O._loadedRoutes,injector:O._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(O);const ie=function pe(C,M,T,O){return gt(C.loadChildren()).pipe((0,Ee.U)(_t),(0,Xt.z)(H=>H instanceof l.YKP||Array.isArray(H)?(0,fe.of)(H):(0,De.D)(M.compileModuleAsync(H))),(0,Ee.U)(H=>{O&&O(C);let ie,_e,nt=!1;return Array.isArray(H)?(_e=H,!0):(ie=H.create(T).injector,_e=ie.get(k,[],{optional:!0,self:!0}).flat()),{routes:_e.map(Do),injector:ie}}))}(O,this.compiler,T,this.onLoadEndListener).pipe(ct(()=>{this.childrenLoaders.delete(O)})),_e=new bt(ie,()=>new ue.x).pipe(jt());return this.childrenLoaders.set(O,_e),_e}static#e=this.\u0275fac=function(O){return new(O||C)};static#t=this.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();function _t(C){return function Ze(C){return C&&"object"==typeof C&&"default"in C}(C)?C.default:C}let Bt=(()=>{class C{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ue.x,this.transitionAbortSubject=new ue.x,this.configLoader=(0,l.f3M)(q),this.environmentInjector=(0,l.f3M)(l.lqb),this.urlSerializer=(0,l.f3M)(En),this.rootContexts=(0,l.f3M)(Zi),this.inputBindingEnabled=null!==(0,l.f3M)(os,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,fe.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=H=>this.events.next(new Uo(H)),this.configLoader.onLoadStartListener=H=>this.events.next(new Ao(H))}complete(){this.transitions?.complete()}handleNavigationRequest(T){const O=++this.navigationId;this.transitions?.next({...this.transitions.value,...T,id:O})}setupNavigations(T,O,H){return this.transitions=new Pe.X({id:0,currentUrlTree:O,currentRawUrl:O,currentBrowserUrl:O,extractedUrl:T.urlHandlingStrategy.extract(O),urlAfterRedirects:T.urlHandlingStrategy.extract(O),rawUrl:O,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Yi,restoredState:null,currentSnapshot:H.snapshot,targetSnapshot:null,currentRouterState:H,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Yt.h)(ie=>0!==ie.id),(0,Ee.U)(ie=>({...ie,extractedUrl:T.urlHandlingStrategy.extract(ie.rawUrl)})),(0,rt.w)(ie=>{this.currentTransition=ie;let _e=!1,nt=!1;return(0,fe.of)(ie).pipe((0,On.b)(Xe=>{this.currentNavigation={id:Xe.id,initialUrl:Xe.rawUrl,extractedUrl:Xe.extractedUrl,trigger:Xe.source,extras:Xe.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,rt.w)(Xe=>{const sn=Xe.currentBrowserUrl.toString(),Hn=!T.navigated||Xe.extractedUrl.toString()!==sn||sn!==Xe.currentUrlTree.toString();if(!Hn&&"reload"!==(Xe.extras.onSameUrlNavigation??T.onSameUrlNavigation)){const Gn="";return this.events.next(new Qs(Xe.id,this.urlSerializer.serialize(Xe.rawUrl),Gn,0)),Xe.resolve(null),ze.E}if(T.urlHandlingStrategy.shouldProcessUrl(Xe.rawUrl))return(0,fe.of)(Xe).pipe((0,rt.w)(Gn=>{const aa=this.transitions?.getValue();return this.events.next(new Zs(Gn.id,this.urlSerializer.serialize(Gn.extractedUrl),Gn.source,Gn.restoredState)),aa!==this.transitions?.getValue()?ze.E:Promise.resolve(Gn)}),function we(C,M,T,O,H,ie){return(0,Xt.z)(_e=>function xr(C,M,T,O,H,ie,_e="emptyOnly"){return new Z(C,M,T,O,H,_e,ie).recognize()}(C,M,T,O,_e.extractedUrl,H,ie).pipe((0,Ee.U)(({state:nt,tree:Xe})=>({..._e,targetSnapshot:nt,urlAfterRedirects:Xe}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,T.config,this.urlSerializer,T.paramsInheritanceStrategy),(0,On.b)(Gn=>{ie.targetSnapshot=Gn.targetSnapshot,ie.urlAfterRedirects=Gn.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Gn.urlAfterRedirects};const aa=new po(Gn.id,this.urlSerializer.serialize(Gn.extractedUrl),this.urlSerializer.serialize(Gn.urlAfterRedirects),Gn.targetSnapshot);this.events.next(aa)}));if(Hn&&T.urlHandlingStrategy.shouldProcessUrl(Xe.currentRawUrl)){const{id:Gn,extractedUrl:aa,source:Ya,restoredState:hs,extras:Us}=Xe,_a=new Zs(Gn,this.urlSerializer.serialize(aa),Ya,hs);this.events.next(_a);const Ws=ti(0,this.rootComponentType).snapshot;return this.currentTransition=ie={...Xe,targetSnapshot:Ws,urlAfterRedirects:aa,extras:{...Us,skipLocationChange:!1,replaceUrl:!1}},(0,fe.of)(ie)}{const Gn="";return this.events.next(new Qs(Xe.id,this.urlSerializer.serialize(Xe.extractedUrl),Gn,1)),Xe.resolve(null),ze.E}}),(0,On.b)(Xe=>{const sn=new Jo(Xe.id,this.urlSerializer.serialize(Xe.extractedUrl),this.urlSerializer.serialize(Xe.urlAfterRedirects),Xe.targetSnapshot);this.events.next(sn)}),(0,Ee.U)(Xe=>(this.currentTransition=ie={...Xe,guards:Hs(Xe.targetSnapshot,Xe.currentSnapshot,this.rootContexts)},ie)),function Wa(C,M){return(0,Xt.z)(T=>{const{targetSnapshot:O,currentSnapshot:H,guards:{canActivateChecks:ie,canDeactivateChecks:_e}}=T;return 0===_e.length&&0===ie.length?(0,fe.of)({...T,guardsResult:!0}):function fa(C,M,T,O){return(0,De.D)(C).pipe((0,Xt.z)(H=>function Aa(C,M,T,O,H){const ie=M&&M.routeConfig?M.routeConfig.canDeactivate:null;if(!ie||0===ie.length)return(0,fe.of)(!0);const _e=ie.map(nt=>{const Xe=Fs(M)??H,sn=Ds(nt,Xe);return gt(function oe(C){return C&&ea(C.canDeactivate)}(sn)?sn.canDeactivate(C,M,T,O):Xe.runInContext(()=>sn(C,M,T,O))).pipe((0,In.P)())});return(0,fe.of)(_e).pipe(_s())}(H.component,H.route,T,M,O)),(0,In.P)(H=>!0!==H,!0))}(_e,O,H,C).pipe((0,Xt.z)(nt=>nt&&function ta(C){return"boolean"==typeof C}(nt)?function Sa(C,M,T,O){return(0,De.D)(M).pipe(Cn(H=>(0,ce.z)(function Po(C,M){return null!==C&&M&&M(new Ca(C)),(0,fe.of)(!0)}(H.route.parent,O),function Ka(C,M){return null!==C&&M&&M(new Js(C)),(0,fe.of)(!0)}(H.route,O),function pa(C,M,T){const O=M[M.length-1],ie=M.slice(0,M.length-1).reverse().map(_e=>function ri(C){const M=C.routeConfig?C.routeConfig.canActivateChild:null;return M&&0!==M.length?{node:C,guards:M}:null}(_e)).filter(_e=>null!==_e).map(_e=>Ae(()=>{const nt=_e.guards.map(Xe=>{const sn=Fs(_e.node)??T,Hn=Ds(Xe,sn);return gt(function F(C){return C&&ea(C.canActivateChild)}(Hn)?Hn.canActivateChild(O,C):sn.runInContext(()=>Hn(O,C))).pipe((0,In.P)())});return(0,fe.of)(nt).pipe(_s())}));return(0,fe.of)(ie).pipe(_s())}(C,H.path,T),function Ru(C,M,T){const O=M.routeConfig?M.routeConfig.canActivate:null;if(!O||0===O.length)return(0,fe.of)(!0);const H=O.map(ie=>Ae(()=>{const _e=Fs(M)??T,nt=Ds(ie,_e);return gt(function J(C){return C&&ea(C.canActivate)}(nt)?nt.canActivate(M,C):_e.runInContext(()=>nt(M,C))).pipe((0,In.P)())}));return(0,fe.of)(H).pipe(_s())}(C,H.route,T))),(0,In.P)(H=>!0!==H,!0))}(O,ie,C,M):(0,fe.of)(nt)),(0,Ee.U)(nt=>({...T,guardsResult:nt})))})}(this.environmentInjector,Xe=>this.events.next(Xe)),(0,On.b)(Xe=>{if(ie.guardsResult=Xe.guardsResult,Sn(Xe.guardsResult))throw ks(0,Xe.guardsResult);const sn=new hl(Xe.id,this.urlSerializer.serialize(Xe.extractedUrl),this.urlSerializer.serialize(Xe.urlAfterRedirects),Xe.targetSnapshot,!!Xe.guardsResult);this.events.next(sn)}),(0,Yt.h)(Xe=>!!Xe.guardsResult||(this.cancelNavigationTransition(Xe,"",3),!1)),Y(Xe=>{if(Xe.guards.canActivateChecks.length)return(0,fe.of)(Xe).pipe((0,On.b)(sn=>{const Hn=new Xo(sn.id,this.urlSerializer.serialize(sn.extractedUrl),this.urlSerializer.serialize(sn.urlAfterRedirects),sn.targetSnapshot);this.events.next(Hn)}),(0,rt.w)(sn=>{let Hn=!1;return(0,fe.of)(sn).pipe(function Je(C,M){return(0,Xt.z)(T=>{const{targetSnapshot:O,guards:{canActivateChecks:H}}=T;if(!H.length)return(0,fe.of)(T);let ie=0;return(0,De.D)(H).pipe(Cn(_e=>function pt(C,M,T,O){const H=C.routeConfig,ie=C._resolve;return void 0!==H?.title&&!A(H)&&(ie[Mn]=H.title),function xt(C,M,T,O){const H=function ln(C){return[...Object.keys(C),...Object.getOwnPropertySymbols(C)]}(C);if(0===H.length)return(0,fe.of)({});const ie={};return(0,De.D)(H).pipe((0,Xt.z)(_e=>function ir(C,M,T,O){const H=Fs(M)??O,ie=Ds(C,H);return gt(ie.resolve?ie.resolve(M,T):H.runInContext(()=>ie(M,T)))}(C[_e],M,T,O).pipe((0,In.P)(),(0,On.b)(nt=>{ie[_e]=nt}))),Ue(1),(0,He.h)(ie),Vr(_e=>Vs(_e)?ze.E:Ye(_e)))}(ie,C,M,O).pipe((0,Ee.U)(_e=>(C._resolvedData=_e,C.data=xs(C,T).resolve,H&&A(H)&&(C.data[Mn]=H.title),null)))}(_e.route,O,C,M)),(0,On.b)(()=>ie++),Ue(1),(0,Xt.z)(_e=>ie===H.length?(0,fe.of)(T):ze.E))})}(T.paramsInheritanceStrategy,this.environmentInjector),(0,On.b)({next:()=>Hn=!0,complete:()=>{Hn||this.cancelNavigationTransition(sn,"",2)}}))}),(0,On.b)(sn=>{const Hn=new vo(sn.id,this.urlSerializer.serialize(sn.extractedUrl),this.urlSerializer.serialize(sn.urlAfterRedirects),sn.targetSnapshot);this.events.next(Hn)}))}),Y(Xe=>{const sn=Hn=>{const si=[];Hn.routeConfig?.loadComponent&&!Hn.routeConfig._loadedComponent&&si.push(this.configLoader.loadComponent(Hn.routeConfig).pipe((0,On.b)(Gn=>{Hn.component=Gn}),(0,Ee.U)(()=>{})));for(const Gn of Hn.children)si.push(...sn(Gn));return si};return(0,We.a)(sn(Xe.targetSnapshot.root)).pipe((0,Qt.d)(),(0,ut.q)(1))}),Y(()=>this.afterPreactivation()),(0,Ee.U)(Xe=>{const sn=function ji(C,M,T){const O=bs(C,M._root,T?T._root:void 0);return new Os(O,M)}(T.routeReuseStrategy,Xe.targetSnapshot,Xe.currentRouterState);return this.currentTransition=ie={...Xe,targetRouterState:sn},ie}),(0,On.b)(()=>{this.events.next(new Ms)}),((C,M,T,O)=>(0,Ee.U)(H=>(new $o(M,H.targetRouterState,H.currentRouterState,T,O).activate(C),H)))(this.rootContexts,T.routeReuseStrategy,Xe=>this.events.next(Xe),this.inputBindingEnabled),(0,ut.q)(1),(0,On.b)({next:Xe=>{_e=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ur(Xe.id,this.urlSerializer.serialize(Xe.extractedUrl),this.urlSerializer.serialize(Xe.urlAfterRedirects))),T.titleStrategy?.updateTitle(Xe.targetRouterState.snapshot),Xe.resolve(!0)},complete:()=>{_e=!0}}),(0,St.R)(this.transitionAbortSubject.pipe((0,On.b)(Xe=>{throw Xe}))),ct(()=>{_e||nt||this.cancelNavigationTransition(ie,"",1),this.currentNavigation?.id===ie.id&&(this.currentNavigation=null)}),Vr(Xe=>{if(nt=!0,ms(Xe))this.events.next(new gs(ie.id,this.urlSerializer.serialize(ie.extractedUrl),Xe.message,Xe.cancellationCode)),function Io(C){return ms(C)&&Sn(C.url)}(Xe)?this.events.next(new xi(Xe.url)):ie.resolve(!1);else{this.events.next(new Ii(ie.id,this.urlSerializer.serialize(ie.extractedUrl),Xe,ie.targetSnapshot??void 0));try{ie.resolve(T.errorHandler(Xe))}catch(sn){ie.reject(sn)}}return ze.E}))}))}cancelNavigationTransition(T,O,H){const ie=new gs(T.id,this.urlSerializer.serialize(T.extractedUrl),O,H);this.events.next(ie),T.resolve(!1)}static#e=this.\u0275fac=function(O){return new(O||C)};static#t=this.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();function Dr(C){return C!==Yi}let hr=(()=>{class C{buildTitle(T){let O,H=T.root;for(;void 0!==H;)O=this.getResolvedTitleForRoute(H)??O,H=H.children.find(ie=>ie.outlet===It);return O}getResolvedTitleForRoute(T){return T.data[Mn]}static#e=this.\u0275fac=function(O){return new(O||C)};static#t=this.\u0275prov=l.Yz7({token:C,factory:function(){return(0,l.f3M)(Kn)},providedIn:"root"})}return C})(),Kn=(()=>{class C extends hr{constructor(T){super(),this.title=T}updateTitle(T){const O=this.buildTitle(T);void 0!==O&&this.title.setTitle(O)}static#e=this.\u0275fac=function(O){return new(O||C)(l.LFG(An.Dx))};static#t=this.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})(),Fn=(()=>{class C{static#e=this.\u0275fac=function(O){return new(O||C)};static#t=this.\u0275prov=l.Yz7({token:C,factory:function(){return(0,l.f3M)(wr)},providedIn:"root"})}return C})();class $r{shouldDetach(M){return!1}store(M,T){}shouldAttach(M){return!1}retrieve(M){return null}shouldReuseRoute(M,T){return M.routeConfig===T.routeConfig}}let wr=(()=>{class C extends $r{static#e=this.\u0275fac=function(){let T;return function(H){return(T||(T=l.n5z(C)))(H||C)}}();static#t=this.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();const ii=new l.OlP("",{providedIn:"root",factory:()=>({})});let Bs=(()=>{class C{static#e=this.\u0275fac=function(O){return new(O||C)};static#t=this.\u0275prov=l.Yz7({token:C,factory:function(){return(0,l.f3M)(kr)},providedIn:"root"})}return C})(),kr=(()=>{class C{shouldProcessUrl(T){return!0}extract(T){return T}merge(T,O){return T}static#e=this.\u0275fac=function(O){return new(O||C)};static#t=this.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();var $i=function(C){return C[C.COMPLETE=0]="COMPLETE",C[C.FAILED=1]="FAILED",C[C.REDIRECTING=2]="REDIRECTING",C}($i||{});function Ti(C,M){C.events.pipe((0,Yt.h)(T=>T instanceof Ur||T instanceof gs||T instanceof Ii||T instanceof Qs),(0,Ee.U)(T=>T instanceof Ur||T instanceof Qs?$i.COMPLETE:T instanceof gs&&(0===T.code||1===T.code)?$i.REDIRECTING:$i.FAILED),(0,Yt.h)(T=>T!==$i.REDIRECTING),(0,ut.q)(1)).subscribe(()=>{M()})}function un(C){throw C}function pn(C,M,T){return M.parse("/")}const et={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ln={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let _n=(()=>{class C{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,l.f3M)(l.c2e),this.isNgZoneEnabled=!1,this._events=new ue.x,this.options=(0,l.f3M)(ii,{optional:!0})||{},this.pendingTasks=(0,l.f3M)(l.HDt),this.errorHandler=this.options.errorHandler||un,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||pn,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,l.f3M)(Bs),this.routeReuseStrategy=(0,l.f3M)(Fn),this.titleStrategy=(0,l.f3M)(hr),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,l.f3M)(k,{optional:!0})?.flat()??[],this.navigationTransitions=(0,l.f3M)(Bt),this.urlSerializer=(0,l.f3M)(En),this.location=(0,l.f3M)($e.Ye),this.componentInputBindingEnabled=!!(0,l.f3M)(os,{optional:!0}),this.eventsSubscription=new lt.w0,this.isNgZoneEnabled=(0,l.f3M)(l.R0b)instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Hr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ti(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(T=>{this.lastSuccessfulId=T.id,this.currentPageId=this.browserPageId},T=>{this.console.warn(`Unhandled Navigation Error: ${T}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const T=this.navigationTransitions.events.subscribe(O=>{try{const{currentTransition:H}=this.navigationTransitions;if(null===H)return void(zt(O)&&this._events.next(O));if(O instanceof Zs)Dr(H.source)&&(this.browserUrlTree=H.extractedUrl);else if(O instanceof Qs)this.rawUrlTree=H.rawUrl;else if(O instanceof po){if("eager"===this.urlUpdateStrategy){if(!H.extras.skipLocationChange){const ie=this.urlHandlingStrategy.merge(H.urlAfterRedirects,H.rawUrl);this.setBrowserUrl(ie,H)}this.browserUrlTree=H.urlAfterRedirects}}else if(O instanceof Ms)this.currentUrlTree=H.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(H.urlAfterRedirects,H.rawUrl),this.routerState=H.targetRouterState,"deferred"===this.urlUpdateStrategy&&(H.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,H),this.browserUrlTree=H.urlAfterRedirects);else if(O instanceof gs)0!==O.code&&1!==O.code&&(this.navigated=!0),(3===O.code||2===O.code)&&this.restoreHistory(H);else if(O instanceof xi){const ie=this.urlHandlingStrategy.merge(O.url,H.currentRawUrl),_e={skipLocationChange:H.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Dr(H.source)};this.scheduleNavigation(ie,Yi,null,_e,{resolve:H.resolve,reject:H.reject,promise:H.promise})}O instanceof Ii&&this.restoreHistory(H,!0),O instanceof Ur&&(this.navigated=!0),zt(O)&&this._events.next(O)}catch(H){this.navigationTransitions.transitionAbortSubject.next(H)}});this.eventsSubscription.add(T)}resetRootComponentType(T){this.routerState.root.component=T,this.navigationTransitions.rootComponentType=T}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const T=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Yi,T)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(T=>{const O="popstate"===T.type?"popstate":"hashchange";"popstate"===O&&setTimeout(()=>{this.navigateToSyncWithBrowser(T.url,O,T.state)},0)}))}navigateToSyncWithBrowser(T,O,H){const ie={replaceUrl:!0},_e=H?.navigationId?H:null;if(H){const Xe={...H};delete Xe.navigationId,delete Xe.\u0275routerPageId,0!==Object.keys(Xe).length&&(ie.state=Xe)}const nt=this.parseUrl(T);this.scheduleNavigation(nt,O,_e,ie)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(T){this.config=T.map(Do),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(T,O={}){const{relativeTo:H,queryParams:ie,fragment:_e,queryParamsHandling:nt,preserveFragment:Xe}=O,sn=Xe?this.currentUrlTree.fragment:_e;let si,Hn=null;switch(nt){case"merge":Hn={...this.currentUrlTree.queryParams,...ie};break;case"preserve":Hn=this.currentUrlTree.queryParams;break;default:Hn=ie||null}null!==Hn&&(Hn=this.removeEmptyProps(Hn));try{si=Vi(H?H.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof T[0]||!T[0].startsWith("/"))&&(T=[]),si=this.currentUrlTree.root}return ft(si,T,Hn,sn??null)}navigateByUrl(T,O={skipLocationChange:!1}){const H=Sn(T)?T:this.parseUrl(T),ie=this.urlHandlingStrategy.merge(H,this.rawUrlTree);return this.scheduleNavigation(ie,Yi,null,O)}navigate(T,O={skipLocationChange:!1}){return function to(C){for(let M=0;M<C.length;M++)if(null==C[M])throw new l.vHH(4008,!1)}(T),this.navigateByUrl(this.createUrlTree(T,O),O)}serializeUrl(T){return this.urlSerializer.serialize(T)}parseUrl(T){let O;try{O=this.urlSerializer.parse(T)}catch(H){O=this.malformedUriErrorHandler(H,this.urlSerializer,T)}return O}isActive(T,O){let H;if(H=!0===O?{...et}:!1===O?{...Ln}:O,Sn(T))return Tn(this.currentUrlTree,T,H);const ie=this.parseUrl(T);return Tn(this.currentUrlTree,ie,H)}removeEmptyProps(T){return Object.keys(T).reduce((O,H)=>{const ie=T[H];return null!=ie&&(O[H]=ie),O},{})}scheduleNavigation(T,O,H,ie,_e){if(this.disposed)return Promise.resolve(!1);let nt,Xe,sn;_e?(nt=_e.resolve,Xe=_e.reject,sn=_e.promise):sn=new Promise((si,Gn)=>{nt=si,Xe=Gn});const Hn=this.pendingTasks.add();return Ti(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Hn))}),this.navigationTransitions.handleNavigationRequest({source:O,restoredState:H,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:T,extras:ie,resolve:nt,reject:Xe,promise:sn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),sn.catch(si=>Promise.reject(si))}setBrowserUrl(T,O){const H=this.urlSerializer.serialize(T);if(this.location.isCurrentPathEqualTo(H)||O.extras.replaceUrl){const _e={...O.extras.state,...this.generateNgRouterState(O.id,this.browserPageId)};this.location.replaceState(H,"",_e)}else{const ie={...O.extras.state,...this.generateNgRouterState(O.id,this.browserPageId+1)};this.location.go(H,"",ie)}}restoreHistory(T,O=!1){if("computed"===this.canceledNavigationResolution){const ie=this.currentPageId-this.browserPageId;0!==ie?this.location.historyGo(ie):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===ie&&(this.resetState(T),this.browserUrlTree=T.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(O&&this.resetState(T),this.resetUrlToCurrentUrlTree())}resetState(T){this.routerState=T.currentRouterState,this.currentUrlTree=T.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,T.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(T,O){return"computed"===this.canceledNavigationResolution?{navigationId:T,\u0275routerPageId:O}:{navigationId:T}}static#e=this.\u0275fac=function(O){return new(O||C)};static#t=this.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();function zt(C){return!(C instanceof Ms||C instanceof xi)}let Ut=(()=>{class C{constructor(T,O,H,ie,_e,nt){this.router=T,this.route=O,this.tabIndexAttribute=H,this.renderer=ie,this.el=_e,this.locationStrategy=nt,this.href=null,this.commands=null,this.onChanges=new ue.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Xe=_e.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Xe||"area"===Xe,this.isAnchorElement?this.subscription=T.events.subscribe(sn=>{sn instanceof Ur&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(T){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",T)}ngOnChanges(T){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(T){null!=T?(this.commands=Array.isArray(T)?T:[T],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(T,O,H,ie,_e){return!!(null===this.urlTree||this.isAnchorElement&&(0!==T||O||H||ie||_e||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const T=null===this.href?null:(0,l.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",T)}applyAttributeValue(T,O){const H=this.renderer,ie=this.el.nativeElement;null!==O?H.setAttribute(ie,T,O):H.removeAttribute(ie,T)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(O){return new(O||C)(l.Y36(_n),l.Y36(Si),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36($e.S$))};static#t=this.\u0275dir=l.lG2({type:C,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(O,H){1&O&&l.NdJ("click",function(_e){return H.onClick(_e.button,_e.ctrlKey,_e.shiftKey,_e.altKey,_e.metaKey)}),2&O&&l.uIk("target",H.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",l.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",l.VuI],replaceUrl:["replaceUrl","replaceUrl",l.VuI],routerLink:"routerLink"},standalone:!0,features:[l.Xq5,l.TTD]})}return C})();class st{}let no=(()=>{class C{constructor(T,O,H,ie,_e){this.router=T,this.injector=H,this.preloadingStrategy=ie,this.loader=_e}setUpPreloading(){this.subscription=this.router.events.pipe((0,Yt.h)(T=>T instanceof Ur),Cn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(T,O){const H=[];for(const ie of O){ie.providers&&!ie._injector&&(ie._injector=(0,l.MMx)(ie.providers,T,`Route: ${ie.path}`));const _e=ie._injector??T,nt=ie._loadedInjector??_e;(ie.loadChildren&&!ie._loadedRoutes&&void 0===ie.canLoad||ie.loadComponent&&!ie._loadedComponent)&&H.push(this.preloadConfig(_e,ie)),(ie.children||ie._loadedRoutes)&&H.push(this.processRoutes(nt,ie.children??ie._loadedRoutes))}return(0,De.D)(H).pipe((0,Et.J)())}preloadConfig(T,O){return this.preloadingStrategy.preload(O,()=>{let H;H=O.loadChildren&&void 0===O.canLoad?this.loader.loadChildren(T,O):(0,fe.of)(null);const ie=H.pipe((0,Xt.z)(_e=>null===_e?(0,fe.of)(void 0):(O._loadedRoutes=_e.routes,O._loadedInjector=_e.injector,this.processRoutes(_e.injector??T,_e.routes))));if(O.loadComponent&&!O._loadedComponent){const _e=this.loader.loadComponent(O);return(0,De.D)([ie,_e]).pipe((0,Et.J)())}return ie})}static#e=this.\u0275fac=function(O){return new(O||C)(l.LFG(_n),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(st),l.LFG(q))};static#t=this.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();const Na=new l.OlP("");let ro=(()=>{class C{constructor(T,O,H,ie,_e={}){this.urlSerializer=T,this.transitions=O,this.viewportScroller=H,this.zone=ie,this.options=_e,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},_e.scrollPositionRestoration=_e.scrollPositionRestoration||"disabled",_e.anchorScrolling=_e.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(T=>{T instanceof Zs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=T.navigationTrigger,this.restoredId=T.restoredState?T.restoredState.navigationId:0):T instanceof Ur?(this.lastId=T.id,this.scheduleScrollEvent(T,this.urlSerializer.parse(T.urlAfterRedirects).fragment)):T instanceof Qs&&0===T.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(T,this.urlSerializer.parse(T.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(T=>{T instanceof li&&(T.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(T.position):T.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(T.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(T,O){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new li(T,"popstate"===this.lastSource?this.store[this.restoredId]:null,O))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(O){l.$Z()};static#t=this.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac})}return C})();function Co(C,M){return{\u0275kind:C,\u0275providers:M}}function cc(){const C=(0,l.f3M)(l.zs3);return M=>{const T=C.get(l.z2F);if(M!==T.components[0])return;const O=C.get(_n),H=C.get(Jn);1===C.get(qa)&&O.initialNavigation(),C.get(mo,null,l.XFs.Optional)?.setUpPreloading(),C.get(Na,null,l.XFs.Optional)?.init(),O.resetRootComponentType(T.componentTypes[0]),H.closed||(H.next(),H.complete(),H.unsubscribe())}}const Jn=new l.OlP("",{factory:()=>new ue.x}),qa=new l.OlP("",{providedIn:"root",factory:()=>1}),mo=new l.OlP("");function Gr(C){return Co(0,[{provide:mo,useExisting:no},{provide:st,useExisting:C}])}const fr=new l.OlP("ROUTER_FORROOT_GUARD"),dc=[$e.Ye,{provide:En,useClass:Rr},_n,Zi,{provide:Si,useFactory:function uc(C){return C.routerState.root},deps:[_n]},q,[]];function Ma(){return new l.PXZ("Router",_n)}let zs=(()=>{class C{constructor(T){}static forRoot(T,O){return{ngModule:C,providers:[dc,[],{provide:k,multi:!0,useValue:T},{provide:fr,useFactory:Ss,deps:[[_n,new l.FiY,new l.tp0]]},{provide:ii,useValue:O||{}},O?.useHash?{provide:$e.S$,useClass:$e.Do}:{provide:$e.S$,useClass:$e.b0},{provide:Na,useFactory:()=>{const C=(0,l.f3M)($e.EM),M=(0,l.f3M)(l.R0b),T=(0,l.f3M)(ii),O=(0,l.f3M)(Bt),H=(0,l.f3M)(En);return T.scrollOffset&&C.setOffset(T.scrollOffset),new ro(H,O,C,M,T)}},O?.preloadingStrategy?Gr(O.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:Ma},O?.initialNavigation?zl(O):[],O?.bindToComponentInputs?Co(8,[Wr,{provide:os,useExisting:Wr}]).\u0275providers:[],[{provide:Wl,useFactory:cc},{provide:l.tb,multi:!0,useExisting:Wl}]]}}static forChild(T){return{ngModule:C,providers:[{provide:k,multi:!0,useValue:T}]}}static#e=this.\u0275fac=function(O){return new(O||C)(l.LFG(fr,8))};static#t=this.\u0275mod=l.oAB({type:C});static#n=this.\u0275inj=l.cJS({})}return C})();function Ss(C){return"guarded"}function zl(C){return["disabled"===C.initialNavigation?Co(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const M=(0,l.f3M)(_n);return()=>{M.setUpLocationChangeListener()}}},{provide:qa,useValue:2}]).\u0275providers:[],"enabledBlocking"===C.initialNavigation?Co(2,[{provide:qa,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:M=>{const T=M.get($e.V_,Promise.resolve());return()=>T.then(()=>new Promise(O=>{const H=M.get(_n),ie=M.get(Jn);Ti(H,()=>{O(!0)}),M.get(Bt).afterPreactivation=()=>(O(!0),ie.closed?(0,fe.of)(void 0):ie),H.initialNavigation()}))}}]).\u0275providers:[]]}const Wl=new l.OlP("")},3106:($t,qe,B)=>{B.d(qe,{Z:()=>ze});var l=B(9058),j=B(4537),se=B(534),ve=B(7879);class De{constructor(mt,ht){this._delegate=mt,this.firebase=ht,(0,se._addComponent)(mt,new j.wA("app-compat",()=>this,"PUBLIC")),this.container=mt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(mt){this._delegate.automaticDataCollectionEnabled=mt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(mt=>{this._delegate.checkDestroyed(),mt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,se.deleteApp)(this._delegate)))}_getService(mt,ht=se._DEFAULT_ENTRY_NAME){var jt;this._delegate.checkDestroyed();const bt=this._delegate.container.getProvider(mt);return!bt.isInitialized()&&"EXPLICIT"===(null===(jt=bt.getComponent())||void 0===jt?void 0:jt.instantiationMode)&&bt.initialize(),bt.getImmediate({identifier:ht})}_removeServiceInstance(mt,ht=se._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(mt).clearInstance(ht)}_addComponent(mt){(0,se._addComponent)(this._delegate,mt)}_addOrOverwriteComponent(mt){(0,se._addOrOverwriteComponent)(this._delegate,mt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Pe=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ce=function Be(){const lt=function We(lt){const mt={},ht={__esModule:!0,initializeApp:function ue(ut,Oe={}){const Yt=se.initializeApp(ut,Oe);if((0,l.r3)(mt,Yt.name))return mt[Yt.name];const Xt=new lt(Yt,ht);return mt[Yt.name]=Xt,Xt},app:bt,registerVersion:se.registerVersion,setLogLevel:se.setLogLevel,onLog:se.onLog,apps:null,SDK_VERSION:se.SDK_VERSION,INTERNAL:{registerComponent:function Ee(ut){const Oe=ut.name,Yt=Oe.replace("-compat","");if(se._registerComponent(ut)&&"PUBLIC"===ut.type){const Xt=(In=bt())=>{if("function"!=typeof In[Yt])throw Pe.create("invalid-app-argument",{appName:Oe});return In[Yt]()};void 0!==ut.serviceProps&&(0,l.ZB)(Xt,ut.serviceProps),ht[Yt]=Xt,lt.prototype[Yt]=function(...In){return this._getService.bind(this,Oe).apply(this,ut.multipleInstances?In:[])}}return"PUBLIC"===ut.type?ht[Yt]:null},removeApp:function jt(ut){delete mt[ut]},useAsService:function rt(ut,Oe){return"serverAuth"===Oe?null:Oe},modularAPIs:se}};function bt(ut){if(!(0,l.r3)(mt,ut=ut||se._DEFAULT_ENTRY_NAME))throw Pe.create("no-app",{appName:ut});return mt[ut]}return ht.default=ht,Object.defineProperty(ht,"apps",{get:function $e(){return Object.keys(mt).map(ut=>mt[ut])}}),bt.App=lt,ht}(De);return lt.INTERNAL=Object.assign(Object.assign({},lt.INTERNAL),{createFirebaseNamespace:Be,extendNamespace:function mt(ht){(0,l.ZB)(lt,ht)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),lt}(),ye=new ve.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){ye.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const lt=self.firebase.SDK_VERSION;lt&&lt.indexOf("LITE")>=0&&ye.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ze=ce;!function Ye(lt){(0,se.registerVersion)("@firebase/app-compat","0.2.22",lt)}()},534:($t,qe,B)=>{B.r(qe),B.d(qe,{FirebaseError:()=>ve.ZR,SDK_VERSION:()=>hi,_DEFAULT_ENTRY_NAME:()=>Lt,_addComponent:()=>Un,_addOrOverwriteComponent:()=>Hr,_apps:()=>wn,_clearComponents:()=>Wt,_components:()=>sr,_getProvider:()=>yr,_registerComponent:()=>Vt,_removeServiceInstance:()=>Ar,deleteApp:()=>Zr,getApp:()=>or,getApps:()=>zr,initializeApp:()=>yi,onLog:()=>jn,registerVersion:()=>pr,setLogLevel:()=>nr});var l=B(5861),j=B(4537),se=B(7879),ve=B(9058);const De=(ft,Ge)=>Ge.some(Ct=>ft instanceof Ct);let fe,Pe;const ce=new WeakMap,ye=new WeakMap,Ae=new WeakMap,Ne=new WeakMap,Ye=new WeakMap;let mt={get(ft,Ge,Ct){if(ft instanceof IDBTransaction){if("done"===Ge)return ye.get(ft);if("objectStoreNames"===Ge)return ft.objectStoreNames||Ae.get(ft);if("store"===Ge)return Ct.objectStoreNames[1]?void 0:Ct.objectStore(Ct.objectStoreNames[0])}return ue(ft[Ge])},set:(ft,Ge,Ct)=>(ft[Ge]=Ct,!0),has:(ft,Ge)=>ft instanceof IDBTransaction&&("done"===Ge||"store"===Ge)||Ge in ft};function bt(ft){return"function"==typeof ft?function jt(ft){return ft!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Be(){return Pe||(Pe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ft)?function(...Ge){return ft.apply($e(this),Ge),ue(ce.get(this))}:function(...Ge){return ue(ft.apply($e(this),Ge))}:function(Ge,...Ct){const an=ft.call($e(this),Ge,...Ct);return Ae.set(an,Ge.sort?Ge.sort():[Ge]),ue(an)}}(ft):(ft instanceof IDBTransaction&&function lt(ft){if(ye.has(ft))return;const Ge=new Promise((Ct,an)=>{const Rn=()=>{ft.removeEventListener("complete",en),ft.removeEventListener("error",ur),ft.removeEventListener("abort",ur)},en=()=>{Ct(),Rn()},ur=()=>{an(ft.error||new DOMException("AbortError","AbortError")),Rn()};ft.addEventListener("complete",en),ft.addEventListener("error",ur),ft.addEventListener("abort",ur)});ye.set(ft,Ge)}(ft),De(ft,function We(){return fe||(fe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ft,mt):ft)}function ue(ft){if(ft instanceof IDBRequest)return function ze(ft){const Ge=new Promise((Ct,an)=>{const Rn=()=>{ft.removeEventListener("success",en),ft.removeEventListener("error",ur)},en=()=>{Ct(ue(ft.result)),Rn()},ur=()=>{an(ft.error),Rn()};ft.addEventListener("success",en),ft.addEventListener("error",ur)});return Ge.then(Ct=>{Ct instanceof IDBCursor&&ce.set(Ct,ft)}).catch(()=>{}),Ye.set(Ge,ft),Ge}(ft);if(Ne.has(ft))return Ne.get(ft);const Ge=bt(ft);return Ge!==ft&&(Ne.set(ft,Ge),Ye.set(Ge,ft)),Ge}const $e=ft=>Ye.get(ft),ut=["get","getKey","getAll","getAllKeys","count"],Oe=["put","add","delete","clear"],Yt=new Map;function Xt(ft,Ge){if(!(ft instanceof IDBDatabase)||Ge in ft||"string"!=typeof Ge)return;if(Yt.get(Ge))return Yt.get(Ge);const Ct=Ge.replace(/FromIndex$/,""),an=Ge!==Ct,Rn=Oe.includes(Ct);if(!(Ct in(an?IDBIndex:IDBObjectStore).prototype)||!Rn&&!ut.includes(Ct))return;const en=function(){var ur=(0,l.Z)(function*(Tr,...ar){const fi=this.transaction(Tr,Rn?"readwrite":"readonly");let vi=fi.store;return an&&(vi=vi.index(ar.shift())),(yield Promise.all([vi[Ct](...ar),Rn&&fi.done]))[0]});return function(ar){return ur.apply(this,arguments)}}();return Yt.set(Ge,en),en}!function ht(ft){mt=ft(mt)}(ft=>({...ft,get:(Ge,Ct,an)=>Xt(Ge,Ct)||ft.get(Ge,Ct,an),has:(Ge,Ct)=>!!Xt(Ge,Ct)||ft.has(Ge,Ct)}));class In{constructor(Ge){this.container=Ge}getPlatformInfoString(){return this.container.getProviders().map(Ct=>{if(function Cn(ft){const Ge=ft.getComponent();return"VERSION"===Ge?.type}(Ct)){const an=Ct.getImmediate();return`${an.library}/${an.version}`}return null}).filter(Ct=>Ct).join(" ")}}const On="@firebase/app",At=new se.Yd("@firebase/app"),Lt="[DEFAULT]",gn={[On]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},wn=new Map,sr=new Map;function Un(ft,Ge){try{ft.container.addComponent(Ge)}catch(Ct){At.debug(`Component ${Ge.name} failed to register with FirebaseApp ${ft.name}`,Ct)}}function Hr(ft,Ge){ft.container.addOrOverwriteComponent(Ge)}function Vt(ft){const Ge=ft.name;if(sr.has(Ge))return At.debug(`There were multiple attempts to register component ${Ge}.`),!1;sr.set(Ge,ft);for(const Ct of wn.values())Un(Ct,ft);return!0}function yr(ft,Ge){const Ct=ft.container.getProvider("heartbeat").getImmediate({optional:!0});return Ct&&Ct.triggerHeartbeat(),ft.container.getProvider(Ge)}function Ar(ft,Ge,Ct=Lt){yr(ft,Ge).clearInstance(Ct)}function Wt(){sr.clear()}const En=new ve.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Rr{constructor(Ge,Ct,an){this._isDeleted=!1,this._options=Object.assign({},Ge),this._config=Object.assign({},Ct),this._name=Ct.name,this._automaticDataCollectionEnabled=Ct.automaticDataCollectionEnabled,this._container=an,this.container.addComponent(new j.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ge){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ge}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ge){this._isDeleted=Ge}checkDestroyed(){if(this.isDeleted)throw En.create("app-deleted",{appName:this._name})}}const hi="10.5.2";function yi(ft,Ge={}){let Ct=ft;"object"!=typeof Ge&&(Ge={name:Ge});const an=Object.assign({name:Lt,automaticDataCollectionEnabled:!1},Ge),Rn=an.name;if("string"!=typeof Rn||!Rn)throw En.create("bad-app-name",{appName:String(Rn)});if(Ct||(Ct=(0,ve.aH)()),!Ct)throw En.create("no-options");const en=wn.get(Rn);if(en){if((0,ve.vZ)(Ct,en.options)&&(0,ve.vZ)(an,en.config))return en;throw En.create("duplicate-app",{appName:Rn})}const ur=new j.H0(Rn);for(const ar of sr.values())ur.addComponent(ar);const Tr=new Rr(Ct,an,ur);return wn.set(Rn,Tr),Tr}function or(ft=Lt){const Ge=wn.get(ft);if(!Ge&&ft===Lt&&(0,ve.aH)())return yi();if(!Ge)throw En.create("no-app",{appName:ft});return Ge}function zr(){return Array.from(wn.values())}function Zr(ft){return br.apply(this,arguments)}function br(){return(br=(0,l.Z)(function*(ft){const Ge=ft.name;wn.has(Ge)&&(wn.delete(Ge),yield Promise.all(ft.container.getProviders().map(Ct=>Ct.delete())),ft.isDeleted=!0)})).apply(this,arguments)}function pr(ft,Ge,Ct){var an;let Rn=null!==(an=gn[ft])&&void 0!==an?an:ft;Ct&&(Rn+=`-${Ct}`);const en=Rn.match(/\s|\//),ur=Ge.match(/\s|\//);if(en||ur){const Tr=[`Unable to register library "${Rn}" with version "${Ge}":`];return en&&Tr.push(`library name "${Rn}" contains illegal characters (whitespace or "/")`),en&&ur&&Tr.push("and"),ur&&Tr.push(`version name "${Ge}" contains illegal characters (whitespace or "/")`),void At.warn(Tr.join(" "))}Vt(new j.wA(`${Rn}-version`,()=>({library:Rn,version:Ge}),"VERSION"))}function jn(ft,Ge){if(null!==ft&&"function"!=typeof ft)throw En.create("invalid-log-argument");(0,se.Am)(ft,Ge)}function nr(ft){(0,se.Ub)(ft)}const Ki="firebase-heartbeat-database",rs=1,Ie="firebase-heartbeat-store";let re=null;function z(){return re||(re=function Ee(ft,Ge,{blocked:Ct,upgrade:an,blocking:Rn,terminated:en}={}){const ur=indexedDB.open(ft,Ge),Tr=ue(ur);return an&&ur.addEventListener("upgradeneeded",ar=>{an(ue(ur.result),ar.oldVersion,ar.newVersion,ue(ur.transaction),ar)}),Ct&&ur.addEventListener("blocked",ar=>Ct(ar.oldVersion,ar.newVersion,ar)),Tr.then(ar=>{en&&ar.addEventListener("close",()=>en()),Rn&&ar.addEventListener("versionchange",fi=>Rn(fi.oldVersion,fi.newVersion,fi))}).catch(()=>{}),Tr}(Ki,rs,{upgrade:(ft,Ge)=>{0===Ge&&ft.createObjectStore(Ie)}}).catch(ft=>{throw En.create("idb-open",{originalErrorMessage:ft.message})})),re}function V(){return(V=(0,l.Z)(function*(ft){try{return yield(yield z()).transaction(Ie).objectStore(Ie).get(yt(ft))}catch(Ge){if(Ge instanceof ve.ZR)At.warn(Ge.message);else{const Ct=En.create("idb-get",{originalErrorMessage:Ge?.message});At.warn(Ct.message)}}})).apply(this,arguments)}function de(ft,Ge){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,l.Z)(function*(ft,Ge){try{const an=(yield z()).transaction(Ie,"readwrite");yield an.objectStore(Ie).put(Ge,yt(ft)),yield an.done}catch(Ct){if(Ct instanceof ve.ZR)At.warn(Ct.message);else{const an=En.create("idb-set",{originalErrorMessage:Ct?.message});At.warn(an.message)}}})).apply(this,arguments)}function yt(ft){return`${ft.name}!${ft.options.appId}`}class Ht{constructor(Ge){this.container=Ge,this._heartbeatsCache=null;const Ct=this.container.getProvider("app").getImmediate();this._storage=new Sn(Ct),this._heartbeatsCachePromise=this._storage.read().then(an=>(this._heartbeatsCache=an,an))}triggerHeartbeat(){var Ge=this;return(0,l.Z)(function*(){const an=Ge.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Rn=fn();if(null===Ge._heartbeatsCache&&(Ge._heartbeatsCache=yield Ge._heartbeatsCachePromise),Ge._heartbeatsCache.lastSentHeartbeatDate!==Rn&&!Ge._heartbeatsCache.heartbeats.some(en=>en.date===Rn))return Ge._heartbeatsCache.heartbeats.push({date:Rn,agent:an}),Ge._heartbeatsCache.heartbeats=Ge._heartbeatsCache.heartbeats.filter(en=>{const ur=new Date(en.date).valueOf();return Date.now()-ur<=2592e6}),Ge._storage.overwrite(Ge._heartbeatsCache)})()}getHeartbeatsHeader(){var Ge=this;return(0,l.Z)(function*(){if(null===Ge._heartbeatsCache&&(yield Ge._heartbeatsCachePromise),null===Ge._heartbeatsCache||0===Ge._heartbeatsCache.heartbeats.length)return"";const Ct=fn(),{heartbeatsToSend:an,unsentEntries:Rn}=function Wn(ft,Ge=1024){const Ct=[];let an=ft.slice();for(const Rn of ft){const en=Ct.find(ur=>ur.agent===Rn.agent);if(en){if(en.dates.push(Rn.date),ei(Ct)>Ge){en.dates.pop();break}}else if(Ct.push({agent:Rn.agent,dates:[Rn.date]}),ei(Ct)>Ge){Ct.pop();break}an=an.slice(1)}return{heartbeatsToSend:Ct,unsentEntries:an}}(Ge._heartbeatsCache.heartbeats),en=(0,ve.L)(JSON.stringify({version:2,heartbeats:an}));return Ge._heartbeatsCache.lastSentHeartbeatDate=Ct,Rn.length>0?(Ge._heartbeatsCache.heartbeats=Rn,yield Ge._storage.overwrite(Ge._heartbeatsCache)):(Ge._heartbeatsCache.heartbeats=[],Ge._storage.overwrite(Ge._heartbeatsCache)),en})()}}function fn(){return(new Date).toISOString().substring(0,10)}class Sn{constructor(Ge){this.app=Ge,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,ve.hl)()&&(0,ve.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ge=this;return(0,l.Z)(function*(){return(yield Ge._canUseIndexedDBPromise)&&(yield function $(ft){return V.apply(this,arguments)}(Ge.app))||{heartbeats:[]}})()}overwrite(Ge){var Ct=this;return(0,l.Z)(function*(){var an;if(yield Ct._canUseIndexedDBPromise){const en=yield Ct.read();return de(Ct.app,{lastSentHeartbeatDate:null!==(an=Ge.lastSentHeartbeatDate)&&void 0!==an?an:en.lastSentHeartbeatDate,heartbeats:Ge.heartbeats})}})()}add(Ge){var Ct=this;return(0,l.Z)(function*(){var an;if(yield Ct._canUseIndexedDBPromise){const en=yield Ct.read();return de(Ct.app,{lastSentHeartbeatDate:null!==(an=Ge.lastSentHeartbeatDate)&&void 0!==an?an:en.lastSentHeartbeatDate,heartbeats:[...en.heartbeats,...Ge.heartbeats]})}})()}}function ei(ft){return(0,ve.L)(JSON.stringify({version:2,heartbeats:ft})).length}!function Vi(ft){Vt(new j.wA("platform-logger",Ge=>new In(Ge),"PRIVATE")),Vt(new j.wA("heartbeat",Ge=>new Ht(Ge),"PRIVATE")),pr(On,"0.9.22",ft),pr(On,"0.9.22","esm2017"),pr("fire-js","")}("")},4537:($t,qe,B)=>{B.d(qe,{H0:()=>We,wA:()=>se});var l=B(5861),j=B(9058);class se{constructor(ce,ye,Ae){this.name=ce,this.instanceFactory=ye,this.type=Ae,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ce){return this.instantiationMode=ce,this}setMultipleInstances(ce){return this.multipleInstances=ce,this}setServiceProps(ce){return this.serviceProps=ce,this}setInstanceCreatedCallback(ce){return this.onInstanceCreated=ce,this}}const ve="[DEFAULT]";class De{constructor(ce,ye){this.name=ce,this.container=ye,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ce){const ye=this.normalizeInstanceIdentifier(ce);if(!this.instancesDeferred.has(ye)){const Ae=new j.BH;if(this.instancesDeferred.set(ye,Ae),this.isInitialized(ye)||this.shouldAutoInitialize())try{const Ne=this.getOrInitializeService({instanceIdentifier:ye});Ne&&Ae.resolve(Ne)}catch{}}return this.instancesDeferred.get(ye).promise}getImmediate(ce){var ye;const Ae=this.normalizeInstanceIdentifier(ce?.identifier),Ne=null!==(ye=ce?.optional)&&void 0!==ye&&ye;if(!this.isInitialized(Ae)&&!this.shouldAutoInitialize()){if(Ne)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ae})}catch(Ye){if(Ne)return null;throw Ye}}getComponent(){return this.component}setComponent(ce){if(ce.name!==this.name)throw Error(`Mismatching Component ${ce.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ce,this.shouldAutoInitialize()){if(function Pe(Be){return"EAGER"===Be.instantiationMode}(ce))try{this.getOrInitializeService({instanceIdentifier:ve})}catch{}for(const[ye,Ae]of this.instancesDeferred.entries()){const Ne=this.normalizeInstanceIdentifier(ye);try{const Ye=this.getOrInitializeService({instanceIdentifier:Ne});Ae.resolve(Ye)}catch{}}}}clearInstance(ce=ve){this.instancesDeferred.delete(ce),this.instancesOptions.delete(ce),this.instances.delete(ce)}delete(){var ce=this;return(0,l.Z)(function*(){const ye=Array.from(ce.instances.values());yield Promise.all([...ye.filter(Ae=>"INTERNAL"in Ae).map(Ae=>Ae.INTERNAL.delete()),...ye.filter(Ae=>"_delete"in Ae).map(Ae=>Ae._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ce=ve){return this.instances.has(ce)}getOptions(ce=ve){return this.instancesOptions.get(ce)||{}}initialize(ce={}){const{options:ye={}}=ce,Ae=this.normalizeInstanceIdentifier(ce.instanceIdentifier);if(this.isInitialized(Ae))throw Error(`${this.name}(${Ae}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ne=this.getOrInitializeService({instanceIdentifier:Ae,options:ye});for(const[Ye,ze]of this.instancesDeferred.entries())Ae===this.normalizeInstanceIdentifier(Ye)&&ze.resolve(Ne);return Ne}onInit(ce,ye){var Ae;const Ne=this.normalizeInstanceIdentifier(ye),Ye=null!==(Ae=this.onInitCallbacks.get(Ne))&&void 0!==Ae?Ae:new Set;Ye.add(ce),this.onInitCallbacks.set(Ne,Ye);const ze=this.instances.get(Ne);return ze&&ce(ze,Ne),()=>{Ye.delete(ce)}}invokeOnInitCallbacks(ce,ye){const Ae=this.onInitCallbacks.get(ye);if(Ae)for(const Ne of Ae)try{Ne(ce,ye)}catch{}}getOrInitializeService({instanceIdentifier:ce,options:ye={}}){let Ae=this.instances.get(ce);if(!Ae&&this.component&&(Ae=this.component.instanceFactory(this.container,{instanceIdentifier:(Be=ce,Be===ve?void 0:Be),options:ye}),this.instances.set(ce,Ae),this.instancesOptions.set(ce,ye),this.invokeOnInitCallbacks(Ae,ce),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ce,Ae)}catch{}var Be;return Ae||null}normalizeInstanceIdentifier(ce=ve){return this.component?this.component.multipleInstances?ce:ve:ce}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class We{constructor(ce){this.name=ce,this.providers=new Map}addComponent(ce){const ye=this.getProvider(ce.name);if(ye.isComponentSet())throw new Error(`Component ${ce.name} has already been registered with ${this.name}`);ye.setComponent(ce)}addOrOverwriteComponent(ce){this.getProvider(ce.name).isComponentSet()&&this.providers.delete(ce.name),this.addComponent(ce)}getProvider(ce){if(this.providers.has(ce))return this.providers.get(ce);const ye=new De(ce,this);return this.providers.set(ce,ye),ye}getProviders(){return Array.from(this.providers.values())}}},7879:($t,qe,B)=>{B.d(qe,{Am:()=>Be,Ub:()=>We,Yd:()=>Pe,in:()=>j});const l=[];var j=function(ce){return ce[ce.DEBUG=0]="DEBUG",ce[ce.VERBOSE=1]="VERBOSE",ce[ce.INFO=2]="INFO",ce[ce.WARN=3]="WARN",ce[ce.ERROR=4]="ERROR",ce[ce.SILENT=5]="SILENT",ce}(j||{});const se={debug:j.DEBUG,verbose:j.VERBOSE,info:j.INFO,warn:j.WARN,error:j.ERROR,silent:j.SILENT},ve=j.INFO,De={[j.DEBUG]:"log",[j.VERBOSE]:"log",[j.INFO]:"info",[j.WARN]:"warn",[j.ERROR]:"error"},fe=(ce,ye,...Ae)=>{if(ye<ce.logLevel)return;const Ne=(new Date).toISOString(),Ye=De[ye];if(!Ye)throw new Error(`Attempted to log a message with an invalid logType (value: ${ye})`);console[Ye](`[${Ne}]  ${ce.name}:`,...Ae)};class Pe{constructor(ye){this.name=ye,this._logLevel=ve,this._logHandler=fe,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(ye){if(!(ye in j))throw new TypeError(`Invalid value "${ye}" assigned to \`logLevel\``);this._logLevel=ye}setLogLevel(ye){this._logLevel="string"==typeof ye?se[ye]:ye}get logHandler(){return this._logHandler}set logHandler(ye){if("function"!=typeof ye)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ye}get userLogHandler(){return this._userLogHandler}set userLogHandler(ye){this._userLogHandler=ye}debug(...ye){this._userLogHandler&&this._userLogHandler(this,j.DEBUG,...ye),this._logHandler(this,j.DEBUG,...ye)}log(...ye){this._userLogHandler&&this._userLogHandler(this,j.VERBOSE,...ye),this._logHandler(this,j.VERBOSE,...ye)}info(...ye){this._userLogHandler&&this._userLogHandler(this,j.INFO,...ye),this._logHandler(this,j.INFO,...ye)}warn(...ye){this._userLogHandler&&this._userLogHandler(this,j.WARN,...ye),this._logHandler(this,j.WARN,...ye)}error(...ye){this._userLogHandler&&this._userLogHandler(this,j.ERROR,...ye),this._logHandler(this,j.ERROR,...ye)}}function We(ce){l.forEach(ye=>{ye.setLogLevel(ce)})}function Be(ce,ye){for(const Ae of l){let Ne=null;ye&&ye.level&&(Ne=se[ye.level]),Ae.userLogHandler=null===ce?null:(Ye,ze,...lt)=>{const mt=lt.map(ht=>{if(null==ht)return null;if("string"==typeof ht)return ht;if("number"==typeof ht||"boolean"==typeof ht)return ht.toString();if(ht instanceof Error)return ht.message;try{return JSON.stringify(ht)}catch{return null}}).filter(ht=>ht).join(" ");ze>=(Ne??Ye.logLevel)&&ce({level:j[ze].toLowerCase(),message:mt,args:lt,type:Ye.name})}}}},4165:($t,qe,B)=>{B.d(qe,{IJ:()=>Bg});var l=B(5879),j=B(5592),se=B(6232),ve=B(2096),De=B(8645),fe=B(4829),Pe=B(1631),We=B(4266),Be=B(4674),ce=B(7400);const ye=["addListener","removeListener"],Ae=["addEventListener","removeEventListener"],Ne=["on","off"];function Ye(h,I,c,p){if((0,Be.m)(c)&&(p=c,c=void 0),p)return Ye(h,I,c).pipe((0,ce.Z)(p));const[E,U]=function ht(h){return(0,Be.m)(h.addEventListener)&&(0,Be.m)(h.removeEventListener)}(h)?Ae.map(X=>Te=>h[X](I,Te,c)):function lt(h){return(0,Be.m)(h.addListener)&&(0,Be.m)(h.removeListener)}(h)?ye.map(ze(h,I)):function mt(h){return(0,Be.m)(h.on)&&(0,Be.m)(h.off)}(h)?Ne.map(ze(h,I)):[];if(!E&&(0,We.z)(h))return(0,Pe.z)(X=>Ye(X,I,c))((0,fe.Xf)(h));if(!E)throw new TypeError("Invalid event target");return new j.y(X=>{const Te=(...Ve)=>X.next(1<Ve.length?Ve:Ve[0]);return E(Te),()=>U(Te)})}function ze(h,I){return c=>p=>h[c](I,p)}var jt=B(6321),bt=B(671);const{isArray:Ee}=Array;function rt(h){return 1===h.length&&Ee(h[0])?h[0]:h}var ut=B(8251);B(3019);var In=B(9940);function Cn(...h){const I=(0,In.jO)(h),c=rt(h);return c.length?new j.y(p=>{let E=c.map(()=>[]),U=c.map(()=>!1);p.add(()=>{E=U=null});for(let X=0;!p.closed&&X<c.length;X++)(0,fe.Xf)(c[X]).subscribe((0,ut.x)(p,Te=>{if(E[X].push(Te),E.every(Ve=>Ve.length)){const Ve=E.map(at=>at.shift());p.next(I?I(...Ve):Ve),E.some((at,it)=>!at.length&&U[it])&&p.complete()}},()=>{U[X]=!0,!E[X].length&&p.complete()}));return()=>{E=U=null}}):se.E}var On=B(5211),At=B(9773),dn=B(2181),Qt=B(8180),Ue=B(9397),ke=B(7398),Ke=B(9360),Ce=B(2737),He=B(2420);function ct(...h){const I=(0,In.jO)(h);return(0,Ke.e)((c,p)=>{const E=h.length,U=new Array(E);let X=h.map(()=>!1),Te=!1;for(let Ve=0;Ve<E;Ve++)(0,fe.Xf)(h[Ve]).subscribe((0,ut.x)(p,at=>{U[Ve]=at,!Te&&!X[Ve]&&(X[Ve]=!0,(Te=X.every(Ce.y))&&(X=null))},He.Z));c.subscribe((0,ut.x)(p,Ve=>{if(Te){const at=[Ve,...U];p.next(I?I(...at):at)}}))})}B(975);var Mn=B(4664);B(7921),B(3997);var hn=B(6814);B(6223),Math,Math,Math;const wo=["*"],Dr=["dialog"];function _o(h){return"string"==typeof h}function T(h){return null!=h}function nt(h){return(h||document.body).getBoundingClientRect()}const Gn={animation:!0,transitionTimerDelayMs:5},aa=()=>{},{transitionTimerDelayMs:Ya}=Gn,hs=new Map,Us=(h,I,c,p)=>{let E=p.context||{};const U=hs.get(I);if(U)switch(p.runningTransition){case"continue":return se.E;case"stop":h.run(()=>U.transition$.complete()),E=Object.assign(U.context,E),hs.delete(I)}const X=c(I,p.animation,E)||aa;if(!p.animation||"none"===window.getComputedStyle(I).transitionProperty)return h.run(()=>X()),(0,ve.of)(void 0).pipe(function Xe(h){return I=>new j.y(c=>I.subscribe({next:X=>h.run(()=>c.next(X)),error:X=>h.run(()=>c.error(X)),complete:()=>h.run(()=>c.complete())}))}(h));const Te=new De.x,Ve=new De.x,at=Te.pipe(function Vr(...h){return I=>(0,On.z)(I,(0,ve.of)(...h))}(!0));hs.set(I,{transition$:Te,complete:()=>{Ve.next(),Ve.complete()},context:E});const it=function si(h){const{transitionDelay:I,transitionDuration:c}=window.getComputedStyle(h);return 1e3*(parseFloat(I)+parseFloat(c))}(I);return h.runOutsideAngular(()=>{const Jt=Ye(I,"transitionend").pipe((0,At.R)(at),(0,dn.h)(({target:Zt})=>Zt===I));(function Oe(...h){return 1===(h=rt(h)).length?(0,fe.Xf)(h[0]):new j.y(function Yt(h){return I=>{let c=[];for(let p=0;c&&!I.closed&&p<h.length;p++)c.push((0,fe.Xf)(h[p]).subscribe((0,ut.x)(I,E=>{if(c){for(let U=0;U<c.length;U++)U!==p&&c[U].unsubscribe();c=null}I.next(E)})))}}(h))})(function $e(h=0,I,c=jt.P){let p=-1;return null!=I&&((0,bt.K)(I)?c=I:p=I),new j.y(E=>{let U=function ue(h){return h instanceof Date&&!isNaN(h)}(h)?+h-c.now():h;U<0&&(U=0);let X=0;return c.schedule(function(){E.closed||(E.next(X++),0<=p?this.schedule(void 0,p):E.complete())},U)})}(it+Ya).pipe((0,At.R)(at)),Jt,Ve).pipe((0,At.R)(at)).subscribe(()=>{hs.delete(I),h.run(()=>{X(),Te.next(),Te.complete()})})}),Te.asObservable()};let Fi=(()=>{class h{constructor(){this.animation=Gn.animation}static#e=this.\u0275fac=function(p){return new(p||h)};static#t=this.\u0275prov=l.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"})}return h})(),xu=(()=>{class h{static#e=this.\u0275fac=function(p){return new(p||h)};static#t=this.\u0275mod=l.oAB({type:h});static#n=this.\u0275inj=l.cJS({})}return h})(),_c=(()=>{class h{static#e=this.\u0275fac=function(p){return new(p||h)};static#t=this.\u0275mod=l.oAB({type:h});static#n=this.\u0275inj=l.cJS({})}return h})(),As=(()=>{class h{static#e=this.\u0275fac=function(p){return new(p||h)};static#t=this.\u0275mod=l.oAB({type:h});static#n=this.\u0275inj=l.cJS({})}return h})(),Ql=(()=>{class h{static#e=this.\u0275fac=function(p){return new(p||h)};static#t=this.\u0275mod=l.oAB({type:h});static#n=this.\u0275inj=l.cJS({})}return h})();var Jr=function(h){return h[h.Tab=9]="Tab",h[h.Enter=13]="Enter",h[h.Escape=27]="Escape",h[h.Space=32]="Space",h[h.PageUp=33]="PageUp",h[h.PageDown=34]="PageDown",h[h.End=35]="End",h[h.Home=36]="Home",h[h.ArrowLeft=37]="ArrowLeft",h[h.ArrowUp=38]="ArrowUp",h[h.ArrowRight=39]="ArrowRight",h[h.ArrowDown=40]="ArrowDown",h}(Jr||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const bc=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function ys(h){const I=Array.from(h.querySelectorAll(bc)).filter(c=>-1!==c.tabIndex);return[I[0],I[I.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let vh=(()=>{class h{static#e=this.\u0275fac=function(p){return new(p||h)};static#t=this.\u0275mod=l.oAB({type:h});static#n=this.\u0275inj=l.cJS({})}return h})(),Ks=(()=>{class h{static#e=this.\u0275fac=function(p){return new(p||h)};static#t=this.\u0275mod=l.oAB({type:h});static#n=this.\u0275inj=l.cJS({})}return h})();class ja{constructor(I,c,p){this.nodes=I,this.viewRef=c,this.componentRef=p}}let mf=(()=>{class h{constructor(c,p){this._el=c,this._zone=p}ngOnInit(){this._zone.onStable.asObservable().pipe((0,Qt.q)(1)).subscribe(()=>{Us(this._zone,this._el.nativeElement,(c,p)=>{p&&nt(c),c.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Us(this._zone,this._el.nativeElement,({classList:c})=>c.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(p){return new(p||h)(l.Y36(l.SBq),l.Y36(l.R0b))};static#t=this.\u0275cmp=l.Xpm({type:h,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(p,E){2&p&&(l.Tol("modal-backdrop"+(E.backdropClass?" "+E.backdropClass:"")),l.ekj("show",!E.animation)("fade",E.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[l.jDz],decls:0,vars:0,template:function(p,E){},encapsulation:2})}return h})();class _f{update(I){}close(I){}dismiss(I){}}const Eh=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],Dd=["animation","backdropClass"];class Nc{_applyWindowOptions(I,c){Eh.forEach(p=>{T(c[p])&&(I[p]=c[p])})}_applyBackdropOptions(I,c){Dd.forEach(p=>{T(c[p])&&(I[p]=c[p])})}update(I){this._applyWindowOptions(this._windowCmptRef.instance,I),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,I)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,At.R)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,At.R)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(I,c,p,E){this._windowCmptRef=I,this._contentRef=c,this._backdropCmptRef=p,this._beforeDismiss=E,this._closed=new De.x,this._dismissed=new De.x,this._hidden=new De.x,I.instance.dismissEvent.subscribe(U=>{this.dismiss(U)}),this.result=new Promise((U,X)=>{this._resolve=U,this._reject=X}),this.result.then(null,()=>{})}close(I){this._windowCmptRef&&(this._closed.next(I),this._resolve(I),this._removeModalElements())}_dismiss(I){this._dismissed.next(I),this._reject(I),this._removeModalElements()}dismiss(I){if(this._windowCmptRef)if(this._beforeDismiss){const c=this._beforeDismiss();!function O(h){return h&&h.then}(c)?!1!==c&&this._dismiss(I):c.then(p=>{!1!==p&&this._dismiss(I)},()=>{})}else this._dismiss(I)}_removeModalElements(){const I=this._windowCmptRef.instance.hide(),c=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,ve.of)(void 0);I.subscribe(()=>{const{nativeElement:p}=this._windowCmptRef.location;p.parentNode.removeChild(p),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),c.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:p}=this._backdropCmptRef.location;p.parentNode.removeChild(p),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Cn(I,c).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Hu=function(h){return h[h.BACKDROP_CLICK=0]="BACKDROP_CLICK",h[h.ESC=1]="ESC",h}(Hu||{});let wd=(()=>{class h{constructor(c,p,E){this._document=c,this._elRef=p,this._zone=E,this._closed$=new De.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new l.vpe,this.shown=new De.x,this.hidden=new De.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":_o(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(c){this.dismissEvent.emit(c)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,Qt.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:c}=this._elRef,p={animation:this.animation,runningTransition:"stop"},X=Cn(Us(this._zone,c,()=>c.classList.remove("show"),p),Us(this._zone,this._dialogEl.nativeElement,()=>{},p));return X.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),X}_show(){const c={animation:this.animation,runningTransition:"continue"};Cn(Us(this._zone,this._elRef.nativeElement,(U,X)=>{X&&nt(U),U.classList.add("show")},c),Us(this._zone,this._dialogEl.nativeElement,()=>{},c)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:c}=this._elRef;this._zone.runOutsideAngular(()=>{Ye(c,"keydown").pipe((0,At.R)(this._closed$),(0,dn.h)(E=>E.which===Jr.Escape)).subscribe(E=>{this.keyboard?requestAnimationFrame(()=>{E.defaultPrevented||this._zone.run(()=>this.dismiss(Hu.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let p=!1;Ye(this._dialogEl.nativeElement,"mousedown").pipe((0,At.R)(this._closed$),(0,Ue.b)(()=>p=!1),(0,Mn.w)(()=>Ye(c,"mouseup").pipe((0,At.R)(this._closed$),(0,Qt.q)(1))),(0,dn.h)(({target:E})=>c===E)).subscribe(()=>{p=!0}),Ye(c,"click").pipe((0,At.R)(this._closed$)).subscribe(({target:E})=>{c===E&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!p&&this._zone.run(()=>this.dismiss(Hu.BACKDROP_CLICK))),p=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:c}=this._elRef;if(!c.contains(document.activeElement)){const p=c.querySelector("[ngbAutofocus]"),E=ys(c)[0];(p||E||c).focus()}}_restoreFocus(){const c=this._document.body,p=this._elWithFocus;let E;E=p&&p.focus&&c.contains(p)?p:c,this._zone.runOutsideAngular(()=>{setTimeout(()=>E.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Us(this._zone,this._elRef.nativeElement,({classList:c})=>(c.add("modal-static"),()=>c.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(p){return new(p||h)(l.Y36(hn.K0),l.Y36(l.SBq),l.Y36(l.R0b))};static#t=this.\u0275cmp=l.Xpm({type:h,selectors:[["ngb-modal-window"]],viewQuery:function(p,E){if(1&p&&l.Gf(Dr,7),2&p){let U;l.iGM(U=l.CRH())&&(E._dialogEl=U.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(p,E){2&p&&(l.uIk("aria-modal",!0)("aria-labelledby",E.ariaLabelledBy)("aria-describedby",E.ariaDescribedBy),l.Tol("modal d-block"+(E.windowClass?" "+E.windowClass:"")),l.ekj("fade",E.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[l.jDz],ngContentSelectors:wo,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(p,E){1&p&&(l.F$t(),l.TgZ(0,"div",0,1)(2,"div",2),l.Hsn(3),l.qZA()()),2&p&&l.Tol("modal-dialog"+(E.size?" modal-"+E.size:"")+(E.centered?" modal-dialog-centered":"")+E.fullscreenClass+(E.scrollable?" modal-dialog-scrollable":"")+(E.modalDialogClass?" "+E.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return h})(),fp=(()=>{class h{constructor(c){this._document=c}hide(){const c=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),p=this._document.body,E=p.style,{overflow:U,paddingRight:X}=E;if(c>0){const Te=parseFloat(window.getComputedStyle(p).paddingRight);E.paddingRight=`${Te+c}px`}return E.overflow="hidden",()=>{c>0&&(E.paddingRight=X),E.overflow=U}}static#e=this.\u0275fac=function(p){return new(p||h)(l.LFG(hn.K0))};static#t=this.\u0275prov=l.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"})}return h})(),pp=(()=>{class h{constructor(c,p,E,U,X,Te,Ve){this._applicationRef=c,this._injector=p,this._environmentInjector=E,this._document=U,this._scrollBar=X,this._rendererFactory=Te,this._ngZone=Ve,this._activeWindowCmptHasChanged=new De.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new l.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const at=this._windowCmpts[this._windowCmpts.length-1];((h,I,c,p=!1)=>{h.runOutsideAngular(()=>{const E=Ye(I,"focusin").pipe((0,At.R)(c),(0,ke.U)(U=>U.target));Ye(I,"keydown").pipe((0,At.R)(c),(0,dn.h)(U=>U.which===Jr.Tab),ct(E)).subscribe(([U,X])=>{const[Te,Ve]=ys(I);(X===Te||X===I)&&U.shiftKey&&(Ve.focus(),U.preventDefault()),X===Ve&&!U.shiftKey&&(Te.focus(),U.preventDefault())}),p&&Ye(I,"click").pipe((0,At.R)(c),ct(E),(0,ke.U)(U=>U[1])).subscribe(U=>U.focus())})})(this._ngZone,at.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(at.location.nativeElement)}})}_restoreScrollBar(){const c=this._scrollBarRestoreFn;c&&(this._scrollBarRestoreFn=null,c())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(c,p,E){const U=E.container instanceof HTMLElement?E.container:T(E.container)?this._document.querySelector(E.container):this._document.body,X=this._rendererFactory.createRenderer(null,null);if(!U)throw new Error(`The specified modal container "${E.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const Te=new _f,Ve=(c=E.injector||c).get(l.lqb,null)||this._environmentInjector,at=this._getContentRef(c,Ve,p,Te,E);let it=!1!==E.backdrop?this._attachBackdrop(U):void 0,Jt=this._attachWindowComponent(U,at.nodes),Ot=new Nc(Jt,at,it,E.beforeDismiss);return this._registerModalRef(Ot),this._registerWindowCmpt(Jt),Ot.hidden.pipe((0,Qt.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(X.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),Te.close=Zt=>{Ot.close(Zt)},Te.dismiss=Zt=>{Ot.dismiss(Zt)},Te.update=Zt=>{Ot.update(Zt)},Ot.update(E),1===this._modalRefs.length&&X.addClass(this._document.body,"modal-open"),it&&it.instance&&it.changeDetectorRef.detectChanges(),Jt.changeDetectorRef.detectChanges(),Ot}get activeInstances(){return this._activeInstances}dismissAll(c){this._modalRefs.forEach(p=>p.dismiss(c))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(c){let p=(0,l.LMc)(mf,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(p.hostView),c.appendChild(p.location.nativeElement),p}_attachWindowComponent(c,p){let E=(0,l.LMc)(wd,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:p});return this._applicationRef.attachView(E.hostView),c.appendChild(E.location.nativeElement),E}_getContentRef(c,p,E,U,X){return E?E instanceof l.Rgc?this._createFromTemplateRef(E,U):_o(E)?this._createFromString(E):this._createFromComponent(c,p,E,U,X):new ja([])}_createFromTemplateRef(c,p){const U=c.createEmbeddedView({$implicit:p,close(X){p.close(X)},dismiss(X){p.dismiss(X)}});return this._applicationRef.attachView(U),new ja([U.rootNodes],U)}_createFromString(c){const p=this._document.createTextNode(`${c}`);return new ja([[p]])}_createFromComponent(c,p,E,U,X){const Te=l.zs3.create({providers:[{provide:_f,useValue:U}],parent:c}),Ve=(0,l.LMc)(E,{environmentInjector:p,elementInjector:Te}),at=Ve.location.nativeElement;return X.scrollable&&at.classList.add("component-host-scrollable"),this._applicationRef.attachView(Ve.hostView),new ja([[at]],Ve.hostView,Ve)}_setAriaHidden(c){const p=c.parentElement;p&&c!==this._document.body&&(Array.from(p.children).forEach(E=>{E!==c&&"SCRIPT"!==E.nodeName&&(this._ariaHiddenValues.set(E,E.getAttribute("aria-hidden")),E.setAttribute("aria-hidden","true"))}),this._setAriaHidden(p))}_revertAriaHidden(){this._ariaHiddenValues.forEach((c,p)=>{c?p.setAttribute("aria-hidden",c):p.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(c){const p=()=>{const E=this._modalRefs.indexOf(c);E>-1&&(this._modalRefs.splice(E,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(c),this._activeInstances.emit(this._modalRefs),c.result.then(p,p)}_registerWindowCmpt(c){this._windowCmpts.push(c),this._activeWindowCmptHasChanged.next(),c.onDestroy(()=>{const p=this._windowCmpts.indexOf(c);p>-1&&(this._windowCmpts.splice(p,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(p){return new(p||h)(l.LFG(l.z2F),l.LFG(l.zs3),l.LFG(l.lqb),l.LFG(hn.K0),l.LFG(fp),l.LFG(l.FYo),l.LFG(l.R0b))};static#t=this.\u0275prov=l.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"})}return h})(),Ih=(()=>{class h{constructor(c){this._ngbConfig=c,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(c){this._animation=c}static#e=this.\u0275fac=function(p){return new(p||h)(l.LFG(Fi))};static#t=this.\u0275prov=l.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"})}return h})(),yf=(()=>{class h{constructor(c,p,E){this._injector=c,this._modalStack=p,this._config=E}open(c,p={}){const E={...this._config,animation:this._config.animation,...p};return this._modalStack.open(this._injector,c,E)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(c){this._modalStack.dismissAll(c)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(p){return new(p||h)(l.LFG(l.zs3),l.LFG(pp),l.LFG(Ih))};static#t=this.\u0275prov=l.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"})}return h})(),vf=(()=>{class h{static#e=this.\u0275fac=function(p){return new(p||h)};static#t=this.\u0275mod=l.oAB({type:h});static#n=this.\u0275inj=l.cJS({providers:[yf]})}return h})(),If=(()=>{class h{static#e=this.\u0275fac=function(p){return new(p||h)};static#t=this.\u0275mod=l.oAB({type:h});static#n=this.\u0275inj=l.cJS({})}return h})(),Ad=(()=>{class h{static#e=this.\u0275fac=function(p){return new(p||h)};static#t=this.\u0275mod=l.oAB({type:h});static#n=this.\u0275inj=l.cJS({})}return h})(),pu=(()=>{class h{static#e=this.\u0275fac=function(p){return new(p||h)};static#t=this.\u0275mod=l.oAB({type:h});static#n=this.\u0275inj=l.cJS({})}return h})(),Fc=(()=>{class h{static#e=this.\u0275fac=function(p){return new(p||h)};static#t=this.\u0275mod=l.oAB({type:h});static#n=this.\u0275inj=l.cJS({})}return h})(),Dh=(()=>{class h{static#e=this.\u0275fac=function(p){return new(p||h)};static#t=this.\u0275mod=l.oAB({type:h});static#n=this.\u0275inj=l.cJS({})}return h})(),wh=(()=>{class h{static#e=this.\u0275fac=function(p){return new(p||h)};static#t=this.\u0275mod=l.oAB({type:h});static#n=this.\u0275inj=l.cJS({})}return h})(),kd=(()=>{class h{static#e=this.\u0275fac=function(p){return new(p||h)};static#t=this.\u0275mod=l.oAB({type:h});static#n=this.\u0275inj=l.cJS({})}return h})(),Af=(()=>{class h{static#e=this.\u0275fac=function(p){return new(p||h)};static#t=this.\u0275mod=l.oAB({type:h});static#n=this.\u0275inj=l.cJS({})}return h})(),rl=(()=>{class h{static#e=this.\u0275fac=function(p){return new(p||h)};static#t=this.\u0275mod=l.oAB({type:h});static#n=this.\u0275inj=l.cJS({})}return h})();new l.OlP("live announcer delay",{providedIn:"root",factory:function Np(){return 100}});let jc=(()=>{class h{static#e=this.\u0275fac=function(p){return new(p||h)};static#t=this.\u0275mod=l.oAB({type:h});static#n=this.\u0275inj=l.cJS({})}return h})(),_u=(()=>{class h{static#e=this.\u0275fac=function(p){return new(p||h)};static#t=this.\u0275mod=l.oAB({type:h});static#n=this.\u0275inj=l.cJS({})}return h})();const Bd=[xu,_c,As,Ql,vh,Ks,vf,If,_u,Ad,pu,Fc,Dh,wh,kd,Af,rl,jc];let Bg=(()=>{class h{static#e=this.\u0275fac=function(p){return new(p||h)};static#t=this.\u0275mod=l.oAB({type:h});static#n=this.\u0275inj=l.cJS({imports:[Bd,xu,_c,As,Ql,vh,Ks,vf,If,_u,Ad,pu,Fc,Dh,wh,kd,Af,rl,jc]})}return h})()},3182:($t,qe,B)=>{B.d(qe,{C6:()=>l.getApps,KN:()=>l.registerVersion,Mq:()=>l.getApp,ZF:()=>l.initializeApp});var l=B(534);(0,l.registerVersion)("firebase","10.5.2","app")},7142:($t,qe,B)=>{B.d(qe,{Z:()=>l.Z});var l=B(3106);l.Z.registerVersion("firebase","10.5.2","app-compat")},6365:($t,qe,B)=>{B.r(qe);var l=B(5861),j=B(3106),se=B(3560),ve=B(9058),Pe=(B(534),B(7879),B(4537));function We(){return window}function ye(){return ye=(0,l.Z)(function*(z,$,V){var de;const{BuildInfo:Fe}=We();(0,se.at)($.sessionId,"AuthEvent did not contain a session ID");const yt=yield function ht(z){return jt.apply(this,arguments)}($.sessionId),Rt={};return(0,se.au)()?Rt.ibi=Fe.packageName:(0,se.av)()?Rt.apn=Fe.packageName:(0,se.aw)(z,"operation-not-supported-in-this-environment"),Fe.displayName&&(Rt.appDisplayName=Fe.displayName),Rt.sessionId=yt,(0,se.ax)(z,V,$.type,void 0,null!==(de=$.eventId)&&void 0!==de?de:void 0,Rt)}),ye.apply(this,arguments)}function Ne(){return(Ne=(0,l.Z)(function*(z){const{BuildInfo:$}=We(),V={};(0,se.au)()?V.iosBundleId=$.packageName:(0,se.av)()?V.androidPackageName=$.packageName:(0,se.aw)(z,"operation-not-supported-in-this-environment"),yield(0,se.ay)(z,V)})).apply(this,arguments)}function lt(){return(lt=(0,l.Z)(function*(z,$,V){const{cordova:de}=We();let Fe=()=>{};try{yield new Promise((yt,Rt)=>{let Kt=null;function Ht(){var Sn;yt();const ei=null===(Sn=de.plugins.browsertab)||void 0===Sn?void 0:Sn.close;"function"==typeof ei&&ei(),"function"==typeof V?.close&&V.close()}function fn(){Kt||(Kt=window.setTimeout(()=>{Rt((0,se.aA)(z,"redirect-cancelled-by-user"))},2e3))}function Wn(){"visible"===document?.visibilityState&&fn()}$.addPassiveListener(Ht),document.addEventListener("resume",fn,!1),(0,se.av)()&&document.addEventListener("visibilitychange",Wn,!1),Fe=()=>{$.removePassiveListener(Ht),document.removeEventListener("resume",fn,!1),document.removeEventListener("visibilitychange",Wn,!1),Kt&&window.clearTimeout(Kt)}})}finally{Fe()}})).apply(this,arguments)}function jt(){return(jt=(0,l.Z)(function*(z){const $=function bt(z){if((0,se.at)(/[0-9a-zA-Z]+/.test(z),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(z);const $=new ArrayBuffer(z.length),V=new Uint8Array($);for(let de=0;de<z.length;de++)V[de]=z.charCodeAt(de);return V}(z),V=yield crypto.subtle.digest("SHA-256",$);return Array.from(new Uint8Array(V)).map(Fe=>Fe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class $e extends se.aC{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise($=>{this.resolveInialized=$})}addPassiveListener($){this.passiveListeners.add($)}removePassiveListener($){this.passiveListeners.delete($)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent($){return this.resolveInialized(),this.passiveListeners.forEach(V=>V($)),super.onEvent($)}initialized(){var $=this;return(0,l.Z)(function*(){yield $.initPromise})()}}function ut(z){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,l.Z)(function*(z){const $=yield In()._get(Cn(z));return $&&(yield In()._remove(Cn(z))),$})).apply(this,arguments)}function Xt(){const z=[];for(let V=0;V<20;V++){const de=Math.floor(62*Math.random());z.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(de))}return z.join("")}function In(){return(0,se.aD)(se.b)}function Cn(z){return(0,se.aE)("authEvent",z.config.apiKey,z.name)}function At(z){if(!z?.includes("?"))return{};const[$,...V]=z.split("?");return(0,ve.zd)(V.join("?"))}const Ue=class Qt{constructor(){this._redirectPersistence=se.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=se.aF,this._overrideRedirectResult=se.aG}_initialize($){var V=this;return(0,l.Z)(function*(){const de=$._key();let Fe=V.eventManagers.get(de);return Fe||(Fe=new $e($),V.eventManagers.set(de,Fe),V.attachCallbackListeners($,Fe)),Fe})()}_openPopup($){(0,se.aw)($,"operation-not-supported-in-this-environment")}_openRedirect($,V,de,Fe){var yt=this;return(0,l.Z)(function*(){!function mt(z){var $,V,de,Fe,yt,Rt,Kt,Ht,fn,Wn;const Sn=We();(0,se.aB)("function"==typeof(null===($=Sn?.universalLinks)||void 0===$?void 0:$.subscribe),z,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,se.aB)(typeof(null===(V=Sn?.BuildInfo)||void 0===V?void 0:V.packageName)<"u",z,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,se.aB)("function"==typeof(null===(yt=null===(Fe=null===(de=Sn?.cordova)||void 0===de?void 0:de.plugins)||void 0===Fe?void 0:Fe.browsertab)||void 0===yt?void 0:yt.openUrl),z,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,se.aB)("function"==typeof(null===(Ht=null===(Kt=null===(Rt=Sn?.cordova)||void 0===Rt?void 0:Rt.plugins)||void 0===Kt?void 0:Kt.browsertab)||void 0===Ht?void 0:Ht.isAvailable),z,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,se.aB)("function"==typeof(null===(Wn=null===(fn=Sn?.cordova)||void 0===fn?void 0:fn.InAppBrowser)||void 0===Wn?void 0:Wn.open),z,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}($);const Rt=yield yt._initialize($);yield Rt.initialized(),Rt.resetRedirect(),(0,se.aH)(),yield yt._originValidation($);const Kt=function Ee(z,$,V=null){return{type:$,eventId:V,urlResponse:null,sessionId:Xt(),postBody:null,tenantId:z.tenantId,error:(0,se.aA)(z,"no-auth-event")}}($,de,Fe);yield function rt(z,$){return In()._set(Cn(z),$)}($,Kt);const Ht=yield function ce(z,$,V){return ye.apply(this,arguments)}($,Kt,V),fn=yield function Ye(z){const{cordova:$}=We();return new Promise(V=>{$.plugins.browsertab.isAvailable(de=>{let Fe=null;de?$.plugins.browsertab.openUrl(z):Fe=$.InAppBrowser.open(z,(0,se.az)()?"_blank":"_system","location=yes"),V(Fe)})})}(Ht);return function ze(z,$,V){return lt.apply(this,arguments)}($,Rt,fn)})()}_isIframeWebStorageSupported($,V){throw new Error("Method not implemented.")}_originValidation($){const V=$._key();return this.originValidationPromises[V]||(this.originValidationPromises[V]=function Ae(z){return Ne.apply(this,arguments)}($)),this.originValidationPromises[V]}attachCallbackListeners($,V){const{universalLinks:de,handleOpenURL:Fe,BuildInfo:yt}=We(),Rt=setTimeout((0,l.Z)(function*(){yield ut($),V.onEvent(ke())}),500),Kt=function(){var Wn=(0,l.Z)(function*(Sn){clearTimeout(Rt);const ei=yield ut($);let Vi=null;ei&&Sn?.url&&(Vi=function Yt(z,$){var V,de;const Fe=function Vr(z){const $=At(z),V=$.link?decodeURIComponent($.link):void 0,de=At(V).link,Fe=$.deep_link_id?decodeURIComponent($.deep_link_id):void 0;return At(Fe).link||Fe||de||V||z}($);if(Fe.includes("/__/auth/callback")){const yt=At(Fe),Rt=yt.firebaseError?function On(z){try{return JSON.parse(z)}catch{return null}}(decodeURIComponent(yt.firebaseError)):null,Kt=null===(de=null===(V=Rt?.code)||void 0===V?void 0:V.split("auth/"))||void 0===de?void 0:de[1],Ht=Kt?(0,se.aA)(Kt):null;return Ht?{type:z.type,eventId:z.eventId,tenantId:z.tenantId,error:Ht,urlResponse:null,sessionId:null,postBody:null}:{type:z.type,eventId:z.eventId,tenantId:z.tenantId,sessionId:z.sessionId,urlResponse:Fe,postBody:null}}return null}(ei,Sn.url)),V.onEvent(Vi||ke())});return function(ei){return Wn.apply(this,arguments)}}();typeof de<"u"&&"function"==typeof de.subscribe&&de.subscribe(null,Kt);const Ht=Fe,fn=`${yt.packageName.toLowerCase()}://`;We().handleOpenURL=function(){var Wn=(0,l.Z)(function*(Sn){if(Sn.toLowerCase().startsWith(fn)&&Kt({url:Sn}),"function"==typeof Ht)try{Ht(Sn)}catch(ei){console.error(ei)}});return function(Sn){return Wn.apply(this,arguments)}}()}};function ke(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,se.aA)("no-auth-event")}}function St(){var z;return(null===(z=self?.location)||void 0===z?void 0:z.protocol)||null}function An(z=(0,ve.z$)()){return!("file:"!==St()&&"ionic:"!==St()&&"capacitor:"!==St()||!z.toLowerCase().match(/iphone|ipad|ipod|android/))}function zn(){try{const z=self.localStorage,$=se.aM();if(z)return z.setItem($,"1"),z.removeItem($),!function bn(z=(0,ve.z$)()){return function Mn(){return(0,ve.w1)()&&11===document?.documentMode}()||function yn(z=(0,ve.z$)()){return/Edge\/\d+/.test(z)}(z)}()||(0,ve.hl)()}catch{return hn()&&(0,ve.hl)()}return!1}function hn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Re(){return(function Et(){return"http:"===St()||"https:"===St()}()||(0,ve.ru)()||An())&&!function It(){return(0,ve.b$)()||(0,ve.UG)()}()&&zn()&&!hn()}function Me(){return An()&&typeof document<"u"}function gt(){return(gt=(0,l.Z)(function*(){return!!Me()&&new Promise(z=>{const $=setTimeout(()=>{z(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout($),z(!0)})})})).apply(this,arguments)}const Tt={LOCAL:"local",NONE:"none",SESSION:"session"},Tn=se.aB,Dn="persistence";function gn(z){return wn.apply(this,arguments)}function wn(){return(wn=(0,l.Z)(function*(z){yield z._initializationPromise;const $=Un(),V=se.aE(Dn,z.config.apiKey,z.name);$&&$.setItem(V,z._getPersistence())})).apply(this,arguments)}function Un(){var z;try{return(null===(z=function Pt(){return typeof window<"u"?window:null}())||void 0===z?void 0:z.sessionStorage)||null}catch{return null}}const Hr=se.aB;class Vt{constructor(){this.browserResolver=se.aD(se.k),this.cordovaResolver=se.aD(Ue),this.underlyingResolver=null,this._redirectPersistence=se.a,this._completeRedirectFn=se.aF,this._overrideRedirectResult=se.aG}_initialize($){var V=this;return(0,l.Z)(function*(){return yield V.selectUnderlyingResolver(),V.assertedUnderlyingResolver._initialize($)})()}_openPopup($,V,de,Fe){var yt=this;return(0,l.Z)(function*(){return yield yt.selectUnderlyingResolver(),yt.assertedUnderlyingResolver._openPopup($,V,de,Fe)})()}_openRedirect($,V,de,Fe){var yt=this;return(0,l.Z)(function*(){return yield yt.selectUnderlyingResolver(),yt.assertedUnderlyingResolver._openRedirect($,V,de,Fe)})()}_isIframeWebStorageSupported($,V){this.assertedUnderlyingResolver._isIframeWebStorageSupported($,V)}_originValidation($){return this.assertedUnderlyingResolver._originValidation($)}get _shouldInitProactively(){return Me()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Hr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var $=this;return(0,l.Z)(function*(){if($.underlyingResolver)return;const V=yield function tt(){return gt.apply(this,arguments)}();$.underlyingResolver=V?$.cordovaResolver:$.browserResolver})()}}function yr(z){return z.unwrap()}function Wt(z){return En(z)}function En(z){const{_tokenResponse:$}=z instanceof ve.ZR?z.customData:z;if(!$)return null;if(!(z instanceof ve.ZR)&&"temporaryProof"in $&&"phoneNumber"in $)return se.P.credentialFromResult(z);const V=$.providerId;if(!V||V===se.p.PASSWORD)return null;let de;switch(V){case se.p.GOOGLE:de=se.W;break;case se.p.FACEBOOK:de=se.V;break;case se.p.GITHUB:de=se.X;break;case se.p.TWITTER:de=se._;break;default:const{oauthIdToken:Fe,oauthAccessToken:yt,oauthTokenSecret:Rt,pendingToken:Kt,nonce:Ht}=$;return yt||Rt||Fe||Kt?Kt?V.startsWith("saml.")?se.aP._create(V,Kt):se.M._fromParams({providerId:V,signInMethod:V,pendingToken:Kt,idToken:Fe,accessToken:yt}):new se.Y(V).credential({idToken:Fe,accessToken:yt,rawNonce:Ht}):null}return z instanceof ve.ZR?de.credentialFromError(z):de.credentialFromResult(z)}function Rr(z,$){return $.catch(V=>{throw V instanceof ve.ZR&&function Ei(z,$){var V;const de=null===(V=$.customData)||void 0===V?void 0:V._tokenResponse;if("auth/multi-factor-auth-required"===$?.code)$.resolver=new or(z,se.ar(z,$));else if(de){const Fe=En($),yt=$;Fe&&(yt.credential=Fe,yt.tenantId=de.tenantId||void 0,yt.email=de.email||void 0,yt.phoneNumber=de.phoneNumber||void 0)}}(z,V),V}).then(V=>{const Fe=V.user;return{operationType:V.operationType,credential:Wt(V),additionalUserInfo:se.ap(V),user:zr.getOrCreate(Fe)}})}function hi(z,$){return yi.apply(this,arguments)}function yi(){return(yi=(0,l.Z)(function*(z,$){const V=yield $;return{verificationId:V.verificationId,confirm:de=>Rr(z,V.confirm(de))}})).apply(this,arguments)}class or{constructor($,V){this.resolver=V,this.auth=function Ar(z){return z.wrapped()}($)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn($){return Rr(yr(this.auth),this.resolver.resolveSignIn($))}}class zr{constructor($){this._delegate=$,this.multiFactor=se.as($)}static getOrCreate($){return zr.USER_MAP.has($)||zr.USER_MAP.set($,new zr($)),zr.USER_MAP.get($)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult($){return this._delegate.getIdTokenResult($)}getIdToken($){return this._delegate.getIdToken($)}linkAndRetrieveDataWithCredential($){return this.linkWithCredential($)}linkWithCredential($){var V=this;return(0,l.Z)(function*(){return Rr(V.auth,se.a1(V._delegate,$))})()}linkWithPhoneNumber($,V){var de=this;return(0,l.Z)(function*(){return hi(de.auth,se.l(de._delegate,$,V))})()}linkWithPopup($){var V=this;return(0,l.Z)(function*(){return Rr(V.auth,se.d(V._delegate,$,Vt))})()}linkWithRedirect($){var V=this;return(0,l.Z)(function*(){return yield gn(se.aI(V.auth)),se.g(V._delegate,$,Vt)})()}reauthenticateAndRetrieveDataWithCredential($){return this.reauthenticateWithCredential($)}reauthenticateWithCredential($){var V=this;return(0,l.Z)(function*(){return Rr(V.auth,se.a2(V._delegate,$))})()}reauthenticateWithPhoneNumber($,V){return hi(this.auth,se.r(this._delegate,$,V))}reauthenticateWithPopup($){return Rr(this.auth,se.e(this._delegate,$,Vt))}reauthenticateWithRedirect($){var V=this;return(0,l.Z)(function*(){return yield gn(se.aI(V.auth)),se.h(V._delegate,$,Vt)})()}sendEmailVerification($){return se.af(this._delegate,$)}unlink($){var V=this;return(0,l.Z)(function*(){return yield se.ao(V._delegate,$),V})()}updateEmail($){return se.ak(this._delegate,$)}updatePassword($){return se.al(this._delegate,$)}updatePhoneNumber($){return se.u(this._delegate,$)}updateProfile($){return se.aj(this._delegate,$)}verifyBeforeUpdateEmail($,V){return se.ag(this._delegate,$,V)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}zr.USER_MAP=new WeakMap;const Zr=se.aB;let br=(()=>{class z{constructor(V,de){if(this.app=V,de.isInitialized())return this._delegate=de.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Fe}=V.options;Zr(Fe,"invalid-api-key",{appName:V.name}),Zr(Fe,"invalid-api-key",{appName:V.name});const yt=typeof window<"u"?Vt:void 0;this._delegate=de.initialize({options:{persistence:jn(Fe,V.name),popupRedirectResolver:yt}}),this._delegate._updateErrorMap(se.E),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?zr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(V){this._delegate.languageCode=V}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(V){this._delegate.tenantId=V}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(V,de){se.J(this._delegate,V,de)}applyActionCode(V){return se.a6(this._delegate,V)}checkActionCode(V){return se.a7(this._delegate,V)}confirmPasswordReset(V,de){return se.a5(this._delegate,V,de)}createUserWithEmailAndPassword(V,de){var Fe=this;return(0,l.Z)(function*(){return Rr(Fe._delegate,se.a9(Fe._delegate,V,de))})()}fetchProvidersForEmail(V){return this.fetchSignInMethodsForEmail(V)}fetchSignInMethodsForEmail(V){return se.ae(this._delegate,V)}isSignInWithEmailLink(V){return se.ac(this._delegate,V)}getRedirectResult(){var V=this;return(0,l.Z)(function*(){Zr(Re(),V._delegate,"operation-not-supported-in-this-environment");const de=yield se.j(V._delegate,Vt);return de?Rr(V._delegate,Promise.resolve(de)):{credential:null,user:null}})()}addFrameworkForLogging(V){!function Ke(z,$){(0,se.aI)(z)._logFramework($)}(this._delegate,V)}onAuthStateChanged(V,de,Fe){const{next:yt,error:Rt,complete:Kt}=pr(V,de,Fe);return this._delegate.onAuthStateChanged(yt,Rt,Kt)}onIdTokenChanged(V,de,Fe){const{next:yt,error:Rt,complete:Kt}=pr(V,de,Fe);return this._delegate.onIdTokenChanged(yt,Rt,Kt)}sendSignInLinkToEmail(V,de){return se.ab(this._delegate,V,de)}sendPasswordResetEmail(V,de){return se.a4(this._delegate,V,de||void 0)}setPersistence(V){var de=this;return(0,l.Z)(function*(){let Fe;switch(function Lt(z,$){Tn(Object.values(Tt).includes($),z,"invalid-persistence-type"),(0,ve.b$)()?Tn($!==Tt.SESSION,z,"unsupported-persistence-type"):(0,ve.UG)()?Tn($===Tt.NONE,z,"unsupported-persistence-type"):hn()?Tn($===Tt.NONE||$===Tt.LOCAL&&(0,ve.hl)(),z,"unsupported-persistence-type"):Tn($===Tt.NONE||zn(),z,"unsupported-persistence-type")}(de._delegate,V),V){case Tt.SESSION:Fe=se.a;break;case Tt.LOCAL:Fe=(yield se.aD(se.i)._isAvailable())?se.i:se.b;break;case Tt.NONE:Fe=se.Q;break;default:return se.aw("argument-error",{appName:de._delegate.name})}return de._delegate.setPersistence(Fe)})()}signInAndRetrieveDataWithCredential(V){return this.signInWithCredential(V)}signInAnonymously(){return Rr(this._delegate,se.$(this._delegate))}signInWithCredential(V){return Rr(this._delegate,se.a0(this._delegate,V))}signInWithCustomToken(V){return Rr(this._delegate,se.a3(this._delegate,V))}signInWithEmailAndPassword(V,de){return Rr(this._delegate,se.aa(this._delegate,V,de))}signInWithEmailLink(V,de){return Rr(this._delegate,se.ad(this._delegate,V,de))}signInWithPhoneNumber(V,de){return hi(this._delegate,se.s(this._delegate,V,de))}signInWithPopup(V){var de=this;return(0,l.Z)(function*(){return Zr(Re(),de._delegate,"operation-not-supported-in-this-environment"),Rr(de._delegate,se.c(de._delegate,V,Vt))})()}signInWithRedirect(V){var de=this;return(0,l.Z)(function*(){return Zr(Re(),de._delegate,"operation-not-supported-in-this-environment"),yield gn(de._delegate),se.f(de._delegate,V,Vt)})()}updateCurrentUser(V){return this._delegate.updateCurrentUser(V)}verifyPasswordResetCode(V){return se.a8(this._delegate,V)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return z.Persistence=Tt,z})();function pr(z,$,V){let de=z;"function"!=typeof z&&({next:de,error:$,complete:V}=z);const Fe=de;return{next:Rt=>Fe(Rt&&zr.getOrCreate(Rt)),error:$,complete:V}}function jn(z,$){const V=function sr(z,$){const V=Un();if(!V)return[];const de=se.aE(Dn,z,$);switch(V.getItem(de)){case Tt.NONE:return[se.Q];case Tt.LOCAL:return[se.i,se.a];case Tt.SESSION:return[se.a];default:return[]}}(z,$);if(typeof self<"u"&&!V.includes(se.i)&&V.push(se.i),typeof window<"u")for(const de of[se.b,se.a])V.includes(de)||V.push(de);return V.includes(se.Q)||V.push(se.Q),V}class nr{constructor(){this.providerId="phone",this._delegate=new se.P(yr(j.Z.auth()))}static credential($,V){return se.P.credential($,V)}verifyPhoneNumber($,V){return this._delegate.verifyPhoneNumber($,V)}unwrap(){return this._delegate}}nr.PHONE_SIGN_IN_METHOD=se.P.PHONE_SIGN_IN_METHOD,nr.PROVIDER_ID=se.P.PROVIDER_ID;const Ki=se.aB;class rs{constructor($,V,de=j.Z.app()){var Fe;Ki(null===(Fe=de.options)||void 0===Fe?void 0:Fe.apiKey,"invalid-api-key",{appName:de.name}),this._delegate=new se.R(de.auth(),$,V),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function re(z){z.INTERNAL.registerComponent(new Pe.wA("auth-compat",$=>{const V=$.getProvider("app-compat").getImmediate(),de=$.getProvider("auth");return new br(V,de)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:se.A.EMAIL_SIGNIN,PASSWORD_RESET:se.A.PASSWORD_RESET,RECOVER_EMAIL:se.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:se.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:se.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:se.A.VERIFY_EMAIL}},EmailAuthProvider:se.U,FacebookAuthProvider:se.V,GithubAuthProvider:se.X,GoogleAuthProvider:se.W,OAuthProvider:se.Y,SAMLAuthProvider:se.Z,PhoneAuthProvider:nr,PhoneMultiFactorGenerator:se.m,RecaptchaVerifier:rs,TwitterAuthProvider:se._,Auth:br,AuthCredential:se.K,Error:ve.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),z.registerVersion("@firebase/auth-compat","0.4.8")}(j.Z)},5861:($t,qe,B)=>{function l(se,ve,De,fe,Pe,We,Be){try{var ce=se[We](Be),ye=ce.value}catch(Ae){return void De(Ae)}ce.done?ve(ye):Promise.resolve(ye).then(fe,Pe)}function j(se){return function(){var ve=this,De=arguments;return new Promise(function(fe,Pe){var We=se.apply(ve,De);function Be(ye){l(We,fe,Pe,Be,ce,"next",ye)}function ce(ye){l(We,fe,Pe,Be,ce,"throw",ye)}Be(void 0)})}}B.d(qe,{Z:()=>j})},7582:($t,qe,B)=>{function ve(Ue,ke){var Ke={};for(var Ce in Ue)Object.prototype.hasOwnProperty.call(Ue,Ce)&&ke.indexOf(Ce)<0&&(Ke[Ce]=Ue[Ce]);if(null!=Ue&&"function"==typeof Object.getOwnPropertySymbols){var He=0;for(Ce=Object.getOwnPropertySymbols(Ue);He<Ce.length;He++)ke.indexOf(Ce[He])<0&&Object.prototype.propertyIsEnumerable.call(Ue,Ce[He])&&(Ke[Ce[He]]=Ue[Ce[He]])}return Ke}function Ae(Ue,ke,Ke,Ce){return new(Ke||(Ke=Promise))(function(ct,St){function Et(Mn){try{It(Ce.next(Mn))}catch(yn){St(yn)}}function An(Mn){try{It(Ce.throw(Mn))}catch(yn){St(yn)}}function It(Mn){Mn.done?ct(Mn.value):function He(ct){return ct instanceof Ke?ct:new Ke(function(St){St(ct)})}(Mn.value).then(Et,An)}It((Ce=Ce.apply(Ue,ke||[])).next())})}function ue(Ue){return this instanceof ue?(this.v=Ue,this):new ue(Ue)}function $e(Ue,ke,Ke){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var He,Ce=Ke.apply(Ue,ke||[]),ct=[];return He={},St("next"),St("throw"),St("return"),He[Symbol.asyncIterator]=function(){return this},He;function St(bn){Ce[bn]&&(He[bn]=function(zn){return new Promise(function(hn,Re){ct.push([bn,zn,hn,Re])>1||Et(bn,zn)})})}function Et(bn,zn){try{!function An(bn){bn.value instanceof ue?Promise.resolve(bn.value.v).then(It,Mn):yn(ct[0][2],bn)}(Ce[bn](zn))}catch(hn){yn(ct[0][3],hn)}}function It(bn){Et("next",bn)}function Mn(bn){Et("throw",bn)}function yn(bn,zn){bn(zn),ct.shift(),ct.length&&Et(ct[0][0],ct[0][1])}}function rt(Ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ke,ke=Ue[Symbol.asyncIterator];return ke?ke.call(Ue):(Ue=function lt(Ue){var ke="function"==typeof Symbol&&Symbol.iterator,Ke=ke&&Ue[ke],Ce=0;if(Ke)return Ke.call(Ue);if(Ue&&"number"==typeof Ue.length)return{next:function(){return Ue&&Ce>=Ue.length&&(Ue=void 0),{value:Ue&&Ue[Ce++],done:!Ue}}};throw new TypeError(ke?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ue),Ke={},Ce("next"),Ce("throw"),Ce("return"),Ke[Symbol.asyncIterator]=function(){return this},Ke);function Ce(ct){Ke[ct]=Ue[ct]&&function(St){return new Promise(function(Et,An){!function He(ct,St,Et,An){Promise.resolve(An).then(function(It){ct({value:It,done:Et})},St)}(Et,An,(St=Ue[ct](St)).done,St.value)})}}}B.d(qe,{FC:()=>$e,KL:()=>rt,_T:()=>ve,mG:()=>Ae,qq:()=>ue}),"function"==typeof SuppressedError&&SuppressedError}},$t=>{var qe=l=>$t($t.s=l);qe(2614),qe(280)}]);